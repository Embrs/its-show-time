import{d as f,m as R,a4 as S,Y as a,a0 as r,F as O,a1 as T,a3 as d,$ as s,a2 as y,u as m,a9 as M,Z as L,r as B,z as C,E as k,c as u,_ as v,q as x,a7 as A,a8 as E,s as V,o as K,G as F,a6 as Z,aa as q}from"./@vue-68c6bb74.js";import{d as w}from"./lodash-1ace7317.js";import{u as D,a as z}from"./bgm-menu-f493c2ef.js";import{_ as h}from"./index-52185b2f.js";import{u as G,b as W}from"./vue-router-3cbfdaf7.js";import{C as Y,D as j}from"./vue3-smooth-dnd-c5aa6e88.js";import"./@babel-9e06c973.js";import"./pinia-2ec0d1bb.js";import"./ant-design-vue-e44afaa9.js";import"./resize-observer-polyfill-3d106987.js";import"./vue-types-ef06c517.js";import"./@ant-design-bd65eef5.js";import"./@ctrl-fb5a5473.js";import"./dom-align-ecb06dd6.js";import"./lodash-es-6d1fdea6.js";import"./dayjs-28368fa5.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./gsap-648a0ac7.js";import"./firebase-006cb462.js";import"./@firebase-2256ea6b.js";import"./idb-81bdbf9b.js";import"./smooth-dnd-98d327a9.js";const H="/its-show-time/assets/member-4b54d097.png",J=["onClick"],Q={class:"menu-label"},U=f({__name:"bgm-menu-list",props:{level:{type:Number,default:0},isMini:{type:Boolean,default:!1},menuList:{type:Array,default:()=>[]}},setup(o){const t=o,l=D(),e=R(()=>t.level>0),c=w(_=>{const{key:i}=_;if(_.path){l.SelectPage(i);return}_.isOpen=!_.isOpen},200,{leading:!0,trailing:!1}),p=_=>{const i=_.replace("/bgm/","").split("/").pop();return l.currentPage===i};return(_,i)=>{const g=S("BgmMenuList",!0);return a(),r("div",{id:"BgmMenuList",class:d({"is-sub-list":e.value,"list-is-mini":t.isMini})},[(a(!0),r(O,null,T(o.menuList,n=>(a(),r("div",{class:"menu-item",key:n.name},[s("div",{class:d(["item-btn",{"is-sub-btn":e.value,"is-select":p(n.path)}]),onClick:b=>m(c)(n)},[s("div",{class:d(["menu-i",n.icon])},null,2),s("div",Q,y(n.name),1)],10,J),n.children.length>0?(a(),r("div",{key:0,class:d(["btn-line",{"btn-line-open":n.isOpen}])},null,2)):M("",!0),n.children.length>0?(a(),r("div",{key:1,class:d(["sub-list",{"list-open":n.isOpen}])},[n.children?(a(),L(g,{key:0,isMini:t.isMini,menuList:n.children,level:o.level+1},null,8,["isMini","menuList","level"])):M("",!0)],2)):M("",!0)]))),128))],2)}}});const X=h(U,[["__scopeId","data-v-1362e8c6"]]),I=o=>(A("data-v-9ebf186a"),o=o(),E(),o),ee={key:0,class:"bnticon icon-cancel"},te=I(()=>s("img",{src:H},null,-1)),se=[te],ne={class:"member-name"},oe={class:"menu-footer-area"},ie={class:"logout-area"},ae=I(()=>s("div",{class:"icon-logout"},null,-1)),le={key:0},ce={class:"copy-right"},re=f({__name:"index",props:{menuList:{type:Array,default:()=>[]},isMobileType:{type:Boolean,default:!1}},emits:["on-close"],setup(o,{emit:t}){const l=o,e=B(!1),c=G(),p=()=>{t("on-close")},_=()=>{if(l.isMobileType){p();return}e.value=!e.value},i=()=>{c.push("/bgm-login")};return(g,n)=>(a(),r("div",{id:"CtrlMenuWeb",class:d({"mobile-type":o.isMobileType})},[s("div",{class:d(["member-info-area",{"member-info-area-mini":e.value}])},[s("div",{class:"zoom-btn",onClick:_},[o.isMobileType?(a(),r("div",ee)):(a(),r("div",{key:1,class:d(["bnticon",e.value?"icon-resize-full":"icon-resize-small"])},null,2))]),s("div",{class:d(["member-img",{"member-img-mini":e.value}])},se,2),C(s("div",ne,y("Member name"),512),[[k,!e.value]])],2),s("div",{class:d(["gap-line",{"gap-line-mini":e.value}])},null,2),s("div",{class:d(["menu-list-area",{"menu-list-area-mini":e.value}])},[u(X,{isMini:e.value,menuList:l.menuList},null,8,["isMini","menuList"])],2),s("div",oe,[s("div",ie,[s("div",{class:"logout-btn",onClick:i},[ae,u(x,{name:"com",mode:"out-in"},{default:v(()=>[e.value?M("",!0):(a(),r("p",le,y("Logout")))]),_:1})])]),u(x,{name:"com",mode:"out-in"},{default:v(()=>[C(s("div",ce,y("Â© 2023 EMBRS"),512),[[k,!e.value]])]),_:1})])],2))}});const N=h(re,[["__scopeId","data-v-9ebf186a"]]),ue={id:"CtrlMenuDrawer"},_e={class:"menu-box"},de=f({__name:"ctrl-menu-drawer",props:{menuList:{type:Array,default:()=>[]}},setup(o,{expose:t}){const l=o,e=B(!1),c=()=>{console.log("close"),e.value=!1};return t({OpenDrawer:()=>{e.value=!0}}),(_,i)=>(a(),L(V,{to:"#Layout"},[u(x,{name:"opacity"},{default:v(()=>[C(s("div",ue,[C(s("div",{class:"drawer-mask",onClick:c},null,512),[[k,e.value]]),u(x,{name:"menu-drawer"},{default:v(()=>[C(s("div",_e,[u(N,{menuList:l.menuList,onOnClose:c,isMobileType:""},null,8,["menuList"])],512),[[k,e.value]])]),_:1})],512),[[k,e.value]])]),_:1})]))}});const me=h(de,[["__scopeId","data-v-0e91a4af"]]),pe=o=>(A("data-v-d18047a6"),o=o(),E(),o),ve={id:"CtrlMenuMobile"},ge=pe(()=>s("div",{class:"icon-menu"},null,-1)),be=[ge],fe=f({__name:"index",props:{menuList:{type:Array,default:()=>[]}},setup(o){const t=o,l=B(),e=()=>{l.value.OpenDrawer()};return(c,p)=>(a(),r("div",ve,[s("div",{class:"menu-btn",onClick:e},be),u(me,{ref_key:"El_CtrlMenuDrawer",ref:l,menuList:t.menuList},null,8,["menuList"])]))}});const he=h(fe,[["__scopeId","data-v-d18047a6"]]),ye={id:"CtrlMenu"},Me=f({__name:"index",setup(o){const t=z(),l=W();K(()=>{e()});const e=()=>{let c=l.path.replace("/bgm/","").split("/").pop()||"";c&&t.OpenInit(c)};return(c,p)=>(a(),r("div",ye,[u(N,{class:"pc-item",menuList:m(t).menuList},null,8,["menuList"]),u(he,{class:"mobile-item",menuList:m(t).menuList},null,8,["menuList"])]))}});const Ce=h(Me,[["__scopeId","data-v-b8abbcde"]]),ke={id:"BgmPageTab"},Le=["onClick"],xe={class:"label"},$e=["onClick"],we=f({__name:"index",setup(o){const t=D(),l=z(),e=w(i=>{console.log("dd"),t.DeletePage(i)},400,{leading:!0,trailing:!1}),c=w(i=>{console.log("aa",i,t.currentPage),i!==t.currentPage&&(console.log("bb"),t.SelectPage(i),l.OpenInit(i))},400,{leading:!0,trailing:!1}),p=i=>{const g=t.pageItemList.map(b=>b.key),n=_(g,i);t.ChangePages(n)},_=(i,g)=>{const{removedIndex:n,addedIndex:b}=g,$=[...i];let P=i[n];return n!==null&&(P=$.splice(n,1)[0]),b!==null&&$.splice(b,0,P),$};return(i,g)=>(a(),r("div",ke,[u(m(Y),{orientation:"horizontal",behaviour:"contain","lock-axis":"x",onDrop:p},{default:v(()=>[(a(!0),r(O,null,T(m(t).pageItemList,n=>(a(),L(m(j),{class:"dnd",key:n.key},{default:v(()=>[s("div",{class:d(["tab-item",{"tab-item-select":n.key===m(t).currentPage}]),onClick:b=>m(c)(n.key)},[s("div",xe,y(n.name),1),m(t).pageItemList.length>1?(a(),r("div",{key:0,class:"close-btn icon-cancel",onClick:F(b=>m(e)(n.key),["stop"])},null,8,$e)):M("",!0)],10,Le)]),_:2},1024))),128))]),_:1})]))}});const Be=h(we,[["__scopeId","data-v-ed218706"]]),De={id:"BgmLayout"},Pe={class:"ctrl-menu-area"},Se={class:"page-tab-area"},Oe={class:"main-page-area"},Te=f({__name:"layout",setup(o){const t=D();return(l,e)=>{const c=S("RouterView");return a(),r("div",De,[s("div",Pe,[u(Ce)]),s("div",Se,[u(Be)]),s("div",Oe,[u(c,null,{default:v(({Component:p})=>[u(x,{name:"page",mode:"out-in"},{default:v(()=>[(a(),L(q,{include:m(t).keepPages},[(a(),L(Z(p)))],1032,["include"]))]),_:2},1024)]),_:1})])])}}});const ot=h(Te,[["__scopeId","data-v-f1adfde7"]]);export{ot as default};
