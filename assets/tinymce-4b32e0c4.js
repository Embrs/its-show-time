var XZ={exports:{}};(function(Ta){(function(){var yr=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},Sr=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},bs=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},Es=function(e,n){return Qs(function(o,r){return e.eq(n(o),n(r))})},Qs=function(e){return{eq:e}},xo=Qs(function(e,n){return e===n}),yt=xo,Yn=function(e){return Qs(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},Hn=function(e,n){return Es(Yn(e),function(o){return bs(o,n)})},no=function(e){return Qs(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!Hn(yt).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var y=r[m];if(!e.eq(n[y],o[y]))return!1}return!0})},ls=Qs(function(e,n){if(e===n)return!0;var o=yr(e),r=yr(n);return o!==r?!1:Sr(o)?e===n:o==="array"?Yn(ls).eq(e,n):o==="object"?no(ls).eq(e,n):!1});const Zo=Object.getPrototypeOf,Fn=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},qo=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&Fn(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},mo=e=>n=>qo(n)===e,_t=e=>n=>typeof n===e,Ao=e=>n=>e===n,vt=(e,n)=>sn(e)&&Fn(e,n,(o,r)=>Zo(o)===r),re=mo("string"),sn=mo("object"),dr=e=>vt(e,Object),Vn=mo("array"),Y=Ao(null),gn=_t("boolean"),Nn=Ao(void 0),nn=e=>e==null,Le=e=>!nn(e),ie=_t("function"),Ho=_t("number"),st=(e,n)=>{if(Vn(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},$e=()=>{},A=(e,n)=>(...o)=>e(n.apply(null,o)),cn=(e,n)=>o=>e(n(o)),Ke=e=>()=>e,_n=e=>e,Ht=(e,n)=>e===n;function He(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const Gn=e=>n=>!e(n),is=e=>()=>{throw new Error(e)},at=e=>e(),Zt=e=>{e()},Ee=Ke(!1),Je=Ke(!0);class I{constructor(n,o){this.tag=n,this.value=o}static some(n){return new I(!0,n)}static none(){return I.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?I.some(n(this.value)):I.none()}bind(n){return this.tag?n(this.value):I.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:I.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Le(n)?I.some(n):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const dt=Array.prototype.slice,je=Array.prototype.indexOf,Mt=Array.prototype.push,ct=(e,n)=>je.call(e,n),zo=(e,n)=>{const o=ct(e,n);return o===-1?I.none():I.some(o)},Ae=(e,n)=>ct(e,n)>-1,nt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},Re=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const u=e[c];r[c]=n(u,c)}return r},he=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},Ye=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Ze=(e,n)=>{const o=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(n(m,c)?o:r).push(m)}return{pass:o,fail:r}},Be=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];n(u,r)&&o.push(u)}return o},un=(e,n,o)=>(Ye(e,(r,c)=>{o=n(o,r,c)}),o),Bt=(e,n,o)=>(he(e,(r,c)=>{o=n(o,r,c)}),o),go=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(n(u,r))return I.some(u);if(o(u,r))break}return I.none()},Un=(e,n)=>go(e,n,Ee),Go=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return I.some(o)}return I.none()},zr=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!Vn(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Mt.apply(n,e[o])}return n},ts=(e,n)=>zr(Re(e,n)),Ko=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},_o=e=>{const n=dt.call(e,0);return n.reverse(),n},Or=(e,n)=>Be(e,o=>!Ae(n,o)),co=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const u=e[r];o[String(u)]=n(u,r)}return o},Kn=(e,n)=>{const o=dt.call(e,0);return o.sort(n),o},ca=(e,n)=>n>=0&&n<e.length?I.some(e[n]):I.none(),xn=e=>ca(e,0),ns=e=>ca(e,e.length-1),vs=ie(Array.from)?Array.from:e=>dt.call(e),la=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return I.none()},Sc=(e,n)=>{const o=[],r=ie(n)?c=>nt(o,u=>n(u,c)):c=>Ae(o,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||o.push(m)}return o},Xo=Object.keys,Ml=Object.hasOwnProperty,it=(e,n)=>{const o=Xo(e);for(let r=0,c=o.length;r<c;r++){const u=o[r],m=e[u];n(m,u)}},po=(e,n)=>Ir(e,(o,r)=>({k:r,v:n(o,r)})),Ir=(e,n)=>{const o={};return it(e,(r,c)=>{const u=n(r,c);o[u.k]=u.v}),o},Fr=e=>(n,o)=>{e[o]=n},ic=(e,n,o,r)=>{it(e,(c,u)=>{(n(c,u)?o:r)(c,u)})},uc=(e,n)=>{const o={},r={};return ic(e,n,Fr(o),Fr(r)),{t:o,f:r}},us=(e,n)=>{const o={};return ic(e,n,Fr(o),$e),o},xc=(e,n)=>{const o=[];return it(e,(r,c)=>{o.push(n(r,c))}),o},ia=e=>xc(e,_n),Vo=(e,n)=>yn(e,n)?I.from(e[n]):I.none(),yn=(e,n)=>Ml.call(e,n),br=(e,n)=>yn(e,n)&&e[n]!==void 0&&e[n]!==null,qa=(e,n,o=ls)=>no(o).eq(e,n),Tc=e=>{const n={};return he(e,o=>{n[o]={}}),Xo(n)},$c=e=>e.length!==void 0,ks=Array.isArray,fr=e=>{if(ks(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},ws=(e,n,o)=>{if(!e)return!1;if(o=o||e,$c(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(yn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},mr=(e,n)=>{const o=[];return ws(e,(r,c)=>{o.push(n(r,c,e))}),o},dc=(e,n)=>{const o=[];return ws(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},_s=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},ua=(e,n,o,r)=>{let c=Nn(o)?e[0]:o;for(let u=0;u<e.length;u++)c=n.call(r,c,e[u],u);return c},ee=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},te=e=>e[e.length-1],ze=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Ve=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),y=m||r("(pointer:coarse)"),v=c||!u&&m&&r("(min-device-width:768px)"),x=u||m&&!v,N=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,D=!x&&!v&&!N;return{isiPad:Ke(c),isiPhone:Ke(u),isTablet:Ke(v),isPhone:Ke(x),isTouch:Ke(y),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Ke(N),isDesktop:Ke(D)}},Gt=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},rn=(e,n)=>{const o=Gt(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return jn(r(1),r(2))},eo=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?fe():rn(e,o)},fe=()=>jn(0,0),jn=(e,n)=>({major:e,minor:n}),Xn={nu:jn,detect:eo,unknown:fe},Fs=(e,n)=>la(n.brands,o=>{const r=o.brand.toLowerCase();return Un(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:Xn.nu(parseInt(o.version,10),0)}))}),er=(e,n)=>{const o=String(n).toLowerCase();return Un(e,r=>r.search(o))},ho=(e,n)=>er(e,n).map(o=>{const r=Xn.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Bl=(e,n)=>er(e,n).map(o=>{const r=Xn.detect(o.versionRegexes,n);return{current:o.name,version:r}}),ei=(e,n)=>e.substring(n),gr=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Ic=(e,n)=>uo(e,n)?ei(e,n.length):e,yo=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?Nn(r)?!0:c+n.length<=r:!1},uo=(e,n)=>gr(e,n,0),qr=(e,n)=>gr(e,n,e.length-n.length),Lr=e=>n=>n.replace(e,""),fc=Lr(/^\s+|\s+$/g),bl=Lr(/^\s+/g),vl=Lr(/\s+$/g),$o=e=>e.length>0,Ea=e=>!$o(e),sl=(e,n)=>n<=0?"":new Array(n+1).join(e),Pl=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?I.none():I.some(o)},mc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,lr=e=>n=>yo(n,e),Ds=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>yo(e,"edge/")&&yo(e,"chrome")&&yo(e,"safari")&&yo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mc],search:e=>yo(e,"chrome")&&!yo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>yo(e,"msie")||yo(e,"trident")},{name:"Opera",versionRegexes:[mc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:lr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:lr("firefox")},{name:"Safari",versionRegexes:[mc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(yo(e,"safari")||yo(e,"mobile/"))&&yo(e,"applewebkit")}],cf=[{name:"Windows",search:lr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>yo(e,"iphone")||yo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:lr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:lr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:lr("linux"),versionRegexes:[]},{name:"Solaris",search:lr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:lr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:lr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],bi={browsers:Ke(Ds),oses:Ke(cf)},ds="Edge",Hr="Chromium",Aa="IE",tr="Opera",vi="Firefox",Ga="Safari",Pa=()=>za({current:void 0,version:Xn.unknown()}),za=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(ds),isChromium:r(Hr),isIE:r(Aa),isOpera:r(tr),isFirefox:r(vi),isSafari:r(Ga)}},ad={unknown:Pa,nu:za,edge:Ke(ds),chromium:Ke(Hr),ie:Ke(Aa),opera:Ke(tr),firefox:Ke(vi),safari:Ke(Ga)},Qi="Windows",ki="iOS",$a="Android",Fc="Linux",Ru="macOS",Lc="Solaris",wi="FreeBSD",eu="ChromeOS",j=()=>le({current:void 0,version:Xn.unknown()}),le=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r(Qi),isiOS:r(ki),isAndroid:r($a),isMacOS:r(Ru),isLinux:r(Fc),isSolaris:r(Lc),isFreeBSD:r(wi),isChromeOS:r(eu)}},ge={unknown:j,nu:le,windows:Ke(Qi),ios:Ke(ki),android:Ke($a),linux:Ke(Fc),macos:Ke(Ru),solaris:Ke(Lc),freebsd:Ke(wi),chromeos:Ke(eu)},ht={detect:(e,n,o)=>{const r=bi.browsers(),c=bi.oses(),u=n.bind(v=>Fs(r,v)).orThunk(()=>ho(r,e)).fold(ad.unknown,ad.nu),m=Bl(c,e).fold(ge.unknown,ge.nu),y=Ve(m,u,e,o);return{browser:u,os:m,deviceType:y}}},ln=e=>window.matchMedia(e).matches;let os=ze(()=>ht.detect(navigator.userAgent,I.from(navigator.userAgentData),ln));const Cs=()=>os(),Yo=navigator.userAgent,Io=Cs(),Oo=Io.browser,da=Io.os,rl=Io.deviceType,Mn=Yo.indexOf("Windows Phone")!==-1,To={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Oo.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Oo.isIE(),windowsPhone:Mn,browser:{current:Oo.current,version:Oo.version,isChromium:Oo.isChromium,isEdge:Oo.isEdge,isFirefox:Oo.isFirefox,isIE:Oo.isIE,isOpera:Oo.isOpera,isSafari:Oo.isSafari},os:{current:da.current,version:da.version,isAndroid:da.isAndroid,isChromeOS:da.isChromeOS,isFreeBSD:da.isFreeBSD,isiOS:da.isiOS,isLinux:da.isLinux,isMacOS:da.isMacOS,isSolaris:da.isSolaris,isWindows:da.isWindows},deviceType:{isDesktop:rl.isDesktop,isiPad:rl.isiPad,isiPhone:rl.isiPhone,isPhone:rl.isPhone,isTablet:rl.isTablet,isTouch:rl.isTouch,isWebView:rl.isWebView}},fa=/^\s*|\s*$/g,pr=e=>nn(e)?"":(""+e).replace(fa,""),P=(e,n)=>n?n==="array"&&ks(e)?!0:typeof e===n:e!==void 0,W=(e,n,o={})=>{const r=re(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},oe=yn,Se=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(yn(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},Nt=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),ws(e,(c,u)=>n.call(r,c,u,o)===!1?!1:(Nt(c,n,o,r),!0)))},Qe={trim:pr,isArray:ks,is:P,toArray:fr,makeMap:W,each:ws,map:mr,grep:dc,inArray:_s,hasOwn:oe,extend:Se,walk:Nt,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>Vn(e)?e:e===""?[]:mr(e.split(n||","),pr),_addCacheSuffix:e=>{const n=To.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Oa=(e,n,o=Ht)=>e.exists(r=>o(r,n)),Ss=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},Dr=(e,n,o)=>e.isSome()&&n.isSome()?I.some(o(e.getOrDie(),n.getOrDie())):I.none(),cd=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?I.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):I.none(),vo=(e,n)=>e?I.some(n):I.none(),ti=typeof window<"u"?window:Function("return this;")(),_i=(e,n)=>{let o=n??ti;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Rs=(e,n)=>{const o=e.split(".");return _i(o,n)},or=(e,n)=>Rs(e,n),Ci=(e,n)=>{const o=or(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},hb=Object.getPrototypeOf,Wm=e=>Ci("HTMLElement",e),Zs=e=>{const n=Rs("ownerDocument.defaultView",e);return sn(e)&&(Wm(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(hb(e).constructor.name))},Hc=8,Vc=9,gc=11,Si=1,xi=3,Ns=e=>e.dom.nodeName.toLowerCase(),Gr=e=>e.dom.nodeType,Ia=e=>n=>Gr(n)===e,lf=e=>Gr(e)===Hc||Ns(e)==="#comment",kl=e=>As(e)&&Zs(e.dom),As=Ia(Si),Kr=Ia(xi),$l=Ia(Vc),ld=Ia(gc),Ti=e=>n=>As(n)&&Ns(n)===e,Il=(e,n,o)=>{if(re(o)||gn(o)||Ho(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},vr=(e,n,o)=>{Il(e.dom,n,o)},Ka=(e,n)=>{const o=e.dom;it(n,(r,c)=>{Il(o,c,r)})},ma=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Fl=(e,n)=>I.from(ma(e,n)),tu=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Jo=(e,n)=>{e.dom.removeAttribute(n)},al=e=>{const n=e.dom.attributes;return n==null||n.length===0},uf=e=>Bt(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ei=(e,n)=>{const o=ma(e,n);return o===void 0||o===""?[]:o.split(" ")},id=(e,n,o)=>{const c=Ei(e,n).concat([o]);return vr(e,n,c.join(" ")),!0},Zf=(e,n,o)=>{const r=Be(Ei(e,n),c=>c!==o);return r.length>0?vr(e,n,r.join(" ")):Jo(e,n),!1},Ai=e=>e.dom.classList!==void 0,Uc=e=>Ei(e,"class"),Nu=(e,n)=>id(e,"class",n),pc=(e,n)=>Zf(e,"class",n),zi=(e,n)=>Ae(Uc(e),n)?pc(e,n):Nu(e,n),ni=(e,n)=>{Ai(e)?e.dom.classList.add(n):Nu(e,n)},qf=e=>{(Ai(e)?e.dom.classList:Uc(e)).length===0&&Jo(e,"class")},Ll=(e,n)=>{Ai(e)?e.dom.classList.remove(n):pc(e,n),qf(e)},Gf=(e,n)=>{const o=Ai(e)?e.dom.classList.toggle(n):zi(e,n);return qf(e),o},df=(e,n)=>Ai(e)&&e.dom.classList.contains(n),nu=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Mu(r.childNodes[0])},Kf=(e,n)=>{const r=(n||document).createElement(e);return Mu(r)},Xf=(e,n)=>{const r=(n||document).createTextNode(e);return Mu(r)},Mu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ne={fromHtml:nu,fromTag:Kf,fromText:Xf,fromDom:Mu,fromPoint:(e,n,o)=>I.from(e.dom.elementFromPoint(n,o)).map(Mu)},Yf=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let c=n(e);do c=c.bind(r);while(c.isSome());return o},hc=(e,n)=>{const o=e.dom;if(o.nodeType!==Si)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Zm=e=>e.nodeType!==Si&&e.nodeType!==Vc&&e.nodeType!==gc||e.childElementCount===0,Sh=(e,n)=>{const o=n===void 0?document:n.dom;return Zm(o)?[]:Re(o.querySelectorAll(e),ne.fromDom)},xh=(e,n)=>{const o=n===void 0?document:n.dom;return Zm(o)?I.none():I.from(o.querySelector(e)).map(ne.fromDom)},ss=(e,n)=>e.dom===n.dom,cl=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Da=e=>ne.fromDom(e.dom.ownerDocument),Oi=e=>$l(e)?e:Da(e),ou=e=>ne.fromDom(Oi(e).dom.documentElement),ud=e=>ne.fromDom(Oi(e).dom.defaultView),Ec=e=>I.from(e.dom.parentNode).map(ne.fromDom),Jf=e=>I.from(e.dom.parentElement).map(ne.fromDom),ff=(e,n)=>{const o=ie(n)?n:Ee;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=ne.fromDom(u);if(c.push(m),o(m)===!0)break;r=u}return c},Qf=e=>{const n=o=>Be(o,r=>!ss(e,r));return Ec(e).map(ga).map(n).getOr([])},Hl=e=>I.from(e.dom.previousSibling).map(ne.fromDom),Bu=e=>I.from(e.dom.nextSibling).map(ne.fromDom),qg=e=>_o(Yf(e,Hl)),jc=e=>Yf(e,Bu),ga=e=>Re(e.dom.childNodes,ne.fromDom),su=(e,n)=>{const o=e.dom.childNodes;return I.from(o[n]).map(ne.fromDom)},dd=e=>su(e,0),Wc=e=>su(e,e.dom.childNodes.length-1),yc=e=>e.dom.childNodes.length,qm=e=>e.dom.hasChildNodes(),Gg=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ne.fromDom(n)},fd=e=>ld(e)&&Le(e.dom.host),mf=ie(Element.prototype.attachShadow)&&ie(Node.prototype.getRootNode),Gm=Ke(mf),oi=mf?e=>ne.fromDom(e.dom.getRootNode()):Oi,em=e=>fd(e)?e:Gg(Oi(e)),Mv=e=>fd(e)?e:ne.fromDom(Oi(e).dom.body),Th=e=>{const n=oi(e);return fd(n)?I.some(n):I.none()},Km=e=>ne.fromDom(e.dom.host),md=e=>{if(Gm()&&Le(e.target)){const n=ne.fromDom(e.target);if(As(n)&&Kg(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return xn(o)}}return I.from(e.target)},Kg=e=>Le(e.dom.shadowRoot),Di=e=>{const n=Kr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Th(ne.fromDom(n)).fold(()=>o.body.contains(n),cn(Di,Km))};var T=(e,n,o,r,c)=>e(o,r)?I.some(o):ie(c)&&c(o)?I.none():n(o,r,c);const R=(e,n,o)=>{let r=e.dom;const c=ie(o)?o:Ee;for(;r.parentNode;){r=r.parentNode;const u=ne.fromDom(r);if(n(u))return I.some(u);if(c(u))break}return I.none()},V=(e,n,o)=>T((c,u)=>u(c),R,e,n,o),ce=(e,n)=>{const o=e.dom;return o.parentNode?de(ne.fromDom(o.parentNode),r=>!ss(e,r)&&n(r)):I.none()},de=(e,n)=>{const o=c=>n(ne.fromDom(c));return Un(e.dom.childNodes,o).map(ne.fromDom)},ft=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const u=ne.fromDom(r.childNodes[c]);if(n(u))return I.some(u);const m=o(r.childNodes[c]);if(m.isSome())return m}return I.none()};return o(e.dom)},kn=(e,n,o)=>R(e,r=>hc(r,n),o),Bn=(e,n)=>xh(n,e),Pn=(e,n,o)=>T((c,u)=>hc(c,u),kn,e,n,o),zn=e=>Pn(e,"[contenteditable]"),Yt=(e,n=!1)=>Di(e)?e.dom.isContentEditable:zn(e).fold(Ke(n),o=>sr(o)==="true"),sr=e=>e.dom.contentEditable,pa=e=>e.style!==void 0&&ie(e.style.getPropertyValue),Eh=(e,n,o)=>{if(!re(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);pa(e)&&e.style.setProperty(n,o)},Xm=(e,n)=>{pa(e)&&e.style.removeProperty(n)},Xg=(e,n,o)=>{const r=e.dom;Eh(r,n,o)},Yg=(e,n)=>{const o=e.dom;it(n,(r,c)=>{Eh(o,c,r)})},Xr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Di(e)?bc(o,n):c},bc=(e,n)=>pa(e)?e.style.getPropertyValue(n):"",Zc=(e,n)=>{const o=e.dom,r=bc(o,n);return I.from(r).filter(c=>c.length>0)},Xa=e=>{const n={},o=e.dom;if(pa(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},Jg=(e,n)=>{const o=e.dom;Xm(o,n),Oa(Fl(e,"style").map(fc),"")&&Jo(e,"style")},ir=e=>e.dom.offsetWidth,qc=(e,n)=>{Ec(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},wl=(e,n)=>{Bu(e).fold(()=>{Ec(e).each(c=>{xr(c,n)})},r=>{qc(r,n)})},tm=(e,n)=>{dd(e).fold(()=>{xr(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},xr=(e,n)=>{e.dom.appendChild(n.dom)},yb=(e,n)=>{qc(e,n),xr(n,e)},Ah=(e,n)=>{he(n,(o,r)=>{const c=r===0?e:n[r-1];wl(c,o)})},Ms=(e,n)=>{he(n,o=>{xr(e,o)})},ru=e=>{e.dom.textContent="",he(ga(e),n=>{Uo(n)})},Uo=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ac=e=>{const n=ga(e);n.length>0&&Ah(e,n),Uo(e)},gd=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,ga(ne.fromDom(r))},pd=e=>Re(e,ne.fromDom),gf=e=>e.dom.innerHTML,so=(e,n)=>{const r=Da(e).dom,c=ne.fromDom(r.createDocumentFragment()),u=gd(n,r);Ms(c,u),ru(e),xr(e,c)},Qg=e=>{const n=ne.fromTag("div"),o=ne.fromDom(e.dom.cloneNode(!0));return xr(n,o),gf(n)},ep=(e,n,o,r,c,u,m)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:u,raw:m}),Bv=e=>{const n=ne.fromDom(md(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=A(r,o);return ep(n,e.clientX,e.clientY,o,r,c,e)},Yw=(e,n)=>o=>{e(o)&&n(Bv(o))},tp=(e,n,o,r,c)=>{const u=Yw(o,r);return e.dom.addEventListener(n,u,c),{unbind:He(Pv,e,n,u,c)}},Ym=(e,n,o,r)=>tp(e,n,o,r,!1),Pv=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},au=(e,n)=>({left:e,top:n,translate:(r,c)=>au(e+r,n+c)}),pf=au,$v=e=>{const n=e.getBoundingClientRect();return pf(n.left,n.top)},Jm=(e,n)=>e!==void 0?e:n!==void 0?n:0,Pu=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return pf(o.offsetLeft,o.offsetTop);const u=Jm(r==null?void 0:r.pageYOffset,c.scrollTop),m=Jm(r==null?void 0:r.pageXOffset,c.scrollLeft),y=Jm(c.clientTop,o.clientTop),v=Jm(c.clientLeft,o.clientLeft);return zh(e).translate(m-v,u-y)},zh=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?pf(r.offsetLeft,r.offsetTop):Di(e)?$v(n):pf(0,0)},Ri=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return pf(o,r)},hd=(e,n)=>{Cs().browser.isSafari()&&ie(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Iv=e=>{const n=e===void 0?window:e;return Cs().browser.isFirefox()?I.none():I.from(n.visualViewport)},np=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Oh=e=>{const n=e===void 0?window:e,o=n.document,r=Ri(ne.fromDom(o));return Iv(n).fold(()=>{const c=n.document.documentElement,u=c.clientWidth,m=c.clientHeight;return np(r.left,r.top,u,m)},c=>np(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},Dh=(e,n)=>Be(ga(e),n),Rh=(e,n)=>{let o=[];return he(ga(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Rh(r,n))}),o},Fa=(e,n)=>Sh(n,e),op=(e,n,o)=>kn(e,n,o).isSome();class Vr{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Ya=e=>n=>!!n&&n.nodeType===e,dn=e=>!!e&&!Object.getPrototypeOf(e),$t=Ya(1),nm=e=>{const n=e.toLowerCase();return o=>Le(o)&&o.nodeName.toLowerCase()===n},Vl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Ae(n,r)}return!1}},om=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if($t(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<o.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},Qm=e=>n=>$t(n)&&n.hasAttribute(e),_l=(e,n)=>o=>$t(o)&&o.getAttribute(e)===n,Cl=e=>$t(e)&&e.hasAttribute("data-mce-bogus"),sm=e=>$t(e)&&e.getAttribute("data-mce-bogus")==="all",ur=e=>$t(e)&&e.tagName==="TABLE",rm=e=>n=>!!($t(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),eg=Vl(["textarea","input"]),mt=Ya(3),Fv=Ya(4),Lv=Ya(7),ll=Ya(8),am=Ya(9),yd=Ya(11),rr=nm("br"),bb=nm("img"),gs=rm("true"),Qo=rm("false"),Ja=Vl(["td","th"]),cm=Vl(["td","th","caption"]),Rr=Vl(["video","audio","object","embed"]),hf=nm("li"),ha=nm("details"),zc=nm("summary"),$u="\uFEFF",Pe=" ",Gc=e=>e===$u,vb=e=>e.replace(/\uFEFF/g,""),si=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?I.from(u.dom.nodeValue):I.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(Kr,"text"),sp=e=>si.get(e),Sl=e=>si.getOption(e),Hv=(e,n)=>si.set(e,n),bd=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Nh=["td","th"],il=["thead","tbody","tfoot"],jo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],cu=["h1","h2","h3","h4","h5","h6"],tg=["li","dd","dt"],Qa=["ul","ol","dl"],rp=["pre","script","textarea","style"],vd=["pre"].concat(cu),Iu=e=>{let n;return o=>(n=n||co(e,Je),yn(n,Ns(o)))},Tr=Iu(bd),ap=e=>Ns(e)==="table",we=e=>As(e)&&!Tr(e),ec=e=>As(e)&&Ns(e)==="br",ng=Iu(jo),Oc=Iu(Qa),Dc=Iu(tg),tc=Iu(il),kr=Iu(Nh),cp=Iu(rp),yf=Iu(vd),kd=e=>yf(e)||we(e),hn=e=>{const n=[];let o=e.dom;for(;o;)n.push(ne.fromDom(o)),o=o.lastChild;return n},Jw=e=>{const n=Fa(e,"br"),o=Be(hn(e).slice(-1),ec);n.length===o.length&&he(o,Uo)},w=()=>{const e=ne.fromTag("br");return vr(e,"data-mce-bogus","1"),e},S=e=>{ru(e),xr(e,w())},F=e=>{Wc(e).each(n=>{Hl(n).each(o=>{Tr(e)&&ec(n)&&Tr(o)&&Uo(n)})})},Z=$u,ue=Gc,Me=vb,ut=$t,Ot=mt,bn=e=>(Ot(e)&&(e=e.parentNode),ut(e)&&e.hasAttribute("data-mce-caret")),Cn=e=>Ot(e)&&ue(e.data),rs=e=>bn(e)||Cn(e),Fo=e=>e.firstChild!==e.lastChild||!rr(e.firstChild),qs=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Z),u=e.parentNode;if(n){const m=e.previousSibling;if(Ot(m)){if(rs(m))return m;if(bf(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(Ot(m)){if(rs(m))return m;if(Kc(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},nc=e=>{const n=e.container();return mt(n)?n.data.charAt(e.offset())===Z||e.isAtStart()&&Cn(n.previousSibling):!1},Ul=e=>{const n=e.container();return mt(n)?n.data.charAt(e.offset()-1)===Z||e.isAtEnd()&&Cn(n.nextSibling):!1},Fu=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(w().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},Kc=e=>Ot(e)&&e.data[0]===Z,bf=e=>Ot(e)&&e.data[e.data.length-1]===Z,lp=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Cl(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},vf=e=>e&&e.hasAttribute("data-mce-caret")?(lp(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,wd=e=>bn(e.startContainer),Nr=gs,jl=Qo,Lu=rr,kf=mt,kb=Vl(["script","style","textarea"]),oo=Vl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Gs=Vl(["table"]),La=rs,wr=e=>La(e)?!1:kf(e)?!kb(e.parentNode):oo(e)||Lu(e)||Gs(e)||lu(e),Hu=e=>$t(e)&&e.getAttribute("unselectable")==="true",lu=e=>!Hu(e)&&jl(e),Ni=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(lu(o))return!1;if(Nr(o))return!0}return!0},ul=e=>lu(e)?!Bt(vs(e.getElementsByTagName("*")),(n,o)=>n||Nr(o),!1):!1,Qw=e=>oo(e)||ul(e),lm=(e,n)=>wr(e)&&Ni(e,n),ip=/^[ \t\r\n]*$/,Mi=e=>ip.test(e),e_=e=>{for(const n of e)if(!Gc(n))return!1;return!0},Mh=e=>" \f	\v".indexOf(e)!==-1,Vv=e=>e===`
`||e==="\r",Uv=(e,n)=>n<e.length&&n>=0?Vv(e[n]):!1,Er=(e,n=4,o=!0,r=!0)=>{const c=sl(" ",n),u=e.replace(/\t/g,c);return Bt(u,(y,v)=>Mh(v)||v===Pe?y.pcIsSpace||y.str===""&&o||y.str.length===u.length-1&&r||Uv(u,y.str.length+1)?{pcIsSpace:!1,str:y.str+Pe}:{pcIsSpace:!0,str:y.str+" "}:{pcIsSpace:Vv(v),str:y.str+v},{pcIsSpace:!1,str:""}).str},t_=(e,n)=>{const o=ne.fromDom(n),r=ne.fromDom(e);return op(r,"pre,code",He(ss,o))},_d=(e,n)=>mt(e)&&Mi(e.data)&&!t_(e,n),up=e=>$t(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Vu=(e,n)=>wr(e)&&!_d(e,n)||up(e)||Uu(e),Uu=Qm("data-mce-bookmark"),ri=Qm("data-mce-bogus"),dp=_l("data-mce-bogus","all"),Bh=(e,n)=>{let o=0;if(Vu(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const c=new Vr(r,e);do{if(n){if(dp(r)){r=c.next(!0);continue}if(ri(r)){r=c.next();continue}}if(rr(r)){o++,r=c.next();continue}if(Vu(r,e))return!1;r=c.next()}while(r);return o<=1}},ya=(e,n=!0)=>Bh(e.dom,n),im="data-mce-block",jv=e=>Be(Xo(e),n=>!/[A-Z]/.test(n)),og=e=>jv(e).join(","),fp=(e,n)=>Le(n.querySelector(e))?(n.setAttribute(im,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(im),!1),Wv=(e,n)=>{const o=og(e.getTransparentElements()),r=og(e.getBlockElements());return Be(n.querySelectorAll(o),c=>fp(r,c))},sg=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let c=e[r];c;c=c[r])if(ya(ne.fromDom(c))){(o=c.parentNode)===null||o===void 0||o.removeChild(c);return}},wf=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const c=o.extractContents();sg(c,!0),o.setStartAfter(n),o.setEndAfter(e);const u=o.extractContents();sg(u,!1),ya(ne.fromDom(c))||r.insertBefore(c,e),ya(ne.fromDom(n))||r.insertBefore(n,e),ya(ne.fromDom(u))||r.insertBefore(u,e),r.removeChild(e)}},xl=(e,n,o)=>{const r=e.getBlockElements(),c=ne.fromDom(n),u=y=>Ns(y)in r,m=y=>ss(y,c);he(pd(o),y=>{R(y,u,m).each(v=>{const x=Dh(y,N=>u(N)&&!e.isValidChild(Ns(v),Ns(N)));if(x.length>0){const N=Jf(v);he(x,D=>{R(D,u,m).each(L=>{wf(L.dom,D.dom)})}),N.each(D=>Wv(e,D.dom))}})})},_f=(e,n,o)=>{he([...o,...um(e,n)?[n]:[]],r=>he(Fa(ne.fromDom(r),r.nodeName.toLowerCase()),c=>{o_(e,c.dom)&&Ac(c)}))},Cf=(e,n)=>{const o=Wv(e,n);xl(e,n,o),_f(e,n,o)},Zv=(e,n)=>{if(mp(e,n)){const o=og(e.getBlockElements());fp(o,n)}},n_=(e,n,o)=>{const r=u=>ss(u,ne.fromDom(n)),c=ff(ne.fromDom(o),r);ca(c,c.length-2).filter(As).fold(()=>Cf(e,n),u=>Cf(e,u.dom))},Ph=e=>e.hasAttribute(im),$h=(e,n)=>yn(e.getTransparentElements(),n),mp=(e,n)=>$t(n)&&$h(e,n.nodeName),um=(e,n)=>mp(e,n)&&Ph(n),o_=(e,n)=>mp(e,n)&&!Ph(n),wb=(e,n)=>n.type===1&&$h(e,n.name)&&re(n.attr(im)),es=(e,n)=>n.type===1&&$h(e,n.name)&&Nn(n.attr(im)),an=Cs().browser,dm=e=>Un(e,As),qv=e=>an.isFirefox()&&Ns(e)==="table"?dm(ga(e)).filter(n=>Ns(n)==="caption").bind(n=>dm(jc(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,Ih=(e,n)=>e.children&&Ae(e.children,n),s_=(e,n,o)=>{let r=0,c=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Xr(ne.fromDom(e),"position")==="static"){const y=n.getBoundingClientRect();return r=y.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=y.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=n;for(;m&&m!==o&&m.nodeType&&!Ih(m,o);){const y=m;r+=y.offsetLeft||0,c+=y.offsetTop||0,m=y.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!Ih(m,o);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=qv(ne.fromDom(n))}return{x:r,y:c}},Gv=(e,n={})=>{let o=0;const r={},c=ne.fromDom(e),u=Oi(c),m=q=>{n.referrerPolicy=q},y=q=>{n.contentCssCors=q},v=q=>{xr(em(c),q)},x=q=>{const J=em(c);Bn(J,"#"+q).each(Uo)},N=q=>Vo(r,q).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),D=q=>new Promise((J,pe)=>{let ye;const be=Qe._addCacheSuffix(q),Ce=N(be);r[be]=Ce,Ce.count++;const tt=(We,Ct)=>{he(We,Zt),Ce.status=Ct,Ce.passed=[],Ce.failed=[],ye&&(ye.onload=null,ye.onerror=null,ye=null)},Ft=()=>tt(Ce.passed,2),lt=()=>tt(Ce.failed,3);if(J&&Ce.passed.push(J),pe&&Ce.failed.push(pe),Ce.status===1)return;if(Ce.status===2){Ft();return}if(Ce.status===3){lt();return}Ce.status=1;const De=ne.fromTag("link",u.dom);Ka(De,{rel:"stylesheet",type:"text/css",id:Ce.id}),n.contentCssCors&&vr(De,"crossOrigin","anonymous"),n.referrerPolicy&&vr(De,"referrerpolicy",n.referrerPolicy),ye=De.dom,ye.onload=Ft,ye.onerror=lt,v(De),vr(De,"href",be)}),L=q=>Promise.allSettled(Re(q,pe=>D(pe).then(Ke(pe)))).then(pe=>{const ye=Ze(pe,be=>be.status==="fulfilled");return ye.fail.length>0?Promise.reject(Re(ye.fail,be=>be.reason)):Re(ye.pass,be=>be.value)}),X=q=>{const J=Qe._addCacheSuffix(q);Vo(r,J).each(pe=>{--pe.count===0&&(delete r[J],x(pe.id))})};return{load:D,loadAll:L,unload:X,unloadAll:q=>{he(q,J=>{X(J)})},_setReferrerPolicy:m,_setContentCssCors:y}},Fh=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=oi(o).dom;return I.from(e.get(u)).getOrThunk(()=>{const m=Gv(u,r);return e.set(u,m),m})}}})(),Rx=e=>e.nodeName.toLowerCase()==="span",gp=(e,n)=>Le(e)&&(Vu(e,n)||we(ne.fromDom(e))),et=(e,n)=>{const o=new Vr(e,n).prev(!1),r=new Vr(e,n).next(!1),c=Nn(o)||gp(o,n),u=Nn(r)||gp(r,n);return c&&u},rg=e=>Rx(e)&&e.getAttribute("data-mce-type")==="bookmark",Nx=(e,n)=>mt(e)&&e.data.length>0&&et(e,n),_b=e=>$t(e)?e.childNodes.length>0:!1,Mx=e=>yd(e)||am(e),fm=(e,n,o)=>{var r;const c=o||n;if($t(n)&&rg(n))return n;const u=n.childNodes;for(let m=u.length-1;m>=0;m--)fm(e,u[m],c);if($t(n)){const m=n.childNodes;m.length===1&&rg(m[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(m[0],n))}return!Mx(n)&&!Vu(n,c)&&!_b(n)&&!Nx(n,c)&&e.remove(n),n},Kv=Qe.makeMap,Cd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pp=/[<>&\"\']/g,Xs=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,iu={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ag={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ju={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Sb=e=>{const n=ne.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},hp=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],n));if(!ag[u]){const m="&"+r[c+1]+";";o[u]=m,o[m]=u}}return o}else return},mm=hp("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Xv=(e,n)=>e.replace(n?Cd:Cb,o=>ag[o]||o),Bx=e=>(""+e).replace(pp,n=>ag[n]||n),r_=(e,n)=>e.replace(n?Cd:Cb,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ag[o]||"&#"+o.charCodeAt(0)+";"),xb=(e,n,o)=>{const r=o||mm;return e.replace(n?Cd:Cb,c=>ag[c]||r[c]||c)},gm={encodeRaw:Xv,encodeAllRaw:Bx,encodeNumeric:r_,encodeNamed:xb,getEncodeFunc:(e,n)=>{const o=hp(n)||mm,r=(m,y)=>m.replace(y?Cd:Cb,v=>ag[v]!==void 0?ag[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),c=(m,y)=>xb(m,y,o),u=Kv(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?c:xb:u.numeric?r_:Xv},decode:e=>e.replace(Xs,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):iu[o]||String.fromCharCode(o)):ju[n]||mm[n]||Sb(n))},Tb={},pm={},Vt={},yp=Qe.makeMap,vc=Qe.each,Yv=Qe.extend,Lh=Qe.explode,$x=Qe.inArray,oc=(e,n)=>(e=Qe.trim(e),e?e.split(n||" "):[]),uu=(e,n={})=>{const o=yp(e," ",yp(e.toUpperCase()," "));return Yv(o,n)},Sd=e=>uu("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Ix=e=>{const n={};let o,r,c,u;const m=(v,x="",N="")=>{const D=oc(N),L=oc(v);let X=L.length;for(;X--;){const Q=oc([o,x].join(" "));n[L[X]]={attributes:co(Q,()=>({})),attributesOrder:Q,children:co(D,Ke(Vt))}}},y=(v,x)=>{const N=oc(v),D=oc(x);let L=N.length;for(;L--;){const X=n[N[L]];for(let Q=0,q=D.length;Q<q;Q++)X.attributes[D[Q]]={},X.attributesOrder.push(D[Q])}};if(Tb[e])return Tb[e];if(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const v="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+v,c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const v="acronym applet basefont big font strike tt";c=[c,v].join(" "),vc(oc(v),N=>{m(N,"",c)});const x="center dir isindex noframes";r=[r,x].join(" "),u=[r,c].join(" "),vc(oc(x),N=>{m(N,"",u)})}return u=u||[r,c].join(" "),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),m("dd div","",u),m("address dt caption","",e==="html4"?c:u),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),m("blockquote","cite",u),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",u),m("dl","","dt dd"),m("a","href target rel media hreflang type",e==="html4"?c:u),m("q","cite",c),m("ins del","cite datetime",u),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",u),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[u,"param"].join(" ")),m("param","name value"),m("map","name",[u,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",u),m("th","colspan rowspan headers scope abbr",u),m("form","accept-charset action autocomplete enctype method name novalidate target",u),m("fieldset","disabled form name",[u,"legend"].join(" ")),m("label","form for",c),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?u:c),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[u,"li"].join(" ")),m("noscript","",u),e!=="html4"&&(m("wbr"),m("ruby","",[c,"rt rp"].join(" ")),m("figcaption","",u),m("mark rt rp summary bdi","",c),m("canvas","width height",u),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[u,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[c,"option"].join(" ")),m("article section nav aside main header footer","",u),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[u,"figcaption"].join(" ")),m("time","datetime",c),m("dialog","open",u),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",c),m("progress","value max",c),m("meter","value min max low high optimum",c),m("details","open",[u,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(y("script","language xml:space"),y("style","xml:space"),y("object","declare classid code codebase codetype archive standby align border hspace vspace"),y("embed","align name hspace vspace"),y("param","valuetype type"),y("a","charset name rev shape coords"),y("br","clear"),y("applet","codebase archive code object alt name width height align hspace vspace"),y("img","name longdesc align border hspace vspace"),y("iframe","longdesc frameborder marginwidth marginheight scrolling align"),y("font basefont","size color face"),y("input","usemap align"),y("select"),y("textarea"),y("h1 h2 h3 h4 h5 h6 div p legend caption","align"),y("ul","type compact"),y("li","type"),y("ol dl menu dir","compact"),y("pre","width xml:space"),y("hr","align noshade size width"),y("isindex","prompt"),y("table","summary width frame rules cellspacing cellpadding align bgcolor"),y("col","width align char charoff valign"),y("colgroup","width align char charoff valign"),y("thead","align char charoff valign"),y("tr","align char charoff valign bgcolor"),y("th","axis align char charoff valign nowrap bgcolor width height"),y("form","accept"),y("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),y("tfoot","align char charoff valign"),y("tbody","align char charoff valign"),y("area","nohref"),y("body","background bgcolor text link vlink alink")),e!=="html4"&&(y("input button select textarea","autofocus"),y("input textarea","placeholder"),y("a","download"),y("link script img","crossorigin"),y("img","loading"),y("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&he([n.video,n.audio],v=>{delete v.children.audio,delete v.children.video}),vc(oc("a form meter progress dfn"),v=>{n[v]&&delete n[v].children[v]}),delete n.caption.children.table,delete n.script,Tb[e]=n,n},bp=(e,n)=>{if(e){const o={};return re(e)&&(e={"*":e}),vc(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?yp(r,/[, ]/):Lh(r,/[, ]/)}),o}else return},hm=(e={})=>{var n;const o={},r={};let c=[];const u={},m={},y=(pn,Po,Hs)=>{const Vs=e[pn];if(Vs)return yp(Vs,/[, ]/,yp(Vs.toUpperCase(),/[, ]/));{let $n=pm[pn];return $n||($n=uu(Po,Hs),pm[pn]=$n),$n}},v=(n=e.schema)!==null&&n!==void 0?n:"html5",x=Ix(v);e.verify_html===!1&&(e.valid_elements="*[*]");const N=bp(e.valid_styles),D=bp(e.invalid_styles,"map"),L=bp(e.valid_classes,"map"),X=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Q=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),q=y("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),J=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),pe="td th iframe video audio object script code",ye=y("non_empty_elements",pe+" pre",q),be=y("move_caret_before_on_enter_elements",pe+" table",q),Ce=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),tt=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ce),Ft=y("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),lt=y("transparent_elements","a ins del canvas map");vc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),pn=>{m[pn]=new RegExp("</"+pn+"[^>]*>","gi")});const De=pn=>new RegExp("^"+pn.replace(/([?+*])/g,".$1")+"$"),We=pn=>{const Po=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Hs=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Vs=/[*?+]/;if(pn){const $n=oc(pn,",");let cr,Ws;o["@"]&&(cr=o["@"].attributes,Ws=o["@"].attributesOrder);for(let sa=0,Xi=$n.length;sa<Xi;sa++){let _c=Po.exec($n[sa]);if(_c){const jf=_c[1],gi=_c[2],db=_c[3],_h=_c[5],nf={},Ou=[],Sa={attributes:nf,attributesOrder:Ou};if(jf==="#"&&(Sa.paddEmpty=!0),jf==="-"&&(Sa.removeEmpty=!0),_c[4]==="!"&&(Sa.removeEmptyAttrs=!0),cr&&(it(cr,(pi,Wf)=>{nf[Wf]=pi}),Ws&&Ou.push(...Ws)),_h){const pi=oc(_h,"|");for(let Wf=0,od=pi.length;Wf<od;Wf++)if(_c=Hs.exec(pi[Wf]),_c){const sd={},Um=_c[1],yl=_c[2].replace(/[\\:]:/g,":"),jg=_c[3],jm=_c[4];if(Um==="!"&&(Sa.attributesRequired=Sa.attributesRequired||[],Sa.attributesRequired.push(yl),sd.required=!0),Um==="-"){delete nf[yl],Ou.splice($x(Ou,yl),1);continue}if(jg&&(jg==="="&&(Sa.attributesDefault=Sa.attributesDefault||[],Sa.attributesDefault.push({name:yl,value:jm}),sd.defaultValue=jm),jg==="~"&&(Sa.attributesForced=Sa.attributesForced||[],Sa.attributesForced.push({name:yl,value:jm}),sd.forcedValue=jm),jg==="<"&&(sd.validValues=yp(jm,"?"))),Vs.test(yl)){const of=sd;Sa.attributePatterns=Sa.attributePatterns||[],of.pattern=De(yl),Sa.attributePatterns.push(of)}else nf[yl]||Ou.push(yl),nf[yl]=sd}}if(!cr&&gi==="@"&&(cr=nf,Ws=Ou),db&&(Sa.outputName=gi,o[db]=Sa),Vs.test(gi)){const pi=Sa;pi.pattern=De(gi),c.push(pi)}else o[gi]=Sa}}}},Ct=pn=>{c=[],he(Xo(o),Po=>{delete o[Po]}),We(pn),vc(x,(Po,Hs)=>{r[Hs]=Po.children})},Et=pn=>{const Po=/^(~)?(.+)$/;pn&&(delete pm.text_block_elements,delete pm.block_elements,vc(oc(pn,","),Hs=>{const Vs=Po.exec(Hs);if(Vs){const $n=Vs[1]==="~",cr=$n?"span":"div",Ws=Vs[2];if(r[Ws]=r[cr],u[Ws]=cr,ye[Ws.toUpperCase()]={},ye[Ws]={},$n||(tt[Ws.toUpperCase()]={},tt[Ws]={}),!o[Ws]){let sa=o[cr];sa=Yv({},sa),delete sa.removeEmptyAttrs,delete sa.removeEmpty,o[Ws]=sa}vc(r,(sa,Xi)=>{sa[cr]&&(r[Xi]=sa=Yv({},r[Xi]),sa[Ws]=sa[cr])})}}))},jt=pn=>{const Po=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Tb[v],pn&&vc(oc(pn,","),Hs=>{const Vs=Po.exec(Hs);if(Vs){const $n=Vs[1];let cr;$n?cr=r[Vs[2]]:cr=r[Vs[2]]={"#comment":{}},cr=r[Vs[2]],vc(oc(Vs[3],"|"),Ws=>{$n==="-"?delete cr[Ws]:cr[Ws]={}})}})},Rn=pn=>{const Po=o[pn];if(Po)return Po;let Hs=c.length;for(;Hs--;){const Vs=c[Hs];if(Vs.pattern.test(pn))return Vs}};e.valid_elements?Ct(e.valid_elements):(vc(x,(pn,Po)=>{o[Po]={attributes:pn.attributes,attributesOrder:pn.attributesOrder},r[Po]=pn.children}),vc(oc("strong/b em/i"),pn=>{const Po=oc(pn,"/");o[Po[1]].outputName=Po[0]}),vc(Ft,(pn,Po)=>{o[Po]&&(e.padd_empty_block_inline_children&&(o[Po].paddInEmptyBlock=!0),o[Po].removeEmpty=!0)}),vc(oc("ol ul blockquote a table tbody"),pn=>{o[pn]&&(o[pn].removeEmpty=!0)}),vc(oc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),pn=>{o[pn]&&(o[pn].paddEmpty=!0)}),vc(oc("span"),pn=>{o[pn].removeEmptyAttrs=!0})),Et(e.custom_elements),jt(e.valid_children),We(e.extended_valid_elements),jt("+ol[ul|ol],+ul[ul|ol]"),vc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(pn,Po)=>{o[Po]&&(o[Po].parentsRequired=oc(pn))}),e.invalid_elements&&vc(Lh(e.invalid_elements),pn=>{o[pn]&&delete o[pn]}),Rn("span")||We("span[!data-mce-type|*]");const Tn=Ke(N),Bo=Ke(D),cs=Ke(L),fs=Ke(J),$r=Ke(tt),Za=Ke(Ce),kt=Ke(Ft),qt=Ke(Object.seal(q)),No=Ke(Q),Mo=Ke(ye),Qt=Ke(be),Kt=Ke(X),pt=Ke(lt),An=Ke(Object.seal(m)),ao=(pn,Po)=>{const Hs=r[pn.toLowerCase()];return!!(Hs&&Hs[Po.toLowerCase()])},Ts=(pn,Po)=>{const Hs=Rn(pn);if(Hs)if(Po){if(Hs.attributes[Po])return!0;const Vs=Hs.attributePatterns;if(Vs){let $n=Vs.length;for(;$n--;)if(Vs[$n].pattern.test(Po))return!0}}else return!0;return!1},ar=Ke(u);return{type:v,children:r,elements:o,getValidStyles:Tn,getValidClasses:cs,getBlockElements:$r,getInvalidStyles:Bo,getVoidElements:qt,getTextBlockElements:Za,getTextInlineElements:kt,getBoolAttrs:fs,getElementRule:Rn,getSelfClosingElements:No,getNonEmptyElements:Mo,getMoveCaretBeforeOnEnterElements:Qt,getWhitespaceElements:Kt,getTransparentElements:pt,getSpecialElements:An,isValidChild:ao,isValid:Ts,getCustomElements:ar,addValidElements:We,setValidElements:Ct,addCustomElements:Et,addValidChildren:jt}},Eb=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,y;const v=$u;n&&(m=n.getValidStyles(),y=n.getInvalidStyles());const x=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let D=0;D<x.length;D++)u[x[D]]=v+D,u[v+D]=x[D];const N={parse:D=>{const L={};let X=!1;const Q=e.url_converter,q=e.url_converter_scope||N,J=(De,We,Ct)=>{const Et=L[De+"-top"+We];if(!Et)return;const jt=L[De+"-right"+We];if(!jt)return;const Rn=L[De+"-bottom"+We];if(!Rn)return;const Tn=L[De+"-left"+We];if(!Tn)return;const Bo=[Et,jt,Rn,Tn];let cs=Bo.length-1;for(;cs--&&Bo[cs]===Bo[cs+1];);cs>-1&&Ct||(L[De+We]=cs===-1?Bo[0]:Bo.join(" "),delete L[De+"-top"+We],delete L[De+"-right"+We],delete L[De+"-bottom"+We],delete L[De+"-left"+We])},pe=De=>{const We=L[De];if(!We)return;const Ct=We.split(" ");let Et=Ct.length;for(;Et--;)if(Ct[Et]!==Ct[0])return!1;return L[De]=Ct[0],!0},ye=(De,We,Ct,Et)=>{pe(We)&&pe(Ct)&&pe(Et)&&(L[De]=L[We]+" "+L[Ct]+" "+L[Et],delete L[We],delete L[Ct],delete L[Et])},be=De=>(X=!0,u[De]),Ce=(De,We)=>(X&&(De=De.replace(/\uFEFF[0-9]/g,Ct=>u[Ct])),We||(De=De.replace(/\\([\'\";:])/g,"$1")),De),tt=De=>String.fromCharCode(parseInt(De.slice(1),16)),Ft=De=>De.replace(/\\[0-9a-f]+/gi,tt),lt=(De,We,Ct,Et,jt,Rn)=>{if(jt=jt||Rn,jt)return jt=Ce(jt),"'"+jt.replace(/\'/g,"\\'")+"'";if(We=Ce(We||Ct||Et||""),!e.allow_script_urls){const Tn=We.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Tn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Tn))return""}return Q&&(We=Q.call(q,We,"style")),"url('"+We.replace(/\'/g,"\\'")+"')"};if(D){D=D.replace(/[\u0000-\u001F]/g,""),D=D.replace(/\\[\"\';:\uFEFF]/g,be).replace(/\"[^\"]+\"|\'[^\']+\'/g,We=>We.replace(/[;:]/g,be));let De;for(;De=r.exec(D);){r.lastIndex=De.index+De[0].length;let We=De[1].replace(c,"").toLowerCase(),Ct=De[2].replace(c,"");if(We&&Ct){if(We=Ft(We),Ct=Ft(Ct),We.indexOf(v)!==-1||We.indexOf('"')!==-1||!e.allow_script_urls&&(We==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ct)))continue;We==="font-weight"&&Ct==="700"?Ct="bold":(We==="color"||We==="background-color")&&(Ct=Ct.toLowerCase()),Ct=Ct.replace(o,lt),L[We]=X?Ce(Ct,!0):Ct}}J("border","",!0),J("border","-width"),J("border","-color"),J("border","-style"),J("padding",""),J("margin",""),ye("border","border-width","border-style","border-color"),L.border==="medium none"&&delete L.border,L["border-image"]==="none"&&delete L["border-image"]}return L},serialize:(D,L)=>{let X="";const Q=(J,pe)=>{const ye=pe[J];if(ye)for(let be=0,Ce=ye.length;be<Ce;be++){const tt=ye[be],Ft=D[tt];Ft&&(X+=(X.length>0?" ":"")+tt+": "+Ft+";")}},q=(J,pe)=>{if(!y||!pe)return!0;let ye=y["*"];return ye&&ye[J]?!1:(ye=y[pe],!(ye&&ye[J]))};return L&&m?(Q("*",m),Q(L,m)):it(D,(J,pe)=>{J&&q(pe,L)&&(X+=(X.length>0?" ":"")+pe+": "+J+";")}),X}};return N},Jv={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Hh=e=>e instanceof Event||ie(e.initEvent),xd=e=>e.isDefaultPrevented===Je||e.isDefaultPrevented===Ee,Ab=e=>nn(e.preventDefault)||Hh(e),Qv=(e,n)=>{const o=n??{};for(const r in e)yn(Jv,r)||(o[r]=e[r]);return Le(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},e0=(e,n,o,r)=>{var c;const u=Qv(n,r);return u.type=e,nn(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:o),Ab(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=Je,ie(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=Je,ie(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=Je,u.stopPropagation()},xd(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?Je:Ee,u.isPropagationStopped=u.cancelBubble===!0?Je:Ee,u.isImmediatePropagationStopped=Ee)),u},a_="mce-data-",zb=/^(?:mouse|contextmenu)|click/,dl=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Xc=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},c_=e=>Le(e)&&zb.test(e.type),vp=(e,n)=>{const o=e0(e.type,e,document,n);if(c_(e)&&Nn(e.pageX)&&!Nn(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return o},Fx=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{Xc(e,"DOMContentLoaded",m),Xc(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};u()?m():dl(e,"DOMContentLoaded",m),o.domLoaded||dl(e,"load",m)};class ym{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=a_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const u=this;let m;const y=window,v=L=>{u.executeHandlers(vp(L||y.event),x)};if(!n||mt(n)||ll(n))return r;let x;n[u.expando]?x=n[u.expando]:(x=u.count++,n[u.expando]=x,u.events[x]={}),c=c||n;const N=o.split(" ");let D=N.length;for(;D--;){let L=N[D],X=v,Q=!1,q=!1;if(L==="DOMContentLoaded"&&(L="ready"),u.domLoaded&&L==="ready"&&n.readyState==="complete"){r.call(c,vp({type:L}));continue}!u.hasFocusIn&&(L==="focusin"||L==="focusout")&&(Q=!0,q=L==="focusin"?"focus":"blur",X=J=>{const pe=vp(J||y.event);pe.type=pe.type==="focus"?"focusin":"focusout",u.executeHandlers(pe,x)}),m=u.events[x][L],m?L==="ready"&&u.domLoaded?r(vp({type:L})):m.push({func:r,scope:c}):(u.events[x][L]=m=[{func:r,scope:c}],m.fakeName=q,m.capture=Q,m.nativeHandler=X,L==="ready"?Fx(n,X,u):dl(n,q||L,X,Q))}return n=m=null,r}unbind(n,o,r){if(!n||mt(n)||ll(n))return this;const c=n[this.expando];if(c){let u=this.events[c];if(o){const m=o.split(" ");let y=m.length;for(;y--;){const v=m[y],x=u[v];if(x){if(r){let N=x.length;for(;N--;)if(x[N].func===r){const D=x.nativeHandler,L=x.fakeName,X=x.capture,Q=x.slice(0,N).concat(x.slice(N+1));Q.nativeHandler=D,Q.fakeName=L,Q.capture=X,u[v]=Q}}(!r||x.length===0)&&(delete u[v],Xc(n,x.fakeName||v,x.nativeHandler,x.capture))}}}else it(u,(m,y)=>{Xc(n,m.fakeName||y,m.nativeHandler,m.capture)}),u={};for(const m in u)if(yn(u,m))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||mt(n)||ll(n))return this;const c=vp({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||mt(n)||ll(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let u=0,m=c.length;u<m;u++){const y=c[u];if(y&&y.func.call(y.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}ym.Event=new ym;const ai=Qe.each,Lx=Qe.grep,kp="data-mce-style",l_=Qe.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),wp=(e,n,o)=>{nn(o)||o===""?Jo(e,n):vr(e,n,o)},Vh=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),_p=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;n&&mt(c)&&(u===r||!c.data.length)||(o++,r=u)}return o},Uh=(e,n)=>{const o=ma(n,"style"),r=e.serialize(e.parse(o),Ns(n));wp(n,kp,r)},t0=(e,n)=>Ho(e)?yn(l_,n)?e+"":e+"px":e,Ob=(e,n,o)=>{const r=Vh(n);nn(o)||o===""?Jg(e,r):Xg(e,r,t0(o,r))},Db=(e,n,o)=>{const r=n.keep_values,c={set:(m,y,v)=>{const x=ne.fromDom(m);ie(n.url_converter)&&Le(y)&&(y=n.url_converter.call(n.url_converter_scope||o(),String(y),v,m));const N="data-mce-"+v;wp(x,N,y),wp(x,v,y)},get:(m,y)=>{const v=ne.fromDom(m);return ma(v,"data-mce-"+y)||ma(v,y)}},u={style:{set:(m,y)=>{const v=ne.fromDom(m);r&&wp(v,kp,y),Jo(v,"style"),re(y)&&Yg(v,e.parse(y))},get:m=>{const y=ne.fromDom(m),v=ma(y,kp)||ma(y,"style");return e.serialize(e.parse(v),Ns(y))}}};return r&&(u.href=u.src=c),u},zs=(e,n={})=>{const o={},r=window,c={};let u=0;const m=!0,y=!0,v=Fh.forElement(ne.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),x=[],N=n.schema?n.schema:hm({}),D=Eb({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),L=n.ownEvents?new ym:ym.Event,X=N.getBlockElements(),Q=xe=>re(xe)?yn(X,xe):$t(xe)&&(yn(X,xe.nodeName)||um(N,xe)),q=xe=>xe&&e&&re(xe)?e.getElementById(xe):xe,J=xe=>{const Te=q(xe);return Le(Te)?ne.fromDom(Te):null},pe=(xe,Te,wt="")=>{let gt;const fn=J(xe);if(Le(fn)&&As(fn)){const Do=fb[Te];Do&&Do.get?gt=Do.get(fn.dom,Te):gt=ma(fn,Te)}return Le(gt)?gt:wt},ye=xe=>{const Te=q(xe);return nn(Te)?[]:Te.attributes},be=(xe,Te,wt)=>{qt(xe,gt=>{if($t(gt)){const fn=ne.fromDom(gt),Do=wt===""?null:wt,Js=ma(fn,Te),Cc=fb[Te];Cc&&Cc.set?Cc.set(fn.dom,Do,Te):wp(fn,Te,Do),Js!==Do&&n.onSetAttrib&&n.onSetAttrib({attrElm:fn.dom,attrName:Te,attrValue:Do})}})},Ce=(xe,Te)=>xe.cloneNode(Te),tt=()=>n.root_element||e.body,Ft=xe=>{const Te=Oh(xe);return{x:Te.x,y:Te.y,w:Te.width,h:Te.height}},lt=(xe,Te)=>s_(e.body,q(xe),Te),De=(xe,Te,wt)=>{qt(xe,gt=>{const fn=ne.fromDom(gt);Ob(fn,Te,wt),n.update_styles&&Uh(D,fn)})},We=(xe,Te)=>{qt(xe,wt=>{const gt=ne.fromDom(wt);it(Te,(fn,Do)=>{Ob(gt,Do,fn)}),n.update_styles&&Uh(D,gt)})},Ct=(xe,Te,wt)=>{const gt=q(xe);if(!(nn(gt)||!$t(gt)))return wt?Xr(ne.fromDom(gt),Vh(Te)):(Te=Te.replace(/-(\D)/g,(fn,Do)=>Do.toUpperCase()),Te==="float"&&(Te="cssFloat"),gt.style?gt.style[Te]:void 0)},Et=xe=>{const Te=q(xe);if(!Te)return{w:0,h:0};let wt=Ct(Te,"width"),gt=Ct(Te,"height");return(!wt||wt.indexOf("px")===-1)&&(wt="0"),(!gt||gt.indexOf("px")===-1)&&(gt="0"),{w:parseInt(wt,10)||Te.offsetWidth||Te.clientWidth,h:parseInt(gt,10)||Te.offsetHeight||Te.clientHeight}},jt=xe=>{const Te=q(xe),wt=lt(Te),gt=Et(Te);return{x:wt.x,y:wt.y,w:gt.w,h:gt.h}},Rn=(xe,Te)=>{if(!xe)return!1;const wt=Vn(xe)?xe:[xe];return nt(wt,gt=>hc(ne.fromDom(gt),Te))},Tn=(xe,Te,wt,gt)=>{const fn=[];let Do=q(xe);gt=gt===void 0;const Js=wt||(tt().nodeName!=="BODY"?tt().parentNode:null);if(re(Te))if(Te==="*")Te=$t;else{const Cc=Te;Te=Pc=>Rn(Pc,Cc)}for(;Do&&!(Do===Js||nn(Do.nodeType)||am(Do)||yd(Do));){if(!Te||Te(Do))if(gt)fn.push(Do);else return[Do];Do=Do.parentNode}return gt?fn:null},Bo=(xe,Te,wt)=>{const gt=Tn(xe,Te,wt,!1);return gt&&gt.length>0?gt[0]:null},cs=(xe,Te,wt)=>{let gt=Te;if(xe){re(Te)&&(gt=fn=>Rn(fn,Te));for(let fn=xe[wt];fn;fn=fn[wt])if(ie(gt)&&gt(fn))return fn}return null},fs=(xe,Te)=>cs(xe,Te,"nextSibling"),$r=(xe,Te)=>cs(xe,Te,"previousSibling"),Za=xe=>ie(xe.querySelectorAll),kt=(xe,Te)=>{var wt,gt;const fn=(gt=(wt=q(Te))!==null&&wt!==void 0?wt:n.root_element)!==null&&gt!==void 0?gt:e;return Za(fn)?vs(fn.querySelectorAll(xe)):[]},qt=function(xe,Te,wt){const gt=wt??this;if(Vn(xe)){const fn=[];return ai(xe,(Do,Js)=>{const Cc=q(Do);Cc&&fn.push(Te.call(gt,Cc,Js))}),fn}else{const fn=q(xe);return fn?Te.call(gt,fn):!1}},No=(xe,Te)=>{qt(xe,wt=>{it(Te,(gt,fn)=>{be(wt,fn,gt)})})},Mo=(xe,Te)=>{qt(xe,wt=>{const gt=ne.fromDom(wt);so(gt,Te)})},Qt=(xe,Te,wt,gt,fn)=>qt(xe,Do=>{const Js=re(Te)?e.createElement(Te):Te;return Le(wt)&&No(Js,wt),gt&&(!re(gt)&&gt.nodeType?Js.appendChild(gt):re(gt)&&Mo(Js,gt)),fn?Js:Do.appendChild(Js)}),Kt=(xe,Te,wt)=>Qt(e.createElement(xe),xe,Te,wt,!0),pt=gm.decode,An=gm.encodeAllRaw,ao=(xe,Te,wt="")=>{let gt="<"+xe;for(const fn in Te)br(Te,fn)&&(gt+=" "+fn+'="'+An(Te[fn])+'"');return Ea(wt)&&yn(N.getVoidElements(),xe)?gt+" />":gt+">"+wt+"</"+xe+">"},Ts=xe=>{const Te=e.createElement("div"),wt=e.createDocumentFragment();wt.appendChild(Te),xe&&(Te.innerHTML=xe);let gt;for(;gt=Te.firstChild;)wt.appendChild(gt);return wt.removeChild(Te),wt},ar=(xe,Te)=>qt(xe,wt=>{const gt=ne.fromDom(wt);return Te&&he(ga(gt),fn=>{Kr(fn)&&fn.dom.length===0?Uo(fn):qc(gt,fn)}),Uo(gt),gt.dom}),pn=xe=>qt(xe,Te=>{const wt=Te.attributes;for(let gt=wt.length-1;gt>=0;gt--)Te.removeAttributeNode(wt.item(gt))}),Po=xe=>D.parse(xe),Hs=(xe,Te)=>D.serialize(xe,Te),Vs=xe=>{if(sf!==zs.DOM&&e===document){if(o[xe])return;o[xe]=!0}let Te=e.getElementById("mceDefaultStyles");if(!Te){Te=e.createElement("style"),Te.id="mceDefaultStyles",Te.type="text/css";const wt=e.head;wt.firstChild?wt.insertBefore(Te,wt.firstChild):wt.appendChild(Te)}Te.styleSheet?Te.styleSheet.cssText+=xe:Te.appendChild(e.createTextNode(xe))},$n=xe=>{xe||(xe=""),he(xe.split(","),Te=>{c[Te]=!0,v.load(Te).catch($e)})},cr=(xe,Te,wt)=>{qt(xe,gt=>{if($t(gt)){const fn=ne.fromDom(gt),Do=Te.split(" ");he(Do,Js=>{Le(wt)?(wt?ni:Ll)(fn,Js):Gf(fn,Js)})}})},Ws=(xe,Te)=>{cr(xe,Te,!0)},sa=(xe,Te)=>{cr(xe,Te,!1)},Xi=(xe,Te)=>{const wt=J(xe),gt=Te.split(" ");return Le(wt)&&Ko(gt,fn=>df(wt,fn))},_c=xe=>{qt(xe,Te=>Jg(ne.fromDom(Te),"display"))},jf=xe=>{qt(xe,Te=>Xg(ne.fromDom(Te),"display","none"))},gi=xe=>{const Te=J(xe);return Le(Te)&&Oa(Zc(Te,"display"),"none")},db=xe=>(xe||"mce_")+u++,_h=xe=>{const Te=J(xe);return Le(Te)?$t(Te.dom)?Te.dom.outerHTML:Qg(Te):""},nf=(xe,Te)=>{qt(xe,wt=>{$t(wt)&&(wt.outerHTML=Te)})},Ou=(xe,Te)=>{const wt=q(Te);return qt(xe,gt=>{const fn=wt==null?void 0:wt.parentNode,Do=wt==null?void 0:wt.nextSibling;return fn&&(Do?fn.insertBefore(gt,Do):fn.appendChild(gt)),gt})},Sa=(xe,Te,wt)=>qt(Te,gt=>{var fn;const Do=Vn(Te)?xe.cloneNode(!0):xe;return wt&&ai(Lx(gt.childNodes),Js=>{Do.appendChild(Js)}),(fn=gt.parentNode)===null||fn===void 0||fn.replaceChild(Do,gt),gt}),pi=(xe,Te)=>{if(xe.nodeName!==Te.toUpperCase()){const wt=Kt(Te);return ai(ye(xe),gt=>{be(wt,gt.nodeName,pe(xe,gt.nodeName))}),Sa(wt,xe,!0),wt}else return xe},Wf=(xe,Te)=>{let wt=xe;for(;wt;){let gt=Te;for(;gt&&wt!==gt;)gt=gt.parentNode;if(wt===gt)break;wt=wt.parentNode}return!wt&&xe.ownerDocument?xe.ownerDocument.documentElement:wt},od=xe=>{if($t(xe)){const Te=xe.nodeName.toLowerCase()==="a"&&!pe(xe,"href")&&pe(xe,"id");if(pe(xe,"name")||pe(xe,"data-mce-bookmark")||Te)return!0}return!1},sd=(xe,Te,wt)=>{let gt=0;if(od(xe))return!1;const fn=xe.firstChild;if(fn){const Do=new Vr(fn,xe),Js=N?N.getWhitespaceElements():{},Cc=Te||(N?N.getNonEmptyElements():null);let Pc=fn;do{if($t(Pc)){const Ov=Pc.getAttribute("data-mce-bogus");if(Ov){Pc=Do.next(Ov==="all");continue}const Dv=Pc.nodeName.toLowerCase();if(Cc&&Cc[Dv]){if(Dv==="br"){gt++,Pc=Do.next();continue}return!1}if(od(Pc))return!1}if(ll(Pc)||mt(Pc)&&!Mi(Pc.data)&&(!(wt!=null&&wt.includeZwsp)||!e_(Pc.data))||mt(Pc)&&Pc.parentNode&&Js[Pc.parentNode.nodeName]&&Mi(Pc.data))return!1;Pc=Do.next()}while(Pc)}return gt<=1},Um=()=>e.createRange(),yl=(xe,Te,wt)=>{let gt=Um(),fn,Do;if(xe&&Te&&xe.parentNode&&Te.parentNode){const Js=xe.parentNode;return gt.setStart(Js,_p(xe)),gt.setEnd(Te.parentNode,_p(Te)),fn=gt.extractContents(),gt=Um(),gt.setStart(Te.parentNode,_p(Te)+1),gt.setEnd(Js,_p(xe)+1),Do=gt.extractContents(),Js.insertBefore(fm(sf,fn),xe),wt?Js.insertBefore(wt,xe):Js.insertBefore(Te,xe),Js.insertBefore(fm(sf,Do),xe),ar(xe),wt||Te}else return},jg=(xe,Te,wt,gt)=>{if(Vn(xe)){let fn=xe.length;const Do=[];for(;fn--;)Do[fn]=jg(xe[fn],Te,wt,gt);return Do}else return n.collect&&(xe===e||xe===r)&&x.push([xe,Te,wt,gt]),L.bind(xe,Te,wt,gt||sf)},jm=(xe,Te,wt)=>{if(Vn(xe)){let gt=xe.length;const fn=[];for(;gt--;)fn[gt]=jm(xe[gt],Te,wt);return fn}else{if(x.length>0&&(xe===e||xe===r)){let gt=x.length;for(;gt--;){const[fn,Do,Js]=x[gt];xe===fn&&(!Te||Te===Do)&&(!wt||wt===Js)&&L.unbind(fn,Do,Js)}}return L.unbind(xe,Te,wt)}},of=(xe,Te,wt)=>L.dispatch(xe,Te,wt),Ch=(xe,Te,wt)=>L.dispatch(xe,Te,wt),_x=xe=>{if(xe&&$t(xe)){const Te=xe.getAttribute("data-mce-contenteditable");return Te&&Te!=="inherit"?Te:xe.contentEditable!=="inherit"?xe.contentEditable:null}else return null},sf={doc:e,settings:n,win:r,files:c,stdMode:m,boxModel:y,styleSheetLoader:v,boundEvents:x,styles:D,schema:N,events:L,isBlock:Q,root:null,clone:Ce,getRoot:tt,getViewPort:Ft,getRect:jt,getSize:Et,getParent:Bo,getParents:Tn,get:q,getNext:fs,getPrev:$r,select:kt,is:Rn,add:Qt,create:Kt,createHTML:ao,createFragment:Ts,remove:ar,setStyle:De,getStyle:Ct,setStyles:We,removeAllAttribs:pn,setAttrib:be,setAttribs:No,getAttrib:pe,getPos:lt,parseStyle:Po,serializeStyle:Hs,addStyle:Vs,loadCSS:$n,addClass:Ws,removeClass:sa,hasClass:Xi,toggleClass:cr,show:_c,hide:jf,isHidden:gi,uniqueId:db,setHTML:Mo,getOuterHTML:_h,setOuterHTML:nf,decode:pt,encode:An,insertAfter:Ou,replace:Sa,rename:pi,findCommonAncestor:Wf,run:qt,getAttribs:ye,isEmpty:sd,createRng:Um,nodeIndex:_p,split:yl,bind:jg,unbind:jm,fire:Ch,dispatch:of,getContentEditable:_x,getContentEditableParent:xe=>{const Te=tt();let wt=null;for(let gt=xe;gt&&gt!==Te&&(wt=_x(gt),wt===null);gt=gt.parentNode);return wt},isEditable:xe=>{if(Le(xe)){const Te=$t(xe)?xe:xe.parentElement;return Le(Te)&&Yt(ne.fromDom(Te))}else return!1},destroy:()=>{if(x.length>0){let xe=x.length;for(;xe--;){const[Te,wt,gt]=x[xe];L.unbind(Te,wt,gt)}}it(c,(xe,Te)=>{v.unload(Te),delete c[Te]})},isChildOf:(xe,Te)=>xe===Te||Te.contains(xe),dumpRng:xe=>"startContainer: "+xe.startContainer.nodeName+", startOffset: "+xe.startOffset+", endContainer: "+xe.endContainer.nodeName+", endOffset: "+xe.endOffset},fb=Db(D,n,Ke(sf));return sf};zs.DOM=zs(document),zs.nodeIndex=_p;const Hx=zs.DOM,i_=0,n0=1,Rb=2,bm=3;class Wu{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const c=Hx;let u;const m=()=>{c.remove(x),u&&(u.onerror=u.onload=u=null)},y=()=>{m(),o()},v=()=>{m(),r("Failed to load script: "+n)},x=c.uniqueId();u=document.createElement("script"),u.id=x,u.type="text/javascript",u.src=Qe._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=y,u.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===Rb}markDone(n){this.states[n]=Rb}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=i_),new Promise((c,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(v,x)=>{Vo(o.scriptLoadedCallbacks,x).each(N=>{he(N,D=>D[v](x))}),delete o.scriptLoadedCallbacks[x]},c=v=>{const x=Be(v,N=>N.status==="rejected");return x.length>0?Promise.reject(ts(x,({reason:N})=>Vn(N)?N:[N])):Promise.resolve()},u=v=>Promise.allSettled(Re(v,x=>o.states[x]===Rb?(r("resolve",x),Promise.resolve()):o.states[x]===bm?(r("reject",x),Promise.reject(x)):(o.states[x]=n0,o.loadScript(x).then(()=>{o.states[x]=Rb,r("resolve",x);const N=o.queue;return N.length>0?(o.queue=[],u(N).then(c)):Promise.resolve()},()=>(o.states[x]=bm,r("reject",x),Promise.reject(x)))))),m=v=>(o.loading=!0,u(v).then(x=>{o.loading=!1;const N=o.queueLoadedCallbacks.shift();return I.from(N).each(Zt),c(x)})),y=Tc(n);return o.loading?new Promise((v,x)=>{o.queueLoadedCallbacks.push(()=>{m(y).then(v,x)})}):m(y)}}Wu.ScriptLoader=new Wu;const Ra=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},u_=e=>sn(e)&&yn(e,"raw"),d_=e=>Vn(e)&&e.length>1,Cp={},Nb=Ra("en"),Vx=()=>Vo(Cp,Nb.get()),xs={getData:()=>po(Cp,e=>({...e})),setCode:e=>{e&&Nb.set(e)},getCode:()=>Nb.get(),add:(e,n)=>{let o=Cp[e];o||(Cp[e]=o={}),it(n,(r,c)=>{o[c.toLowerCase()]=r})},translate:e=>{const n=Vx().getOr({}),o=m=>ie(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const y=o(m);return Vo(n,y.toLowerCase()).map(o).getOr(y)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(u_(e))return o(e.raw);if(d_(e)){const m=e.slice(1),y=c(e[0]).replace(/\{([0-9]+)\}/g,(v,x)=>yn(m,x)?o(m[x]):v);return u(y)}return u(c(e))},isRtl:()=>Vx().bind(e=>Vo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>yn(Cp,e)},Ys=()=>{const e=[],n={},o={},r=[],c=(q,J)=>{const pe=Be(r,ye=>ye.name===q&&ye.state===J);he(pe,ye=>ye.resolve())},u=q=>yn(n,q),m=q=>yn(o,q),y=q=>{if(o[q])return o[q].instance},v=(q,J)=>{const pe=xs.getCode(),ye=","+(J||"")+",";!pe||J&&ye.indexOf(","+pe+",")===-1||Wu.ScriptLoader.add(n[q]+"/langs/"+pe+".js")},x=(q,J)=>{Ys.languageLoad!==!1&&(u(q)?v(q,J):Q(q,"loaded").then(()=>v(q,J)))},N=(q,J)=>(e.push(J),o[q]={instance:J},c(q,"added"),J),D=q=>{delete n[q],delete o[q]},L=(q,J)=>re(J)?re(q)?{prefix:"",resource:J,suffix:""}:{prefix:q.prefix,resource:J,suffix:q.suffix}:J,X=(q,J)=>{if(n[q])return Promise.resolve();let pe=re(J)?J:J.prefix+J.resource+J.suffix;pe.indexOf("/")!==0&&pe.indexOf("://")===-1&&(pe=Ys.baseURL+"/"+pe),n[q]=pe.substring(0,pe.lastIndexOf("/"));const ye=()=>(c(q,"loaded"),Promise.resolve());return o[q]?ye():Wu.ScriptLoader.add(pe).then(ye)},Q=(q,J="added")=>J==="added"&&m(q)||J==="loaded"&&u(q)?Promise.resolve():new Promise(pe=>{r.push({name:q,state:J,resolve:pe})});return{items:e,urls:n,lookup:o,get:y,requireLangPack:x,add:N,remove:D,createUrl:L,load:X,waitFor:Q}};Ys.languageLoad=!0,Ys.baseURL="",Ys.PluginManager=Ys(),Ys.ThemeManager=Ys(),Ys.ModelManager=Ys();const Td=e=>{const n=Ra(I.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(I.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:y=>{o(),n.set(I.some(y))}}},ci=e=>{const n=Ra(I.none()),o=()=>n.get().each(y=>clearInterval(y));return{clear:()=>{o(),n.set(I.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:y=>{o(),n.set(I.some(setInterval(y,e)))}}},Bi=()=>{const e=Td($e);return{...e,on:o=>e.get().each(o)}},Bb=(e,n)=>{let o=null;return{cancel:()=>{Y(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{Y(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},Sp=(e,n)=>{let o=null;const r=()=>{Y(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},Tl=Ke("mce-annotation"),El=Ke("data-mce-annotation"),Jr=Ke("data-mce-annotation-uid"),xp=Ke("data-mce-annotation-active"),km=Ke("data-mce-annotation-classes"),Tp=Ke("data-mce-annotation-attrs"),m_=e=>n=>ss(n,e),Ed=(e,n)=>{const o=e.selection.getRng(),r=ne.fromDom(o.startContainer),c=ne.fromDom(e.getBody()),u=n.fold(()=>"."+Tl(),v=>`[${El()}="${v}"]`),m=su(r,o.startOffset).getOr(r);return Pn(m,u,m_(c)).bind(v=>Fl(v,`${Jr()}`).bind(x=>Fl(v,`${El()}`).map(N=>{const D=o0(e,x);return{uid:x,name:N,elements:D}})))},Ad=e=>As(e)&&df(e,Tl()),g_=(e,n)=>tu(e,"data-mce-bogus")||op(e,'[data-mce-bogus="all"]',m_(n)),o0=(e,n)=>{const o=ne.fromDom(e.getBody()),r=Fa(o,`[${Jr()}="${n}"]`);return Be(r,c=>!g_(c,o))},p_=(e,n)=>{const o=ne.fromDom(e.getBody()),r=Fa(o,`[${El()}="${n}"]`),c={};return he(r,u=>{if(!g_(u,o)){const m=ma(u,Jr()),y=Vo(c,m).getOr([]);c[m]=y.concat([u])}}),c},Ux=(e,n)=>{const o=Ra({}),r=()=>({listeners:[],previous:Bi()}),c=(D,L)=>{u(D,X=>(L(X),X))},u=(D,L)=>{const X=o.get(),Q=Vo(X,D).getOrThunk(r),q=L(Q);X[D]=q,o.set(X)},m=(D,L,X)=>{c(D,Q=>{he(Q.listeners,q=>q(!0,D,{uid:L,nodes:Re(X,J=>J.dom)}))})},y=D=>{c(D,L=>{he(L.listeners,X=>X(!1,D))})},v=(D,L)=>{he(o0(e,D),X=>{L?vr(X,xp(),"true"):Jo(X,xp())})},x=Sp(()=>{const D=Kn(n.getNames());he(D,L=>{u(L,X=>{const Q=X.previous.get();return Ed(e,I.some(L)).fold(()=>{Q.each(q=>{y(L),X.previous.clear(),v(q,!1)})},({uid:q,name:J,elements:pe})=>{Oa(Q,q)||(Q.each(ye=>v(ye,!1)),m(J,q,pe),X.previous.set(q),v(q,!0))}),{previous:X.previous,listeners:X.listeners}})})},30);return e.on("remove",()=>{x.cancel()}),e.on("NodeChange",()=>{x.throttle()}),{addListener:(D,L)=>{u(D,X=>({previous:X.previous,listeners:X.listeners.concat([L])}))}}},jx=(e,n)=>{const o=El(),r=u=>I.from(u.attr(o)).bind(n.lookup),c=u=>{var m,y;u.attr(Jr(),null),u.attr(El(),null),u.attr(xp(),null);const v=I.from(u.attr(Tp())).map(L=>L.split(",")).getOr([]),x=I.from(u.attr(km())).map(L=>L.split(",")).getOr([]);he(v,L=>u.attr(L,null));const N=(y=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&y!==void 0?y:[],D=Or(N,[Tl()].concat(x));u.attr("class",D.length>0?D.join(" "):null),u.attr(km(),null),u.attr(Tp(),null)};e.serializer.addTempAttr(xp()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(y=>{y.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},h_=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>Vo(e,c).map(u=>u.settings),getNames:()=>Xo(e)}};let y_=0;const jh=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return y_++,e+"_"+r+y_+String(o)},Wx=(e,n)=>{he(n,o=>{ni(e,o)})},b_=(e,n)=>{he(n,o=>{Ll(e,o)})},s0=(e,n)=>ne.fromDom(e.dom.cloneNode(n)),Ep=e=>s0(e,!1),Wh=e=>s0(e,!0),Ur=(e,n)=>{const o=ne.fromTag(n),r=uf(e);return Ka(o,r),o},Pb=(e,n)=>{const o=Ur(e,n);wl(e,o);const r=ga(e);return Ms(o,r),Uo(e),o},r0=(e,n,o=Ee)=>{const r=new Vr(e,n),c=u=>{let m;do m=r[u]();while(m&&!mt(m)&&!o(m));return I.from(m).filter(mt)};return{current:()=>I.from(r.current()).filter(mt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Sf=(e,n)=>{const o=n||(m=>e.isBlock(m)||rr(m)||Qo(m)),r=(m,y,v,x)=>{if(mt(m)){const N=x(m,y,m.data);if(N!==-1)return I.some({container:m,offset:N})}return v().bind(N=>r(N.container,N.offset,v,x))};return{backwards:(m,y,v,x)=>{const N=r0(m,x??e.getRoot(),o);return r(m,y,()=>N.prev().map(D=>({container:D,offset:D.length})),v).getOrNull()},forwards:(m,y,v,x)=>{const N=r0(m,x??e.getRoot(),o);return r(m,y,()=>N.next().map(D=>({container:D,offset:0})),v).getOrNull()}}},wm=Math.round,va=e=>e?{left:wm(e.left),top:wm(e.top),bottom:wm(e.bottom),right:wm(e.right),width:wm(e.width),height:wm(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Pi=(e,n)=>(e=va(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Ap=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,a0=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,zp=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:a0(n.top-e.bottom,e,n)},Zh=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:a0(n.bottom-e.top,e,n),v_=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,k_=e=>Bt(e,(n,o)=>n.fold(()=>I.some(o),r=>{const c=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),y=Math.max(o.bottom,r.bottom);return I.some({top:u,right:m,bottom:y,left:c,width:m-c,height:y-u})}),I.none()),zd=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},$b=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Qr=(e,n,o)=>Math.min(Math.max(e,n),o),Wl=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},du=(e,n)=>{if($t(e)&&e.hasChildNodes()){const o=e.childNodes,r=Qr(n,0,o.length-1);return o[r]}else return e},w_=(e,n)=>{if(!(n<0&&$t(e)&&e.hasChildNodes()))return du(e,n)},__=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),C_=e=>re(e)&&e.charCodeAt(0)>=768&&__.test(e),lg=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},S_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},_m=$t,c0=wr,x_=om("display","block table"),T_=om("float","left right"),qh=S_(_m,c0,Gn(T_)),Zx=Gn(om("white-space","pre pre-line pre-wrap")),Op=mt,ig=rr,l0=zs.nodeIndex,Gh=w_,Dp=e=>e?e.createRange():zs.DOM.createRng(),i0=e=>re(e)&&/[\r\n\t ]/.test(e),u0=e=>!!e.setStart&&!!e.setEnd,E_=e=>{const n=e.startContainer,o=e.startOffset;if(i0(e.toString())&&Zx(n.parentNode)&&mt(n)){const r=n.data;if(i0(r[o-1])||i0(r[o+1]))return!0}return!1},Od=e=>{const n=e.ownerDocument,o=Dp(n),r=n.createTextNode(Pe),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=va(o.getBoundingClientRect());return c.removeChild(r),u},Rp=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&mt(o)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(o),lo(u)}else return null},Dd=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,lo=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=va(r[0]):o=va(e.getBoundingClientRect()),!u0(e)&&ig(e)&&Dd(o)?Od(e):Dd(o)&&u0(e)&&(n=Rp(e))!==null&&n!==void 0?n:o},sc=(e,n)=>{const o=Pi(e,n);return o.width=1,o.right=o.left+1,o},Cm=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&Ap(m,n[n.length-1])||n.push(m))},r=(m,y)=>{const v=Dp(m.ownerDocument);if(y<m.data.length){if(C_(m.data[y]))return;if(C_(m.data[y-1])&&(v.setStart(m,y),v.setEnd(m,y+1),!E_(v))){o(sc(lo(v),!1));return}}y>0&&(v.setStart(m,y-1),v.setEnd(m,y),E_(v)||o(sc(lo(v),!1))),y<m.data.length&&(v.setStart(m,y),v.setEnd(m,y+1),E_(v)||o(sc(lo(v),!0)))},c=e.container(),u=e.offset();if(Op(c))return r(c,u),n;if(_m(c))if(e.isAtEnd()){const m=Gh(c,u);Op(m)&&r(m,m.data.length),qh(m)&&!ig(m)&&o(sc(lo(m),!1))}else{const m=Gh(c,u);if(Op(m)&&r(m,0),qh(m)&&e.isAtEnd())return o(sc(lo(m),!1)),n;const y=Gh(e.container(),e.offset()-1);qh(y)&&!ig(y)&&(x_(y)||x_(m)||!qh(m))&&o(sc(lo(y),!1)),qh(m)&&o(sc(lo(m),!0))}return n},Ie=(e,n,o)=>{const r=()=>(Op(e),n===0),c=()=>Op(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const N=Dp(e.ownerDocument);return N.setStart(e,n),N.setEnd(e,n),N},m=()=>(o||(o=Cm(Ie(e,n))),o),y=()=>m().length>0,v=N=>N&&e===N.container()&&n===N.offset(),x=N=>Gh(e,N?n-1:n);return{container:Ke(e),offset:Ke(n),toRange:u,getClientRects:m,isVisible:y,isAtStart:r,isAtEnd:c,isEqual:v,getNode:x}};Ie.fromRangeStart=e=>Ie(e.startContainer,e.startOffset),Ie.fromRangeEnd=e=>Ie(e.endContainer,e.endOffset),Ie.after=e=>Ie(e.parentNode,l0(e)+1),Ie.before=e=>Ie(e.parentNode,l0(e)),Ie.isAbove=(e,n)=>Dr(xn(n.getClientRects()),ns(e.getClientRects()),zp).getOr(!1),Ie.isBelow=(e,n)=>Dr(ns(n.getClientRects()),xn(e.getClientRects()),Zh).getOr(!1),Ie.isAtStart=e=>e?e.isAtStart():!1,Ie.isAtEnd=e=>e?e.isAtEnd():!1,Ie.isTextPosition=e=>e?mt(e.container()):!1,Ie.isElementPosition=e=>!Ie.isTextPosition(e);const Bs=(e,n)=>{mt(n)&&n.data.length===0&&e.remove(n)},A_=(e,n,o)=>{n.insertNode(o),Bs(e,o.previousSibling),Bs(e,o.nextSibling)},z_=(e,n,o)=>{const r=I.from(o.firstChild),c=I.from(o.lastChild);n.insertNode(o),r.each(u=>Bs(e,u.previousSibling)),c.each(u=>Bs(e,u.nextSibling))},Ha=(e,n,o)=>{yd(o)?z_(e,n,o):A_(e,n,o)},Yc=mt,Ib=Cl,d0=zs.nodeIndex,O_=e=>{const n=e.parentNode;return Ib(n)?O_(n):n},Np=e=>e?ua(e.childNodes,(n,o)=>(Ib(o)&&o.nodeName!=="BR"?n=n.concat(Np(o)):n.push(o),n),[]):[],f0=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Yc(o);)n+=o.data.length;return n},xf=e=>n=>e===n,Fb=e=>{let n,o;n=Np(O_(e)),o=ee(n,xf(e),e),n=n.slice(0,o+1);const r=ua(n,(c,u,m)=>(Yc(u)&&Yc(n[m-1])&&c++,c),0);return n=dc(n,Vl([e.nodeName])),o=ee(n,xf(e),e),o-r},Lb=e=>(Yc(e)?"text()":e.nodeName.toLowerCase())+"["+Fb(e)+"]",m0=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e&&!(o&&o(c));c=c.parentNode)r.push(c);return r},g0=(e,n)=>{let o=[],r=n.container(),c=n.offset(),u;if(Yc(r))u=f0(r,c);else{const y=r.childNodes;c>=y.length?(u="after",c=y.length-1):u="before",r=y[c]}o.push(Lb(r));let m=m0(e,r);return m=dc(m,Gn(Cl)),o=o.concat(mr(m,y=>Lb(y))),o.reverse().join("/")+","+u},D_=(e,n,o)=>{let r=Np(e);return r=dc(r,(c,u)=>!Yc(c)||!Yc(r[u-1])),r=dc(r,Vl([n])),r[o]},Mp=(e,n)=>{let o=e,r=0;for(;Yc(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!Yc(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return Yc(e)&&n>e.data.length&&(n=e.data.length),Ie(e,n)},Al=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",u=ua(r,(m,y)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(y);return v?(v[1]==="text()"&&(v[1]="#text"),D_(m,v[1],parseInt(v[2],10))):null},e);if(!u)return null;if(!Yc(u)&&u.parentNode){let m;return c==="after"?m=d0(u)+1:m=d0(u),Ie(u.parentNode,m)}return Mp(u,parseInt(c,10))},p0=Qo,Us=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&mt(c);c=c.previousSibling)r+=e(c.data).length;return r},R_=(e,n,o,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const y=[],v=e.getRoot();if(mt(u))y.push(o?Us(n,u,m):m);else{let x=0;const N=u.childNodes;m>=N.length&&N.length&&(x=1,m=Math.max(0,N.length-1)),y.push(e.nodeIndex(N[m],o)+x)}for(let x=u;x&&x!==v;x=x.parentNode)y.push(e.nodeIndex(x,o));return y},Sm=(e,n,o,r)=>{const c=n.dom,u=R_(c,e,o,r,!0),m=n.isForward(),y=wd(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:u,forward:m,...y};{const v=R_(c,e,o,r,!1);return{start:u,end:v,forward:m,...y}}},Hb=(e,n,o)=>{let r=0;return Qe.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},h0=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if($t(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},Kh=e=>(h0(e,!0),h0(e,!1),e),Bp=(e,n)=>{if($t(e)&&(e=du(e,n),p0(e)))return e;if(rs(e)){mt(e)&&bn(e)&&(e=e.parentNode);let o=e.previousSibling;if(p0(o)||(o=e.nextSibling,p0(o)))return o}},y0=e=>Bp(e.startContainer,e.startOffset)||Bp(e.endContainer,e.endOffset),b0=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||p0(r)){const m=r.nodeName;return{name:m,index:Hb(o.dom,m,r)}}const u=y0(c);if(u){const m=u.tagName;return{name:m,index:Hb(o.dom,m,u)}}return Sm(e,o,n,c)},qx=e=>{const n=e.getRng();return{start:g0(e.dom.getRoot(),Ie.fromRangeStart(n)),end:g0(e.dom.getRoot(),Ie.fromRangeEnd(n)),forward:e.isForward()}},N_=e=>({rng:e.getRng(),forward:e.isForward()}),Va=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},ka=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),y=m.nodeName,v=e.isForward();if(y==="IMG")return{name:y,index:Hb(o,y,m)};const x=Kh(r.cloneRange());if(!u){x.collapse(!1);const D=Va(o,c+"_end",n);Ha(o,x,D)}r=Kh(r),r.collapse(!0);const N=Va(o,c+"_start",n);return Ha(o,r,N),e.moveToBookmark({id:c,keep:!0,forward:v}),{id:c,forward:v}},zl=(e,n,o=!1)=>n===2?b0(Me,o,e):n===3?qx(e):n?N_(e):ka(e,!1),Jc=He(b0,_n,!0),hr=e=>{const n=u=>u(e),o=Ke(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:Je,isError:Ee,map:u=>Qc.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>I.some(e)};return c},jr=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:Ee,isError:Je,map:n,mapError:r=>Qc.error(r(e)),bind:n,exists:Ee,forall:Je,getOr:_n,or:_n,getOrThunk:at,orThunk:at,getOrDie:is(String(e)),each:$e,toOptional:I.none};return o},Qc={value:hr,error:jr,fromOption:(e,n)=>e.fold(()=>jr(n),hr)},Zu={generate:e=>{if(!Vn(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return he(e,(r,c)=>{const u=Xo(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],y=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Vn(y))throw new Error("case arguments must be an array");n.push(m),o[m]=(...v)=>{const x=v.length;if(x!==y.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+y.length+" ("+y+"), got "+x);return{fold:(...D)=>{if(D.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+D.length);return D[c].apply(null,v)},match:D=>{const L=Xo(D);if(n.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+L.join(","));if(!Ko(n,Q=>Ae(L,Q)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+n.join(", "));return D[m].apply(null,v)},log:D=>{console.log(D,{constructors:n,constructor:m,params:v})}}}}),o}};Zu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const B_=e=>{const n=[],o=[];return he(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},P_=e=>e.type==="inline-command"||e.type==="inline-format",v0=e=>e.type==="block-command"||e.type==="block-format",k0=e=>{const n=r=>Qc.error({message:r,pattern:e}),o=(r,c,u)=>{if(e.format!==void 0){let m;if(Vn(e.format)){if(!Ko(e.format,re))return n(r+" pattern has non-string items in the `format` array");m=e.format}else if(re(e.format))m=[e.format];else return n(r+" pattern has non-string `format` parameter");return Qc.value(c(m))}else return e.cmd!==void 0?re(e.cmd)?Qc.value(u(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!sn(e))return n("Raw pattern is not an object");if(!re(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!re(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",u=>({type:"inline-format",start:r,end:c,format:u}),(u,m)=>({type:"inline-command",start:r,end:c,cmd:u,value:m}))}else return e.replacement!==void 0?re(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Qc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,c)=>({type:"block-command",start:e.start,cmd:r,value:c}))},Vb=e=>Be(e,v0),Kx=e=>Be(e,P_),Xx=(e,n)=>({inlinePatterns:Kx(e),blockPatterns:Vb(e),dynamicPatternsLookup:n}),$_=e=>{const n=B_(Re(e,k0));return he(n.errors,o=>console.error(o.message,o.pattern)),n.values},Yx=e=>n=>{const o=e(n);return $_(o)},Xh=Cs().deviceType,Jx=Xh.isTouch(),Qx=zs.DOM,eT=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Bt(n,(o,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return o[fc(u)]=fc(m),o},{})},Yh=e=>vt(e,RegExp),Lt=e=>n=>n.options.get(e),bt=e=>re(e)||sn(e),I_=(e,n="")=>o=>{const r=re(o);if(r)if(o.indexOf("=")!==-1){const c=eT(o);return{value:Vo(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},rc=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:I_(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:I_(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=re(o)&&$o(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=Ae(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>gn(o)?{valid:!0,value:o}:re(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||re(o)||st(o,re);return r?re(o)?{value:Re(o.split(","),fc),valid:r}:Vn(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:qb(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=re(o)||st(o,re);return r?{value:Vn(o)?o:Re(o.split(","),fc),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=gn(o)||re(o);return r?o===!1||Xh.isiPhone()||Xh.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!Jx}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||re(o)||ie(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||re(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:bt}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:bt}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:bt}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>re(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>st(o,sn)||o===!1?{value:$_(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ie(o)?{value:Yx(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>st(o,Yh)?{value:o,valid:!0}:Yh(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=Ae(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=Ae(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:xs.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Qx.getAttrib(e.getElement(),"placeholder")})})},tT=Lt("iframe_attrs"),F_=Lt("doctype"),L_=Lt("document_base_url"),Ol=Lt("body_id"),H_=Lt("body_class"),w0=Lt("content_security_policy"),$i=Lt("br_in_pre"),Rc=Lt("forced_root_block"),Rd=Lt("forced_root_block_attrs"),Nd=Lt("newline_behavior"),fu=Lt("br_newline_selector"),Jh=Lt("no_newline_selector"),Zl=Lt("keep_styles"),nT=Lt("end_container_on_empty_block"),_0=Lt("automatic_uploads"),Ub=Lt("images_reuse_filename"),V_=Lt("images_replace_blob_uris"),C0=Lt("icons"),S0=Lt("icons_url"),oT=Lt("images_upload_url"),U_=Lt("images_upload_base_path"),sT=Lt("images_upload_credentials"),rT=Lt("images_upload_handler"),aT=Lt("content_css_cors"),x0=Lt("referrer_policy"),j_=Lt("language"),T0=Lt("language_url"),W_=Lt("indent_use_margin"),Z_=Lt("indentation"),cT=Lt("content_css"),jb=Lt("content_style"),q_=Lt("font_css"),lT=Lt("directionality"),iT=Lt("inline_boundaries_selector"),G_=Lt("object_resizing"),uT=Lt("resize_img_proportional"),Wb=Lt("placeholder"),E0=Lt("event_root"),mu=Lt("service_message"),Os=Lt("theme"),K_=Lt("theme_url"),Nc=Lt("model"),A0=Lt("model_url"),Tf=Lt("inline_boundaries"),Ua=Lt("formats"),Zb=Lt("preview_styles"),X_=Lt("format_empty_lines"),dT=Lt("format_noneditable_selector"),Y_=Lt("custom_ui_selector"),qb=Lt("inline"),fT=Lt("hidden_input"),mT=Lt("submit_patch"),gT=Lt("add_form_submit_trigger"),pT=Lt("add_unload_trigger"),Qh=Lt("custom_undo_redo_levels"),J_=Lt("disable_nodechange"),hT=Lt("readonly"),ug=Lt("editable_root"),Q_=Lt("content_css_cors"),Gb=Lt("plugins"),e2=Lt("external_plugins"),yT=Lt("block_unsupported_drop"),Pp=Lt("visual"),Kb=Lt("visual_table_class"),t2=Lt("visual_anchor_class"),bT=Lt("iframe_aria_text"),vT=Lt("setup"),$p=Lt("init_instance_callback"),Xb=Lt("urlconverter_callback"),Yb=Lt("auto_focus"),z0=Lt("browser_spellcheck"),n2=Lt("protect"),Md=Lt("paste_block_drop"),dg=Lt("paste_data_images"),o2=Lt("paste_preprocess"),Ef=Lt("paste_postprocess"),fg=Lt("newdocument_content"),ey=Lt("paste_webkit_styles"),O0=Lt("paste_remove_styles_if_webkit"),s2=Lt("paste_merge_formats"),kT=Lt("smart_paste"),r2=Lt("paste_as_text"),wT=Lt("paste_tab_spaces"),_T=Lt("allow_html_data_urls"),a2=Lt("text_patterns"),CT=Lt("text_patterns_lookup"),Jb=Lt("noneditable_class"),ST=Lt("editable_class"),xT=Lt("noneditable_regexp"),TT=Lt("preserve_cdata"),c2=Lt("highlight_on_focus"),ty=Lt("xss_sanitization"),l2=Lt("init_content_sync"),ET=e=>e.options.isSet("text_patterns_lookup"),AT=e=>Qe.explode(e.options.get("font_size_style_values")),zT=e=>Qe.explode(e.options.get("font_size_classes")),Qb=e=>e.options.get("encoding")==="xml",i2=e=>Qe.explode(e.options.get("images_file_types")),ny=Lt("table_tab_navigation"),oy=Lt("details_initial_state"),u2=Lt("details_serialized_state"),D0=$t,R0=mt,N0=e=>{const n=e.parentNode;n&&n.removeChild(e)},M0=e=>{const n=Me(e);return{count:e.length-n.length,text:n}},d2=e=>{let n;for(;(n=e.data.lastIndexOf(Z))!==-1;)e.deleteData(n,1)},Ip=(e,n)=>(mg(e),n),f2=(e,n)=>{const o=M0(e.data.substr(0,n.offset())),r=M0(e.data.substr(n.offset()));return(o.text+r.text).length>0?(d2(e),Ie(e,n.offset()-o.count)):n},OT=(e,n)=>{const o=n.container(),r=zo(vs(o.childNodes),e).map(c=>c<n.offset()?Ie(o,n.offset()-1):n).getOr(n);return mg(e),r},B0=(e,n)=>R0(e)&&n.container()===e?f2(e,n):Ip(e,n),DT=(e,n)=>n.container()===e.parentNode?OT(e,n):Ip(e,n),RT=(e,n)=>Ie.isTextPosition(n)?B0(e,n):DT(e,n),mg=e=>{D0(e)&&rs(e)&&(Fo(e)?e.removeAttribute("data-mce-caret"):N0(e)),R0(e)&&(d2(e),e.data.length===0&&N0(e))},P0=Qo,sy=Rr,NT=Ja,MT="*[contentEditable=false],video,audio,embed,object",$0=(e,n,o)=>{const r=Pi(n.getBoundingClientRect(),o);let c,u;if(e.tagName==="BODY"){const y=e.ownerDocument.documentElement;c=e.scrollLeft||y.scrollLeft,u=e.scrollTop||y.scrollTop}else{const y=e.getBoundingClientRect();c=e.scrollLeft-y.left,u=e.scrollTop-y.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},m2=e=>{var n,o;const r=Fa(ne.fromDom(e),MT);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if(bf(m)){const y=m.data;y.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(y.length-1,1)}m=u.nextSibling,Kc(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},el=(e,n,o,r)=>{const c=Bi();let u,m;const y=Rc(e),v=e.dom,x=(q,J)=>{let pe;if(N(),NT(J))return null;if(o(J)){const ye=Fu(y,J,q),be=$0(n,J,q);v.setStyle(ye,"top",be.top),m=ye;const Ce=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(Ce,{...be}),v.add(n,Ce),c.set({caret:Ce,element:J,before:q}),q&&v.addClass(Ce,"mce-visual-caret-before"),D(),pe=J.ownerDocument.createRange(),pe.setStart(ye,0),pe.setEnd(ye,0)}else return m=qs(J,q),pe=J.ownerDocument.createRange(),Bd(m.nextSibling)?(pe.setStart(m,0),pe.setEnd(m,0)):(pe.setStart(m,1),pe.setEnd(m,1)),pe;return pe},N=()=>{m2(n),m&&(mg(m),m=null),c.on(q=>{v.remove(q.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},D=()=>{u=setInterval(()=>{c.on(q=>{r()?v.toggleClass(q.caret,"mce-visual-caret-hidden"):v.addClass(q.caret,"mce-visual-caret-hidden")})},500)};return{show:x,hide:N,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(q=>{const J=$0(n,q.element,q.before);v.setStyles(q.caret,{...J})})},destroy:()=>clearInterval(u)}},BT=()=>To.browser.isFirefox(),Bd=e=>P0(e)||sy(e),Af=e=>(Bd(e)||ur(e)&&BT())&&Jf(ne.fromDom(e)).exists(Yt),g2=gs,I0=Qo,PT=Rr,p2=om("display","block table table-cell table-caption list-item"),e1=rs,ry=bn,fl=$t,$T=mt,ay=wr,gg=e=>e>0,xm=e=>e<0,t1=(e,n)=>{let o;for(;o=e(n);)if(!ry(o))return o;return null},Fp=(e,n,o,r,c)=>{const u=new Vr(e,r),m=I0(e)||ry(e);let y;if(xm(n)){if(m&&(y=t1(u.prev.bind(u),!0),o(y)))return y;for(;y=t1(u.prev.bind(u),c);)if(o(y))return y}if(gg(n)){if(m&&(y=t1(u.next.bind(u),!0),o(y)))return y;for(;y=t1(u.next.bind(u),c);)if(o(y))return y}return null},n1=(e,n)=>{const o=c=>g2(c.dom),r=c=>c.dom===n;return R(ne.fromDom(e),o,r).map(c=>c.dom).getOr(n)},pg=(e,n)=>{for(;e&&e!==n;){if(p2(e))return e;e=e.parentNode}return null},Ii=(e,n,o)=>pg(e.container(),o)===pg(n.container(),o),h2=(e,n)=>{if(!n)return I.none();const o=n.container(),r=n.offset();return fl(o)?I.from(o.childNodes[r+e]):I.none()},F0=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},cy=(e,n,o)=>pg(n,e)===pg(o,e),ly=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let u=c[r];if(u&&e1(u)&&(u=u[r]),I0(u)||PT(u)){if(cy(n,u,c))return u;break}if(ay(u))break;c=c.parentNode}return null},Lp=He(F0,!0),Tm=He(F0,!1),o1=(e,n,o)=>{let r;const c=He(ly,!0,n),u=He(ly,!1,n),m=o.startContainer,y=o.startOffset;if(bn(m)){const v=$T(m)?m.parentNode:m,x=v.getAttribute("data-mce-caret");if(x==="before"&&(r=v.nextSibling,Af(r)))return Lp(r);if(x==="after"&&(r=v.previousSibling,Af(r)))return Tm(r)}if(!o.collapsed)return o;if(mt(m)){if(e1(m)){if(e===1){if(r=u(m),r)return Lp(r);if(r=c(m),r)return Tm(r)}if(e===-1){if(r=c(m),r)return Tm(r);if(r=u(m),r)return Lp(r)}return o}if(bf(m)&&y>=m.data.length-1)return e===1&&(r=u(m),r)?Lp(r):o;if(Kc(m)&&y<=1)return e===-1&&(r=c(m),r)?Tm(r):o;if(y===m.data.length)return r=u(m),r?Lp(r):o;if(y===0)return r=c(m),r?Tm(r):o}return o},s1=(e,n)=>h2(e?0:-1,n).filter(I0),Hp=(e,n,o)=>{const r=o1(e,n,o);return e===-1?Ie.fromRangeStart(r):Ie.fromRangeEnd(r)},gu=e=>I.from(e.getNode()).map(ne.fromDom),Vp=e=>I.from(e.getNode(!0)).map(ne.fromDom),r1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Up=(e,n)=>{const o=Ii(e,n);return!o&&rr(e.getNode())?!0:o};var ac;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ac||(ac={}));const IT=Qo,pu=mt,iy=$t,a1=rr,hg=wr,c1=Qw,l1=lm,FT=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},L0=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,H0=(e,n)=>{if(gg(e)){if(hg(n.previousSibling)&&!pu(n.previousSibling))return Ie.before(n);if(pu(n))return Ie(n,0)}if(xm(e)){if(hg(n.nextSibling)&&!pu(n.nextSibling))return Ie.after(n);if(pu(n))return Ie(n,n.data.length)}return xm(e)?a1(n)?Ie.before(n):Ie.after(n):Ie.before(n)},i1=(e,n)=>{const o=n.nextSibling;return o&&hg(o)?pu(o)?Ie(o,0):Ie.before(o):u1(ac.Forwards,Ie.after(n),e)},u1=(e,n,o)=>{let r,c,u,m;if(!iy(o)||!n)return null;if(n.isEqual(Ie.after(o))&&o.lastChild){if(m=Ie.after(o.lastChild),xm(e)&&hg(o.lastChild)&&iy(o.lastChild))return a1(o.lastChild)?Ie.before(o.lastChild):m}else m=n;const y=m.container();let v=m.offset();if(pu(y)){if(xm(e)&&v>0)return Ie(y,--v);if(gg(e)&&v<y.length)return Ie(y,++v);r=y}else{if(xm(e)&&v>0&&(c=L0(y,v-1),hg(c)))return!c1(c)&&(u=Fp(c,e,l1,c),u)?pu(u)?Ie(u,u.data.length):Ie.after(u):pu(c)?Ie(c,c.data.length):Ie.before(c);if(gg(e)&&v<y.childNodes.length&&(c=L0(y,v),hg(c)))return a1(c)?i1(o,c):!c1(c)&&(u=Fp(c,e,l1,c),u)?pu(u)?Ie(u,0):Ie.before(u):pu(c)?Ie(c,0):Ie.after(c);r=c||m.getNode()}if(r&&(gg(e)&&m.isAtEnd()||xm(e)&&m.isAtStart())&&(r=Fp(r,e,Je,o,!0),l1(r,o)))return H0(e,r);c=r&&Fp(r,e,l1,o);const x=te(Be(FT(y,o),IT));return x&&(!c||!x.contains(c))?(gg(e)?m=Ie.after(x):m=Ie.before(x),m):c?H0(e,c):null},qu=e=>({next:n=>u1(ac.Forwards,n,e),prev:n=>u1(ac.Backwards,n,e)}),LT=(e,n,o)=>{const r=e?Ie.before(o):Ie.after(o);return Gu(e,n,r)},HT=e=>rr(e)?Ie.before(e):Ie.after(e),y2=e=>Ie.isTextPosition(e)?e.offset()===0:wr(e.getNode()),jp=e=>{if(Ie.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return wr(e.getNode(!0))},VT=(e,n)=>!Ie.isTextPosition(e)&&!Ie.isTextPosition(n)&&e.getNode()===n.getNode(!0),rO=e=>!Ie.isTextPosition(e)&&rr(e.getNode()),aO=(e,n,o)=>e?!VT(n,o)&&!rO(n)&&jp(n)&&y2(o):!VT(o,n)&&y2(n)&&jp(o),Gu=(e,n,o)=>{const r=qu(n);return I.from(e?r.next(o):r.prev(o))},Pd=(e,n,o)=>Gu(e,n,o).bind(r=>Ii(o,r,n)&&aO(e,o,r)?Gu(e,n,r):I.some(r)),Mc=(e,n,o,r)=>Pd(e,n,o).bind(c=>r(c)?Mc(e,n,c,r):I.some(c)),Em=(e,n)=>{const o=e?n.firstChild:n.lastChild;return mt(o)?I.some(Ie(o,e?0:o.data.length)):o?wr(o)?I.some(e?Ie.before(o):HT(o)):LT(e,n,o):I.none()},cc=He(Gu,!0),ja=He(Gu,!1),kc=He(Em,!0),li=He(Em,!1),d1="_mce_caret",hu=e=>$t(e)&&e.id===d1,yg=(e,n)=>{let o=n;for(;o&&o!==e;){if(hu(o))return o;o=o.parentNode}return null},UT=e=>re(e.start),$d=e=>yn(e,"rng"),uy=e=>yn(e,"id"),f1=e=>yn(e,"name"),Id=e=>Qe.isArray(e.start),dy=e=>!f1(e)&&gn(e.forward)?e.forward:!0,m1=(e,n)=>($t(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),bg=(e,n)=>{const o=I.from(Al(e.getRoot(),n.start)),r=I.from(Al(e.getRoot(),n.end));return Dr(o,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:dy(n)}})},V0=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Z);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},b2=e=>!e.hasChildNodes(),U0=(e,n)=>li(e).fold(Ee,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),zf=(e,n,o)=>b2(n)&&yg(e,n)?(V0(n,o),!0):!1,v2=(e,n,o,r)=>{const c=o[n?"start":"end"],u=e.getRoot();if(c){let m=u,y=c[0];for(let v=c.length-1;m&&v>=1;v--){const x=m.childNodes;if(zf(u,m,r))return!0;if(c[v]>x.length-1)return zf(u,m,r)?!0:U0(m,r);m=x[c[v]]}mt(m)&&(y=Math.min(c[0],m.data.length)),$t(m)&&(y=Math.min(c[0],m.childNodes.length)),n?r.setStart(m,y):r.setEnd(m,y)}return!0},yu=e=>mt(e)&&e.data.length>0,j0=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,u=o.keep;if(r&&c){let m,y;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,y=1):yu(r.nextSibling)?(m=r.nextSibling,y=0):yu(r.previousSibling)?(m=r.previousSibling,y=r.previousSibling.data.length):(m=c,y=e.nodeIndex(r)+1):(m=c,y=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,y=1):yu(r.previousSibling)?(m=r.previousSibling,y=r.previousSibling.data.length):(m=c,y=e.nodeIndex(r)):(m=c,y=e.nodeIndex(r)),!u){const v=r.previousSibling,x=r.nextSibling;Qe.each(Qe.grep(r.childNodes),D=>{mt(D)&&(D.data=D.data.replace(/\uFEFF/g,""))});let N;for(;N=e.get(o.id+"_"+n);)e.remove(N,!0);if(mt(x)&&mt(v)&&!To.browser.isOpera()){const D=v.data.length;v.appendData(x.data),e.remove(x),m=v,y=D}}return I.some(Ie(m,y))}else return I.none()},W0=(e,n)=>{const o=e.createRng();return v2(e,!0,n,o)&&v2(e,!1,n,o)?I.some({range:o,forward:dy(n)}):I.none()},jT=(e,n)=>{const o=j0(e,"start",n),r=j0(e,"end",n);return Dr(o,r.or(o),(c,u)=>{const m=e.createRng();return m.setStart(m1(e,c.container()),c.offset()),m.setEnd(m1(e,u.container()),u.offset()),{range:m,forward:dy(n)}})},cO=(e,n)=>I.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),WT=(e,n)=>{const o=e.dom;if(n){if(Id(n))return W0(o,n);if(UT(n))return bg(o,n);if(uy(n))return jT(o,n);if(f1(n))return cO(o,n);if($d(n))return I.some({range:n.rng,forward:dy(n)})}return I.none()},ZT=(e,n,o)=>zl(e,n,o),k2=(e,n)=>{WT(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Fi=e=>$t(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",g1=(e=>n=>e===n)(Pe),Wp=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,fy=e=>!Wp(e)&&!g1(e)&&!Gc(e),qT=e=>({value:lO(e)}),lO=e=>Ic(e,"#").toUpperCase(),my=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Eo=e=>{const n=my(e.red)+my(e.green)+my(e.blue);return qT(n)},Of=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Zp=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,p1=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),w2=(e,n,o,r)=>{const c=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),y=parseFloat(r);return p1(c,u,m,y)},h1=e=>{if(e==="transparent")return I.some(p1(0,0,0,0));const n=Of.exec(e);if(n!==null)return I.some(w2(n[1],n[2],n[3],"1"));const o=Zp.exec(e);return o!==null?I.some(w2(o[1],o[2],o[3],o[4])):I.none()},gy=e=>h1(e).map(Eo).map(n=>"#"+n.value).getOr(e),py=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},q0=e=>ts(e,n=>{const o=Wl(n);return o?[ne.fromDom(o)]:[]}),G0=e=>py(e).length>1,_2=e=>Be(q0(e),kr),iO=e=>Fa(e,"td[data-mce-selected],th[data-mce-selected]"),y1=(e,n)=>{const o=iO(n);return o.length>0?o:_2(e)},vg=e=>y1(py(e.selection.getSel()),ne.fromDom(e.getBody())),b1=(e,n)=>kn(e,"table",n),GT=e=>{const n=e.startContainer,o=e.startOffset;return mt(n)?o===0?I.some(ne.fromDom(n)):I.none():I.from(n.childNodes[o]).map(ne.fromDom)},K0=e=>{const n=e.endContainer,o=e.endOffset;return mt(n)?o===n.data.length?I.some(ne.fromDom(n)):I.none():I.from(n.childNodes[o-1]).map(ne.fromDom)},X0=e=>dd(e).fold(Ke([e]),n=>[e].concat(X0(n))),Df=e=>Wc(e).fold(Ke([e]),n=>Ns(n)==="br"?Hl(n).map(o=>[e].concat(Df(o))).getOr([]):[e].concat(Df(n))),v1=(e,n)=>Dr(GT(n),K0(n),(o,r)=>{const c=Un(X0(e),He(ss,o)),u=Un(Df(e),He(ss,r));return c.isSome()&&u.isSome()}).getOr(!1),qp=(e,n,o,r)=>{const c=o,u=new Vr(o,c),m=us(e.schema.getMoveCaretBeforeOnEnterElements(),(v,x)=>!Ae(["td","th","table"],x.toLowerCase()));let y=o;do{if(mt(y)&&Qe.trim(y.data).length!==0){r?n.setStart(y,0):n.setEnd(y,y.data.length);return}if(m[y.nodeName]){r?n.setStartBefore(y):y.nodeName==="BR"?n.setEndBefore(y):n.setEndAfter(y);return}}while(y=r?u.next():u.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},Fd=e=>{const n=e.selection.getSel();return Le(n)&&n.rangeCount>0},Y0=(e,n)=>{const o=vg(e);o.length>0?he(o,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),n(u,!0)}):n(e.selection.getRng(),!1)},C2=(e,n,o)=>{const r=ka(e,n);o(r),e.moveToBookmark(r)},hy=e=>Ho(e==null?void 0:e.nodeType),J0=e=>$t(e)&&!Fi(e)&&!hu(e)&&!Cl(e),k1=(e,n)=>{if(J0(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},kg=e=>e.isContentEditable===!0,S2=(e,n,o)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=Qo(u);C2(r,!0,()=>{n()}),m&&Qo(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&KT(c,r)},KT=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:u,startOffset:m}=c,y=n.getNode();if(!k1(e,y)&&$t(u)){const v=u.childNodes,x=e.getRoot();let N;if(m<v.length){const D=v[m];N=new Vr(D,(o=e.getParent(D,e.isBlock))!==null&&o!==void 0?o:x)}else{const D=v[v.length-1];N=new Vr(D,(r=e.getParent(D,e.isBlock))!==null&&r!==void 0?r:x),N.next(!0)}for(let D=N.current();D;D=N.next()){if(e.getContentEditable(D)==="false")return;if(mt(D)&&!ek(D)){c.setStart(D,0),n.setRng(c);return}}}},x2=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if($t(e)||!ek(e))return e}},Q0=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||um(e,n),Gp=(e,n,o)=>e.schema.isValidChild(n,o),ek=(e,n=!1)=>{if(Le(e)&&mt(e)){const o=n?e.data.replace(/ /g," "):e.data;return Mi(o)}else return!1},Kp=e=>Le(e)&&mt(e)&&e.length===0,XT=(e,n)=>{const o="[data-mce-cef-wrappable]",r=dT(e),c=Ea(r)?o:`${o},${r}`;return hc(ne.fromDom(n),c)},Pt=(e,n)=>{const o=e.dom;return J0(n)&&o.getContentEditable(n)==="false"&&XT(e,n)&&o.select('[contenteditable="true"]',n).length===0},_r=(e,n)=>ie(e)?e(n):(Le(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),Xp=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),Wr=(e,n)=>{if(nn(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=gy(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},ql=(e,n,o)=>{const r=e.getStyle(n,o);return Wr(r,o)},tk=(e,n)=>{let o;return e.getParent(n,r=>$t(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},wg=(e,n,o)=>e.getParents(n,o,e.getRoot()),yy=(e,n,o)=>{const r=e.formatter.get(n);return Le(r)&&nt(r,o)},w1=(e,n)=>yy(e,n,r=>{const c=u=>ie(u)||u.length>1&&u.charAt(0)==="%";return nt(["styles","attributes"],u=>Vo(r,u).exists(m=>{const y=Vn(m)?m:ia(m);return nt(y,c)}))}),T2=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>us(u,(m,y)=>nt(r,v=>v===y));return yy(e,n,u=>{const m=c(u);return yy(e,o,y=>{const v=c(y);return qa(m,v)})})},Li=e=>br(e,"block"),YT=e=>Li(e)&&e.wrapper===!0,E2=e=>Li(e)&&e.wrapper!==!0,ii=e=>br(e,"selector"),wa=e=>br(e,"inline"),A2=e=>ii(e)&&wa(e)&&Oa(Vo(e,"mixed"),!0),_1=e=>ii(e)&&e.expand!==!1&&!wa(e),Ld=Fi,by=wg,vy=ek,C1=Q0,nk=e=>rr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,z2=(e,n)=>{let o=n;for(;o;){if($t(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},_g=(e,n,o,r)=>{const c=n.data;if(e){for(let u=o;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=o;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},Rf=(e,n,o)=>_g(e,n,o,r=>g1(r)||Wp(r)),JT=(e,n,o)=>_g(e,n,o,fy),ok=(e,n,o,r,c,u)=>{let m;const y=e.getParent(o,e.isBlock)||n,v=(N,D,L)=>{const X=Sf(e),Q=c?X.backwards:X.forwards;return I.from(Q(N,D,(q,J)=>Ld(q.parentNode)?-1:(m=q,L(c,q,J)),y))};return v(o,r,Rf).bind(N=>u?v(N.container,N.offset+(c?-1:0),JT):I.some(N)).orThunk(()=>m?I.some({container:m,offset:c?0:m.length}):I.none())},S1=(e,n,o,r,c)=>{const u=r[c];mt(r)&&Ea(r.data)&&u&&(r=u);const m=by(e,r);for(let y=0;y<m.length;y++)for(let v=0;v<n.length;v++){const x=n[v];if(!(Le(x.collapsed)&&x.collapsed!==o.collapsed)&&ii(x)&&e.is(m[y],x.selector))return m[y]}return r},O2=(e,n,o,r)=>{var c;let u=o;const m=e.getRoot(),y=n[0];if(Li(y)&&(u=y.wrapper?null:e.getParent(o,y.block,m)),!u){const v=(c=e.getParent(o,"LI,TD,TH"))!==null&&c!==void 0?c:m;u=e.getParent(mt(o)?o.parentNode:o,x=>x!==m&&C1(e.schema,x),v)}if(u&&Li(y)&&y.wrapper&&(u=by(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!Xp(u,"br")););return u||o},sk=(e,n,o,r)=>{const c=o.parentNode;return Le(o[r])?!1:c===n||nn(c)||e.isBlock(c)?!0:sk(e,n,c,r)},Cg=(e,n,o,r,c)=>{let u=o;const m=c?"previousSibling":"nextSibling",y=e.getRoot();if(mt(o)&&!vy(o)&&(c?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let v=u[m];v;v=v[m]){const x=mt(v)&&!sk(e,y,v,m);if(!Ld(v)&&!nk(v)&&!vy(v,x))return u}if(u===y||u.parentNode===y){o=u;break}u=u.parentNode}return o},D2=e=>Ld(e.parentNode)||Ld(e),Hd=(e,n,o,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:y}=n;const v=o[0];return $t(c)&&c.hasChildNodes()&&(c=du(c,u),mt(c)&&(u=0)),$t(m)&&m.hasChildNodes()&&(m=du(m,n.collapsed?y:y-1),mt(m)&&(y=m.data.length)),c=z2(e,c),m=z2(e,m),D2(c)&&(c=Ld(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,mt(c)&&(u=n.collapsed?c.length:0)),D2(m)&&(m=Ld(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,mt(m)&&(y=n.collapsed?0:m.length)),n.collapsed&&(ok(e,e.getRoot(),c,u,!0,r).each(({container:D,offset:L})=>{c=D,u=L}),ok(e,e.getRoot(),m,y,!1,r).each(({container:D,offset:L})=>{m=D,y=L})),(wa(v)||v.block_expand)&&((!wa(v)||!mt(c)||u===0)&&(c=Cg(e,o,c,u,!0)),(!wa(v)||!mt(m)||y===m.data.length)&&(m=Cg(e,o,m,y,!1))),_1(v)&&(c=S1(e,o,n,c,"previousSibling"),m=S1(e,o,n,m,"nextSibling")),(Li(v)||ii(v))&&(c=O2(e,o,c,"previousSibling"),m=O2(e,o,m,"nextSibling"),Li(v)&&(e.isBlock(c)||(c=Cg(e,o,c,u,!0)),e.isBlock(m)||(m=Cg(e,o,m,y,!1)))),$t(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),$t(m)&&m.parentNode&&(y=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:y}},Zr=(e,n,o)=>{var r;const c=n.startOffset,u=du(n.startContainer,c),m=n.endOffset,y=du(n.endContainer,m-1),v=J=>{const pe=J[0];mt(pe)&&pe===u&&c>=pe.data.length&&J.splice(0,1);const ye=J[J.length-1];return m===0&&J.length>0&&ye===y&&mt(ye)&&J.splice(J.length-1,1),J},x=(J,pe,ye)=>{const be=[];for(;J&&J!==ye;J=J[pe])be.push(J);return be},N=(J,pe)=>e.getParent(J,ye=>ye.parentNode===pe,pe),D=(J,pe,ye)=>{const be=ye?"nextSibling":"previousSibling";for(let Ce=J,tt=Ce.parentNode;Ce&&Ce!==pe;Ce=tt){tt=Ce.parentNode;const Ft=x(Ce===J?Ce:Ce[be],be);Ft.length&&(ye||Ft.reverse(),o(v(Ft)))}};if(u===y)return o(v([u]));const L=(r=e.findCommonAncestor(u,y))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,y))return D(u,L,!0);if(e.isChildOf(y,u))return D(y,L);const X=N(u,L)||u,Q=N(y,L)||y;D(u,X,!0);const q=x(X===u?X:X.nextSibling,"nextSibling",Q===y?Q.nextSibling:Q);q.length&&o(v(q)),D(y,Q)},bu=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Hi=e=>Kr(e)&&sp(e)===Z,x1=(e,n,o,r)=>Ec(n).fold(()=>"skipping",c=>r==="br"||Hi(n)?"valid":Ad(n)?"existing":hu(n.dom)?"caret":nt(bu,u=>hc(n,u))?"valid-block":!Gp(e,o,r)||!Gp(e,Ns(c),o)?"invalid-child":"valid"),Ku=(e,n)=>{const o=Hd(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},R2=(e,n,o,r,c,u)=>{const{uid:m=n,...y}=o;ni(e,Tl()),vr(e,`${Jr()}`,m),vr(e,`${El()}`,r);const{attributes:v={},classes:x=[]}=c(m,y);if(Ka(e,v),Wx(e,x),u){x.length>0&&vr(e,`${km()}`,x.join(","));const N=Xo(v);N.length>0&&vr(e,`${Tp()}`,N.join(","))}},rk=e=>{Ll(e,Tl()),Jo(e,`${Jr()}`),Jo(e,`${El()}`),Jo(e,`${xp()}`);const n=Fl(e,`${Tp()}`).map(r=>r.split(",")).getOr([]),o=Fl(e,`${km()}`).map(r=>r.split(",")).getOr([]);he(n,r=>Jo(e,r)),b_(e,o),Jo(e,`${km()}`),Jo(e,`${Tp()}`)},T1=(e,n,o,r,c)=>{const u=ne.fromTag("span",e);return R2(u,n,o,r,c,!1),u},ak=(e,n,o,r,c,u)=>{const m=[],y=T1(e.getDoc(),o,u,r,c),v=Bi(),x=()=>{v.clear()},N=()=>v.get().getOrThunk(()=>{const Q=Ep(y);return m.push(Q),v.set(Q),Q}),D=Q=>{he(Q,L)},L=Q=>{switch(x1(e,Q,"span",Ns(Q))){case"invalid-child":{x();const J=ga(Q);D(J),x();break}case"valid-block":{x(),R2(Q,o,u,r,c,!0);break}case"valid":{const J=N();yb(Q,J);break}}},X=Q=>{const q=Re(Q,ne.fromDom);D(q)};return Zr(e.dom,n,Q=>{x(),X(Q)}),m},QT=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=vg(e).length>0,y=jh("mce-annotation");if(u.collapsed&&!m&&Ku(e,u),c.getRng().collapsed&&!m){const v=T1(e.getDoc(),y,r,n,o.decorate);so(v,Pe),c.getRng().insertNode(v.dom),c.select(v.dom)}else C2(c,!1,()=>{Y0(e,v=>{ak(e,v,y,n,o.decorate,r)})})})},E1=e=>{const n=h_();jx(e,n);const o=Ux(e,n),r=Ti("span"),c=u=>{he(u,m=>{r(m)?Ac(m):rk(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(y=>{QT(e,u,y,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{Ed(e,I.some(u)).each(({elements:m})=>{const y=e.selection.getBookmark();c(m),e.selection.moveToBookmark(y)})},removeAll:u=>{const m=e.selection.getBookmark();it(p_(e,u),(y,v)=>{c(y)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=p_(e,u);return po(m,y=>Re(y,v=>v.dom))}}},ky=e=>({getBookmark:He(ZT,e),moveToBookmark:He(k2,e)});ky.isBookmarkNode=Fi;const N2=(e,n,o)=>o.collapsed?!1:nt(o.getClientRects(),r=>v_(r,e,n)),ck=(e,n)=>e.dispatch("PreProcess",n),lk=(e,n)=>e.dispatch("PostProcess",n),Ps=e=>{e.dispatch("remove")},Nf=e=>{e.dispatch("detach")},M2=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},B2=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},P2=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},ik=e=>{e.dispatch("PreInit")},$2=e=>{e.dispatch("PostRender")},uk=e=>{e.dispatch("Init")},I2=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},F2=(e,n,o)=>{e.dispatch(n,o)},dk=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},L2=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},fk=(e,n)=>e.dispatch("BeforeSetContent",n),H2=(e,n)=>e.dispatch("SetContent",n),Sg=(e,n)=>e.dispatch("BeforeGetContent",n),Yp=(e,n)=>e.dispatch("GetContent",n),mk=(e,n)=>{e.dispatch("AutocompleterStart",n)},eE=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},ea=e=>{e.dispatch("AutocompleterEnd")},_a=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),Jp=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),wy=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),tE=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Ut={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ut.metaKeyPressed(e),metaKeyPressed:e=>To.os.isMacOS()||To.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},ro="data-mce-selected",nE="table,img,figure.image,hr,video,span.mce-preview-object,details",gk=Math.abs,Qp=Math.round,pk={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},oE=e=>e.type==="longpress"||e.type.indexOf("touch")===0,A1=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,u=n.getBody();let m,y,v,x,N,D,L,X,Q,q,J,pe,ye,be,Ce,tt,Ft;const lt=pt=>Le(pt)&&(bb(pt)||o.is(pt,"figure.image")),De=pt=>Rr(pt)||o.hasClass(pt,"mce-preview-object"),We=(pt,An)=>{if(oE(pt)){const ao=pt.touches[0];return lt(pt.target)&&!N2(ao.clientX,ao.clientY,An)}else return lt(pt.target)&&!N2(pt.clientX,pt.clientY,An)},Ct=pt=>{const An=pt.target;We(pt,n.selection.getRng())&&!pt.isDefaultPrevented()&&n.selection.select(An)},Et=pt=>o.hasClass(pt,"mce-preview-object")&&Le(pt.firstElementChild)?[pt,pt.firstElementChild]:o.is(pt,"figure.image")?[pt.querySelector("img")]:[pt],jt=pt=>{const An=G_(n);return!An||pt.getAttribute("data-mce-resize")==="false"||pt===n.getBody()?!1:o.hasClass(pt,"mce-preview-object")&&Le(pt.firstElementChild)?hc(ne.fromDom(pt.firstElementChild),An):hc(ne.fromDom(pt),An)},Rn=pt=>De(pt)?o.create("img",{src:To.transparentSrc}):pt.cloneNode(!0),Tn=(pt,An,ao)=>{if(Le(ao)){const Ts=Et(pt);he(Ts,ar=>{ar.style[An]||!n.schema.isValid(ar.nodeName.toLowerCase(),An)?o.setStyle(ar,An,ao):o.setAttrib(ar,An,""+ao)})}},Bo=(pt,An,ao)=>{Tn(pt,"width",An),Tn(pt,"height",ao)},cs=pt=>{let An,ao,Ts,ar,pn;An=pt.screenX-D,ao=pt.screenY-L,be=An*x[2]+q,Ce=ao*x[3]+J,be=be<5?5:be,Ce=Ce<5?5:Ce,(lt(m)||De(m))&&uT(n)!==!1?Ts=!Ut.modifierPressed(pt):Ts=Ut.modifierPressed(pt),Ts&&(gk(An)>gk(ao)?(Ce=Qp(be*pe),be=Qp(Ce/pe)):(be=Qp(Ce/pe),Ce=Qp(be*pe))),Bo(y,be,Ce),ar=x.startPos.x+An,pn=x.startPos.y+ao,ar=ar>0?ar:0,pn=pn>0?pn:0,o.setStyles(v,{left:ar,top:pn,display:"block"}),v.innerHTML=be+" &times; "+Ce,x[2]<0&&y.clientWidth<=be&&o.setStyle(y,"left",X+(q-be)),x[3]<0&&y.clientHeight<=Ce&&o.setStyle(y,"top",Q+(J-Ce)),An=u.scrollWidth-tt,ao=u.scrollHeight-Ft,An+ao!==0&&o.setStyles(v,{left:ar-An,top:pn-ao}),ye||(B2(n,m,q,J,"corner-"+x.name),ye=!0)},fs=()=>{const pt=ye;ye=!1,pt&&(Tn(m,"width",be),Tn(m,"height",Ce)),o.unbind(r,"mousemove",cs),o.unbind(r,"mouseup",fs),c!==r&&(o.unbind(c,"mousemove",cs),o.unbind(c,"mouseup",fs)),o.remove(y),o.remove(v),o.remove(N),$r(m),pt&&(P2(n,m,be,Ce,"corner-"+x.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},$r=pt=>{Mo();const An=o.getPos(pt,u),ao=An.x,Ts=An.y,ar=pt.getBoundingClientRect(),pn=ar.width||ar.right-ar.left,Po=ar.height||ar.bottom-ar.top;m!==pt&&(kt(),m=pt,be=Ce=0);const Hs=n.dispatch("ObjectSelected",{target:pt});jt(pt)&&!Hs.isDefaultPrevented()?it(pk,(Vs,$n)=>{const cr=sa=>{const Xi=Et(m)[0];D=sa.screenX,L=sa.screenY,q=Xi.clientWidth,J=Xi.clientHeight,pe=J/q,x=Vs,x.name=$n,x.startPos={x:pn*Vs[0]+ao,y:Po*Vs[1]+Ts},tt=u.scrollWidth,Ft=u.scrollHeight,N=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(N,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),y=Rn(m),o.addClass(y,"mce-clonedresizable"),o.setAttrib(y,"data-mce-bogus","all"),y.contentEditable="false",o.setStyles(y,{left:ao,top:Ts,margin:0}),Bo(y,pn,Po),y.removeAttribute(ro),u.appendChild(y),o.bind(r,"mousemove",cs),o.bind(r,"mouseup",fs),c!==r&&(o.bind(c,"mousemove",cs),o.bind(c,"mouseup",fs)),v=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},q+" &times; "+J)};let Ws=o.get("mceResizeHandle"+$n);Ws&&o.remove(Ws),Ws=o.add(u,"div",{id:"mceResizeHandle"+$n,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+$n+"-resize; margin:0; padding:0"}),o.bind(Ws,"mousedown",sa=>{sa.stopImmediatePropagation(),sa.preventDefault(),cr(sa)}),Vs.elm=Ws,o.setStyles(Ws,{left:pn*Vs[0]+ao-Ws.offsetWidth/2,top:Po*Vs[1]+Ts-Ws.offsetHeight/2})}):kt(!1)},Za=Bb($r,0),kt=(pt=!0)=>{Za.cancel(),Mo(),m&&pt&&m.removeAttribute(ro),it(pk,(An,ao)=>{const Ts=o.get("mceResizeHandle"+ao);Ts&&(o.unbind(Ts),o.remove(Ts))})},qt=(pt,An)=>o.isChildOf(pt,An),No=pt=>{if(ye||n.removed||n.composing)return;const An=pt.type==="mousedown"?pt.target:e.getNode(),ao=Pn(ne.fromDom(An),nE).map(ar=>ar.dom).filter(ar=>o.isEditable(ar.parentElement)).getOrUndefined(),Ts=Le(ao)?o.getAttrib(ao,ro,"1"):"1";if(he(o.select(`img[${ro}],hr[${ro}]`),ar=>{ar.removeAttribute(ro)}),Le(ao)&&qt(ao,u)&&n.hasFocus()){Qt();const ar=e.getStart(!0);if(qt(ar,ao)&&qt(e.getEnd(!0),ao)){o.setAttrib(ao,ro,Ts),Za.throttle(ao);return}}kt()},Mo=()=>{it(pk,pt=>{pt.elm&&(o.unbind(pt.elm),delete pt.elm)})},Qt=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Qt(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",No),n.on("keyup compositionend",pt=>{m&&m.nodeName==="TABLE"&&No(pt)}),n.on("hide blur",kt),n.on("contextmenu longpress",Ct,!0)}),n.on("remove",Mo),{isResizable:jt,showResizeRect:$r,hideResizeRect:kt,updateResizeRect:No,destroy:()=>{Za.cancel(),m=y=N=null}}},sE=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},rE=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},V2=(e,n,o)=>{const r=e.document.createRange();return sE(r,n),rE(r,o),r},_y=(e,n,o,r,c)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,c),u},xg=Zu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),hk=(e,n,o)=>n(ne.fromDom(o.startContainer),o.startOffset,ne.fromDom(o.endContainer),o.endOffset),uO=(e,n)=>n.match({domRange:o=>({ltr:Ke(o),rtl:I.none}),relative:(o,r)=>({ltr:ze(()=>V2(e,o,r)),rtl:ze(()=>I.some(V2(e,r,o)))}),exact:(o,r,c,u)=>({ltr:ze(()=>_y(e,o,r,c,u)),rtl:ze(()=>I.some(_y(e,c,u,o,r)))})}),U2=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>xg.rtl(ne.fromDom(c.endContainer),c.endOffset,ne.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>hk(e,xg.ltr,o)):hk(e,xg.ltr,o)},L$=(e,n)=>{const o=uO(e,n);return U2(e,o)};xg.ltr,xg.rtl;const j2={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},fO=(e,n,o)=>{var r,c;return I.from((c=(r=e.dom).caretPositionFromPoint)===null||c===void 0?void 0:c.call(r,n,o)).bind(u=>{if(u.offsetNode===null)return I.none();const m=e.dom.createRange();return m.setStart(u.offsetNode,u.offset),m.collapse(),I.some(m)})},vn=(e,n,o)=>{var r,c;return I.from((c=(r=e.dom).caretRangeFromPoint)===null||c===void 0?void 0:c.call(r,n,o))},aE=(()=>document.caretPositionFromPoint?fO:document.caretRangeFromPoint?vn:I.none)(),mO=(e,n,o)=>{const r=ne.fromDom(e.document);return aE(r,n,o).map(c=>j2.create(ne.fromDom(c.startContainer),c.startOffset,ne.fromDom(c.endContainer),c.endOffset))},yk=Zu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cy=(e,n,o,r)=>e.fold(n,o,r),gO=e=>e.fold(_n,_n,_n),z1=yk.before,cE=yk.on,lE=yk.after,Xu={before:z1,on:cE,after:lE,cata:Cy,getStart:gO},O1=Zu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bk=e=>O1.exact(e.start,e.soffset,e.finish,e.foffset),vk=e=>e.match({domRange:n=>ne.fromDom(n.startContainer),relative:(n,o)=>Xu.getStart(n),exact:(n,o,r,c)=>n}),kk=O1.domRange,wk=O1.relative,iE=O1.exact,uE=e=>{const n=vk(e);return ud(n)},D1=j2.create,Tg={domRange:kk,relative:wk,exact:iE,exactFromRange:bk,getWin:uE,range:D1},R1=(e,n)=>{const o=Ns(e);return o==="input"?Xu.after(e):Ae(["br","img"],o)?n===0?Xu.before(e):Xu.after(e):Xu.on(e,n)},Lo=(e,n)=>{const o=e.fold(Xu.before,R1,Xu.after),r=n.fold(Xu.before,R1,Xu.after);return Tg.relative(o,r)},W2=(e,n,o,r)=>{const c=R1(e,n),u=R1(o,r);return Tg.relative(c,u)},Vd=e=>e.match({domRange:n=>{const o=ne.fromDom(n.startContainer),r=ne.fromDom(n.endContainer);return W2(o,n.startOffset,r,n.endOffset)},relative:Lo,exact:W2}),Vi=(e,n)=>{const r=(n||document).createDocumentFragment();return he(e,c=>{r.appendChild(c.dom)}),ne.fromDom(r)},N1=e=>{const n=Tg.getWin(e).dom,o=(c,u,m,y)=>_y(n,c,u,m,y),r=Vd(e);return L$(n,r).match({ltr:o,rtl:o})},Gl=(e,n,o)=>mO(e,n,o),Sy=(e,n,o)=>{const r=ud(ne.fromDom(o));return Gl(r.dom,e,n).map(c=>{const u=o.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},Eg=(e,n)=>Le(e)&&Le(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,M1=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Ag=(e,n,o)=>M1(e,n,o)!==null,pO=(e,n,o)=>Ag(e,n,r=>r.nodeName===o),dE=(e,n)=>rs(e)&&!Ag(e,n,hu),fE=(e,n,o)=>{const r=n.parentNode;if(r){const c=new Vr(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[o?"prev":"next"]();)if(rr(u))return!0}return!1},hO=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},Ro=(e,n)=>{let o=n;for(;o&&o!==e;){if(Qo(o))return!0;o=o.parentNode}return!1},ui=(e,n,o,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),y=c.parentNode;let v,x;if(!y)return I.none();const N=e.getParent(y,e.isBlock)||u;if(r&&rr(c)&&n&&e.isEmpty(N))return I.some(Ie(y,e.nodeIndex(c)));const D=new Vr(c,N);for(;x=D[r?"prev":"next"]();){if(e.getContentEditableParent(x)==="false"||dE(x,u))return I.none();if(mt(x)&&x.data.length>0)return pO(x,u,"A")?I.none():I.some(Ie(x,r?x.data.length:0));if(e.isBlock(x)||m[x.nodeName.toLowerCase()])return I.none();v=x}return ll(v)?I.none():o&&v?I.some(Ie(v,0)):I.none()},zg=(e,n,o,r)=>{const c=e.getRoot();let u,m=!1,y=o?r.startContainer:r.endContainer,v=o?r.startOffset:r.endOffset;const x=$t(y)&&v===y.childNodes.length,N=e.schema.getNonEmptyElements();let D=o;if(rs(y))return I.none();if($t(y)&&v>y.childNodes.length-1&&(D=!1),am(y)&&(y=c,v=0),y===c){if(D&&(u=y.childNodes[v>0?v-1:0],u&&(rs(u)||N[u.nodeName]||ur(u))))return I.none();if(y.hasChildNodes()){if(v=Math.min(!D&&v>0?v-1:v,y.childNodes.length-1),y=y.childNodes[v],v=mt(y)&&x?y.data.length:0,!n&&y===c.lastChild&&ur(y)||Ro(c,y)||rs(y))return I.none();if(y.hasChildNodes()&&!ur(y)){u=y;const L=new Vr(y,c);do{if(Qo(u)||rs(u)){m=!1;break}if(mt(u)&&u.data.length>0){v=D?0:u.data.length,y=u,m=!0;break}if(N[u.nodeName.toLowerCase()]&&!cm(u)){v=e.nodeIndex(u),y=u.parentNode,D||v++,m=!0;break}}while(u=D?L.next():L.prev())}}}return n&&(mt(y)&&v===0&&ui(e,x,n,!0,y).each(L=>{y=L.container(),v=L.offset(),m=!0}),$t(y)&&(u=y.childNodes[v],u||(u=y.childNodes[v-1]),u&&rr(u)&&!hO(u,"A")&&!fE(e,u,!1)&&!fE(e,u,!0)&&ui(e,x,n,!0,u).each(L=>{y=L.container(),v=L.offset(),m=!0}))),D&&!n&&mt(y)&&v===y.data.length&&ui(e,x,n,!1,y).each(L=>{y=L.container(),v=L.offset(),m=!0}),m&&y?I.some(Ie(y,v)):I.none()},B1=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=Ie.fromRangeStart(n);return zg(e,o,!0,r).each(u=>{(!o||!Ie.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),o||zg(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),Eg(n,r)?I.none():I.some(r)},Am=(e,n)=>e.splitText(n),Co=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&mt(n)){if(o>0&&o<n.data.length)if(r=Am(n,o),n=r.previousSibling,c>o){c=c-o;const u=Am(r,c).previousSibling;n=r=u,c=u.data.length,o=0}else c=0}else if(mt(n)&&o>0&&o<n.data.length&&(n=Am(n,o),o=0),mt(r)&&c>0&&c<r.data.length){const u=Am(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},Mf=e=>({walk:(u,m)=>Zr(e,u,m),split:Co,expand:(u,m={type:"word"})=>{if(m.type==="word"){const y=Hd(e,u,[{inline:"span"}]),v=e.createRng();return v.setStart(y.startContainer,y.startOffset),v.setEnd(y.endContainer,y.endOffset),v}return u},normalize:u=>B1(e,u).fold(Ee,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});Mf.compareRanges=Eg,Mf.getCaretRangeFromPoint=Sy,Mf.getSelectedNode=Wl,Mf.getNode=du;const _k=((e,n)=>{const o=(y,v)=>{if(!Ho(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const x=y.dom;pa(x)&&(x.style[e]=v+"px")},r=y=>{const v=n(y);if(v<=0||v===null){const x=Xr(y,e);return parseFloat(x)||0}return v},c=r,u=(y,v)=>Bt(v,(x,N)=>{const D=Xr(y,N),L=D===void 0?0:parseInt(D,10);return isNaN(L)?x:x+L},0);return{set:o,get:r,getOuter:c,aggregate:u,max:(y,v,x)=>{const N=u(y,x);return v>N?v-N:0}}})("height",e=>{const n=e.dom;return Di(e)?n.getBoundingClientRect().height:n.offsetHeight}),gE=e=>_k.get(e),Og=()=>ne.fromDom(document),zm=(e,n)=>e.view(n).fold(Ke([]),r=>{const c=e.owner(r),u=zm(e,c);return[r].concat(u)}),Z2=(e,n)=>{const o=n.owner(e);return zm(n,o)};var p=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?I.none():I.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ne.fromDom)},owner:e=>Oi(e)});const b=e=>{const n=Og(),o=Ri(n),r=Z2(e,p),c=zh(e),u=un(r,(m,y)=>{const v=zh(y);return{left:m.left+v.left,top:m.top+v.top}},{left:0,top:0});return pf(u.left+c.left+o.left,u.top+c.top+o.top)},C=e=>Ns(e)==="textarea",z=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),B=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},U=(e,n)=>{const o=ga(e);if(o.length===0||C(e))return{element:e,offset:n};if(n<o.length&&!C(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return C(r)?{element:e,offset:n}:Ns(r)==="img"?{element:r,offset:1}:Kr(r)?{element:r,offset:sp(r).length}:{element:r,offset:ga(r).length}}},K=(e,n)=>{const o=Pu(e),r=gE(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},ae=(e,n)=>{const o=U(e,n),r=ne.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Z+"</span>");return qc(o.element,r),K(r,()=>Uo(r))},ke=e=>K(ne.fromDom(e),$e),rt=(e,n,o,r)=>{At(e,(c,u)=>Tt(e,n,o,r),o)},Dt=(e,n,o,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(z(e,u))return;const m=Ri(n).top;o(n,m,r,c),B(e,u)},Tt=(e,n,o,r)=>{const c=ne.fromDom(e.getBody()),u=ne.fromDom(e.getDoc());ir(c);const m=ae(ne.fromDom(o.startContainer),o.startOffset);Dt(e,u,n,m,r),m.cleanup()},Xe=(e,n,o,r)=>{const c=ne.fromDom(e.getDoc());Dt(e,c,o,ke(n),r)},At=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,u=o.endContainer,m=o.endOffset;n(ne.fromDom(r),ne.fromDom(u));const y=e.dom.createRng();y.setStart(r,c),y.setEnd(u,m),e.selection.setRng(o)},qe=(e,n)=>e.element.dom.scrollIntoView({block:n?"start":"end"}),Wt=(e,n,o,r)=>{const c=n+e,u=o.pos.top,m=o.bottom,y=m-u>=n;u<e?qe(o,r!==!1):u>c?qe(o,y?r!==!1:r===!0):m>c&&!y&&qe(o,r===!0)},En=(e,n,o,r)=>{const c=ud(e).dom.innerHeight;Wt(n,c,o,r)},Jn=(e,n,o,r)=>{const c=ud(e).dom.innerHeight;Wt(n,c,o,r);const u=b(o.element),m=Oh(window);u.top<m.y?hd(o.element,r!==!1):u.top>m.bottom&&hd(o.element,r===!0)},js=(e,n,o)=>rt(e,En,n,o),lc=(e,n,o)=>Xe(e,n,En,o),Mr=(e,n,o)=>rt(e,Jn,n,o),Kl=(e,n,o)=>Xe(e,n,Jn,o),Dg=(e,n,o)=>{(e.inline?lc:Kl)(e,n,o)},Om=(e,n,o)=>{(e.inline?js:Mr)(e,n,o)},P1=e=>e.dom.focus(),xy=e=>{const n=oi(e).dom;return e.dom===n.activeElement},ps=(e=Og())=>I.from(e.dom.activeElement).map(ne.fromDom),ml=e=>ps(oi(e)).filter(n=>e.dom.contains(n.dom)),tl=(e,n)=>{const o=Kr(n)?sp(n).length:ga(n).length+1;return e>o?o:e<0?0:e},vu=e=>Tg.range(e.start,tl(e.soffset,e.start),e.finish,tl(e.foffset,e.finish)),di=(e,n)=>!dn(n.dom)&&(cl(e,n)||ss(e,n)),Rg=e=>n=>di(e,n.start)&&di(e,n.finish),gl=e=>e.inline||To.browser.isFirefox(),Ck=e=>Tg.range(ne.fromDom(e.startContainer),e.startOffset,ne.fromDom(e.endContainer),e.endOffset),Ty=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?I.none():I.from(n.getRangeAt(0))).map(Ck)},Ui=e=>{const n=ud(e);return Ty(n.dom).filter(Rg(e))},wc=(e,n)=>I.from(n).filter(Rg(e)).map(vu),pE=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),I.some(n)}catch{return I.none()}},$1=e=>{const n=gl(e)?Ui(ne.fromDom(e.getBody())):I.none();e.bookmark=n.isSome()?n:e.bookmark},I1=e=>(e.bookmark?e.bookmark:I.none()).bind(o=>wc(ne.fromDom(e.getBody()),o)).bind(pE),hE=e=>{I1(e).each(n=>e.selection.setRng(n))},F1={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},yE=(e,n)=>(Ho(n)||(n=0),setTimeout(e,n)),Ey=(e,n)=>(Ho(n)||(n=0),setInterval(e,n)),ku={setEditorTimeout:(e,n,o)=>yE(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=Ey(()=>{e.removed?clearInterval(r):n()},o);return r}},bO=e=>e.type==="nodechange"&&e.selectionChange,q2=(e,n)=>{const o=()=>{n.throttle()};zs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{zs.DOM.unbind(document,"mouseup",o)})},H$=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},V$=(e,n)=>{H$(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{bO(o)||$1(e)})},bE=e=>{const n=Bb(()=>{$1(e)},0);e.on("init",()=>{e.inline&&q2(e,n),V$(e,n)}),e.on("remove",()=>{n.cancel()})};let L1;const G2=zs.DOM,vO=e=>$t(e)&&F1.isEditorUIElement(e),K2=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},X2=(e,n)=>{const o=Y_(e);return G2.getParent(n,c=>vO(c)||(o?e.dom.is(c,o):!1))!==null},vE=e=>{try{const n=oi(ne.fromDom(e.getElement()));return ps(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},U$=(e,n)=>{const o=n.editor;bE(o);const r=(c,u)=>{if(c2(c)&&c.inline!==!0){const m=ne.fromDom(c.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;K2(vE(o))&&r(o,ni),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{ku.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!K2(vE(o))||c!==o)&&r(o,Ll),!X2(o,vE(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),L1||(L1=c=>{const u=e.activeEditor;u&&md(c).each(m=>{const y=m;y.ownerDocument===document&&y!==document.body&&!X2(u,y)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},G2.bind(document,"focusin",L1))},j$=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&L1&&(G2.unbind(document,"focusin",L1),L1=null)},Y2=e=>{e.on("AddEditor",He(U$,e)),e.on("RemoveEditor",He(j$,e))},kO=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),wO=e=>e.collapsed?I.from(du(e.startContainer,e.startOffset)).map(ne.fromDom):I.none(),_O=(e,n)=>wO(n).bind(o=>tc(o)?I.some(o):cl(e,o)?I.none():I.some(e)),kE=(e,n)=>{_O(ne.fromDom(e.getBody()),n).bind(o=>kc(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},wE=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},W$=e=>xy(e)||ml(e).isSome(),Z$=e=>Le(e.iframeElement)&&xy(ne.fromDom(e.iframeElement)),q$=e=>{const n=e.getBody();return n&&W$(ne.fromDom(n))},G$=e=>{const n=oi(ne.fromDom(e.getElement()));return ps(n).filter(o=>!K2(o.dom)&&X2(e,o.dom)).isSome()},Ay=e=>e.inline?q$(e):Z$(e),K$=e=>Ay(e)||G$(e),X$=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Le(e.bookmark)&&!Ay(e)&&I1(e).each(u=>{e.selection.setRng(u),r=u});const c=kO(e,n.getNode());if(c&&e.dom.isChildOf(c,o)){wE(c),kE(e,r),_E(e);return}e.inline||(To.browser.isOpera()||wE(o),e.getWin().focus()),(To.browser.isFirefox()||e.inline)&&(wE(o),kE(e,r)),_E(e)},_E=e=>e.editorManager.setActive(e),Y$=(e,n)=>{e.removed||(n?_E(e):X$(e))},CO=(e,n,o,r,c)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return I.from(u).map(ne.fromDom).map(y=>!r||!n.collapsed?su(y,c(y,m)).getOr(y):y).bind(y=>As(y)?I.some(y):Ec(y).filter(As)).map(y=>y.dom).getOr(e)},SO=(e,n,o=!1)=>CO(e,n,!0,o,(r,c)=>Math.min(yc(r),c)),Sk=(e,n,o=!1)=>CO(e,n,!1,o,(r,c)=>c>0?c-1:c),CE=(e,n)=>{const o=e;for(;e&&mt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},xO=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-c<2&&o.hasChildNodes()&&(m=o.childNodes[c]),mt(o)&&mt(r)&&(o.length===c?o=CE(o.nextSibling,!0):o=o.parentNode,u===0?r=CE(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const y=mt(m)?m.parentNode:m;return $t(y)?y:e},J$=(e,n,o,r)=>{const c=[],u=e.getRoot(),m=e.getParent(o||SO(u,n,n.collapsed),e.isBlock),y=e.getParent(r||Sk(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&y&&m!==y){let v;const x=new Vr(m,u);for(;(v=x.next())&&v!==y;)e.isBlock(v)&&c.push(v)}return y&&m!==y&&y!==u&&c.push(y),c},Q$=(e,n,o)=>I.from(n).bind(r=>I.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),o&&(qp(e,m,r,!0),qp(e,m,r,!1)),m})),SE=(e,n)=>Re(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),eI=e=>Ns(e)==="img"?1:Sl(e).fold(()=>ga(e).length,n=>n.length),tI=e=>Sl(e).filter(n=>n.trim().length!==0||n.indexOf(Pe)>-1).isSome(),nI=e=>kl(e)&&ma(e,"contenteditable")==="false",TO=["img","br"],EO=e=>tI(e)||Ae(TO,Ns(e))||nI(e),AO=e=>ft(e,EO),zO=e=>oI(e,EO),oI=(e,n)=>{const o=r=>{const c=ga(r);for(let u=c.length-1;u>=0;u--){const m=c[u];if(n(m))return I.some(m);const y=o(m);if(y.isSome())return y}return I.none()};return o(e)},OO="[data-mce-autocompleter]",sI=(e,n)=>{if(DO(ne.fromDom(e.getBody())).isNone()){const o=ne.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());xr(o,ne.fromDom(n.extractContents())),n.insertNode(o.dom),Ec(o).each(r=>r.dom.normalize()),zO(o).map(r=>{e.selection.setCursorLocation(r.dom,eI(r))})}},rI=e=>Pn(e,OO),DO=e=>Bn(e,OO),aI=(e,n)=>DO(n).each(o=>{const r=e.selection.getBookmark();Ac(o),e.selection.moveToBookmark(r)}),cI={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},J2=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[c],u)return u}},lI=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Mi(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},RO=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class fi{static create(n,o){const r=new fi(n,cI[n]||1);return o&&it(o,(c,u)=>{r.attr(u,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!re(n))return Le(n)&&it(n,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let u=c.length;for(;u--;)if(c[u].name===n)return c.splice(u,1),r}return r}if(n in c.map){let u=c.length;for(;u--;)if(c[u].name===n){c[u].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new fi(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const y=r[u];y.name!=="id"&&(c[c.length]={name:y.name,value:y.value},c.map[y.name]=y.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=J2(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=J2(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const u=this;let m=u.firstChild;if(RO(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||RO(m))return!1}if(m.type===8||m.type===3&&!lI(m)||m.type===3&&m.parent&&o[m.parent.name]&&Mi((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=J2(m,u));return!0}walk(n){return J2(this,null,n)}}const iI=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),NO=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&iI(r,o)){const c=r.indexOf("[endif]",o);return r.indexOf(">",c)}else if(n){const c=r.indexOf(">",o);return c!==-1?c:r.length}else{const c=/--!?>/g;c.lastIndex=o;const u=c.exec(e);return u?u.index+u[0].length:r.length}},uI=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,u=e.getVoidElements();let m=1,y=o;for(;m!==0;)for(r.lastIndex=y;;){const v=r.exec(n);if(v===null)return y;if(v[1]==="!"){uo(v[2],"--")?y=NO(n,!1,v.index+3):y=NO(n,!0,v.index+1);break}else{c.lastIndex=r.lastIndex;const x=c.exec(n);if(Y(x)||x.index!==r.lastIndex)continue;v[1]==="/"?m-=1:yn(u,v[2])||(m+=1),y=r.lastIndex+x[0].length;break}}return y},dI=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},MO=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let c=dI(e.getTempAttrs(),n);const u=r.getVoidElements();let m;for(;m=o.exec(c);){const y=o.lastIndex,v=m[0].length;let x;u[m[1]]?x=y:x=uI(r,c,y),c=c.substring(0,y-v)+c.substring(x),o.lastIndex=y-v}return Me(c)},fI=MO,BO=e=>{const n=Fa(e,"[data-mce-bogus]");he(n,o=>{ma(o,"data-mce-bogus")==="all"?Uo(o):ec(o)?(qc(o,ne.fromText($u)),Uo(o)):Ac(o)})},PO=e=>{const n=Fa(e,"input");he(n,o=>{Jo(o,"name")})},mn=(e,n)=>{const o=Rc(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},$O=(e,n)=>{const o=e.getDoc(),r=oi(ne.fromDom(e.getBody())),c=ne.fromTag("div",o);vr(c,"data-mce-bogus","all"),Yg(c,{position:"fixed",left:"-9999999px",top:"0"}),so(c,n.innerHTML),BO(c),PO(c);const u=Mv(r);xr(u,c);const m=Me(c.dom.innerText);return Uo(c),m},IO=(e,n,o)=>{let r;return n.format==="raw"?r=Qe.trim(fI(e.serializer,o.innerHTML)):n.format==="text"?r=$O(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=mn(e,e.serializer.serialize(o,n)),n.format!=="text"&&!cp(ne.fromDom(o))&&re(r)?Qe.trim(r):r},mI=(e,n)=>I.from(e.getBody()).fold(Ke(n.format==="tree"?new fi("body",11):""),o=>IO(e,n,o)),Q2=Qe.makeMap,FO=e=>{const n=[];e=e||{};const o=e.indent,r=Q2(e.indent_before||""),c=Q2(e.indent_after||""),u=gm.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(y,v,x)=>{if(o&&r[y]&&n.length>0){const N=n[n.length-1];N.length>0&&N!==`
`&&n.push(`
`)}if(n.push("<",y),v)for(let N=0,D=v.length;N<D;N++){const L=v[N];n.push(" ",L.name,'="',u(L.value,!0),'"')}if(!x||m?n[n.length]=">":n[n.length]=" />",x&&o&&c[y]&&n.length>0){const N=n[n.length-1];N.length>0&&N!==`
`&&n.push(`
`)}},end:y=>{let v;n.push("</",y,">"),o&&c[y]&&n.length>0&&(v=n[n.length-1],v.length>0&&v!==`
`&&n.push(`
`))},text:(y,v)=>{y.length>0&&(n[n.length]=v?y:u(y))},cdata:y=>{n.push("<![CDATA[",y,"]]>")},comment:y=>{n.push("<!--",y,"-->")},pi:(y,v)=>{v?n.push("<?",y," ",u(v),"?>"):n.push("<?",y,"?>"),o&&n.push(`
`)},doctype:y=>{n.push("<!DOCTYPE",y,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},eh=(e={},n=hm())=>{const o=FO(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:v=>{var x;o.text((x=v.value)!==null&&x!==void 0?x:"",v.raw)},8:v=>{var x;o.comment((x=v.value)!==null&&x!==void 0?x:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var x;o.doctype((x=v.value)!==null&&x!==void 0?x:"")},4:v=>{var x;o.cdata((x=v.value)!==null&&x!==void 0?x:"")},11:v=>{let x=v;if(x=x.firstChild)do y(x);while(x=x.next)}};o.reset();const y=v=>{var x;const N=m[v.type];if(N)N(v);else{const D=v.name,L=D in n.getVoidElements();let X=v.attributes;if(u&&X&&X.length>1){const Q=[];Q.map={};const q=n.getElementRule(v.name);if(q){for(let J=0,pe=q.attributesOrder.length;J<pe;J++){const ye=q.attributesOrder[J];if(ye in X.map){const be=X.map[ye];Q.map[ye]=be,Q.push({name:ye,value:be})}}for(let J=0,pe=X.length;J<pe;J++){const ye=X[J].name;if(!(ye in Q.map)){const be=X.map[ye];Q.map[ye]=be,Q.push({name:ye,value:be})}}X=Q}}if(o.start(D,X,L),!L){let Q=v.firstChild;if(Q){(D==="pre"||D==="textarea")&&Q.type===3&&((x=Q.value)===null||x===void 0?void 0:x[0])===`
`&&o.text(`
`,!0);do y(Q);while(Q=Q.next)}o.end(D)}}};return c.type===1&&!e.inner?y(c):c.type===3?m[3](c):m[11](c),o.getContent()}}},LO=new Set;he(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{LO.add(n)});const HO=["font","text-decoration","text-emphasis"],xE=(e,n)=>Xo(e.parseStyle(e.getAttrib(n,"style"))),eC=e=>LO.has(e),VO=(e,n)=>Ko(xE(e,n),o=>!eC(o)),Zj=e=>Be(e,n=>nt(HO,o=>uo(n,o))),gI=(e,n,o)=>{const r=xE(e,n),c=xE(e,o),u=m=>{var y,v;const x=(y=e.getStyle(n,m))!==null&&y!==void 0?y:"",N=(v=e.getStyle(o,m))!==null&&v!==void 0?v:"";return $o(x)&&$o(N)&&x!==N};return nt(r,m=>{const y=v=>nt(v,x=>x===m);if(!y(c)&&y(HO)){const v=Zj(c);return nt(v,u)}else return u(m)})},Dn=(e,n,o)=>I.from(o.container()).filter(mt).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),TE=He(Dn,!0,Wp),Wn=He(Dn,!1,Wp),UO=e=>{const n=e.container();return mt(n)&&(n.data.length===0||ue(n.data)&&ky.isBookmarkNode(n.parentNode))},zy=(e,n)=>o=>h2(e?0:-1,o).filter(n).isSome(),pI=e=>bb(e)&&Xr(ne.fromDom(e),"display")==="block",jO=e=>Qo(e)&&!sm(e),qj=zy(!0,pI),Gj=zy(!1,pI),xk=zy(!0,Rr),Tk=zy(!1,Rr),wn=zy(!0,ur),WO=zy(!1,ur),th=zy(!0,jO),nh=zy(!1,jO),Ek=e=>e.slice(0,-1),ZO=(e,n,o)=>cl(n,e)?Ek(ff(e,r=>o(r)||ss(r,n))):[],qO=(e,n)=>ZO(e,n,Ee),Ng=(e,n)=>[e].concat(qO(e,n)),EE=(e,n,o)=>Mc(e,n,o,UO),AE=(e,n)=>Un(Ng(ne.fromDom(n.container()),e),Tr),GO=(e,n,o)=>EE(e,n.dom,o).forall(r=>AE(n,o).fold(()=>!Ii(r,o,n.dom),c=>!Ii(r,o,n.dom)&&cl(c,ne.fromDom(r.container())))),hI=(e,n,o)=>AE(n,o).fold(()=>EE(e,n.dom,o).forall(r=>!Ii(r,o,n.dom)),r=>EE(e,r.dom,o).isNone()),KO=He(hI,!1),XO=He(hI,!0),yI=He(GO,!1),bI=He(GO,!0),vI=e=>gu(e).exists(ec),Ak=(e,n,o)=>{const r=Be(Ng(ne.fromDom(o.container()),n),Tr),c=xn(r).getOr(n);return Gu(e,c.dom,o).filter(vI)},zE=(e,n)=>gu(n).exists(ec)||Ak(!0,e,n).isSome(),Qn=(e,n)=>Vp(n).exists(ec)||Ak(!1,e,n).isSome(),YO=He(Ak,!1),tC=He(Ak,!0),OE=e=>Ie.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),DE=(e,n)=>{const o=Be(Ng(ne.fromDom(n.container()),e),Tr);return xn(o).getOr(e)},RE=(e,n)=>OE(n)?Wn(n):Wn(n)||ja(DE(e,n).dom,n).exists(Wn),NE=(e,n)=>OE(n)?TE(n):TE(n)||cc(DE(e,n).dom,n).exists(TE),JO=e=>Ae(["pre","pre-wrap"],e),ME=e=>gu(e).bind(n=>V(n,As)).exists(n=>JO(Xr(n,"white-space"))),QO=(e,n)=>ja(e.dom,n).isNone(),kI=(e,n)=>cc(e.dom,n).isNone(),wI=(e,n)=>QO(e,n)||kI(e,n)||KO(e,n)||XO(e,n)||Qn(e,n)||zE(e,n),_I=e=>Le(e)&&Qo(e)&&p2(e),eD=(e,n)=>o=>_I(new Vr(o,e)[n]()),CI=(e,n)=>{const o=cc(e.dom,n).getOr(n),r=eD(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},SI=(e,n)=>{const o=ja(e.dom,n).getOr(n),r=eD(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},xI=(e,n)=>ME(n)?!1:wI(e,n)||RE(e,n)||NE(e,n),zk=(e,n)=>ME(n)?!1:KO(e,n)||yI(e,n)||Qn(e,n)||RE(e,n)||SI(e,n),BE=e=>{const n=e.container(),o=e.offset();return mt(n)&&o<n.data.length?Ie(n,o+1):e},Oy=(e,n)=>ME(n)?!1:XO(e,n)||bI(e,n)||zE(e,n)||NE(e,n)||CI(e,n),PE=(e,n)=>zk(e,n)||Oy(e,BE(n)),tD=(e,n)=>g1(e.charAt(n)),nD=(e,n)=>Wp(e.charAt(n)),TI=e=>{const n=e.container();return mt(n)&&yo(n.data,Pe)},EI=e=>{const n=e.split("");return Re(n,(o,r)=>g1(o)&&r>0&&r<n.length-1&&fy(n[r-1])&&fy(n[r+1])?" ":o).join("")},oD=(e,n,o)=>{const r=n.data,c=Ie(n,0);return!o&&tD(r,0)&&!PE(e,c)?(n.data=" "+r.slice(1),!0):o&&nD(r,0)&&zk(e,c)?(n.data=Pe+r.slice(1),!0):!1},AI=e=>{const n=e.data,o=EI(n);return o!==n?(e.data=o,!0):!1},sD=(e,n,o)=>{const r=n.data,c=Ie(n,r.length-1);return!o&&tD(r,r.length-1)&&!PE(e,c)?(n.data=r.slice(0,-1)+" ",!0):o&&nD(r,r.length-1)&&Oy(e,c)?(n.data=r.slice(0,-1)+Pe,!0):!1},rD=(e,n)=>{const o=n.container();if(!mt(o))return I.none();if(TI(n)){const r=oD(e,o,!1)||AI(o)||sD(e,o,!1);return vo(r,n)}else if(PE(e,n)){const r=oD(e,o,!0)||sD(e,o,!0);return vo(r,n)}else return I.none()},zI=e=>{const n=ne.fromDom(e.getBody());e.selection.isCollapsed()&&rD(n,Ie.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},aD=(e,n,o)=>{if(o===0)return;const r=ne.fromDom(e),c=R(r,Tr).getOr(r),u=e.data.slice(n,n+o),m=n+o>=e.data.length&&Oy(c,Ie(e,e.data.length)),y=n===0&&zk(c,Ie(e,0));e.replaceData(n,o,Er(u,4,y,m))},Dm=(e,n)=>{const o=e.data.slice(n),r=o.length-bl(o).length;aD(e,n,r)},$E=(e,n)=>{const o=e.data.slice(0,n),r=o.length-vl(o).length;aD(e,n-r,r)},nC=(e,n,o,r=!0)=>{const c=vl(e.data).length,u=r?e:n,m=r?n:e;return r?u.appendData(m.data):u.insertData(0,m.data),Uo(ne.fromDom(m)),o&&Dm(u,c),u},OI=(e,n)=>{const o=e.container(),r=e.offset();return!Ie.isTextPosition(e)&&o===n.parentNode&&r>Ie.before(n).offset()},DI=(e,n)=>OI(n,e)?Ie(n.container(),n.offset()-1):n,cD=e=>mt(e)?Ie(e,0):Ie.before(e),lD=e=>mt(e)?Ie(e,e.data.length):Ie.after(e),IE=e=>wr(e.previousSibling)?I.some(lD(e.previousSibling)):e.previousSibling?li(e.previousSibling):I.none(),FE=e=>wr(e.nextSibling)?I.some(cD(e.nextSibling)):e.nextSibling?kc(e.nextSibling):I.none(),Xl=(e,n)=>I.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ja(e,Ie.before(o))).orThunk(()=>cc(e,Ie.after(n))),RI=(e,n)=>cc(e,Ie.after(n)).orThunk(()=>ja(e,Ie.before(n))),NI=(e,n)=>IE(n).orThunk(()=>FE(n)).orThunk(()=>Xl(e,n)),MI=(e,n)=>FE(n).orThunk(()=>IE(n)).orThunk(()=>RI(e,n)),BI=(e,n,o)=>e?MI(n,o):NI(n,o),PI=(e,n,o)=>BI(e,n,o).map(He(DI,o)),oh=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},$I=e=>n=>n.dom===e,II=(e,n)=>n&&yn(e.schema.getBlockElements(),Ns(n)),ta=e=>{if(ya(e)){const n=ne.fromHtml('<br data-mce-bogus="1">');return ru(e),xr(e,n),I.some(Ie.before(n.dom))}else return I.none()},oC=(e,n,o)=>{const r=Hl(e).filter(Kr),c=Bu(e).filter(Kr);return Uo(e),cd(r,c,n,(u,m,y)=>{const v=u.dom,x=m.dom,N=v.data.length;return nC(v,x,o),y.container()===x?Ie(v,N):y}).orThunk(()=>(o&&(r.each(u=>$E(u.dom,u.dom.length)),c.each(u=>Dm(u.dom,0))),n))},Kj=(e,n)=>yn(e.schema.getTextInlineElements(),Ns(n)),na=(e,n,o,r=!0)=>{const c=PI(n,e.getBody(),o.dom),u=R(o,He(II,e),$I(e.getBody())),m=oC(o,c,Kj(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(ta).fold(()=>{r&&oh(e,n,m)},y=>{r&&oh(e,n,I.some(y))})},hs=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Yu=e=>hs.test(e),Dy=(e,n)=>hc(ne.fromDom(n),iT(e))&&!um(e.schema,n)&&e.dom.isEditable(n),LE=e=>{var n;return zs.DOM.getStyle(e,"direction",!0)==="rtl"||Yu((n=e.textContent)!==null&&n!==void 0?n:"")},HE=(e,n,o)=>Be(zs.DOM.getParents(o.container(),"*",n),e),Rm=(e,n,o)=>{const r=HE(e,n,o);return I.from(r[r.length-1])},iD=(e,n,o)=>{const r=pg(n,e),c=pg(o,e);return Le(r)&&r===c},uD=e=>nc(e)||Ul(e),Ju=(e,n)=>{const o=n.container(),r=n.offset();return e?Cn(o)?mt(o.nextSibling)?Ie(o.nextSibling,0):Ie.after(o):nc(n)?Ie(o,r+1):n:Cn(o)?mt(o.previousSibling)?Ie(o.previousSibling,o.previousSibling.data.length):Ie.before(o):Ul(n)?Ie(o,r-1):n},dD=He(Ju,!0),sC=He(Ju,!1),VE=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},Ud=e=>{e.execCommand("delete")},UE=e=>VE(e,"Delete"),FI=e=>VE(e,"ForwardDelete"),Xj=e=>n=>Oa(Ec(n),e,ss),jE=e=>ng(e)||Dc(e),rC=(e,n)=>cl(e,n)?V(n,jE,Xj(e)):I.none(),Ry=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},fD=(e,n,o)=>Dr(kc(o),li(o),(r,c)=>{const u=Ju(!0,r),m=Ju(!1,c),y=Ju(!1,n);return e?cc(o,y).exists(v=>v.isEqual(m)&&n.isEqual(u)):ja(o,y).exists(v=>v.isEqual(u)&&n.isEqual(m))}).getOr(!0),Ny=e=>(lf(e)?Hl(e):Wc(e)).bind(Ny).orThunk(()=>I.some(e)),wu=(e,n,o,r=!0)=>{var c;n.deleteContents();const u=Ny(o).getOr(o),m=ne.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(m.dom===e.getBody()?Ry(e,r):ya(m)&&(S(m),r&&e.selection.setCursorLocation(m.dom,0)),!ss(o,m)){const y=Oa(Ec(m),o)?[]:Qf(m);he(y.concat(ga(o)),v=>{!ss(v,m)&&!cl(v,m)&&ya(v)&&Uo(v)})}},Ok=e=>n=>ss(e,n),$s=e=>Fa(e,"td,th"),Dk=(e,n)=>{const o=x=>b1(ne.fromDom(x),n),r=o(e.startContainer),c=o(e.endContainer),u=r.isSome(),m=c.isSome(),y=Dr(r,c,ss).getOr(!1);return{startTable:r,endTable:c,isStartInTable:u,isEndInTable:m,isSameTable:y,isMultiTable:!y&&u&&m}},aC=(e,n)=>({start:e,end:n}),mD=(e,n,o)=>({rng:e,table:n,cells:o}),My=Zu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),H1=(e,n)=>Pn(ne.fromDom(e),"td,th",n),cC=e=>!ss(e.start,e.end),lC=(e,n)=>b1(e.start,n).bind(o=>b1(e.end,n).bind(r=>vo(ss(o,r),o))),iC=(e,n)=>!cC(e)&&lC(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),WE=(e,n)=>{const o=H1(e.startContainer,n),r=H1(e.endContainer,n);return Dr(o,r,aC)},gD=e=>n=>b1(n,e).bind(o=>ns($s(o)).map(r=>aC(n,r))),pD=e=>n=>b1(n,e).bind(o=>xn($s(o)).map(r=>aC(r,n))),uC=e=>n=>lC(n,e).map(o=>mD(n,o,$s(o))),ZE=(e,n,o,r)=>{if(o.collapsed||!e.forall(cC))return I.none();if(n.isSameTable){const c=e.bind(uC(r));return I.some({start:c,end:c})}else{const c=H1(o.startContainer,r),u=H1(o.endContainer,r),m=c.bind(gD(r)).bind(uC(r)),y=u.bind(pD(r)).bind(uC(r));return I.some({start:m,end:y})}},qE=(e,n)=>Go(e,o=>ss(o,n)),sh=e=>Dr(qE(e.cells,e.rng.start),qE(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),hD=(e,n,o)=>e.exists(r=>iC(r,o)&&v1(r.start,n)),dC=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},LI=(e,n,o,r)=>ZE(e,n,o,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=n,m=sh(c).getOr([]);if(u&&c.cells.length===m.length)return I.some(My.fullTable(c.table));if(m.length>0){if(u)return I.some(My.partialTable(m,I.none()));{const y=dC(o,n);return I.some(My.partialTable(m,I.some({...n,rng:y})))}}else return I.none()}),HI=(e,n,o,r)=>ZE(e,n,o,r).bind(({start:c,end:u})=>{const m=c.bind(sh).getOr([]),y=u.bind(sh).getOr([]);if(m.length>0&&y.length>0){const v=dC(o,n);return I.some(My.multiTable(m,y,v))}else return I.none()}),yD=(e,n)=>{const o=Ok(e),r=WE(n,o),c=Dk(n,o);return hD(r,n,o)?r.map(u=>My.singleCellTable(n,u.start)):c.isMultiTable?HI(r,c,n,o):LI(r,c,n,o)},GE=e=>he(e,n=>{Jo(n,"contenteditable"),S(n)}),bD=(e,n)=>I.from(e.dom.getParent(n,e.dom.isBlock)).map(ne.fromDom),fC=(e,n,o)=>{o.each(r=>{n?Uo(r):(S(r),e.selection.setCursorLocation(r.dom,0))})},mC=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),gC(e,c,n,!1).each(u=>u())},KE=e=>{const n=vg(e),o=ne.fromDom(e.selection.getNode());Ja(o.dom)&&ya(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&nt(n,r=>ss(r,o))&&vr(o,"data-mce-selected","1")},XE=(e,n,o)=>I.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:u,isStartInTable:m})=>{const y=bD(e,m?u.endContainer:u.startContainer);u.deleteContents(),fC(e,m,y.filter(ya));const v=m?n[0]:n[n.length-1];return mC(e,v,r,m),ya(v)?I.none():I.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);GE(c),KE(e)}),vD=(e,n,o,r)=>I.some(()=>{const c=e.selection.getRng(),u=n[0],m=o[o.length-1];mC(e,u,c,!0),mC(e,m,c,!1);const y=ya(u)?n:n.slice(1),v=ya(m)?o:o.slice(0,-1);GE(y.concat(v)),r.deleteContents(),KE(e)}),gC=(e,n,o,r=!0)=>I.some(()=>{wu(e,n,o,r)}),kD=(e,n)=>I.some(()=>na(e,!1,n)),wD=(e,n,o)=>yD(n,o).bind(r=>r.fold(He(gC,e),He(kD,e),He(XE,e),He(vD,e))),_D=(e,n)=>Rk(e,n),CD=(e,n,o,r)=>pC(n,r).fold(()=>wD(e,n,o),c=>_D(e,c)),SD=(e,n,o)=>{const r=ne.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?XE(e,o,I.none()):CD(e,r,c,n)},YE=(e,n)=>Un(Ng(n,e),kr),pC=(e,n)=>Un(Ng(n,e),Ti("caption")),xD=(e,n,o,r,c)=>Pd(o,e.getBody(),c).bind(u=>YE(n,ne.fromDom(u.getNode())).bind(m=>ss(m,r)?I.none():I.some($e))),Rk=(e,n)=>I.some(()=>{S(n),e.selection.setCursorLocation(n.dom,0)}),TD=(e,n,o,r)=>kc(e.dom).bind(c=>li(e.dom).map(u=>n?o.isEqual(c)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(c))).getOr(!0),JE=(e,n)=>Rk(e,n),hC=(e,n,o)=>pC(e,ne.fromDom(o.getNode())).fold(()=>I.some($e),r=>vo(!ss(r,n),$e)),ED=(e,n,o,r,c)=>Pd(o,e.getBody(),c).fold(()=>I.some($e),u=>TD(r,o,c,u)?JE(e,r):hC(n,r,u)),AD=(e,n,o,r)=>{const c=Ie.fromRangeStart(e.selection.getRng());return YE(o,r).bind(u=>ya(u)?Rk(e,u):xD(e,o,n,u,c))},yC=(e,n,o,r)=>{const c=Ie.fromRangeStart(e.selection.getRng());return ya(r)?Rk(e,r):ED(e,o,n,r,c)},bC=(e,n)=>e?wn(n):WO(n),Nk=(e,n)=>{const o=Ie.fromRangeStart(e.selection.getRng());return bC(n,o)||Gu(n,e.getBody(),o).exists(r=>bC(n,r))},QE=(e,n,o)=>{const r=ne.fromDom(e.getBody());return pC(r,o).fold(()=>AD(e,n,r,o).orThunk(()=>vo(Nk(e,n),$e)),c=>yC(e,n,r,c))},vC=(e,n)=>{const o=ne.fromDom(e.selection.getStart(!0)),r=vg(e);return e.selection.isCollapsed()&&r.length===0?QE(e,n,o):SD(e,o,r)},jd=(e,n)=>{let o=n;for(;o&&o!==e;){if(gs(o)||Qo(o))return o;o=o.parentNode}return null},eA=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],tA=Qe.each,By=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const y=x=>{const N={};return tA(n.getAttribs(x),D=>{const L=D.nodeName.toLowerCase();L!=="style"&&!c(L)&&(N[L]=n.getAttrib(x,L))}),N},v=(x,N)=>{for(const D in x)if(yn(x,D)){const L=N[D];if(Nn(L)||x[D]!==L)return!1;delete N[D]}for(const D in N)if(yn(N,D))return!1;return!0};return $t(u)&&$t(m)&&(!v(y(u),y(m))||!v(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!Fi(u)&&!Fi(m)},c=u=>nt(eA,m=>uo(u,m))||o.has(u);return{compare:r,isAttributeInternal:c}},rh=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},nA=(e,n,o,r)=>{const c=o.name;for(let u=0,m=e.length;u<m;u++){const y=e[u];if(y.name===c){const v=r.nodes[c];v?v.nodes.push(o):r.nodes[c]={filter:y,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const y=n[u],v=y.name;if(v in o.attributes.map){const x=r.attributes[v];x?x.nodes.push(o):r.attributes[v]={filter:y,nodes:[o]}}}},VI=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&rh(o,c=>{nA(e,n,c,r)}),r},oA=(e,n)=>{const o=(r,c)=>{it(r,u=>{const m=vs(u.nodes);he(u.filter.callbacks,y=>{for(let v=m.length-1;v>=0;v--){const x=m[v];(!(c?x.attr(u.filter.name)!==void 0:x.name===u.filter.name)||nn(x.parent))&&m.splice(v,1)}m.length>0&&y(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},sA=(e,n,o,r={})=>{const c=VI(e,n,o);oA(c,r)},rA=(e,n,o)=>{if(e.insert&&n(o)){const r=new fi("br",1);r.attr("data-mce-bogus","1"),o.empty().append(r)}else o.empty().append(new fi("#text",3)).value=Pe},Yj=e=>{var n;return zD(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Pe},zD=(e,n)=>{const o=e==null?void 0:e.firstChild;return Le(o)&&o===e.lastChild&&o.name===n},aA=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},ji=(e,n,o,r)=>r.isEmpty(n,o,c=>aA(e,c)),cA=(e,n)=>Le(e)&&(n(e)||e.name==="br"),kC=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return I.from(n)},Mk=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&Mk(c,n,o);e.unwrap()}},lA=(e,n,o,r=$e)=>{const c=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),y=Qe.makeMap("tr,td,th,tbody,thead,tfoot,table"),v=new Set,x=N=>N!==o&&!y[N.name];for(let N=0;N<e.length;N++){const D=e[N];let L,X,Q;if(!D.parent||v.has(D))continue;if(c[D.name]&&D.parent.name==="li"){let J=D.next;for(;J&&c[J.name];){J.name="li",v.add(J),D.parent.insert(J,D.parent);J=J.next}D.unwrap();continue}const q=[D];for(L=D.parent;L&&!n.isValidChild(L.name,D.name)&&x(L);L=L.parent)q.push(L);if(L&&q.length>1)if(n.isValidChild(L.name,D.name)){q.reverse(),X=q[0].clone(),r(X);let J=X;for(let pe=0;pe<q.length-1;pe++){n.isValidChild(J.name,q[pe].name)&&pe>0?(Q=q[pe].clone(),r(Q),J.append(Q)):Q=J;for(let ye=q[pe].firstChild;ye&&ye!==q[pe+1];){const be=ye.next;Q.append(ye),ye=be}J=Q}ji(n,u,m,X)?L.insert(D,q[0],!0):(L.insert(X,q[0],!0),L.insert(D,X)),L=q[0],(ji(n,u,m,L)||zD(L,"br"))&&L.empty().remove()}else Mk(D,n);else if(D.parent){if(D.name==="li"){let J=D.prev;if(J&&(J.name==="ul"||J.name==="ol")){J.append(D);continue}if(J=D.next,J&&(J.name==="ul"||J.name==="ol")&&J.firstChild){J.insert(D,J.firstChild,!0);continue}const pe=new fi("ul",1);r(pe),D.wrap(pe);continue}if(n.isValidChild(D.parent.name,"div")&&n.isValidChild("div",D.name)){const J=new fi("div",1);r(J),D.wrap(J)}else Mk(D,n)}}},OD=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},DD=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&OD(o,"a")),RD=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},iA=e=>{const n=Ie.fromRangeStart(e),o=Ie.fromRangeEnd(e),r=e.commonAncestorContainer;return Gu(!1,r,o).map(c=>!Ii(n,o,r)&&Ii(n,c,r)?RD(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},uA=e=>e.collapsed?e:iA(e),ND=e=>Le(e.firstChild)&&e.firstChild===e.lastChild,UI=e=>e.name==="br"||e.value===Pe,Bk=(e,n)=>e.getBlockElements()[n.name]&&ND(n)&&UI(n.firstChild),MD=(e,n)=>{const o=e.getNonEmptyElements();return Le(n)&&(n.isEmpty(o)||Bk(e,n))},jI=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),MD(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},BD=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},WI=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return BD(c)},ZI=e=>{var n;return Be((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},qI=e=>e.data===Pe||rr(e),GI=e=>Le(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&qI(e.firstChild),KI=e=>!e.firstChild||GI(e),PD=e=>e.length>0&&KI(e[e.length-1])?e.slice(0,-1):e,dA=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},fA=(e,n)=>!!dA(e,n),Py=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},XI=(e,n)=>{const o=Ie.before(e),c=qu(n).next(o);return c?c.toRange():null},$D=(e,n)=>{const o=Ie.after(e),c=qu(n).prev(o);return c?c.toRange():null},wC=(e,n,o,r)=>{const c=Py(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),Qe.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),$D(n[n.length-1],o)},ID=(e,n,o)=>{const r=e.parentNode;return r&&Qe.each(n,c=>{r.insertBefore(c,e)}),XI(e,o)},FD=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),$D(n[0],o)),YI=(e,n,o,r)=>{const c=WI(n,e,r),u=dA(n,o.startContainer),m=PD(ZI(c.firstChild)),y=1,v=2,x=n.getRoot(),N=D=>{const L=Ie.fromRangeStart(o),X=qu(n.getRoot()),Q=D===y?X.prev(L):X.next(L),q=Q==null?void 0:Q.getNode();return q?dA(n,q)!==u:!0};return u?N(y)?ID(u,m,x):N(v)?FD(u,m,x,n):wC(u,m,x,o):null},LD=["pre"],JI=(e,n,o,r)=>{var c;const u=n.firstChild,m=n.lastChild,y=m.attr("data-mce-type")==="bookmark"?m.prev:m,v=u===y,x=Ae(LD,u.name);if(v&&x){const N=u.attr("contenteditable")!=="false",D=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,L=I.from(jd(r,o)).forall(gs);return N&&D&&L}else return!1},Mg=Ja,HD=(e,n,o)=>{if(Le(o)){const r=e.getParent(n.endContainer,Mg);return o===r&&v1(ne.fromDom(o),n)}else return!1},VD=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,u=o.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},UD=(e,n)=>{I.from(e.getParent(n,"td,th")).map(ne.fromDom).each(F)},_C=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),u=By(e);Qe.each(r.select("*[data-mce-fragment]"),m=>{if(Le(o[m.nodeName.toLowerCase()])&&VO(r,m)){for(let v=m.parentElement;Le(v)&&v!==c&&!gI(r,m,v);v=v.parentElement)if(u.compare(v,m)){r.remove(m,!0);break}}})}},jD=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},QI=e=>{Qe.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},WD=e=>!!e.getAttribute("data-mce-fragment"),eF=(e,n)=>Le(n)&&!e.schema.getVoidElements()[n.nodeName],tF=(e,n)=>{var o,r,c;let u;const m=e.dom,y=e.selection;if(!n)return;y.scrollIntoView(n);const v=jd(e.getBody(),n);if(v&&m.getContentEditable(v)==="false"){m.remove(n),y.select(v);return}let x=m.createRng();const N=n.previousSibling;if(mt(N)){x.setStart(N,(r=(o=N.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const X=n.nextSibling;mt(X)&&(N.appendData(X.data),(c=X.parentNode)===null||c===void 0||c.removeChild(X))}else x.setStartBefore(n),x.setEndBefore(n);const D=X=>{let Q=Ie.fromRangeStart(X);return Q=qu(e.getBody()).next(Q),Q==null?void 0:Q.toRange()},L=m.getParent(n,m.isBlock);m.remove(n),L&&m.isEmpty(L)&&(ru(ne.fromDom(L)),x.setStart(L,0),x.setEnd(L,0),!Mg(L)&&!WD(L)&&(u=D(x))?(x=u,m.remove(L)):m.add(L,m.create("br",{"data-mce-bogus":"1"}))),y.setRng(x)},CC=e=>{const n=e.dom,o=uA(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,Mg);HD(n,o,r)?gC(e,o,ne.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&mt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},ZD=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return I.some(n);return I.none()},mA=e=>{he(vs(e.getBody().querySelectorAll("details")),n=>{const o=Be(vs(n.children),r=>r.nodeName==="SUMMARY");o.length>1&&he(o.slice(1),r=>{const c=ne.fromDom(r);Ll(c,"mce-accordion-summary"),Pb(c,"p")})})},nF=(e,n,o)=>{var r,c;const u=e.selection,m=e.dom,y=e.parser,v=o.merge,x=eh({validate:!0},e.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,N);let D=u.getRng();const L=D.startContainer,X=e.getBody();L===X&&u.isCollapsed()&&m.isBlock(X.firstChild)&&eF(e,X.firstChild)&&m.isEmpty(X.firstChild)&&(D=m.createRng(),D.setStart(X.firstChild,0),D.setEnd(X.firstChild,0),u.setRng(D)),u.isCollapsed()||CC(e);const Q=u.getNode(),q={context:Q.nodeName.toLowerCase(),data:o.data,insert:!0},J=y.parse(n,q);if(o.paste===!0&&jI(e.schema,J)&&fA(m,Q))return D=YI(x,m,u.getRng(),J),D&&u.setRng(D),n;o.paste===!0&&JI(m,J,Q,e.getBody())&&((r=J.firstChild)===null||r===void 0||r.unwrap()),jD(J);let pe=J.lastChild;if(pe&&pe.attr("id")==="mce_marker"){const ye=pe;for(pe=pe.prev;pe;pe=pe.walk(!0))if(pe.type===3||!m.isBlock(pe.name)){pe.parent&&e.schema.isValidChild(pe.parent.name,"span")&&pe.parent.insert(ye,pe,pe.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Q),!q.invalid)n=x.serialize(J),VD(e,n,Q);else{e.selection.setContent(N);let ye=u.getNode(),be;const Ce=e.getBody();for(am(ye)?ye=be=Ce:be=ye;be&&be!==Ce;)ye=be,be=be.parentNode;n=ye===Ce?Ce.innerHTML:m.getOuterHTML(ye);const tt=y.parse(n),Ft=ZD(tt),lt=Ft.bind(kC).getOr(tt);Ft.each(Et=>Et.replace(J));const De=J.children(),We=(c=J.parent)!==null&&c!==void 0?c:tt;J.unwrap();const Ct=Be(De,Et=>DD(e.schema,Et,We));lA(Ct,e.schema,lt),sA(y.getNodeFilters(),y.getAttributeFilters(),tt),n=x.serialize(tt),ye===Ce?m.setHTML(Ce,n):m.setOuterHTML(ye,n)}return _C(e,v),tF(e,m.get("mce_marker")),QI(e.getBody()),UD(m,u.getStart()),mA(e),n_(e.schema,e.getBody(),u.getStart()),n},SC=e=>e instanceof fi,qD=e=>{Ay(e)&&kc(e.getBody()).each(n=>{const o=n.getNode(),r=ur(o)?kc(o).getOr(n):n;e.selection.setRng(r.toRange())})},Pk=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&qD(e)},GD=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const u=Rc(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=c,o=e.dom.createHTML(u,Rd(e),o)):o||(o=c),Pk(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=eh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=cp(ne.fromDom(n))?o:Qe.trim(o);return Pk(e,c,r.no_selection),{content:c,html:c}}},oF=(e,n,o,r)=>{sA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=eh({validate:!1},e.schema).serialize(o),u=cp(ne.fromDom(n))?c:Qe.trim(c);return Pk(e,u,r.no_selection),{content:o,html:u}},sF=(e,n,o)=>I.from(e.getBody()).map(r=>SC(n)?oF(e,r,n,o):GD(e,r,n,o)).getOr({content:n,html:SC(o.content)?"":o.content}),rF=(e,n,o)=>R(e,n,o).isSome(),xC=(e,n)=>ce(e,n).isSome(),Nm=e=>ie(e)?e:Ee,aF=(e,n,o)=>{let r=e.dom;const c=Nm(o);for(;r.parentNode;){r=r.parentNode;const u=ne.fromDom(r),m=n(u);if(m.isSome())return m;if(c(u))break}return I.none()},$k=(e,n,o)=>{const r=n(e),c=Nm(o);return r.orThunk(()=>c(e)?I.none():aF(e,n,c))},Br=Xp,TC=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(ii(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},Ik=(e,n,o,r,c)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,y=>TC(e,y,o)?!0:y.parentNode===u||!!Bf(e,y,o,r,!0));return!!Bf(e,m,o,r,c)},Wd=(e,n,o)=>wa(o)&&Br(n,o.inline)||Li(o)&&Br(n,o.block)?!0:ii(o)?$t(n)&&e.is(n,o.selector):!1,gA=(e,n,o,r,c,u)=>{const m=o[r],y=r==="attributes";if(ie(o.onmatch))return o.onmatch(n,o,r);if(m){if($c(m)){for(let v=0;v<m.length;v++)if(y?e.getAttrib(n,m[v]):ql(e,n,m[v]))return!0}else for(const v in m)if(yn(m,v)){const x=y?e.getAttrib(n,v):ql(e,n,v),N=_r(m[v],u),D=nn(x)||Ea(x);if(D&&nn(N))continue;if(c&&D&&!o.exact||(!c||o.exact)&&!Br(x,Wr(N,v)))return!1}}return!0},Bf=(e,n,o,r,c)=>{const u=e.formatter.get(o),m=e.dom;if(u&&$t(n))for(let y=0;y<u.length;y++){const v=u[y];if(Wd(e.dom,n,v)&&gA(m,n,v,"attributes",c,r)&&gA(m,n,v,"styles",c,r)){const x=v.classes;if(x){for(let N=0;N<x.length;N++)if(!e.dom.hasClass(n,_r(x[N],r)))return}return v}}},$y=(e,n,o,r,c)=>{if(r)return Ik(e,r,n,o,c);if(r=e.selection.getNode(),Ik(e,r,n,o,c))return!0;const u=e.selection.getStart();return!!(u!==r&&Ik(e,u,n,o,c))},cF=(e,n,o)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let y=0;y<n.length;y++){const v=n[y];!c[v]&&Bf(e,m,v,o)&&(c[v]=!0,r.push(v))}},e.dom.getRoot()),r},lF=(e,n)=>{const o=c=>ss(c,ne.fromDom(e.getBody())),r=(c,u)=>Bf(e,c.dom,u)?I.some(u):I.none();return I.from(e.selection.getStart(!0)).bind(c=>$k(ne.fromDom(c),u=>la(n,m=>r(u,m)),o)).getOrNull()},V1=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),u=wg(r,c);for(let m=o.length-1;m>=0;m--){const y=o[m];if(!ii(y))return!0;for(let v=u.length-1;v>=0;v--)if(r.is(u[v],y.selector))return!0}}return!1},iF=(e,n,o)=>Bt(o,(r,c)=>{const u=w1(e,c);return e.formatter.matchNode(n,c,{},u)?r.concat([c]):r},[]),Zd=Z,uF=(e,n)=>e.importNode(n,!0),ah=e=>{const n=[];let o=e;for(;o;){if(mt(o)&&o.data!==Zd||o.childNodes.length>1)return[];$t(o)&&n.push(o),o=o.firstChild}return n},_u=e=>ah(e).length>0,Fk=e=>{if(e){const n=new Vr(e,e);for(let o=n.current();o;o=n.next())if(mt(o))return o}return null},Lk=e=>{const n=ne.fromTag("span");return Ka(n,{id:d1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&xr(n,ne.fromText(Zd)),n},dF=e=>{const n=Fk(e);return n&&n.data.charAt(0)===Zd&&n.deleteData(0,1),n},pA=(e,n,o=!0)=>{const r=e.dom,c=e.selection;if(_u(n))na(e,!1,ne.fromDom(n),o);else{const u=c.getRng(),m=r.getParent(n,r.isBlock),y=u.startContainer,v=u.startOffset,x=u.endContainer,N=u.endOffset,D=dF(n);r.remove(n,!0),y===D&&v>0&&u.setStart(D,v-1),x===D&&N>0&&u.setEnd(D,N-1),m&&r.isEmpty(m)&&S(ne.fromDom(m)),c.setRng(u)}},U1=(e,n,o=!0)=>{const r=e.dom,c=e.selection;if(n)pA(e,n,o);else if(n=yg(e.getBody(),c.getStart()),!n)for(;n=r.get(d1);)pA(e,n,o)},fF=(e,n,o)=>{var r,c;const u=e.dom,m=u.getParent(o,He(Q0,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Jw(ne.fromDom(o)),u.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):u.insertAfter(n,o))},Qu=(e,n)=>(e.appendChild(n),n),Hk=(e,n)=>{var o;const r=un(e,(u,m)=>Qu(u,m.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return Qu(r,c.createTextNode(Zd))},KD=(e,n,o,r,c,u)=>{const m=e.formatter,y=e.dom,v=Be(Xo(m.get()),D=>D!==r&&!yo(D,"removeformat")),x=iF(e,o,v);if(Be(x,D=>!T2(e,D,r)).length>0){const D=o.cloneNode(!1);return y.add(n,D),m.remove(r,c,D,u),y.remove(D),I.some(D)}else return I.none()},hA=(e,n,o)=>{let r;const c=e.selection,u=e.formatter.get(n);if(!u)return;const m=c.getRng();let y=m.startOffset;const x=m.startContainer.nodeValue;r=yg(e.getBody(),c.getStart());const N=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(x&&y>0&&y<x.length&&N.test(x.charAt(y))&&N.test(x.charAt(y-1))){const D=c.getBookmark();m.collapse(!0);let L=Hd(e.dom,m,u);L=Co(L),e.formatter.apply(n,o,L),c.moveToBookmark(D)}else{let D=r?Fk(r):null;(!r||(D==null?void 0:D.data)!==Zd)&&(r=uF(e.getDoc(),Lk(!0).dom),D=r.firstChild,m.insertNode(r),y=1),e.formatter.apply(n,o,r),c.setCursorLocation(D,y)}},yA=(e,n,o,r)=>{const c=e.dom,u=e.selection;let m=!1;const y=e.formatter.get(n);if(!y)return;const v=u.getRng(),x=v.startContainer,N=v.startOffset;let D=x;mt(x)&&(N!==x.data.length&&(m=!0),D=D.parentNode);const L=[];let X;for(;D;){if(Bf(e,D,n,o,r)){X=D;break}D.nextSibling&&(m=!0),L.push(D),D=D.parentNode}if(X)if(m){const Q=u.getBookmark();v.collapse(!0);let q=Hd(c,v,y,!0);q=Co(q),e.formatter.remove(n,o,q,r),u.moveToBookmark(Q)}else{const Q=yg(e.getBody(),X),q=Lk(!1).dom;fF(e,q,Q??X);const J=KD(e,q,X,n,o,r),pe=Hk(L.concat(J.toArray()),q);Q&&pA(e,Q,!1),u.setCursorLocation(pe,1),c.isEmpty(X)&&c.remove(X)}},Iy=(e,n,o)=>{const r=e.selection,c=e.getBody();U1(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Zd&&U1(e,yg(c,r.getStart())),(n===37||n===39)&&U1(e,yg(c,r.getStart()))},bA=e=>mt(e)&&qr(e.data,Pe),mF=e=>{e.on("mouseup keydown",n=>{Iy(e,n.keyCode,bA(e.selection.getRng().endContainer))})},vA=e=>{const n=Lk(!1),o=Hk(e,n.dom);return{caretContainer:n,caretPosition:Ie(o,0)}},XD=(e,n)=>{const{caretContainer:o,caretPosition:r}=vA(n);return qc(ne.fromDom(e),o),Uo(ne.fromDom(e)),r},gF=(e,n)=>{const{caretContainer:o,caretPosition:r}=vA(n);return e.insertNode(o.dom),r},YD=(e,n)=>{const o=e.schema.getTextInlineElements();return yn(o,Ns(n))&&!hu(n.dom)&&!Cl(n.dom)},JD=e=>hu(e.dom)&&_u(e.dom),Bg={},QD=Vl(["pre"]),eR=(e,n)=>{Bg[e]||(Bg[e]=[]),Bg[e].push(n)},kA=(e,n)=>{yn(Bg,e)&&he(Bg[e],o=>{o(n)})};eR("pre",e=>{const n=e.selection.getRng(),o=c=>u=>{const m=u.previousSibling;return QD(m)&&Ae(c,m)},r=(c,u)=>{const m=ne.fromDom(u),y=Oi(m).dom;Uo(m),Ms(ne.fromDom(c),[ne.fromTag("br",y),ne.fromTag("br",y),...ga(m)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),u=Be(Be(c,QD),o(c));he(u,m=>{r(m.previousSibling,m)})}});const tR=["fontWeight","fontStyle","color","fontSize","fontFamily"],nR=e=>sn(e.styles)&&nt(Xo(e.styles),n=>Ae(tR,n)),oR=e=>Un(e,n=>wa(n)&&n.inline==="span"&&nR(n)),sR=(e,n)=>{const o=e.get(n);return Vn(o)?oR(o):I.none()},rR=(e,n)=>ja(n,Ie.fromRangeStart(e)).isNone(),aR=(e,n)=>cc(n,Ie.fromRangeEnd(e)).exists(o=>!rr(o.getNode())||cc(n,o).isSome())===!1,cR=e=>n=>hf(n)&&e.isEditable(n),pF=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return rR(o,n[0])&&aR(o,n[0])?n:[];{const r=xn(n).filter(m=>rR(o,m)).toArray(),c=ns(n).filter(m=>aR(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(c)}},hF=e=>Be(pF(e),cR(e.dom)),lR=e=>Be(e.getSelectedBlocks(),cR(e.dom)),wA=Qe.each,_A=e=>$t(e)&&!Fi(e)&&!hu(e)&&!Cl(e),iR=(e,n)=>{for(let o=e;o;o=o[n]){if(mt(o)&&$o(o.data))return e;if($t(o)&&!Fi(o))return o}return e},uR=(e,n,o)=>{const r=By(e),c=$t(n)&&kg(n),u=$t(o)&&kg(o);if(c&&u){const m=iR(n,"previousSibling"),y=iR(o,"nextSibling");if(r.compare(m,y)){for(let v=m.nextSibling;v&&v!==y;){const x=v;v=v.nextSibling,m.appendChild(x)}return e.dom.remove(y),Qe.each(Qe.grep(y.childNodes),v=>{m.appendChild(v)}),m}}return o},dR=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const u=(c=uR(e,x2(r),r))!==null&&c!==void 0?c:r;uR(e,u,x2(u,!0))}},yF=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";wA(e.select(r,o),c=>{_A(c)&&kg(c)&&wA(n.styles,(u,m)=>{e.setStyle(c,m,"")})})}},EC=(e,n,o)=>{wA(e.childNodes,r=>{_A(r)&&(n(r)&&o(r),r.hasChildNodes()&&EC(r,n,o))})},bF=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Fy=(e,n)=>o=>!!(o&&ql(e,o,n)),fR=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),bF(e,r)},Ly=Zu.generate([{keep:[]},{rename:["name"]},{removed:[]}]),vF=/^(src|href|style)$/,CA=Qe.each,Vk=Xp,kF=e=>/^(TR|TH|TD)$/.test(e.nodeName),mR=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),gR=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if($t(r)){const u=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>u?u:c]}return mt(r)&&o&&c>=r.data.length&&(r=new Vr(r,e.getBody()).next()||r),mt(r)&&!o&&c===0&&(r=new Vr(r,e.getBody()).prev()||r),r},pR=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return kF(e)&&r?e.nodeName==="TR"&&r[o]||r:e},SA=(e,n,o,r)=>{var c;const u=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(u,n),u.appendChild(n),u},hR=(e,n,o,r,c)=>{const u=ne.fromDom(n),m=ne.fromDom(e.create(r,c)),y=o?jc(u):qg(u);return Ms(m,y),o?(qc(u,m),tm(m,u)):(wl(u,m),xr(m,u)),m.dom},wF=(e,n)=>n.links&&e.nodeName==="A",yR=(e,n,o)=>{const r=n.parentNode;let c;const u=e.dom,m=Rc(e);Li(o)&&r===u.getRoot()&&(!o.list_block||!Vk(n,o.list_block))&&he(vs(n.childNodes),y=>{Gp(e,m,y.nodeName.toLowerCase())?c?c.appendChild(y):(c=SA(u,y,m),u.setAttribs(c,Rd(e))):c=null}),!(A2(o)&&!Vk(o.inline,n))&&u.remove(n,!0)},bR=(e,n,o)=>Ho(e)?{name:n,value:null}:{name:e,value:_r(n,o)},vR=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},AC=(e,n,o,r,c)=>{let u=!1;CA(o.styles,(m,y)=>{const{name:v,value:x}=bR(y,m,r),N=Wr(x,v);(o.remove_similar||Y(x)||!$t(c)||Vk(ql(e,c,v),N))&&e.setStyle(n,v,""),u=!0}),u&&vR(e,n)},kR=(e,n,o)=>{n==="removeformat"?he(lR(e.selection),r=>{he(tR,c=>e.dom.setStyle(r,c,"")),vR(e.dom,r)}):sR(e.formatter,n).each(r=>{he(lR(e.selection),c=>AC(e.dom,c,r,o,null))})},_F=(e,n,o,r,c)=>{const u=e.dom,m=By(e),y=e.schema;if(wa(n)&&$h(y,n.inline)&&um(y,r)&&r.parentElement===e.getBody())return yR(e,r,n),Ly.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!Wd(u,r,n)&&!wF(r,n))return Ly.keep();const v=r,x=n.preserve_attributes;if(wa(n)&&n.remove==="all"&&Vn(x)){const N=Be(u.getAttribs(v),D=>Ae(x,D.name.toLowerCase()));if(u.removeAllAttribs(v),he(N,D=>u.setAttrib(v,D.name,D.value)),N.length>0)return Ly.rename("span")}if(n.remove!=="all"){AC(u,v,n,o,c),CA(n.attributes,(D,L)=>{const{name:X,value:Q}=bR(L,D,o);if(n.remove_similar||Y(Q)||!$t(c)||Vk(u.getAttrib(c,X),Q)){if(X==="class"){const q=u.getAttrib(v,X);if(q){let J="";if(he(q.split(/\s+/),pe=>{/mce\-\w+/.test(pe)&&(J+=(J?" ":"")+pe)}),J){u.setAttrib(v,X,J);return}}}if(vF.test(X)&&v.removeAttribute("data-mce-"+X),X==="style"&&Vl(["li"])(v)&&u.getStyle(v,"list-style-type")==="none"){v.removeAttribute(X),u.setStyle(v,"list-style-type","none");return}X==="class"&&v.removeAttribute("className"),v.removeAttribute(X)}}),CA(n.classes,D=>{D=_r(D,o),(!$t(c)||u.hasClass(c,D))&&u.removeClass(v,D)});const N=u.getAttribs(v);for(let D=0;D<N.length;D++){const L=N[D].nodeName;if(!m.isAttributeInternal(L))return Ly.keep()}}return n.remove!=="none"?(yR(e,v,n),Ly.removed()):Ly.keep()},Uk=(e,n,o,r,c)=>{let u;return n.parentNode&&he(wg(e.dom,n.parentNode).reverse(),m=>{if(!u&&$t(m)&&m.id!=="_start"&&m.id!=="_end"){const y=Bf(e,m,o,r,c);y&&y.split!==!1&&(u=m)}}),u},wR=(e,n,o,r)=>_F(e,n,o,r,r).fold(Ke(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),Ke(null)),jk=(e,n,o,r,c,u,m,y)=>{var v,x;let N,D;const L=e.dom;if(o){const X=o.parentNode;for(let Q=r.parentNode;Q&&Q!==X;Q=Q.parentNode){let q=L.clone(Q,!1);for(let J=0;J<n.length&&(q=wR(e,n[J],y,q),q!==null);J++);q&&(N&&q.appendChild(N),D||(D=q),N=q)}u&&(!m.mixed||!L.isBlock(o))&&(r=(v=L.split(o,r))!==null&&v!==void 0?v:r),N&&D&&((x=c.parentNode)===null||x===void 0||x.insertBefore(N,c),D.appendChild(c),wa(m)&&dR(e,m,y,N))}return r},Wk=(e,n,o,r,c)=>{const u=e.formatter.get(n),m=u[0],y=e.dom,v=e.selection,x=q=>{const J=Uk(e,q,n,o,c);return jk(e,u,J,q,q,!0,m,o)},N=q=>Fi(q)&&$t(q)&&(q.id==="_start"||q.id==="_end"),D=q=>nt(u,J=>zC(e,J,o,q,q)),L=q=>{const J=vs(q.childNodes),ye=D(q)||nt(u,tt=>Wd(y,q,tt)),be=q.parentNode;if(!ye&&Le(be)&&_1(m)&&D(be),m.deep&&J.length)for(let tt=0;tt<J.length;tt++)L(J[tt]);he(["underline","line-through","overline"],tt=>{$t(q)&&e.dom.getStyle(q,"text-decoration")===tt&&q.parentNode&&tk(y,q.parentNode)===tt&&zC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:tt}},void 0,q)})},X=q=>{const J=y.get(q?"_start":"_end");if(J){let pe=J[q?"firstChild":"lastChild"];return N(pe)&&(pe=pe[q?"firstChild":"lastChild"]),mt(pe)&&pe.data.length===0&&(pe=q?J.previousSibling||J.nextSibling:J.nextSibling||J.previousSibling),y.remove(J,!0),pe}else return null},Q=q=>{let J,pe,ye=Hd(y,q,u,q.collapsed);if(m.split){if(ye=Co(ye),J=gR(e,ye,!0),pe=gR(e,ye),J!==pe){if(J=pR(J,!0),pe=pR(pe,!1),mR(y,J,pe)){const Ce=I.from(J.firstChild).getOr(J);x(hR(y,Ce,!0,"span",{id:"_start","data-mce-type":"bookmark"})),X(!0);return}if(mR(y,pe,J)){const Ce=I.from(pe.lastChild).getOr(pe);x(hR(y,Ce,!1,"span",{id:"_end","data-mce-type":"bookmark"})),X(!1);return}J=SA(y,J,"span",{id:"_start","data-mce-type":"bookmark"}),pe=SA(y,pe,"span",{id:"_end","data-mce-type":"bookmark"});const be=y.createRng();be.setStartAfter(J),be.setEndBefore(pe),Zr(y,be,Ce=>{he(Ce,tt=>{!Fi(tt)&&!Fi(tt.parentNode)&&x(tt)})}),x(J),x(pe),J=X(!0),pe=X()}else J=pe=x(J);ye.startContainer=J.parentNode?J.parentNode:J,ye.startOffset=y.nodeIndex(J),ye.endContainer=pe.parentNode?pe.parentNode:pe,ye.endOffset=y.nodeIndex(pe)+1}Zr(y,ye,be=>{he(be,L)})};if(r){if(hy(r)){const q=y.createRng();q.setStartBefore(r),q.setEndAfter(r),Q(q)}else Q(r);L2(e,n,r,o);return}!v.isCollapsed()||!wa(m)||vg(e).length?(S2(e,()=>Y0(e,Q),q=>wa(m)&&$y(e,n,o,q)),e.nodeChanged()):yA(e,n,o,c),kR(e,n,o),L2(e,n,r,o)},xA=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&Wk(e,n,o,r,c)},zC=(e,n,o,r,c)=>_F(e,n,o,r,c).fold(Ee,u=>(e.dom.rename(r,u),!0),Je),_R=Qe.each,Jj=(e,n,o,r)=>{const c=u=>{if($t(u)&&$t(u.parentNode)&&kg(u)){const m=tk(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Qe.walk(r,c,"childNodes"),c(r))},CF=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=Fy(e,"fontSize");EC(r,u=>c(u)&&kg(u),fR(e,"backgroundColor",_r(n.styles.backgroundColor,o)))}},SF=(e,n,o,r)=>{if(wa(n)&&(n.inline==="sub"||n.inline==="sup")){const c=Fy(e,"fontSize");EC(r,m=>c(m)&&kg(m),fR(e,"fontSize",""));const u=Be(e.select(n.inline==="sup"?"sub":"sup",r),kg);e.remove(u,!0)}},Qj=(e,n,o,r)=>{_R(n,c=>{wa(c)&&_R(e.dom.select(c.inline,r),u=>{_A(u)&&zC(e,c,o,u,c.exact?u:null)}),yF(e.dom,c,r)})},xF=(e,n,o,r,c)=>{const u=c.parentNode;Bf(e,u,o,r)&&zC(e,n,r,c)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>Bf(e,m,o,r)?(zC(e,n,r,c),!0):!1)},Zk=Qe.each,TF=(e,n,o,r)=>{if(X_(e)&&wa(n)&&o.parentNode){const c=Sd(e.schema),u=xC(ne.fromDom(o),m=>hu(m.dom));return br(c,r)&&ya(ne.fromDom(o.parentNode),!1)&&!u}else return!1},TA=(e,n,o,r)=>{if(Zk(o.styles,(c,u)=>{e.setStyle(n,u,_r(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},EF=(e,n,o,r)=>{const c=e.formatter.get(n),u=c[0],m=!r&&e.selection.isCollapsed(),y=e.dom,v=e.selection,x=(Q,q=u)=>{ie(q.onformat)&&q.onformat(Q,q,o,r),TA(y,Q,q,o),Zk(q.attributes,(J,pe)=>{y.setAttrib(Q,pe,_r(J,o))}),Zk(q.classes,J=>{const pe=_r(J,o);y.hasClass(Q,pe)||y.addClass(Q,pe)})},N=(Q,q)=>{let J=!1;return Zk(Q,pe=>ii(pe)?y.getContentEditable(q)==="false"&&!pe.ceFalseOverride||Le(pe.collapsed)&&pe.collapsed!==m?!0:y.is(q,pe.selector)&&!hu(q)?(x(q,pe),J=!0,!1):!0:!1),J},D=Q=>{if(re(Q)){const q=y.create(Q);return x(q),q}else return null},L=(Q,q,J)=>{const pe=[];let ye=!0;const be=u.inline||u.block,Ce=D(be),tt=De=>YT(u)&&Bf(e,De,n,o),Ft=(De,We,Ct)=>{const Et=E2(u)&&Q0(e.schema,De)&&Gp(e,We,be);return Ct&&Et},lt=(De,We,Ct,Et)=>{const jt=De.nodeName.toLowerCase(),Rn=Gp(e,be,jt)&&Gp(e,We,be),Tn=!J&&mt(De)&&ue(De.data),Bo=hu(De),cs=!wa(u)||!Q.isBlock(De);return(Ct||Et)&&Rn&&!Tn&&!Bo&&cs};Zr(Q,q,De=>{let We;const Ct=Et=>{let jt=!1,Rn=ye,Tn=!1;const Bo=Et.parentNode,cs=Bo.nodeName.toLowerCase(),fs=Q.getContentEditable(Et);Le(fs)&&(Rn=ye,ye=fs==="true",jt=!0,Tn=Pt(e,Et));const $r=ye&&!jt;if(rr(Et)&&!TF(e,u,Et,cs)){We=null,Li(u)&&Q.remove(Et);return}if(tt(Et)){We=null;return}if(Ft(Et,cs,$r)){const Za=Q.rename(Et,be);x(Za),pe.push(Za),We=null;return}if(ii(u)){let Za=N(c,Et);if(!Za&&Le(Bo)&&_1(u)&&(Za=N(c,Bo)),!wa(u)||Za){We=null;return}}Le(Ce)&&lt(Et,cs,$r,Tn)?(We||(We=Q.clone(Ce,!1),Bo.insertBefore(We,Et),pe.push(We)),Tn&&jt&&(ye=Rn),We.appendChild(Et)):(We=null,he(vs(Et.childNodes),Ct),jt&&(ye=Rn),We=null)};he(De,Ct)}),u.links===!0&&he(pe,De=>{const We=Ct=>{Ct.nodeName==="A"&&x(Ct,u),he(vs(Ct.childNodes),We)};We(De)}),he(pe,De=>{const We=jt=>{let Rn=0;return he(jt.childNodes,Tn=>{!Kp(Tn)&&!Fi(Tn)&&Rn++}),Rn},Ct=jt=>Un(jt.childNodes,J0).filter(Tn=>Q.getContentEditable(Tn)!=="false"&&Wd(Q,Tn,u)).map(Tn=>{const Bo=Q.clone(Tn,!1);return x(Bo),Q.replace(Bo,jt,!0),Q.remove(Tn,!0),Bo}).getOr(jt),Et=We(De);if((pe.length>1||!Q.isBlock(De))&&Et===0){Q.remove(De,!0);return}(wa(u)||Li(u)&&u.wrapper)&&(!u.exact&&Et===1&&(De=Ct(De)),Qj(e,c,o,De),xF(e,u,n,o,De),CF(Q,u,o,De),Jj(Q,u,o,De),SF(Q,u,o,De),dR(e,u,o,De))})},X=hy(r)?r:v.getNode();if(y.getContentEditable(X)==="false"&&!Pt(e,X)){r=X,N(c,r),dk(e,n,r,o);return}if(u){if(r)if(hy(r)){if(!N(c,r)){const Q=y.createRng();Q.setStartBefore(r),Q.setEndAfter(r),L(y,Hd(y,Q,c),!0)}}else L(y,r,!0);else!m||!wa(u)||vg(e).length?(v.setRng(uA(v.getRng())),S2(e,()=>{Y0(e,(Q,q)=>{const J=q?Q:Hd(y,Q,c);L(y,J,!1)})},Je),e.nodeChanged()):hA(e,n,o),sR(e.formatter,n).each(Q=>{he(hF(e.selection),q=>TA(y,q,Q,o))});kA(n,e)}dk(e,n,r,o)},qk=(e,n,o,r)=>{(r||e.selection.isEditable())&&EF(e,n,o,r)},EA=e=>yn(e,"vars"),Wa=(e,n)=>{e.set({}),n.on("NodeChange",o=>{DF(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=I.from(o.node).map(c=>hy(c)?c:c.startContainer).bind(c=>$t(c)?I.some(c):I.from(c.parentElement)).getOrThunk(()=>AF(n));DF(n,r,e.get())})},AF=e=>e.selection.getStart(),zF=(e,n,o,r,c)=>go(n,y=>{const v=e.formatter.matchNode(y,o,c??{},r);return!Nn(v)},y=>TC(e,y,o)?!0:r?!1:Le(e.formatter.matchNode(y,o,c,!0))),OF=(e,n)=>{const o=n??AF(e);return Be(wg(e.dom,o),r=>$t(r)&&!Cl(r))},DF=(e,n,o)=>{const r=OF(e,n);it(o,(c,u)=>{const m=y=>{const v=zF(e,r,u,y.similar,EA(y)?y.vars:void 0),x=v.isSome();if(y.state.get()!==x){y.state.set(x);const N=v.getOr(n);EA(y)?y.callback(x,{node:N,format:u,parents:r}):he(y.callbacks,D=>D(x,{node:N,format:u,parents:r}))}};he([c.withSimilar,c.withoutSimilar],m),he(c.withVars,m)})},qd=(e,n,o,r,c,u)=>{const m=n.get();he(o.split(","),y=>{const v=Vo(m,y).getOrThunk(()=>{const N={withSimilar:{state:Ra(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ra(!1),similar:!1,callbacks:[]},withVars:[]};return m[y]=N,N}),x=()=>{const N=OF(e);return zF(e,N,y,c,u).isSome()};if(Nn(u)){const N=c?v.withSimilar:v.withoutSimilar;N.callbacks.push(r),N.callbacks.length===1&&N.state.set(x())}else v.withVars.push({state:Ra(x()),similar:c,vars:u,callback:r})}),n.set(m)},OC=(e,n,o)=>{const r=e.get();he(n.split(","),c=>Vo(r,c).each(u=>{r[c]={withSimilar:{...u.withSimilar,callbacks:Be(u.withSimilar.callbacks,m=>m!==o)},withoutSimilar:{...u.withoutSimilar,callbacks:Be(u.withoutSimilar.callbacks,m=>m!==o)},withVars:Be(u.withVars,m=>m.callback!==o)}})),e.set(r)},ch=(e,n,o,r,c,u)=>(qd(e,n,o,r,c,u),{unbind:()=>OC(n,o,r)}),lh=(e,n,o,r)=>{const c=e.formatter.get(n);c&&($y(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?xA(e,n,o,r):qk(e,n,o,r))},CR=Qe.explode,SR=()=>{const e={};return{addFilter:(c,u)=>{he(CR(c),m=>{yn(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>ia(e),removeFilter:(c,u)=>{he(CR(c),m=>{if(yn(e,m))if(Le(u)){const y=e[m],v=Be(y.callbacks,x=>x!==u);v.length>0?y.callbacks=v:delete e[m]}else delete e[m]})}}},j1=(e,n)=>{he(n,o=>{e.attr(o,null)})},W1=(e,n,o)=>{e.addNodeFilter("font",r=>{he(r,c=>{const u=n.parse(c.attr("style")),m=c.attr("color"),y=c.attr("face"),v=c.attr("size");m&&(u.color=m),y&&(u["font-family"]=y),v&&Pl(v).each(x=>{u["font-size"]=o[x-1]}),c.name="span",c.attr("style",n.serialize(u)),j1(c,["color","face","size"])})})},Z1=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";he(r,u=>{if(c)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},RF=(e,n,o)=>{var r;const c=Eb();n.convert_fonts_to_spans&&W1(e,c,Qe.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),Z1(e,o,c)},AA=(e,n,o)=>{n.inline_styles&&RF(e,n,o)},zA=(e,n)=>{e.addNodeFilter("br",(o,r,c)=>{const u=Qe.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),y=n.getWhitespaceElements();u.body=1;const v=x=>x.name in u&&es(n,x);for(let x=0,N=o.length;x<N;x++){let D=o[x],L=D.parent;if(L&&u[L.name]&&D===L.lastChild){let X=D.prev;for(;X;){const Q=X.name;if(Q!=="span"||X.attr("data-mce-type")!=="bookmark"){Q==="br"&&(D=null);break}X=X.prev}if(D&&(D.remove(),ji(n,m,y,L))){const Q=n.getElementRule(L.name);Q&&(Q.removeEmpty?L.remove():Q.paddEmpty&&rA(c,v,L))}}else{let X=D;for(;L&&L.firstChild===X&&L.lastChild===X&&(X=L,!u[L.name]);)L=L.parent;if(X===L){const Q=new fi("#text",3);Q.value=Pe,D.replace(Q)}}}})},xR=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),NF=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},OA=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const u=c[2]===";base64",m=u?NF(r):decodeURIComponent(r);return I.some({type:c[1],data:m,base64Encoded:u})}else return I.none()},DA=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return I.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return I.some(new Blob([c],{type:e}))},MF=e=>new Promise((n,o)=>{OA(e).bind(({type:r,data:c,base64Encoded:u})=>DA(r,c,u)).fold(()=>o("Invalid data URI"),n)}),BF=e=>uo(e,"blob:")?xR(e):uo(e,"data:")?MF(e):Promise.reject("Unknown URI format"),TR=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let PF=0;const $F=e=>(e||"blobid")+PF++,RA=(e,n,o)=>OA(e).bind(({data:r,type:c,base64Encoded:u})=>{if(n&&!u)return I.none();{const m=u?r:btoa(r);return o(m,c)}}),ER=(e,n,o)=>{const r=e.create($F(),n,o);return e.add(r),r},q1=(e,n,o=!1)=>RA(n,o,(r,c)=>I.from(e.getByData(r,c)).orThunk(()=>DA(c,r).map(u=>ER(e,u,r)))),AR=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(uo(n,"blob:")){const r=e.getByUri(n);return Le(r)?Promise.resolve(r):BF(n).then(c=>TR(c).then(u=>RA(u,!1,m=>I.some(ER(e,c,m))).getOrThunk(o)))}else return uo(n,"data:")?q1(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},IF=e=>Le(e.attr("data-mce-bogus")),zR=e=>e.attr("src")===To.transparentSrc||Le(e.attr("data-mce-placeholder")),FF=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const u=c.attr("src");zR(c)||IF(c)||nn(u)||q1(o,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>he(c,r))}},OR=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&zA(e,o),e.addAttributeFilter("href",c=>{let u=c.length;const m=v=>v.split(" ").filter(N=>N.length>0).concat(["noopener"]).sort().join(" "),y=v=>{const x=v?Qe.trim(v):"";return/\b(noopener)\b/g.test(x)?x:m(x)};if(!n.allow_unsafe_link_target)for(;u--;){const v=c[u];v.name==="a"&&v.attr("target")==="_blank"&&v.attr("rel",y(v.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",c=>{let u=c.length,m,y,v,x;for(;u--;)if(x=c[u],x.name==="a"&&x.firstChild&&!x.attr("href"))for(v=x.parent,m=x.lastChild;m&&v;)y=m.prev,v.insert(m,x),m=y}),n.fix_list_elements&&e.addNodeFilter("ul,ol",c=>{let u=c.length,m,y;for(;u--;)if(m=c[u],y=m.parent,y&&(y.name==="ul"||y.name==="ol"))if(m.prev&&m.prev.name==="li")m.prev.append(m);else{const v=new fi("li",1);v.attr("style","list-style-type: none"),m.wrap(v)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",c=>{var u;let m=c.length;for(;m--;){const y=c[m],v=(u=y.attr("class"))!==null&&u!==void 0?u:"",x=Qe.explode(v," ");let N="";for(let D=0;D<x.length;D++){const L=x[D];let X=!1,Q=r["*"];Q&&Q[L]&&(X=!0),Q=r[y.name],!X&&Q&&Q[L]&&(X=!0),X&&(N&&(N+=" "),N+=L)}N.length||(N=null),y.attr("class",N)}}),FF(e,n)};function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hy(e)}function NA(e,n){return NA=Object.setPrototypeOf||function(r,c){return r.__proto__=c,r},NA(e,n)}function DR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gk(e,n,o){return DR()?Gk=Reflect.construct:Gk=function(c,u,m){var y=[null];y.push.apply(y,u);var v=Function.bind.apply(c,y),x=new v;return m&&NA(x,m.prototype),x},Gk.apply(null,arguments)}function Gd(e){return RR(e)||NR(e)||MR(e)||LF()}function RR(e){if(Array.isArray(e))return MA(e)}function NR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MR(e,n){if(e){if(typeof e=="string")return MA(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return MA(e,n)}}function MA(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function LF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var HF=Object.hasOwnProperty,DC=Object.setPrototypeOf,Kk=Object.isFrozen,BR=Object.getPrototypeOf,PR=Object.getOwnPropertyDescriptor,Dl=Object.freeze,Mm=Object.seal,VF=Object.create,Pg=typeof Reflect<"u"&&Reflect,G1=Pg.apply,RC=Pg.construct;G1||(G1=function(n,o,r){return n.apply(o,r)}),Dl||(Dl=function(n){return n}),Mm||(Mm=function(n){return n}),RC||(RC=function(n,o){return Gk(n,Gd(o))});var Xk=Kd(Array.prototype.forEach),$R=Kd(Array.prototype.pop),Vy=Kd(Array.prototype.push),Yk=Kd(String.prototype.toLowerCase),IR=Kd(String.prototype.match),ih=Kd(String.prototype.replace),UF=Kd(String.prototype.indexOf),jF=Kd(String.prototype.trim),Yl=Kd(RegExp.prototype.test),BA=WF(TypeError);function Kd(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return G1(e,n,r)}}function WF(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return RC(e,o)}}function Is(e,n){DC&&DC(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var c=Yk(r);c!==r&&(Kk(n)||(n[o]=c),r=c)}e[r]=!0}return e}function Uy(e){var n=VF(null),o;for(o in e)G1(HF,e,[o])&&(n[o]=e[o]);return n}function K1(e,n){for(;e!==null;){var o=PR(e,n);if(o){if(o.get)return Kd(o.get);if(typeof o.value=="function")return Kd(o.value)}e=BR(e)}function r(c){return console.warn("fallback value for",c),null}return r}var pl=Dl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),PA=Dl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X1=Dl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jy=Dl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),NC=Dl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Wi=Dl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),uh=Dl(["#text"]),$A=Dl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),IA=Dl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FA=Dl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),MC=Dl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FR=Mm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jk=Mm(/<%[\w\W]*|[\w\W]*%>/gm),LA=Mm(/^data-[\-\w.\u00B7-\uFFFF]/),ZF=Mm(/^aria-[\-\w]+$/),LR=Mm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qF=Mm(/^(?:\w+script|data):/i),HA=Mm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),VA=Mm(/^html$/i),UA=function(){return typeof window>"u"?null:window},HR=function(n,o){if(Hy(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,c="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(c)&&(r=o.currentScript.getAttribute(c));var u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML:function(y){return y}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function jA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UA(),n=function(Ne){return jA(Ne)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,c=e.DocumentFragment,u=e.HTMLTemplateElement,m=e.Node,y=e.Element,v=e.NodeFilter,x=e.NamedNodeMap,N=x===void 0?e.NamedNodeMap||e.MozNamedAttrMap:x,D=e.HTMLFormElement,L=e.DOMParser,X=e.trustedTypes,Q=y.prototype,q=K1(Q,"cloneNode"),J=K1(Q,"nextSibling"),pe=K1(Q,"childNodes"),ye=K1(Q,"parentNode");if(typeof u=="function"){var be=r.createElement("template");be.content&&be.content.ownerDocument&&(r=be.content.ownerDocument)}var Ce=HR(X,o),tt=Ce?Ce.createHTML(""):"",Ft=r,lt=Ft.implementation,De=Ft.createNodeIterator,We=Ft.createDocumentFragment,Ct=Ft.getElementsByTagName,Et=o.importNode,jt={};try{jt=Uy(r).documentMode?r.documentMode:{}}catch{}var Rn={};n.isSupported=typeof ye=="function"&&lt&&typeof lt.createHTMLDocument<"u"&&jt!==9;var Tn=FR,Bo=Jk,cs=LA,fs=ZF,$r=qF,Za=HA,kt=LR,qt=null,No=Is({},[].concat(Gd(pl),Gd(PA),Gd(X1),Gd(NC),Gd(uh))),Mo=null,Qt=Is({},[].concat(Gd($A),Gd(IA),Gd(FA),Gd(MC))),Kt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pt=null,An=null,ao=!0,Ts=!0,ar=!1,pn=!1,Po=!1,Hs=!1,Vs=!1,$n=!1,cr=!1,Ws=!1,sa=!0,Xi=!0,_c=!1,jf={},gi=null,db=Is({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_h=null,nf=Is({},["audio","video","img","source","image","track"]),Ou=null,Sa=Is({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pi="http://www.w3.org/1998/Math/MathML",Wf="http://www.w3.org/2000/svg",od="http://www.w3.org/1999/xhtml",sd=od,Um=!1,yl,jg=["application/xhtml+xml","text/html"],jm="text/html",of,Ch=null,_x=r.createElement("form"),Cx=function(Ne){return Ne instanceof RegExp||Ne instanceof Function},Sx=function(Ne){Ch&&Ch===Ne||((!Ne||Hy(Ne)!=="object")&&(Ne={}),Ne=Uy(Ne),qt="ALLOWED_TAGS"in Ne?Is({},Ne.ALLOWED_TAGS):No,Mo="ALLOWED_ATTR"in Ne?Is({},Ne.ALLOWED_ATTR):Qt,Ou="ADD_URI_SAFE_ATTR"in Ne?Is(Uy(Sa),Ne.ADD_URI_SAFE_ATTR):Sa,_h="ADD_DATA_URI_TAGS"in Ne?Is(Uy(nf),Ne.ADD_DATA_URI_TAGS):nf,gi="FORBID_CONTENTS"in Ne?Is({},Ne.FORBID_CONTENTS):db,pt="FORBID_TAGS"in Ne?Is({},Ne.FORBID_TAGS):{},An="FORBID_ATTR"in Ne?Is({},Ne.FORBID_ATTR):{},jf="USE_PROFILES"in Ne?Ne.USE_PROFILES:!1,ao=Ne.ALLOW_ARIA_ATTR!==!1,Ts=Ne.ALLOW_DATA_ATTR!==!1,ar=Ne.ALLOW_UNKNOWN_PROTOCOLS||!1,pn=Ne.SAFE_FOR_TEMPLATES||!1,Po=Ne.WHOLE_DOCUMENT||!1,$n=Ne.RETURN_DOM||!1,cr=Ne.RETURN_DOM_FRAGMENT||!1,Ws=Ne.RETURN_TRUSTED_TYPE||!1,Vs=Ne.FORCE_BODY||!1,sa=Ne.SANITIZE_DOM!==!1,Xi=Ne.KEEP_CONTENT!==!1,_c=Ne.IN_PLACE||!1,kt=Ne.ALLOWED_URI_REGEXP||kt,sd=Ne.NAMESPACE||od,Ne.CUSTOM_ELEMENT_HANDLING&&Cx(Ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Kt.tagNameCheck=Ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ne.CUSTOM_ELEMENT_HANDLING&&Cx(Ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Kt.attributeNameCheck=Ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ne.CUSTOM_ELEMENT_HANDLING&&typeof Ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Kt.allowCustomizedBuiltInElements=Ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),yl=jg.indexOf(Ne.PARSER_MEDIA_TYPE)===-1?yl=jm:yl=Ne.PARSER_MEDIA_TYPE,of=yl==="application/xhtml+xml"?function(Xt){return Xt}:Yk,pn&&(Ts=!1),cr&&($n=!0),jf&&(qt=Is({},Gd(uh)),Mo=[],jf.html===!0&&(Is(qt,pl),Is(Mo,$A)),jf.svg===!0&&(Is(qt,PA),Is(Mo,IA),Is(Mo,MC)),jf.svgFilters===!0&&(Is(qt,X1),Is(Mo,IA),Is(Mo,MC)),jf.mathMl===!0&&(Is(qt,NC),Is(Mo,FA),Is(Mo,MC))),Ne.ADD_TAGS&&(qt===No&&(qt=Uy(qt)),Is(qt,Ne.ADD_TAGS)),Ne.ADD_ATTR&&(Mo===Qt&&(Mo=Uy(Mo)),Is(Mo,Ne.ADD_ATTR)),Ne.ADD_URI_SAFE_ATTR&&Is(Ou,Ne.ADD_URI_SAFE_ATTR),Ne.FORBID_CONTENTS&&(gi===db&&(gi=Uy(gi)),Is(gi,Ne.FORBID_CONTENTS)),Xi&&(qt["#text"]=!0),Po&&Is(qt,["html","head","body"]),qt.table&&(Is(qt,["tbody"]),delete pt.tbody),Dl&&Dl(Ne),Ch=Ne)},Kz=Is({},["mi","mo","mn","ms","mtext"]),Xz=Is({},["foreignobject","desc","title","annotation-xml"]),Yz=Is({},["title","style","font","a","script"]),sf=Is({},PA);Is(sf,X1),Is(sf,jy);var fb=Is({},NC);Is(fb,Wi);var xe=function(Ne){var Xt=ye(Ne);(!Xt||!Xt.tagName)&&(Xt={namespaceURI:od,tagName:"template"});var Ln=Yk(Ne.tagName),ra=Yk(Xt.tagName);return Ne.namespaceURI===Wf?Xt.namespaceURI===od?Ln==="svg":Xt.namespaceURI===pi?Ln==="svg"&&(ra==="annotation-xml"||Kz[ra]):!!sf[Ln]:Ne.namespaceURI===pi?Xt.namespaceURI===od?Ln==="math":Xt.namespaceURI===Wf?Ln==="math"&&Xz[ra]:!!fb[Ln]:Ne.namespaceURI===od?Xt.namespaceURI===Wf&&!Xz[ra]||Xt.namespaceURI===pi&&!Kz[ra]?!1:!fb[Ln]&&(Yz[Ln]||!sf[Ln]):!1},Te=function(Ne){Vy(n.removed,{element:Ne});try{Ne.parentNode.removeChild(Ne)}catch{try{Ne.outerHTML=tt}catch{Ne.remove()}}},wt=function(Ne,Xt){try{Vy(n.removed,{attribute:Xt.getAttributeNode(Ne),from:Xt})}catch{Vy(n.removed,{attribute:null,from:Xt})}if(Xt.removeAttribute(Ne),Ne==="is"&&!Mo[Ne])if($n||cr)try{Te(Xt)}catch{}else try{Xt.setAttribute(Ne,"")}catch{}},gt=function(Ne){var Xt,Ln;if(Vs)Ne="<remove></remove>"+Ne;else{var ra=IR(Ne,/^[\r\n\t ]+/);Ln=ra&&ra[0]}yl==="application/xhtml+xml"&&(Ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ne+"</body></html>");var hi=Ce?Ce.createHTML(Ne):Ne;if(sd===od)try{Xt=new L().parseFromString(hi,yl)}catch{}if(!Xt||!Xt.documentElement){Xt=lt.createDocument(sd,"template",null);try{Xt.documentElement.innerHTML=Um?"":hi}catch{}}var yi=Xt.body||Xt.documentElement;return Ne&&Ln&&yi.insertBefore(r.createTextNode(Ln),yi.childNodes[0]||null),sd===od?Ct.call(Xt,Po?"html":"body")[0]:Po?Xt.documentElement:yi},fn=function(Ne){return De.call(Ne.ownerDocument||Ne,Ne,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Do=function(Ne){return Ne instanceof D&&(typeof Ne.nodeName!="string"||typeof Ne.textContent!="string"||typeof Ne.removeChild!="function"||!(Ne.attributes instanceof N)||typeof Ne.removeAttribute!="function"||typeof Ne.setAttribute!="function"||typeof Ne.namespaceURI!="string"||typeof Ne.insertBefore!="function")},Js=function(Ne){return Hy(m)==="object"?Ne instanceof m:Ne&&Hy(Ne)==="object"&&typeof Ne.nodeType=="number"&&typeof Ne.nodeName=="string"},Cc=function(Ne,Xt,Ln){Rn[Ne]&&Xk(Rn[Ne],function(ra){ra.call(n,Xt,Ln,Ch)})},Pc=function(Ne){var Xt;if(Cc("beforeSanitizeElements",Ne,null),Do(Ne)||Yl(/[\u0080-\uFFFF]/,Ne.nodeName))return Te(Ne),!0;var Ln=of(Ne.nodeName);if(Cc("uponSanitizeElement",Ne,{tagName:Ln,allowedTags:qt}),Ne.hasChildNodes()&&!Js(Ne.firstElementChild)&&(!Js(Ne.content)||!Js(Ne.content.firstElementChild))&&Yl(/<[/\w]/g,Ne.innerHTML)&&Yl(/<[/\w]/g,Ne.textContent)||Ln==="select"&&Yl(/<template/i,Ne.innerHTML))return Te(Ne),!0;if(!qt[Ln]||pt[Ln]){if(!pt[Ln]&&Dv(Ln)&&(Kt.tagNameCheck instanceof RegExp&&Yl(Kt.tagNameCheck,Ln)||Kt.tagNameCheck instanceof Function&&Kt.tagNameCheck(Ln)))return!1;if(Xi&&!gi[Ln]){var ra=ye(Ne)||Ne.parentNode,hi=pe(Ne)||Ne.childNodes;if(hi&&ra)for(var yi=hi.length,Ql=yi-1;Ql>=0;--Ql)ra.insertBefore(q(hi[Ql],!0),J(Ne))}return Te(Ne),!0}return Ne instanceof y&&!xe(Ne)||(Ln==="noscript"||Ln==="noembed")&&Yl(/<\/no(script|embed)/i,Ne.innerHTML)?(Te(Ne),!0):(pn&&Ne.nodeType===3&&(Xt=Ne.textContent,Xt=ih(Xt,Tn," "),Xt=ih(Xt,Bo," "),Ne.textContent!==Xt&&(Vy(n.removed,{element:Ne.cloneNode()}),Ne.textContent=Xt)),Cc("afterSanitizeElements",Ne,null),!1)},Ov=function(Ne,Xt,Ln){if(sa&&(Xt==="id"||Xt==="name")&&(Ln in r||Ln in _x))return!1;if(!(Ts&&!An[Xt]&&Yl(cs,Xt))){if(!(ao&&Yl(fs,Xt))){if(!Mo[Xt]||An[Xt]){if(!(Dv(Ne)&&(Kt.tagNameCheck instanceof RegExp&&Yl(Kt.tagNameCheck,Ne)||Kt.tagNameCheck instanceof Function&&Kt.tagNameCheck(Ne))&&(Kt.attributeNameCheck instanceof RegExp&&Yl(Kt.attributeNameCheck,Xt)||Kt.attributeNameCheck instanceof Function&&Kt.attributeNameCheck(Xt))||Xt==="is"&&Kt.allowCustomizedBuiltInElements&&(Kt.tagNameCheck instanceof RegExp&&Yl(Kt.tagNameCheck,Ln)||Kt.tagNameCheck instanceof Function&&Kt.tagNameCheck(Ln))))return!1}else if(!Ou[Xt]){if(!Yl(kt,ih(Ln,Za,""))){if(!((Xt==="src"||Xt==="xlink:href"||Xt==="href")&&Ne!=="script"&&UF(Ln,"data:")===0&&_h[Ne])){if(!(ar&&!Yl($r,ih(Ln,Za,"")))){if(Ln)return!1}}}}}}return!0},Dv=function(Ne){return Ne.indexOf("-")>0},Jz=function(Ne){var Xt,Ln,ra,hi;Cc("beforeSanitizeAttributes",Ne,null);var yi=Ne.attributes;if(yi){var Ql={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Mo};for(hi=yi.length;hi--;){Xt=yi[hi];var xx=Xt,Rl=xx.name,D$=xx.namespaceURI;Ln=Rl==="value"?Xt.value:jF(Xt.value),ra=of(Rl);var R$=Ln;if(Ql.attrName=ra,Ql.attrValue=Ln,Ql.keepAttr=!0,Ql.forceKeepAttr=void 0,Cc("uponSanitizeAttribute",Ne,Ql),Ln=Ql.attrValue,!Ql.forceKeepAttr){if(!Ql.keepAttr){wt(Rl,Ne);continue}if(Yl(/\/>/i,Ln)){wt(Rl,Ne);continue}pn&&(Ln=ih(Ln,Tn," "),Ln=ih(Ln,Bo," "));var N$=of(Ne.nodeName);if(!Ov(N$,ra,Ln)){wt(Rl,Ne);continue}if(Ln!==R$)try{D$?Ne.setAttributeNS(D$,Rl,Ln):Ne.setAttribute(Rl,Ln)}catch{wt(Rl,Ne)}}}Cc("afterSanitizeAttributes",Ne,null)}},O$=function io(Ne){var Xt,Ln=fn(Ne);for(Cc("beforeSanitizeShadowDOM",Ne,null);Xt=Ln.nextNode();)Cc("uponSanitizeShadowNode",Xt,null),!Pc(Xt)&&(Xt.content instanceof c&&io(Xt.content),Jz(Xt));Cc("afterSanitizeShadowDOM",Ne,null)};return n.sanitize=function(io,Ne){var Xt,Ln,ra,hi,yi;if(Um=!io,Um&&(io="<!-->"),typeof io!="string"&&!Js(io)){if(typeof io.toString!="function")throw BA("toString is not a function");if(io=io.toString(),typeof io!="string")throw BA("dirty is not a string, aborting")}if(!n.isSupported){if(Hy(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof io=="string")return e.toStaticHTML(io);if(Js(io))return e.toStaticHTML(io.outerHTML)}return io}if(Hs||Sx(Ne),n.removed=[],typeof io=="string"&&(_c=!1),_c){if(io.nodeName){var Ql=of(io.nodeName);if(!qt[Ql]||pt[Ql])throw BA("root node is forbidden and cannot be sanitized in-place")}}else if(io instanceof m)Xt=gt("<!---->"),Ln=Xt.ownerDocument.importNode(io,!0),Ln.nodeType===1&&Ln.nodeName==="BODY"||Ln.nodeName==="HTML"?Xt=Ln:Xt.appendChild(Ln);else{if(!$n&&!pn&&!Po&&io.indexOf("<")===-1)return Ce&&Ws?Ce.createHTML(io):io;if(Xt=gt(io),!Xt)return $n?null:Ws?tt:""}Xt&&Vs&&Te(Xt.firstChild);for(var xx=fn(_c?io:Xt);ra=xx.nextNode();)ra.nodeType===3&&ra===hi||Pc(ra)||(ra.content instanceof c&&O$(ra.content),Jz(ra),hi=ra);if(hi=null,_c)return io;if($n){if(cr)for(yi=We.call(Xt.ownerDocument);Xt.firstChild;)yi.appendChild(Xt.firstChild);else yi=Xt;return Mo.shadowroot&&(yi=Et.call(o,yi,!0)),yi}var Rl=Po?Xt.outerHTML:Xt.innerHTML;return Po&&qt["!doctype"]&&Xt.ownerDocument&&Xt.ownerDocument.doctype&&Xt.ownerDocument.doctype.name&&Yl(VA,Xt.ownerDocument.doctype.name)&&(Rl="<!DOCTYPE "+Xt.ownerDocument.doctype.name+`>
`+Rl),pn&&(Rl=ih(Rl,Tn," "),Rl=ih(Rl,Bo," ")),Ce&&Ws?Ce.createHTML(Rl):Rl},n.setConfig=function(io){Sx(io),Hs=!0},n.clearConfig=function(){Ch=null,Hs=!1},n.isValidAttribute=function(io,Ne,Xt){Ch||Sx({});var Ln=of(io),ra=of(Ne);return Ov(Ln,ra,Xt)},n.addHook=function(io,Ne){typeof Ne=="function"&&(Rn[io]=Rn[io]||[],Vy(Rn[io],Ne))},n.removeHook=function(io){if(Rn[io])return $R(Rn[io])},n.removeHooks=function(io){Rn[io]&&(Rn[io]=[])},n.removeAllHooks=function(){Rn={}},n}var GF=jA();const Pf=Qe.each,WA=Qe.trim,KF=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],XF={ftp:21,http:80,https:443,mailto:25},VR=["img","video"],UR=(e,n)=>Le(e)?!e:Le(n)?!Ae(VR,n):!0,Qk=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},jR=(e,n,o)=>{const r=Qk(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?UR(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class $f{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=gm.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!jR(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=WA(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const y=r?r.path:new $f(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(y,n);else{const v=/([^#?]*)([#?]?.*)/.exec(n);v&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(y,v[1])+v[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&Pf(KF,(y,v)=>{let x=m[v];x&&(x=x.replace(/\(mce_at\)/g,"@@")),c[y]=x}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new $f(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new $f(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?XF[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",u,m;const y=n.substring(0,n.lastIndexOf("/")).split("/"),v=o.split("/");if(y.length>=v.length){for(u=0,m=y.length;u<m;u++)if(u>=v.length||y[u]!==v[u]){r=u+1;break}}if(y.length<v.length){for(u=0,m=v.length;u<m;u++)if(u>=y.length||y[u]!==v[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=y.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=v.length;u<m;u++)u!==r-1?c+="/"+v[u]:c+=v[u];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),y=[];Pf(u,D=>{D&&y.push(D)});const v=[];for(let D=m.length-1;D>=0;D--)if(!(m[D].length===0||m[D]===".")){if(m[D]===".."){r++;continue}if(r>0){r--;continue}v.push(m[D])}const x=y.length-r;let N;return x<=0?N=_o(v).join("/"):N=y.slice(0,x).join("/")+"/"+_o(v).join("/"),N.indexOf("/")!==0&&(N="/"+N),c&&N.lastIndexOf("/")!==N.length-1&&(N+=c),N}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const YF=Qe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ZA="data-mce-type";let WR=0;const qA=(e,n,o,r)=>{var c,u,m,y;const v=n.validate,x=o.getSpecialElements();e.nodeType===Hc&&!n.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const N=(u=r==null?void 0:r.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(e.nodeType!==Si||N==="body")return;const D=ne.fromDom(e),L=tu(D,ZA),X=ma(D,"data-mce-bogus");if(!L&&re(X)){X==="all"?Uo(D):Ac(D);return}const Q=o.getElementRule(N);if(v&&!Q){yn(x,N)?Uo(D):Ac(D);return}else Le(r)&&(r.allowedTags[N]=!0);if(v&&Q&&!L){if(he((m=Q.attributesForced)!==null&&m!==void 0?m:[],q=>{vr(D,q.name,q.value==="{$uid}"?`mce_${WR++}`:q.value)}),he((y=Q.attributesDefault)!==null&&y!==void 0?y:[],q=>{tu(D,q.name)||vr(D,q.name,q.value==="{$uid}"?`mce_${WR++}`:q.value)}),Q.attributesRequired&&!nt(Q.attributesRequired,q=>tu(D,q))){Ac(D);return}if(Q.removeEmptyAttrs&&al(D)){Ac(D);return}Q.outputName&&Q.outputName!==N&&Pb(D,Q.outputName)}},ZR=(e,n,o,r,c)=>!(r in YF&&jR(e,c,o))&&(!e.validate||n.isValid(o,r)||uo(r,"data-")||uo(r,"aria-")),qR=(e,n)=>e.hasAttribute(ZA)&&(n==="id"||n==="class"||n==="style"),GR=(e,n)=>e in n.getBoolAttrs(),KR=(e,n,o)=>{const{attributes:r}=e;for(let c=r.length-1;c>=0;c--){const u=r[c],m=u.name,y=u.value;!ZR(n,o,e.tagName.toLowerCase(),m,y)&&!qR(e,m)?e.removeAttribute(m):GR(m,o)&&e.setAttribute(m,m)}},GA=(e,n)=>{const o=GF();return o.addHook("uponSanitizeElement",(r,c)=>{qA(r,e,n,c)}),o.addHook("uponSanitizeAttribute",(r,c)=>{const u=r.tagName.toLowerCase(),{attrName:m,attrValue:y}=c;c.keepAttr=ZR(e,n,u,m,y),c.keepAttr?(c.allowedAttributes[m]=!0,GR(m,n)&&(c.attrValue=m),e.allow_svg_data_urls&&uo(y,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):qR(r,m)&&(c.forceKeepAttr=!0)}),o},XR=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},YR=(e,n)=>{if(e.sanitize){const o=GA(e,n);return(r,c)=>{o.sanitize(r,XR(e,c)),o.removed=[]}}else return(o,r)=>{const c=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let u;for(;u=c.nextNode();)qA(u,e,n),$t(u)&&KR(u,e,n)}},BC=Qe.makeMap,KA=Qe.extend,XA=(e,n,o)=>{const r=e.name,c=r in o&&r!=="title"&&r!=="textarea",u=n.childNodes;for(let m=0,y=u.length;m<y;m++){const v=u[m],x=new fi(v.nodeName.toLowerCase(),v.nodeType);if($t(v)){const N=v.attributes;for(let D=0,L=N.length;D<L;D++){const X=N[D];x.attr(X.name,X.value)}}else mt(v)?(x.value=v.data,c&&(x.raw=!0)):(ll(v)||Fv(v)||Lv(v))&&(x.value=v.data);XA(x,v,o),e.append(x)}},JR=(e,n,o)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;he(n,y=>y(m)),nn(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];he(o,m=>m(u))}},QR=(e,n,o,r)=>{const c=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),y=KA(BC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),v=Sd(n),x=/[ \t\r\n]+/g,N=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,L=ye=>{let be=ye.parent;for(;Le(be);){if(be.name in m)return!0;be=be.parent}return!1},X=ye=>{let be=ye;for(;Le(be);){if(be.name in v)return ji(n,u,m,be);be=be.parent}return!1},Q=ye=>ye.name in y||wb(n,ye),q=(ye,be)=>{const Ce=be?ye.prev:ye.next;return Le(Ce)||nn(ye.parent)?!1:Q(ye.parent)&&(ye.parent!==e||r.isRootContent===!0)};return[ye=>{var be;if(ye.type===3&&!L(ye)){let Ce=(be=ye.value)!==null&&be!==void 0?be:"";Ce=Ce.replace(x," "),(cA(ye.prev,Q)||q(ye,!0))&&(Ce=Ce.replace(N,"")),Ce.length===0?ye.remove():ye.value=Ce}},ye=>{var be;if(ye.type===1){const Ce=n.getElementRule(ye.name);if(c&&Ce){const tt=ji(n,u,m,ye);Ce.paddInEmptyBlock&&tt&&X(ye)?rA(r,Q,ye):Ce.removeEmpty&&tt?Q(ye)?ye.remove():ye.unwrap():Ce.paddEmpty&&(tt||Yj(ye))&&rA(r,Q,ye)}}else if(ye.type===3&&!L(ye)){let Ce=(be=ye.value)!==null&&be!==void 0?be:"";(ye.next&&Q(ye.next)||q(ye,!1))&&(Ce=Ce.replace(D,"")),Ce.length===0?ye.remove():ye.value=Ce}}]},JF=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},dh=(e={},n=hm())=>{const o=SR(),r=SR(),c={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,m=YR(c,n),y=(be,Ce,tt="html")=>{const Ft=tt==="xhtml"?"application/xhtml+xml":"text/html",lt=yn(n.getSpecialElements(),Ce.toLowerCase()),De=lt?`<${Ce}>${be}</${Ce}>`:be,We=tt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${De}</body></html>`:`<body>${De}</body>`,Ct=u.parseFromString(We,Ft).body;return m(Ct,Ft),lt?Ct.firstChild:Ct},v=o.addFilter,x=o.getFilters,N=o.removeFilter,D=r.addFilter,L=r.getFilters,X=r.removeFilter,Q=(be,Ce)=>{DD(n,be)&&Ce.push(be)},q=(be,Ce)=>{const tt=re(Ce.attr(ZA)),Ft=Ce.type===1&&!yn(be,Ce.name)&&!wb(n,Ce);return Ce.type===3||Ft&&!tt},J=(be,Ce)=>{const tt=KA(BC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Ft=/^[ \t\r\n]+/,lt=/[ \t\r\n]+$/;let De=be.firstChild,We=null;const Ct=Et=>{var jt,Rn;Et&&(De=Et.firstChild,De&&De.type===3&&(De.value=(jt=De.value)===null||jt===void 0?void 0:jt.replace(Ft,"")),De=Et.lastChild,De&&De.type===3&&(De.value=(Rn=De.value)===null||Rn===void 0?void 0:Rn.replace(lt,"")))};if(n.isValidChild(be.name,Ce.toLowerCase())){for(;De;){const Et=De.next;q(tt,De)?(We||(We=new fi(Ce,1),We.attr(c.forced_root_block_attrs),be.insert(We,De)),We.append(De)):(Ct(We),We=null),De=Et}Ct(We)}},ye={schema:n,addAttributeFilter:D,getAttributeFilters:L,removeAttributeFilter:X,addNodeFilter:v,getNodeFilters:x,removeNodeFilter:N,parse:(be,Ce={})=>{var tt;const Ft=c.validate,lt=(tt=Ce.context)!==null&&tt!==void 0?tt:c.root_name,De=y(be,lt,Ce.format);Cf(n,De);const We=new fi(lt,11);XA(We,De,n.getSpecialElements()),De.innerHTML="";const[Ct,Et]=QR(We,n,c,Ce),jt=[],Rn=Ft?fs=>Q(fs,jt):$e,Tn={nodes:{},attributes:{}},Bo=fs=>nA(x(),L(),fs,Tn);if(JR(We,[Ct,Bo],[Et,Rn]),jt.reverse(),Ft&&jt.length>0)if(Ce.context){const{pass:fs,fail:$r}=Ze(jt,Za=>Za.parent===We);lA($r,n,We,Bo),Ce.invalid=fs.length>0}else lA(jt,n,We,Bo);const cs=JF(c,Ce);return cs&&(We.name==="body"||Ce.isRootContent)&&J(We,cs),Ce.invalid||oA(Tn,Ce),We}};return OR(ye,c),AA(ye,c,n),ye},QF=e=>SC(e)?eh({validate:!1}).serialize(e):e,ew=(e,n,o)=>{const r=QF(e),c=n(r);if(c.isDefaultPrevented())return c;if(SC(e))if(c.content!==r){const u=dh({validate:!1,forced_root_block:!1,sanitize:o}).parse(c.content,{context:e.name});return{...c,content:u}}else return{...c,content:e};else return c},eN=(e,n)=>{if(n.no_events)return Qc.value(n);{const o=Sg(e,n);return o.isDefaultPrevented()?Qc.error(Yp(e,{content:"",...o}).content):Qc.value(o)}},tN=(e,n,o)=>o.no_events?n:ew(n,c=>Yp(e,{...o,content:c}),ty(e)).content,YA=(e,n)=>{if(n.no_events)return Qc.value(n);{const o=ew(n.content,r=>fk(e,{...n,content:r}),ty(e));return o.isDefaultPrevented()?(H2(e,o),Qc.error(void 0)):Qc.value(o)}},PC=(e,n,o)=>{o.no_events||H2(e,{...o,content:n})},$C=(e,n,o)=>({element:e,width:n,rows:o}),nN=(e,n)=>({element:e,cells:n}),e6=(e,n)=>({x:e,y:n}),oN=(e,n)=>Fl(e,n).bind(Pl).getOr(1),t6=(e,n,o,r,c)=>{const u=oN(c,"rowspan"),m=oN(c,"colspan"),y=e.rows;for(let v=o;v<o+u;v++){y[v]||(y[v]=nN(Wh(r),[]));for(let x=n;x<n+m;x++){const N=y[v].cells;N[x]=v===o&&x===n?c:Ep(c)}}},sN=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},eW=(e,n,o)=>{for(;sN(e,n,o);)n++;return n},rN=e=>Bt(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),aN=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let u=0;u<c.length;u++)if(ss(c[u],n))return I.some(e6(u,r))}return I.none()},cN=(e,n,o,r,c)=>{const u=[],m=e.rows;for(let y=o;y<=c;y++){const v=m[y].cells,x=n<r?v.slice(n,r+1):v.slice(r,n+1);u.push(nN(m[y].element,x))}return u},n6=(e,n,o)=>{const r=n.x,c=n.y,u=o.x,m=o.y,y=c<m?cN(e,r,c,u,m):cN(e,r,m,u,c);return $C(e.element,rN(y),y)},o6=(e,n)=>{const o=Ep(e.element),r=ne.fromTag("tbody");return Ms(r,n),xr(o,r),o},s6=e=>Re(e.rows,n=>{const o=Re(n.cells,c=>{const u=Wh(c);return Jo(u,"colspan"),Jo(u,"rowspan"),u}),r=Ep(n.element);return Ms(r,o),r}),r6=e=>{const n=$C(Ep(e),0,[]);return he(Fa(e,"tr"),(o,r)=>{he(Fa(o,"td,th"),(c,u)=>{t6(n,eW(n,u,r),r,o,c)})}),$C(n.element,rN(n.rows),n.rows)},lN=e=>o6(e,s6(e)),a6=(e,n,o)=>aN(e,n).bind(r=>aN(e,o).map(c=>n6(e,r,c))),c6=e=>Un(e,n=>Ns(n)==="ul"||Ns(n)==="ol"),l6=(e,n)=>Un(e,o=>Ns(o)==="li"&&v1(o,n)).fold(Ke([]),o=>c6(e).map(r=>{const c=ne.fromTag(Ns(r)),u=us(Xa(r),(m,y)=>uo(y,"list-style"));return Yg(c,u),[ne.fromTag("li"),c]}).getOr([])),i6=(e,n)=>{const o=Bt(n,(r,c)=>(xr(c,r),c),e);return n.length>0?Vi([o]):o},u6=e=>Dc(e)?Ec(e).filter(Oc).fold(Ke([]),n=>[e,n]):Oc(e)?[e]:[],tW=(e,n)=>{const o=ne.fromDom(n.commonAncestorContainer),r=Ng(o,e),c=Be(r,kd),u=l6(r,n),m=c.concat(u.length?u:u6(o));return Re(m,Ep)},d6=()=>Vi([]),f6=(e,n)=>i6(ne.fromDom(n.cloneContents()),tW(e,n)),m6=(e,n)=>kn(n,"table",He(ss,e)),nW=(e,n)=>m6(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],u=r6(o);return a6(u,r,c).map(m=>Vi([lN(m)]))}).getOrThunk(d6),g6=(e,n)=>n.length>0&&n[0].collapsed?d6():f6(e,n[0]),Pr=(e,n)=>{const o=y1(n,e);return o.length>0?nW(e,o):g6(e,n)},Y1=(e,n)=>n>=0&&n<e.length&&Wp(e.charAt(n)),p6=e=>Me(e.innerText),h6=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),y6=e=>I.from(e.selection.getRng()).map(n=>{var o;const r=I.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=h6(r),m=ne.fromDom(n.cloneContents());BO(m),PO(m);const y=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),v=p6(y),x=Me((o=y.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(y),Y1(x,0)||Y1(x,x.length-1)){const N=r.getOr(c),D=p6(N),L=D.indexOf(v);if(L===-1)return v;{const X=Y1(D,L-1),Q=Y1(D,L+v.length);return(X?" ":"")+v+(Q?" ":"")}}else return v}).getOr(""),J1=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=SE(e,py(c)),m=n.contextual?Pr(ne.fromDom(e.getBody()),u).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},oW=(e,n)=>{if(n.format==="text")return y6(e);{const o=J1(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},sW=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),nl=(e,n,o={})=>{const r=sW(o,n);return eN(e,r).fold(_n,c=>{const u=oW(e,c);return tN(e,u,c)})},IC=0,JA=1,QA=2,b6=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),u=(N,D,L)=>({start:N,end:D,diag:L}),m=(N,D,L,X,Q)=>{const q=v(N,D,L,X);if(q===null||q.start===D&&q.diag===D-X||q.end===N&&q.diag===N-L){let J=N,pe=L;for(;J<D||pe<X;)J<D&&pe<X&&e[J]===n[pe]?(Q.push([IC,e[J]]),++J,++pe):D-N>X-L?(Q.push([QA,e[J]]),++J):(Q.push([JA,n[pe]]),++pe)}else{m(N,q.start,L,q.start-q.diag,Q);for(let J=q.start;J<q.end;++J)Q.push([IC,e[J]]);m(q.end,D,q.end-q.diag,X,Q)}},y=(N,D,L,X)=>{let Q=N;for(;Q-D<X&&Q<L&&e[Q]===n[Q-D];)++Q;return u(N,Q,D)},v=(N,D,L,X)=>{const Q=D-N,q=X-L;if(Q===0||q===0)return null;const J=Q-q,pe=q+Q,ye=(pe%2===0?pe:pe+1)/2;r[1+ye]=N,c[1+ye]=D+1;let be,Ce,tt,Ft,lt;for(be=0;be<=ye;++be){for(Ce=-be;Ce<=be;Ce+=2){for(tt=Ce+ye,Ce===-be||Ce!==be&&r[tt-1]<r[tt+1]?r[tt]=r[tt+1]:r[tt]=r[tt-1]+1,Ft=r[tt],lt=Ft-N+L-Ce;Ft<D&&lt<X&&e[Ft]===n[lt];)r[tt]=++Ft,++lt;if(J%2!==0&&J-be<=Ce&&Ce<=J+be&&c[tt-J]<=r[tt])return y(c[tt-J],Ce+N-L,D,X)}for(Ce=J-be;Ce<=J+be;Ce+=2){for(tt=Ce+ye-J,Ce===J-be||Ce!==J+be&&c[tt+1]<=c[tt-1]?c[tt]=c[tt+1]-1:c[tt]=c[tt-1],Ft=c[tt]-1,lt=Ft-N+L-Ce;Ft>=N&&lt>=L&&e[Ft]===n[lt];)c[tt]=Ft--,lt--;if(J%2===0&&-be<=Ce&&Ce<=be&&c[tt]<=r[tt+J])return y(c[tt],Ce+N-L,D,X)}}return null},x=[];return m(0,e.length,0,n.length,x),x},iN=e=>$t(e)?e.outerHTML:mt(e)?gm.encodeRaw(e.data,!1):ll(e)?"<!--"+e.data+"-->":"",FC=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},v6=(e,n,o)=>{const r=FC(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},e4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},k6=(e,n)=>{let o=0;he(e,r=>{r[0]===IC?o++:r[0]===JA?(v6(n,r[1],o),o++):r[0]===QA&&e4(n,o)})},uN=e=>Be(Re(vs(e.childNodes),iN),n=>n.length>0),dN=(e,n)=>{const o=Re(vs(n.childNodes),iN);return k6(b6(o,e),n),n},t4=ze(()=>document.implementation.createHTMLDocument("undo")),fN=e=>e.indexOf("</iframe>")!==-1,n4=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),w6=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),LC=e=>{const n=uN(e.getBody()),o=ts(n,c=>{const u=MO(e.serializer,c);return u.length>0?[u]:[]}),r=o.join("");return fN(r)?n4(o):w6(r)},o4=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?dN(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Le(r)&&Id(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Zi=e=>e.type==="fragmented"?e.fragments.join(""):e.content,mN=e=>{const n=ne.fromTag("body",t4());return so(n,Zi(e)),he(Fa(n,"*[data-mce-bogus]"),Ac),gf(n)},_6=(e,n)=>Zi(e)===Zi(n),C6=(e,n)=>mN(e)===mN(n),s4=(e,n)=>!e||!n?!1:_6(e,n)?!0:C6(e,n),r4=e=>e.get()===0,tw=(e,n,o)=>{r4(o)&&(e.typing=n)},gN=(e,n)=>{e.typing&&(tw(e,!1,n),e.add())},S6=e=>{e.typing&&(e.typing=!1,e.add())},x6=(e,n,o)=>{r4(n)&&o.set(Jc(e.selection))},HC=(e,n,o,r,c,u,m)=>{const y=LC(e),v=Qe.extend(u||{},y);if(!r4(r)||e.removed)return null;const x=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:x,originalEvent:m}).isDefaultPrevented()||x&&s4(x,v))return null;n.data[o.get()]&&c.get().each(L=>{n.data[o.get()].beforeBookmark=L});const N=Qh(e);if(N&&n.data.length>N){for(let L=0;L<n.data.length-1;L++)n.data[L]=n.data[L+1];n.data.length--,o.set(n.data.length)}v.bookmark=Jc(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(v),o.set(n.data.length-1);const D={level:v,lastLevel:x,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",D),e.dispatch("change",D)):e.dispatch("AddUndo",D),v},T6=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},E6=(e,n,o,r,c)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];o4(e,m,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=u)}},pN=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],o4(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},a4=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,tw(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],o4(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},A6=e=>{e.clear(),e.add()},z6=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!s4(LC(e),n.data[0]),rW=(e,n)=>n.get()<e.data.length-1&&!e.typing,O6=(e,n,o)=>(gN(e,n),e.beforeChange(),e.ignore(o),e.add()),D6=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},hN=(e,n)=>{const o=e.dom,r=Le(n)?n:e.getBody();he(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=Kb(e),m=o.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?o.addClass(c,u):o.removeClass(c,u);break;case"A":if(!o.getAttrib(c,"href")){const y=o.getAttrib(c,"name")||c.id,v=t2(e);y&&e.hasVisual?o.addClass(c,v):o.removeClass(c,v)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},yN=e=>({init:{bindEvents:$e},undoManager:{beforeChange:(n,o)=>x6(e,n,o),add:(n,o,r,c,u,m)=>HC(e,n,o,r,c,u,m),undo:(n,o,r)=>a4(e,n,o,r),redo:(n,o)=>pN(e,n,o),clear:(n,o)=>T6(e,n,o),reset:n=>A6(n),hasUndo:(n,o)=>z6(e,n,o),hasRedo:(n,o)=>rW(n,o),transact:(n,o,r)=>O6(n,o,r),ignore:(n,o)=>D6(n,o),extra:(n,o,r,c)=>E6(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>$y(e,n,o,r,c),matchAll:(n,o)=>cF(e,n,o),matchNode:(n,o,r,c)=>Bf(e,n,o,r,c),canApply:n=>V1(e,n),closest:n=>lF(e,n),apply:(n,o,r)=>qk(e,n,o,r),remove:(n,o,r,c)=>xA(e,n,o,r,c),toggle:(n,o,r)=>lh(e,n,o,r),formatChanged:(n,o,r,c,u)=>ch(e,n,o,r,c,u)},editor:{getContent:n=>mI(e,n),setContent:(n,o)=>sF(e,n,o),insertContent:(n,o)=>nF(e,n,o),addVisual:n=>hN(e,n)},selection:{getContent:(n,o)=>nl(e,n,o)},autocompleter:{addDecoration:n=>sI(e,n),removeDecoration:()=>aI(e,ne.fromDom(e.getBody()))},raw:{getModel:()=>I.none()}}),nw=e=>{const n=x=>sn(x)?x:{},{init:o,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:y,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(x,N,D)=>r.transact(D),ignore:(x,N)=>r.ignore(N),extra:(x,N,D,L)=>r.extra(D,L)},formatter:{match:(x,N,D,L)=>c.match(x,n(N),L),matchAll:c.matchAll,matchNode:c.matchNode,canApply:x=>c.canApply(x),closest:x=>c.closest(x),apply:(x,N,D)=>c.apply(x,n(N)),remove:(x,N,D,L)=>c.remove(x,n(N)),toggle:(x,N,D)=>c.toggle(x,n(N)),formatChanged:(x,N,D,L,X)=>c.formatChanged(N,D,L,X)},editor:{getContent:x=>u.getContent(x),setContent:(x,N)=>({content:u.setContent(x,N),html:""}),insertContent:(x,N)=>(u.insertContent(x),""),addVisual:u.addVisual},selection:{getContent:(x,N)=>m.getContent(N)},autocompleter:{addDecoration:y.addDecoration,removeDecoration:y.removeDecoration},raw:{getModel:()=>I.some(v.getRawModel())}}},VC=()=>{const e=Ke(null),n=Ke("");return{init:{bindEvents:$e},undoManager:{beforeChange:$e,add:e,undo:e,redo:e,clear:$e,reset:$e,hasUndo:Ee,hasRedo:Ee,transact:e,ignore:$e,extra:$e},formatter:{match:Ee,matchAll:Ke([]),matchNode:Ke(void 0),canApply:Ee,closest:n,apply:$e,remove:$e,toggle:$e,formatChanged:Ke({unbind:$e})},editor:{getContent:n,setContent:Ke({content:"",html:""}),insertContent:Ke(""),addVisual:$e},selection:{getContent:n},autocompleter:{addDecoration:$e,removeDecoration:$e},raw:{getModel:Ke(I.none())}}},Cu=e=>yn(e.plugins,"rtc"),bN=e=>Vo(e.plugins,"rtc").bind(n=>I.from(n.setup)),vN=e=>{const n=e;return bN(e).fold(()=>(n.rtcInstance=yN(e),I.none()),o=>(n.rtcInstance=VC(),I.some(()=>o().then(r=>(n.rtcInstance=nw(r),r.rtc.isRemote)))))},c4=e=>e.rtcInstance?e.rtcInstance:yN(e),Ca=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},R6=(e,n,o)=>{Ca(e).undoManager.beforeChange(n,o)},N6=(e,n,o,r,c,u,m)=>Ca(e).undoManager.add(n,o,r,c,u,m),M6=(e,n,o,r)=>Ca(e).undoManager.undo(n,o,r),B6=(e,n,o)=>Ca(e).undoManager.redo(n,o),kN=(e,n,o)=>{Ca(e).undoManager.clear(n,o)},P6=(e,n)=>{Ca(e).undoManager.reset(n)},$6=(e,n,o)=>Ca(e).undoManager.hasUndo(n,o),ow=(e,n,o)=>Ca(e).undoManager.hasRedo(n,o),wN=(e,n,o,r)=>Ca(e).undoManager.transact(n,o,r),_N=(e,n,o)=>{Ca(e).undoManager.ignore(n,o)},I6=(e,n,o,r,c)=>{Ca(e).undoManager.extra(n,o,r,c)},F6=(e,n,o,r,c)=>Ca(e).formatter.match(n,o,r,c),L6=(e,n,o)=>Ca(e).formatter.matchAll(n,o),CN=(e,n,o,r,c)=>Ca(e).formatter.matchNode(n,o,r,c),H6=(e,n)=>Ca(e).formatter.canApply(n),V6=(e,n)=>Ca(e).formatter.closest(n),U6=(e,n,o,r)=>{Ca(e).formatter.apply(n,o,r)},j6=(e,n,o,r,c)=>{Ca(e).formatter.remove(n,o,r,c)},aW=(e,n,o,r)=>{Ca(e).formatter.toggle(n,o,r)},If=(e,n,o,r,c,u)=>Ca(e).formatter.formatChanged(n,o,r,c,u),l4=(e,n)=>c4(e).editor.getContent(n),W6=(e,n,o)=>c4(e).editor.setContent(n,o),Z6=(e,n,o)=>c4(e).editor.insertContent(n,o),q6=(e,n,o)=>Ca(e).selection.getContent(n,o),G6=(e,n)=>Ca(e).editor.addVisual(n),as=e=>Ca(e).init.bindEvents(),cW=(e,n)=>Ca(e).autocompleter.addDecoration(n),K6=e=>Ca(e).autocompleter.removeDecoration(),X6=(e,n={})=>{const o=n.format?n.format:"html";return q6(e,o,n)},Cr=e=>e.dom.length===0?(Uo(e),I.none()):I.some(e),Y6=(e,n)=>e.filter(o=>ky.isBookmarkNode(o.dom)).bind(n?Bu:Hl),sw=(e,n,o,r)=>{const c=e.dom,u=n.dom,m=r?c.length:u.length;r?(nC(c,u,!1,!r),o.setStart(u,m)):(nC(u,c,!1,!r),o.setEnd(u,m))},J6=(e,n)=>{Ec(e).each(o=>{const r=e.dom;n&&zk(o,Ie(r,0))?Dm(r,0):!n&&Oy(o,Ie(r,r.length))&&$E(r,r.length)})},SN=(e,n,o,r)=>{e.bind(c=>((r?$E:Dm)(c.dom,r?c.dom.length:0),n.filter(Kr).map(m=>sw(c,m,o,r)))).orThunk(()=>Y6(n,r).or(n).filter(Kr).map(u=>J6(u,r)))},Q6=(e,n)=>{const o=I.from(n.firstChild).map(ne.fromDom),r=I.from(n.lastChild).map(ne.fromDom);e.deleteContents(),e.insertNode(n);const c=o.bind(Hl).filter(Kr).bind(Cr),u=r.bind(Bu).filter(Kr).bind(Cr);SN(c,o,e,!0),SN(u,r,e,!1),e.collapse(!1)},xN=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),fh=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return eh({validate:!1},e.schema).serialize(u)}else return n.content},qi=(e,n,o={})=>{const r=xN(o,n);YA(e,r).each(c=>{const u=fh(e,c),m=e.selection.getRng();Q6(m,m.createContextualFragment(u)),e.selection.setRng(m),Om(e,m),PC(e,u,c)})},Q1=(e,n,o)=>{if(yn(e,n)){const r=Be(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var Wy=(e,n)=>{let o,r;const c=(y,v)=>Un(v,x=>e.is(x,y)),u=y=>e.getParents(y,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",y=>{const v=y.element,x=u(v),N={};it(o,(D,L)=>{c(L,x).each(X=>{r[L]||(he(D,Q=>{Q(!0,{node:X,selector:L,parents:x})}),r[L]=D),N[L]=D})}),it(r,(D,L)=>{N[L]||(delete r[L],he(D,X=>{X(!1,{node:v,selector:L,parents:x})}))})})};return{selectorChangedWithUnbind:(y,v)=>(o||m(),o[y]||(o[y]=[]),o[y].push(v),c(y,u(n.selection.getStart())).each(()=>{r[y]=o[y]}),{unbind:()=>{Q1(o,y,v),Q1(r,y,v)}})}};const Ff=e=>!!(e&&e.ownerDocument)&&cl(ne.fromDom(e.ownerDocument),ne.fromDom(e)),rw=e=>e?Ff(e.startContainer)&&Ff(e.endContainer):!1,UC=(e,n,o,r)=>{let c,u;const{selectorChangedWithUnbind:m}=Wy(e,r),y=(kt,qt)=>{const No=e.createRng();Le(kt)&&Le(qt)?(No.setStart(kt,qt),No.setEnd(kt,qt),Ce(No),pe(!1)):(qp(e,No,r.getBody(),!0),Ce(No))},v=kt=>X6(r,kt),x=(kt,qt)=>qi(r,kt,qt),N=kt=>SO(r.getBody(),be(),kt),D=kt=>Sk(r.getBody(),be(),kt),L=(kt,qt)=>$r.getBookmark(kt,qt),X=kt=>$r.moveToBookmark(kt),Q=(kt,qt)=>(Q$(e,kt,qt).each(Ce),kt),q=()=>{const kt=be(),qt=ye();return!kt||kt.item?!1:kt.compareEndPoints?kt.compareEndPoints("StartToEnd",kt)===0:!qt||kt.collapsed},J=()=>{const kt=be(),qt=r.getBody().querySelectorAll('[data-mce-selected="1"]');return qt.length>0?Ko(qt,No=>e.isEditable(No.parentElement)):kt.startContainer===kt.endContainer?e.isEditable(kt.startContainer):e.isEditable(kt.startContainer)&&e.isEditable(kt.endContainer)},pe=kt=>{const qt=be();qt.collapse(!!kt),Ce(qt)},ye=()=>n.getSelection?n.getSelection():n.document.selection,be=()=>{let kt;const qt=(Mo,Qt,Kt)=>{try{return Qt.compareBoundaryPoints(Mo,Kt)}catch{return-1}},No=n.document;if(Le(r.bookmark)&&!Ay(r)){const Mo=I1(r);if(Mo.isSome())return Mo.map(Qt=>SE(r,[Qt])[0]).getOr(No.createRange())}try{const Mo=ye();Mo&&!dn(Mo.anchorNode)&&(Mo.rangeCount>0?kt=Mo.getRangeAt(0):kt=No.createRange(),kt=SE(r,[kt])[0])}catch{}if(kt||(kt=No.createRange()),am(kt.startContainer)&&kt.collapsed){const Mo=e.getRoot();kt.setStart(Mo,0),kt.setEnd(Mo,0)}return c&&u&&(qt(kt.START_TO_START,kt,c)===0&&qt(kt.END_TO_END,kt,c)===0?kt=u:(c=null,u=null)),kt},Ce=(kt,qt)=>{if(!rw(kt))return;const No=ye();if(kt=r.dispatch("SetSelectionRange",{range:kt,forward:qt}).range,No){u=kt;try{No.removeAllRanges(),No.addRange(kt)}catch{}qt===!1&&No.extend&&(No.collapse(kt.endContainer,kt.endOffset),No.extend(kt.startContainer,kt.startOffset)),c=No.rangeCount>0?No.getRangeAt(0):null}if(!kt.collapsed&&kt.startContainer===kt.endContainer&&(No!=null&&No.setBaseAndExtent)&&kt.endOffset-kt.startOffset<2&&kt.startContainer.hasChildNodes()){const Qt=kt.startContainer.childNodes[kt.startOffset];Qt&&Qt.nodeName==="IMG"&&(No.setBaseAndExtent(kt.startContainer,kt.startOffset,kt.endContainer,kt.endOffset),(No.anchorNode!==kt.startContainer||No.focusNode!==kt.endContainer)&&No.setBaseAndExtent(Qt,0,Qt,1))}r.dispatch("AfterSetSelectionRange",{range:kt,forward:qt})},tt=kt=>(x(e.getOuterHTML(kt)),kt),Ft=()=>xO(r.getBody(),be()),lt=(kt,qt)=>J$(e,be(),kt,qt),De=()=>{const kt=ye(),qt=kt==null?void 0:kt.anchorNode,No=kt==null?void 0:kt.focusNode;if(!kt||!qt||!No||dn(qt)||dn(No))return!0;const Mo=e.createRng(),Qt=e.createRng();try{Mo.setStart(qt,kt.anchorOffset),Mo.collapse(!0),Qt.setStart(No,kt.focusOffset),Qt.collapse(!0)}catch{return!0}return Mo.compareBoundaryPoints(Mo.START_TO_START,Qt)<=0},fs={dom:e,win:n,serializer:o,editor:r,expand:(kt={type:"word"})=>Ce(Mf(e).expand(be(),kt)),collapse:pe,setCursorLocation:y,getContent:v,setContent:x,getBookmark:L,moveToBookmark:X,select:Q,isCollapsed:q,isEditable:J,isForward:De,setNode:tt,getNode:Ft,getSel:ye,setRng:Ce,getRng:be,getStart:N,getEnd:D,getSelectedBlocks:lt,normalize:()=>{const kt=be(),qt=ye();if(!G0(qt)&&Fd(r)){const No=B1(e,kt);return No.each(Mo=>{Ce(Mo,De())}),No.getOr(kt)}return kt},selectorChanged:(kt,qt)=>(m(kt,qt),fs),selectorChangedWithUnbind:m,getScrollContainer:()=>{let kt,qt=e.getRoot();for(;qt&&qt.nodeName!=="BODY";){if(qt.scrollHeight>qt.clientHeight){kt=qt;break}qt=qt.parentNode}return kt},scrollIntoView:(kt,qt)=>{Le(kt)?Dg(r,kt,qt):Om(r,be(),qt)},placeCaretAt:(kt,qt)=>Ce(Sy(kt,qt,r.getDoc())),getBoundingClientRect:()=>{const kt=be();return kt.collapsed?Ie.fromRangeStart(kt).getClientRects()[0]:kt.getBoundingClientRect()},destroy:()=>{n=c=u=null,Za.destroy()}},$r=ky(fs),Za=A1(fs,r);return fs.bookmarkManager=$r,fs.controlSelection=Za,fs},i4=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=n.url_converter,y=n.url_converter_scope;let v=r.length;for(;v--;){const x=r[v];let N=x.attr(u);N!==void 0?(x.attr(c,N.length>0?N:null),x.attr(u,null)):(N=x.attr(c),c==="style"?N=o.serializeStyle(o.parseStyle(N),x.name):m&&(N=m.call(y,N,c,x.name)),x.attr(c,N.length>0?N:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const y=r[m];y.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(I.from(y.firstChild).exists(x=>{var N;return!ue((N=x.value)!==null&&N!==void 0?N:"")})?y.unwrap():y.remove())}}),e.addNodeFilter("noscript",r=>{var c;let u=r.length;for(;u--;){const m=r[u].firstChild;m&&(m.value=gm.decode((c=m.value)!==null&&c!==void 0?c:""))}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let y=r.length;for(;y--;){const v=r[y],x=v.firstChild,N=(u=x==null?void 0:x.value)!==null&&u!==void 0?u:"";if(c==="script"){const D=v.attr("type");D&&v.attr("type",D==="mce-no/type"?null:D.replace(/^mce\-/,"")),n.element_format==="xhtml"&&x&&N.length>0&&(x.value=`// <![CDATA[
`+m(N)+`
// ]]>`)}else n.element_format==="xhtml"&&x&&N.length>0&&(x.value=`<!--
`+m(N)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{he(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.remove_trailing_brs&&zA(e,e.schema)},TN=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},EN=(e,n,o)=>{let r;const c=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const y=m.createHTMLDocument("");Qe.each(u.nodeName==="BODY"?u.childNodes:[u],v=>{y.body.appendChild(y.importNode(v,!0))}),u.nodeName!=="BODY"?u=y.body.firstChild:u=y.body,r=c.doc,c.doc=y}return ck(e,{...o,node:u}),r&&(c.doc=r),u},eL=(e,n)=>Le(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,tL=(e,n,o)=>eL(e,o)?EN(e,n,o):n,AN=(e,n,o)=>{Qe.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.push(o))},zN=(e,n,o)=>!n.no_events&&e?lk(e,{...n,content:o}).content:o,ON=(e,n,o)=>{const r=Me(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||cp(ne.fromDom(n))?r:Qe.trim(r)},DN=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,r);return TN(c),c},u4=(e,n,o)=>eh(e,n).serialize(o),lW=(e,n,o,r,c)=>{const u=u4(n,o,r);return zN(e,c,u)},nL=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,...e},c=n&&n.dom?n.dom:zs.DOM,u=n&&n.schema?n.schema:hm(r),m=dh(r,u);i4(m,r,c);const y=(v,x={})=>{const N={format:"html",...x},D=tL(n,v,N),L=ON(c,D,N),X=DN(m,L,N);return N.format==="tree"?X:lW(n,r,u,X,N)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:y,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:He(AN,m,o),getTempAttrs:Ke(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},oL=(e,n)=>{const o=nL(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},sL="html",rL=(e,n)=>({...e,format:n,get:!0,getInner:!0}),Bm=(e,n={})=>{const o=n.format?n.format:sL,r=rL(n,o);return eN(e,r).fold(_n,c=>{const u=l4(e,c);return tN(e,u,c)})},iW="html",uW=(e,n)=>({format:iW,...e,set:!0,content:n}),d4=(e,n,o={})=>{const r=uW(o,n);return YA(e,r).map(c=>{const u=W6(e,c.content,c);return PC(e,u.html,c),u.content}).getOr(n)},aw="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),aL="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),RN="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),f4=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],m4=(e,n)=>{const o=Be(n,r=>yn(e,r));return Kn(o)},cL=e=>{const n=m4(e,aw),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Kn(n)},lL=e=>m4(e,aL),$g=(e,n)=>{const o=Qe.makeMap(e.plugins," "),c=Be(n,u=>yn(o,u));return Kn(c)},iL=e=>$g(e,RN),uL=e=>$g(e,f4.map(n=>n.name)),dL=(e,n)=>{const o=cL(e),r=iL(n),c=r.length>0,u=o.length>0,m=n.theme==="mobile";if(c||u||m){const y=`
- `,v=m?`

Themes:${y}mobile`:"",x=c?`

Plugins:${y}${r.join(y)}`:"",N=u?`

Options:${y}${o.join(y)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+v+x+N)}},fL=e=>Un(f4,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),mL=(e,n)=>{const o=lL(e),r=uL(n),c=r.length>0,u=o.length>0;if(c||u){const m=`
- `,y=c?`

Plugins:${m}${r.map(fL).join(m)}`:"",v=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+y+v)}},gL=(e,n)=>{dL(e,n),mL(e,n)},jC=zs.DOM,pL=e=>{jC.setStyle(e.id,"display",e.orgDisplay)},WC=e=>I.from(e).each(n=>n.destroy()),hL=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},yL=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),jC.unbind(n,"submit reset",e.formEventDelegate))},dW=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Le(c==null?void 0:c.nextSibling)&&jC.remove(c.nextSibling),Ps(e),e.editorManager.remove(e),!e.inline&&r&&pL(e),Nf(e),jC.remove(e.getContainer()),WC(n),WC(o),e.destroy()}},cw=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),WC(o),WC(r)),yL(e),hL(e),e.destroyed=!0}},ev=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>yn(e,c)}})(),tv=Ys.ModelManager,NN=(e,n)=>n.dom[e],MN=(e,n)=>parseInt(Xr(n,e),10),bL=He(NN,"clientWidth"),Zy=He(NN,"clientHeight"),qy=He(MN,"margin-top"),ZC=He(MN,"margin-left"),qC=e=>e.dom.getBoundingClientRect(),Gy=(e,n,o)=>{const r=bL(e),c=Zy(e);return n>=0&&o>=0&&n<=r&&o<=c},Ky=(e,n,o,r)=>{const c=qC(n),u=e?c.left+n.dom.clientLeft+ZC(n):0,m=e?c.top+n.dom.clientTop+qy(n):0,y=o-u,v=r-m;return{x:y,y:v}},GC=(e,n,o)=>{const r=ne.fromDom(e.getBody()),c=e.inline?r:ou(r),u=Ky(e.inline,c,n,o);return Gy(c,u.x,u.y)},KC=e=>I.from(e).map(ne.fromDom),BN=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return KC(n).map(Di).getOr(!1)};var g4=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const XC=e=>{const n=[],o=()=>{const L=e.theme;return L&&L.getNotificationManagerImpl?L.getNotificationManagerImpl():g4()},r=()=>I.from(n[0]),c=(L,X)=>L.type===X.type&&L.text===X.text&&!L.progressBar&&!L.timeout&&!X.progressBar&&!X.timeout,u=()=>{he(n,L=>{L.reposition()})},m=L=>{n.push(L)},y=L=>{Go(n,X=>X===L).each(X=>{n.splice(X,1)})},v=(L,X=!0)=>e.removed||!BN(e)?{}:(X&&e.dispatch("BeforeOpenNotification",{notification:L}),Un(n,Q=>c(o().getArgs(Q),L)).getOrThunk(()=>{e.editorManager.setActive(e);const Q=o().open(L,()=>{y(Q),u(),r().fold(()=>e.focus(),q=>P1(ne.fromDom(q.getEl())))});return m(Q),u(),e.dispatch("OpenNotification",{notification:{...Q}}),Q})),x=()=>{r().each(L=>{o().close(L),y(L),u()})},N=Ke(n);return(L=>{L.on("SkinLoaded",()=>{const X=mu(L);X&&v({text:X,type:"warning",timeout:0},!1),u()}),L.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(u)}),L.on("remove",()=>{he(n.slice(),X=>{o().close(X)})})})(e),{open:v,close:x,getNotifications:N}},Xy=Ys.PluginManager,mh=Ys.ThemeManager;var nv=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const p4=e=>{let n=[];const o=()=>{const q=e.theme;return q&&q.getWindowManagerImpl?q.getWindowManagerImpl():nv()},r=(q,J)=>(...pe)=>J?J.apply(q,pe):void 0,c=q=>{e.dispatch("OpenWindow",{dialog:q})},u=q=>{e.dispatch("CloseWindow",{dialog:q})},m=q=>{n.push(q),c(q)},y=q=>{u(q),n=Be(n,J=>J!==q),n.length===0&&e.focus()},v=()=>I.from(n[n.length-1]),x=q=>{e.editorManager.setActive(e),$1(e),e.ui.show();const J=q();return m(J),J},N=(q,J)=>x(()=>o().open(q,J,y)),D=q=>x(()=>o().openUrl(q,y)),L=(q,J,pe)=>{const ye=o();ye.alert(q,r(pe||ye,J))},X=(q,J,pe)=>{const ye=o();ye.confirm(q,r(pe||ye,J))},Q=()=>{v().each(q=>{o().close(q),y(q)})};return e.on("remove",()=>{he(n,q=>{o().close(q)})}),{open:N,openUrl:D,alert:L,confirm:X,close:Q}},h4=(e,n)=>{e.notificationManager.open({type:"error",text:n})},lw=(e,n)=>{e._skinLoaded?h4(e,n):e.on("SkinLoaded",()=>{h4(e,n)})},YC=(e,n)=>{lw(e,xs.translate(["Failed to upload image: {0}",n]))},ov=(e,n,o)=>{F2(e,n,{message:o}),console.error(o)},sv=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,PN=(e,n,o)=>{ov(e,"PluginLoadError",sv("plugin",n,o))},$N=(e,n,o)=>{ov(e,"IconsLoadError",sv("icons",n,o))},Ig=(e,n,o)=>{ov(e,"LanguageLoadError",sv("language",n,o))},gh=(e,n,o)=>{ov(e,"ThemeLoadError",sv("theme",n,o))},Xd=(e,n,o)=>{ov(e,"ModelLoadError",sv("model",n,o))},vL=(e,n,o)=>{const r=xs.translate(["Failed to initialize plugin: {0}",n]);F2(e,"PluginLoadError",{message:r}),JC(r,o),lw(e,r)},JC=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},kL=e=>/^[a-z0-9\-]+$/i.test(e),wL=e=>IN(e,cT(e)),_L=e=>IN(e,q_(e)),IN=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Re(n,u=>kL(u)&&!e.inline?`${o}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},CL=e=>{e.contentCSS=e.contentCSS.concat(wL(e),_L(e))},SL=e=>e?vs(e.getElementsByTagName("img")):[],xL=(e,n)=>{const o={};return{findAll:(c,u=Je)=>{const m=Be(SL(c),v=>{const x=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!x||x===To.transparentSrc?!1:uo(x,"blob:")?!e.isUploaded(x)&&u(v):uo(x,"data:")?u(v):!1}),y=Re(m,v=>{const x=v.src;if(yn(o,x))return o[x].then(N=>re(N)?N:{image:v,blobInfo:N.blobInfo});{const N=AR(n,x).then(D=>(delete o[x],{image:v,blobInfo:D})).catch(D=>(delete o[x],D));return o[x]=N,N}});return Promise.all(y)}}},FN=()=>{let o={};const r=(L,X)=>({status:L,resultUri:X}),c=L=>L in o;return{hasBlobUri:c,getResultUri:L=>{const X=o[L];return X?X.resultUri:null},isPending:L=>c(L)?o[L].status===1:!1,isUploaded:L=>c(L)?o[L].status===2:!1,markPending:L=>{o[L]=r(1,null)},markUploaded:(L,X)=>{o[L]=r(2,X)},removeFailed:L=>{delete o[L]},destroy:()=>{o={}}}};let TL=0;const EL=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},y4=e=>e+TL+++EL(),b4=()=>{let e=[];const n=D=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[D.toLowerCase()]||"dat",o=(D,L,X,Q,q)=>{if(re(D))return r({id:D,name:Q,filename:q,blob:L,base64:X});if(sn(D))return r(D);throw new Error("Unknown input type")},r=D=>{if(!D.blob||!D.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const L=D.id||y4("blobid"),X=D.name||L,Q=D.blob;return{id:Ke(L),name:Ke(X),filename:Ke(D.filename||X+"."+n(Q.type)),blob:Ke(Q),base64:Ke(D.base64),blobUri:Ke(D.blobUri||URL.createObjectURL(Q)),uri:Ke(D.uri)}},c=D=>{m(D.id())||e.push(D)},u=D=>Un(e,D).getOrUndefined(),m=D=>u(L=>L.id()===D);return{create:o,add:c,get:m,getByUri:D=>u(L=>L.blobUri()===D),getByData:(D,L)=>u(X=>X.base64()===D&&X.blob().type===L),findFirst:u,removeByUri:D=>{e=Be(e,L=>L.blobUri()===D?(URL.revokeObjectURL(L.blobUri()),!1):!0)},destroy:()=>{he(e,D=>{URL.revokeObjectURL(D.blobUri())}),e=[]}}},LN=(e,n)=>{const o={},r=(q,J)=>q?q.replace(/\/$/,"")+"/"+J.replace(/^\//,""):J,c=(q,J)=>new Promise((pe,ye)=>{const be=new XMLHttpRequest;be.open("POST",n.url),be.withCredentials=n.credentials,be.upload.onprogress=tt=>{J(tt.loaded/tt.total*100)},be.onerror=()=>{ye("Image upload failed due to a XHR Transport error. Code: "+be.status)},be.onload=()=>{if(be.status<200||be.status>=300){ye("HTTP Error: "+be.status);return}const tt=JSON.parse(be.responseText);if(!tt||!re(tt.location)){ye("Invalid JSON: "+be.responseText);return}pe(r(n.basePath,tt.location))};const Ce=new FormData;Ce.append("file",q.blob(),q.filename()),be.send(Ce)}),u=ie(n.handler)?n.handler:c,m=()=>new Promise(q=>{q([])}),y=(q,J)=>({url:J,blobInfo:q,status:!0}),v=(q,J)=>({url:"",blobInfo:q,status:!1,error:J}),x=(q,J)=>{Qe.each(o[q],pe=>{pe(J)}),delete o[q]},N=(q,J,pe)=>(e.markPending(q.blobUri()),new Promise(ye=>{let be,Ce;try{const tt=()=>{be&&(be.close(),Ce=$e)},Ft=De=>{tt(),e.markUploaded(q.blobUri(),De),x(q.blobUri(),y(q,De)),ye(y(q,De))},lt=De=>{tt(),e.removeFailed(q.blobUri()),x(q.blobUri(),v(q,De)),ye(v(q,De))};Ce=De=>{De<0||De>100||I.from(be).orThunk(()=>I.from(pe).map(at)).each(We=>{be=We,We.progressBar.value(De)})},J(q,Ce).then(Ft,De=>{lt(re(De)?{message:De}:De)})}catch(tt){ye(v(q,tt))}})),D=q=>q===c,L=q=>{const J=q.blobUri();return new Promise(pe=>{o[J]=o[J]||[],o[J].push(pe)})},X=(q,J)=>(q=Qe.grep(q,pe=>!e.isUploaded(pe.blobUri())),Promise.all(Qe.map(q,pe=>e.isPending(pe.blobUri())?L(pe):N(pe,u,J))));return{upload:(q,J)=>!n.url&&D(u)?m():X(q,J)}},HN=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),VN=(e,n)=>LN(n,{url:oT(e),basePath:U_(e),credentials:sT(e),handler:rT(e)}),UN=e=>{const n=FN(),o=VN(e,n);return{upload:(r,c=!0)=>o.upload(r,c?HN(e):void 0)}},jN=(e,n)=>e.dom.isEmpty(n.dom)&&Le(e.schema.getTextBlockElements()[Ns(n)]),v4=e=>n=>{jN(e,n)&&xr(n,ne.fromHtml('<br data-mce-bogus="1" />'))},WN=e=>{const n=b4();let o,r;const c=FN(),u=[],m=be=>Ce=>e.selection?be(Ce):[],y=be=>be+(be.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(be,Ce,tt)=>{let Ft=0;do Ft=be.indexOf(Ce,Ft),Ft!==-1&&(be=be.substring(0,Ft)+tt+be.substr(Ft+Ce.length),Ft+=tt.length-Ce.length+1);while(Ft!==-1);return be},x=(be,Ce,tt)=>{const Ft=`src="${tt}"${tt===To.transparentSrc?' data-mce-placeholder="1"':""}`;return be=v(be,`src="${Ce}"`,Ft),be=v(be,'data-mce-src="'+Ce+'"','data-mce-src="'+tt+'"'),be},N=(be,Ce)=>{he(e.undoManager.data,tt=>{tt.type==="fragmented"?tt.fragments=Re(tt.fragments,Ft=>x(Ft,be,Ce)):tt.content=x(tt.content,be,Ce)})},D=(be,Ce)=>{const tt=e.convertURL(Ce,"src");N(be.src,Ce),Ka(ne.fromDom(be),{src:Ub(e)?y(Ce):Ce,"data-mce-src":tt})},L=()=>(o||(o=VN(e,c)),J().then(m(be=>{const Ce=Re(be,tt=>tt.blobInfo);return o.upload(Ce,HN(e)).then(m(tt=>{const Ft=[];let lt=!1;const De=Re(tt,(We,Ct)=>{const{blobInfo:Et,image:jt}=be[Ct];let Rn=!1;return We.status&&V_(e)?(We.url&&!yo(jt.src,We.url)&&(lt=!0),n.removeByUri(jt.src),Cu(e)||D(jt,We.url)):We.error&&(We.error.remove&&(N(jt.src,To.transparentSrc),Ft.push(jt),Rn=!0),YC(e,We.error.message)),{element:jt,status:We.status,uploadUri:We.url,blobInfo:Et,removed:Rn}});return Ft.length>0&&!Cu(e)?e.undoManager.transact(()=>{he(pd(Ft),We=>{const Ct=Ec(We);Uo(We),Ct.each(v4(e)),n.removeByUri(We.dom.src)})}):lt&&e.undoManager.dispatchChange(),De}))}))),X=()=>_0(e)?L():Promise.resolve([]),Q=be=>Ko(u,Ce=>Ce(be)),q=be=>{u.push(be)},J=()=>(r||(r=xL(c,n)),r.findAll(e.getBody(),Q).then(m(be=>{const Ce=Be(be,tt=>re(tt)?(lw(e,tt),!1):tt.uriType!=="blob");return Cu(e)||he(Ce,tt=>{N(tt.image.src,tt.blobInfo.blobUri()),tt.image.src=tt.blobInfo.blobUri(),tt.image.removeAttribute("data-mce-src")}),Ce}))),pe=()=>{n.destroy(),c.destroy(),r=o=null},ye=be=>be.replace(/src="(blob:[^"]+)"/g,(Ce,tt)=>{const Ft=c.getResultUri(tt);if(Ft)return'src="'+Ft+'"';let lt=n.getByUri(tt);return lt||(lt=Bt(e.editorManager.get(),(De,We)=>De||We.editorUpload&&We.editorUpload.blobCache.getByUri(tt),void 0)),lt?'src="data:'+lt.blob().type+";base64,"+lt.base64()+'"':Ce});return e.on("SetContent",()=>{_0(e)?X():J()}),e.on("RawSaveContent",be=>{be.content=ye(be.content)}),e.on("GetContent",be=>{be.source_view||be.format==="raw"||be.format==="tree"||(be.content=ye(be.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",be=>{he(be,Ce=>{const tt=Ce.attr("src");if(!tt||n.getByUri(tt))return;const Ft=c.getResultUri(tt);Ft&&Ce.attr("src",Ft)})})}),{blobCache:n,addFilter:q,uploadImages:L,uploadImagesAuto:X,scanForImages:J,destroy:pe}},ZN=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>$t(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{Qe.each(m,(y,v)=>{n.setAttrib(c,v,y)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Qe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},QC={remove_similar:!0,inherit:!1},rv={selector:"td,th",...QC},AL={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...rv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...rv},tablecellbordercolor:{styles:{borderColor:"%value"},...rv},tablecellclass:{classes:["%value"],...rv},tableclass:{selector:"table",classes:["%value"],...QC},tablecellborderstyle:{styles:{borderStyle:"%value"},...rv},tablecellborderwidth:{styles:{borderWidth:"%value"},...rv}},Pm=Ke(AL),Yd=e=>{const n={},o=m=>Le(m)?n[m]:n,r=m=>yn(n,m),c=(m,y)=>{m&&(re(m)?(Vn(y)||(y=[y]),he(y,v=>{Nn(v.deep)&&(v.deep=!ii(v)),Nn(v.split)&&(v.split=!ii(v)||wa(v)),Nn(v.remove)&&ii(v)&&!wa(v)&&(v.remove="none"),ii(v)&&wa(v)&&(v.mixed=!0,v.block_expand=!0),re(v.classes)&&(v.classes=v.classes.split(/\s+/))}),n[m]=y):it(m,(v,x)=>{c(x,v)}))},u=m=>(m&&n[m]&&delete n[m],n);return c(ZN(e)),c(Pm()),c(Ua(e)),{get:o,has:r,register:c,unregister:u}},Yy=Qe.each,Su=zs.DOM,av=e=>Le(e)&&sn(e),k4=(e,n)=>{const o=n&&n.schema||hm({}),r=(v,x)=>{x.classes.length>0&&Su.addClass(v,x.classes.join(" ")),Su.setAttribs(v,x.attrs)},c=v=>{const x=re(v)?{name:v,classes:[],attrs:{}}:v,N=Su.create(x.name);return r(N,x),N},u=(v,x)=>{const N=o.getElementRule(v.nodeName.toLowerCase()),D=N==null?void 0:N.parentsRequired;return D&&D.length?x&&Ae(D,x)?x:D[0]:!1},m=(v,x,N)=>{let D;const L=x[0],X=av(L)?L.name:void 0,Q=u(v,X);if(Q)X===Q?(D=L,x=x.slice(1)):D=Q;else if(L)D=L,x=x.slice(1);else if(!N)return v;const q=D?c(D):Su.create("div");q.appendChild(v),N&&Qe.each(N,pe=>{const ye=c(pe);q.insertBefore(ye,v)});const J=av(D)?D.siblings:void 0;return m(q,x,J)},y=Su.create("div");if(e.length>0){const v=e[0],x=c(v),N=av(v)?v.siblings:void 0;y.appendChild(m(x,e.slice(1),N))}return y},qN=e=>{e=Qe.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,y)=>{switch(c){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":Qe.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const v=y.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=n||"div",o},GN=e=>re(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Qe.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Qe.map(n.split(/(?:~\+|~|\+)/),qN),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],KN=(e,n)=>{let o="",r=Zb(e);if(r==="")return"";const c=L=>re(L)?L.replace(/%(\w+)/g,""):"",u=(L,X)=>Su.getStyle(X??e.getBody(),L,!0);if(re(n)){const L=e.formatter.get(n);if(!L)return"";n=L[0]}if("preview"in n){const L=n.preview;if(L===!1)return"";r=L||r}let m=n.block||n.inline||"span",y;const v=GN(n.selector);v.length>0?(v[0].name||(v[0].name=m),m=n.selector,y=k4(v,e)):y=k4([m],e);const x=Su.select(m,y)[0]||y.firstChild;Yy(n.styles,(L,X)=>{const Q=c(L);Q&&Su.setStyle(x,X,Q)}),Yy(n.attributes,(L,X)=>{const Q=c(L);Q&&Su.setAttrib(x,X,Q)}),Yy(n.classes,L=>{const X=c(L);Su.hasClass(x,X)||Su.addClass(x,X)}),e.dispatch("PreviewFormats"),Su.setStyles(y,{position:"absolute",left:-65535}),e.getBody().appendChild(y);const N=u("fontSize"),D=/px$/.test(N)?parseInt(N,10):0;return Yy(r.split(" "),L=>{let X=u(L,x);if(!(L==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(X)&&(X=u(L),gy(X).toLowerCase()==="#ffffff"))&&!(L==="color"&&gy(X).toLowerCase()==="#000000")){if(L==="font-size"&&/em|%$/.test(X)){if(D===0)return;X=parseFloat(X)/(/%$/.test(X)?100:1)*D+"px"}L==="border"&&X&&(o+="padding:0 2px;"),o+=L+":"+X+";"}}),e.dispatch("AfterPreviewFormats"),Su.remove(y),o},XN=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},w4=e=>{const n=Yd(e),o=Ra({});return XN(e),mF(e),Cu(e)||Wa(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,u)=>{U6(e,r,c,u)},remove:(r,c,u,m)=>{j6(e,r,c,u,m)},toggle:(r,c,u)=>{aW(e,r,c,u)},match:(r,c,u,m)=>F6(e,r,c,u,m),closest:r=>V6(e,r),matchAll:(r,c)=>L6(e,r,c),matchNode:(r,c,u,m)=>CN(e,r,c,u,m),canApply:r=>H6(e,r),formatChanged:(r,c,u,m)=>If(e,o,r,c,u,m),getCssText:He(KN,e)}},iw=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},_4=(e,n,o)=>{const r=Ra(!1),c=v=>{tw(n,!1,o),n.add({},v)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",v=>{const x=v.command;iw(x)||(gN(n,o),n.beforeChange())}),e.on("ExecCommand",v=>{const x=v.command;iw(x)||c(v)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",v=>{const x=v.keyCode;if(v.isDefaultPrevented())return;const N=To.os.isMacOS()&&v.key==="Meta";(x>=33&&x<=36||x>=37&&x<=40||x===45||v.ctrlKey||N)&&(c(),e.nodeChanged()),(x===46||x===8)&&e.nodeChanged(),r.get()&&n.typing&&!s4(LC(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const x=v.keyCode;if(v.isDefaultPrevented())return;if(x>=33&&x<=36||x>=37&&x<=40||x===45){n.typing&&c(v);return}const N=v.ctrlKey&&!v.altKey||v.metaKey;if((x<16||x>20)&&x!==224&&x!==91&&!n.typing&&!N){n.beforeChange(),tw(n,!0,o),n.add({},v),r.set(!0);return}(To.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&n.beforeChange()}),e.on("mousedown",v=>{n.typing&&c(v)});const u=v=>v.inputType==="insertReplacementText",m=v=>v.inputType==="insertText"&&v.data===null,y=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(u(v)||m(v)||y(v))&&c(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},zL=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},YN=e=>{const n=Bi(),o=Ra(0),r=Ra(0),c={data:[],typing:!1,beforeChange:()=>{R6(e,o,n)},add:(u,m)=>N6(e,c,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=LC(e);u.bookmark=Jc(e.selection),e.dispatch("change",{level:u,lastLevel:ca(c.data,r.get()).getOrUndefined()})},undo:()=>M6(e,c,o,r),redo:()=>B6(e,r,c.data),clear:()=>{kN(e,c,r)},reset:()=>{P6(e,c)},hasUndo:()=>$6(e,c,r),hasRedo:()=>ow(e,c,r),transact:u=>wN(e,c,o,u),ignore:u=>{_N(e,o,u)},extra:(u,m)=>{I6(e,c,r,u,m)}};return Cu(e)||_4(e,c,o),zL(e),c},OL=[9,27,Ut.HOME,Ut.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ut.DOWN,Ut.UP,Ut.LEFT,Ut.RIGHT].concat(To.browser.isFirefox()?[224]:[]),JN="data-mce-placeholder",C4=e=>e.type==="keydown"||e.type==="keyup",QN=e=>{const n=e.keyCode;return n===Ut.BACKSPACE||n===Ut.DELETE},DL=e=>{if(C4(e)){const n=e.keyCode;return!QN(e)&&(Ut.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ae(OL,n))}else return!1},S4=e=>C4(e)&&!(QN(e)||e.type==="keyup"&&e.keyCode===229),RL=(e,n,o)=>{if(ya(ne.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},NL=e=>{var n;const o=e.dom,r=Rc(e),c=(n=Wb(e))!==null&&n!==void 0?n:"",u=(m,y)=>{if(DL(m))return;const v=e.getBody(),x=S4(m)?!1:RL(o,v,r);(o.getAttrib(v,JN)!==""!==x||y)&&(o.setAttrib(v,JN,x?c:null),o.setAttrib(v,"aria-placeholder",x?c:null),I2(e,x),e.on(x?"keydown":"keyup",u),e.off(x?"keyup":"keydown",u))};$o(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",y=>ku.setEditorTimeout(e,()=>u(y)))})},ML=(e,n)=>({block:e,position:n}),BL=(e,n)=>({from:e,to:n}),x4=(e,n)=>{const o=ne.fromDom(e),r=ne.fromDom(n.container());return rC(o,r).map(c=>ML(c,n))},PL=e=>!ss(e.from.block,e.to.block),eM=(e,n)=>V(n,c=>kr(c)||gs(c.dom),c=>ss(c,e)).filter(As).getOr(e),eS=(e,n)=>{const o=ne.fromDom(e);return ss(eM(o,n.from.block),eM(o,n.to.block))},T4=e=>Qo(e.from.block.dom)===!1&&Qo(e.to.block.dom)===!1,$L=e=>{const n=o=>ng(o)||Ph(o.dom);return n(e.from.block)&&n(e.to.block)},IL=(e,n,o)=>rr(o.position.getNode())&&!ya(o.block)?Em(!1,o.block.dom).bind(r=>r.isEqual(o.position)?Gu(n,e,r).bind(c=>x4(e,c)):I.some(o)).getOr(o):o,FL=(e,n,o)=>{const r=x4(e,Ie.fromRangeStart(o)),c=r.bind(u=>Gu(n,e,u.position).bind(m=>x4(e,m).map(y=>IL(e,n,y))));return Dr(r,c,BL).filter(u=>PL(u)&&eS(e,u)&&T4(u)&&$L(u))},LL=(e,n,o)=>o.collapsed?FL(e,n,o):I.none(),tM=e=>{const n=ga(e);return Go(n,Tr).fold(Ke(n),o=>n.slice(0,o))},nM=e=>{const n=tM(e);return he(n,Uo),n},oM=(e,n)=>{const o=Ng(n,e);return Un(o.reverse(),r=>ya(r)).each(Uo)},E4=e=>Be(qg(e),n=>!ya(n)).length===0,HL=(e,n,o,r)=>{if(ya(o))return S(o),kc(o.dom);E4(r)&&ya(n)&&qc(r,ne.fromTag("br"));const c=ja(o.dom,Ie.before(r.dom));return he(nM(n),u=>{qc(r,u)}),oM(e,n),c},VL=(e,n,o)=>{if(ya(o)){if(ya(n)){const u=un((m=>{const y=(v,x)=>dd(v).fold(()=>x,N=>we(N)?y(N,x.concat(Ep(N))):x);return y(m,[])})(o),(m,y)=>(yb(m,y),y),w());ru(n),xr(n,u)}return Uo(o),kc(n.dom)}const r=li(o.dom);return he(nM(n),c=>{xr(o,c)}),oM(e,n),r},UL=(e,n)=>{const o=Ng(n,e);return I.from(o[o.length-1])},jL=(e,n)=>cl(n,e)?UL(n,e):I.none(),sM=(e,n)=>{Em(e,n.dom).bind(o=>I.from(o.getNode())).map(ne.fromDom).filter(ec).each(Uo)},rM=(e,n,o)=>(sM(!0,n),sM(!1,o),jL(n,o).fold(He(VL,e,n,o),He(HL,e,n,o))),aM=(e,n,o,r)=>n?rM(e,r,o):rM(e,o,r),cv=(e,n)=>{const o=ne.fromDom(e.getBody());return LL(o.dom,n,e.selection.getRng()).map(c=>()=>{aM(o,n,c.from.block,c.to.block).each(u=>{e.selection.setRng(u.toRange())})})},tS=(e,n)=>{const o=n.getRng();return Dr(rC(e,ne.fromDom(o.startContainer)),rC(e,ne.fromDom(o.endContainer)),(r,c)=>ss(r,c)?I.none():I.some(()=>{o.deleteContents(),aM(e,!0,r,c).each(u=>{n.setRng(u.toRange())})})).getOr(I.none())},cM=(e,n)=>{const o=ne.fromDom(n),r=He(ss,e);return R(o,kr,r).isSome()},WL=(e,n)=>cM(e,n.startContainer)||cM(e,n.endContainer),nS=(e,n)=>{const o=ja(e.dom,Ie.fromRangeStart(n)).isNone(),r=cc(e.dom,Ie.fromRangeEnd(n)).isNone();return!WL(e,n)&&o&&r},ZL=e=>I.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),qL=e=>{const n=ne.fromDom(e.getBody()),o=e.selection.getRng();return nS(n,o)?ZL(e):tS(n,e.selection)},A4=(e,n)=>e.selection.isCollapsed()?I.none():qL(e),Fg=(e,n,o,r,c)=>I.from(n._selectionOverrides.showCaret(e,o,r,c)),GL=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},uw=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?I.none():I.some(GL(n)),KL=(e,n,o)=>{const r=o1(1,e.getBody(),n),c=Ie.fromRangeStart(r),u=c.getNode();if(Bd(u))return Fg(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(Bd(m))return Fg(1,e,m,!1,!1);const y=jd(e.dom.getRoot(),c.getNode());return Bd(y)?Fg(1,e,y,!1,o):I.none()},z4=(e,n,o)=>n.collapsed?KL(e,n,o).getOr(n):n,XL=e=>th(e)||xk(e),YL=e=>nh(e)||Tk(e),JL=(e,n)=>{mt(n)&&n.data.length===0&&e.remove(n)},QL=(e,n,o,r,c,u)=>{Fg(r,e,u.getNode(!c),c,!0).each(m=>{if(n.collapsed){const y=n.cloneRange();c?y.setEnd(m.startContainer,m.startOffset):y.setStart(m.endContainer,m.endOffset),y.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),JL(e.dom,o)},Jd=(e,n)=>{const o=e.selection.getRng();if(!mt(o.commonAncestorContainer))return I.none();const r=n?ac.Forwards:ac.Backwards,c=qu(e.getBody()),u=He(r1,n?c.next:c.prev),m=n?XL:YL,y=Hp(r,e.getBody(),o),v=u(y),x=v&&Ju(n,v);if(!x||!Up(y,x))return I.none();if(m(x))return I.some(()=>QL(e,o,y.getNode(),r,n,x));const N=u(x);return N&&m(N)&&Up(x,N)?I.some(()=>QL(e,o,y.getNode(),r,n,N)):I.none()},dw=(e,n)=>Jd(e,n),oS=(e,n)=>{const o=e.getBody();return n?kc(o).filter(th):li(o).filter(nh)},sS=e=>{const n=e.selection.getRng();return!n.collapsed&&(oS(e,!0).exists(o=>o.isEqual(Ie.fromRangeStart(n)))||oS(e,!1).exists(o=>o.isEqual(Ie.fromRangeEnd(n))))},e8=e=>Le(e)&&(kr(ne.fromDom(e))||Dc(ne.fromDom(e))),Gi=Zu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),t8=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return $t(o)&&o.getAttribute("data-mce-caret")===r},lM=(e,n,o,r)=>{const c=u=>we(ne.fromDom(u))&&!Ii(o,r,e);return s1(!n,o).fold(()=>s1(n,r).fold(Ee,c),c)},iM=(e,n,o,r)=>{const c=r.getNode(!n);return rC(ne.fromDom(e),ne.fromDom(o.getNode())).map(u=>ya(u)?Gi.remove(u.dom):Gi.moveToElement(c)).orThunk(()=>I.some(Gi.moveToElement(c)))},uM=(e,n,o)=>Gu(n,e,o).bind(r=>e8(r.getNode())||lM(e,n,o,r)?I.none():n&&Qo(r.getNode())||!n&&Qo(r.getNode(!0))?iM(e,n,o,r):n&&nh(o)||!n&&th(o)?I.some(Gi.moveToPosition(r)):I.none()),n8=(e,n)=>nn(n)?I.none():e&&Qo(n.nextSibling)?I.some(Gi.moveToElement(n.nextSibling)):!e&&Qo(n.previousSibling)?I.some(Gi.moveToElement(n.previousSibling)):I.none(),lv=(e,n,o)=>o.fold(r=>I.some(Gi.remove(r)),r=>I.some(Gi.moveToElement(r)),r=>Ii(n,r,e)?I.none():I.some(Gi.moveToPosition(r))),dM=(e,n,o)=>t8(n,o)?n8(n,o.getNode(!n)).orThunk(()=>uM(e,n,o)):uM(e,n,o).bind(r=>lv(e,o,r)),fM=(e,n,o)=>{const r=o1(n?1:-1,e,o),c=Ie.fromRangeStart(r),u=ne.fromDom(e);return!n&&nh(c)?I.some(Gi.remove(c.getNode(!0))):n&&th(c)?I.some(Gi.remove(c.getNode())):!n&&th(c)&&Qn(u,c)?YO(u,c).map(m=>Gi.remove(m.getNode())):n&&nh(c)&&zE(u,c)?tC(u,c).map(m=>Gi.remove(m.getNode())):dM(e,n,c)},mM=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),na(e,n,ne.fromDom(o)),!0),O4=(e,n)=>o=>{const r=n?Ie.before(o):Ie.after(o);return e.selection.setRng(r.toRange()),!0},o8=e=>n=>(e.selection.setRng(n.toRange()),!0),gM=(e,n)=>I.from(jd(e.getBody(),n)),s8=(e,n)=>{const o=e.selection.getNode();return gM(e,o).filter(Qo).fold(()=>fM(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(mM(e,n),O4(e,n),o8(e))),()=>I.some($e))},mW=e=>{he(Fa(e,".mce-offscreen-selection"),Uo)},gW=(e,n)=>{const o=e.selection.getNode();return Qo(o)&&!Ja(o)?gM(e,o.parentNode).filter(Qo).fold(()=>I.some(()=>{mW(ne.fromDom(e.getBody())),na(e,n,ne.fromDom(e.selection.getNode())),Ry(e)}),()=>I.some($e)):sS(e)?I.some(()=>{wu(e,e.selection.getRng(),ne.fromDom(e.getBody()))}):I.none()},r8=e=>{const n=e.dom,o=e.selection,r=jd(e.getBody(),o.getNode());if(gs(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(Ie.before(c).toRange())}return!0},xu=(e,n)=>e.selection.isCollapsed()?s8(e,n):gW(e,n),a8=(e,n)=>{const o=Ie.fromRangeStart(e.selection.getRng());return Gu(n,e.getBody(),o).filter(r=>n?qj(r):Gj(r)).bind(r=>h2(n?0:-1,r)).map(r=>()=>e.selection.select(r))},D4=(e,n)=>e.selection.isCollapsed()?a8(e,n):I.none(),Jy=mt,rS=e=>Jy(e)&&e.data[0]===Z,c8=e=>Jy(e)&&e.data[e.data.length-1]===Z,l8=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Z)},pW=e=>{var n;if(Jy(e.previousSibling))return c8(e.previousSibling)||e.previousSibling.appendData(Z),e.previousSibling;if(Jy(e))return rS(e)||e.insertData(0,Z),e;{const o=l8(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},ed=e=>{var n,o;if(Jy(e.nextSibling))return rS(e.nextSibling)||e.nextSibling.insertData(0,Z),e.nextSibling;if(Jy(e))return c8(e)||e.appendData(Z),e;{const r=l8(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},aS=(e,n)=>e?pW(n):ed(n),i8=He(aS,!0),u8=He(aS,!1),pM=(e,n)=>mt(e.container())?aS(n,e.container()):aS(n,e.getNode()),hM=(e,n)=>{const o=n.get();return o&&e.container()===o&&Cn(o)},R4=(e,n)=>n.fold(o=>{mg(e.get());const r=i8(o);return e.set(r),I.some(Ie(r,r.length-1))},o=>kc(o).map(r=>{if(hM(r,e)){const c=e.get();return Ie(c,1)}else{mg(e.get());const c=pM(r,!0);return e.set(c),Ie(c,1)}}),o=>li(o).map(r=>{if(hM(r,e)){const c=e.get();return Ie(c,c.length-1)}else{mg(e.get());const c=pM(r,!1);return e.set(c),Ie(c,c.length-1)}}),o=>{mg(e.get());const r=u8(o);return e.set(r),I.some(Ie(r,1))}),$m=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return I.none()},Jl=Zu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yM=(e,n)=>{const o=pg(n,e);return o||e},d8=(e,n,o)=>{const r=dD(o),c=yM(n,r.container());return Rm(e,c,r).fold(()=>cc(c,r).bind(He(Rm,e,c)).map(u=>Jl.before(u)),I.none)},N4=(e,n)=>yg(e,n)===null,cS=(e,n,o)=>Rm(e,n,o).filter(He(N4,n)),bM=(e,n,o)=>{const r=sC(o);return cS(e,n,r).bind(c=>ja(c,r).isNone()?I.some(Jl.start(c)):I.none())},vM=(e,n,o)=>{const r=dD(o);return cS(e,n,r).bind(c=>cc(c,r).isNone()?I.some(Jl.end(c)):I.none())},kM=(e,n,o)=>{const r=sC(o),c=yM(n,r.container());return Rm(e,c,r).fold(()=>ja(c,r).bind(He(Rm,e,c)).map(u=>Jl.after(u)),I.none)},wM=e=>!LE(M4(e)),Tu=(e,n,o)=>$m([d8,bM,vM,kM],[e,n,o]).filter(wM),M4=e=>e.fold(_n,_n,_n,_n),_M=e=>e.fold(Ke("before"),Ke("start"),Ke("end"),Ke("after")),lS=e=>e.fold(Jl.before,Jl.before,Jl.after,Jl.after),B4=e=>e.fold(Jl.start,Jl.start,Jl.end,Jl.end),f8=(e,n)=>_M(e)===_M(n)&&M4(e)===M4(n),m8=(e,n,o,r,c,u)=>Dr(Rm(n,o,r),Rm(n,o,c),(m,y)=>m!==y&&iD(o,m,y)?Jl.after(e?m:y):u).getOr(u),g8=(e,n)=>e.fold(Je,o=>!f8(o,n)),CM=(e,n,o,r,c)=>{const u=Ju(e,c);return Gu(e,o,u).map(He(Ju,e)).fold(()=>r.map(lS),v=>Tu(n,o,v).map(He(m8,e,n,o,u,v)).filter(He(g8,r))).filter(wM)},p8=(e,n)=>e?n.fold(A(I.some,Jl.start),I.none,A(I.some,Jl.after),I.none):n.fold(I.none,A(I.some,Jl.before),I.none,A(I.some,Jl.end)),Qy=(e,n,o,r)=>{const c=Ju(e,r),u=Tu(n,o,c);return Tu(n,o,c).bind(He(p8,e)).orThunk(()=>CM(e,n,o,u,r))},SM=e=>ie(e.selection.getSel().modify),iS=(e,n,o)=>{const r=e?1:-1;return n.setRng(Ie(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},xM=(e,n)=>{const o=n.selection.getRng(),r=e?Ie.fromRangeEnd(o):Ie.fromRangeStart(o);return SM(n)?e&&nc(r)?iS(!0,n.selection,r):!e&&Ul(r)?iS(!1,n.selection,r):!1:!1};var Qd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Qd||(Qd={}));const Lf=(e,n)=>e===ac.Backwards?_o(n):n,TM=(e,n,o)=>e===ac.Forwards?n.next(o):n.prev(o),td=(e,n,o,r)=>rr(r.getNode(n===ac.Forwards))?Qd.Br:Ii(o,r)===!1?Qd.Block:Qd.Wrap,ph=(e,n,o,r)=>{const c=qu(o);let u=r;const m=[];for(;u;){const y=TM(n,c,u);if(!y)break;if(rr(y.getNode(!1)))return n===ac.Forwards?{positions:Lf(n,m).concat([y]),breakType:Qd.Br,breakAt:I.some(y)}:{positions:Lf(n,m),breakType:Qd.Br,breakAt:I.some(y)};if(!y.isVisible()){u=y;continue}if(e(u,y)){const v=td(o,n,u,y);return{positions:Lf(n,m),breakType:v,breakAt:I.some(y)}}m.push(y),u=y}return{positions:Lf(n,m),breakType:Qd.Eol,breakAt:I.none()}},uS=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const u=n(o,c).positions;return e===ac.Backwards?u.concat(c):[c].concat(u)}).getOr([]),P4=(e,n)=>Bt(e,(o,r)=>o.fold(()=>I.some(r),c=>Dr(xn(c.getClientRects()),xn(r.getClientRects()),(u,m)=>{const y=Math.abs(n-u.left);return Math.abs(n-m.left)<=y?r:c}).or(o)),I.none()),fw=(e,n)=>xn(n.getClientRects()).bind(o=>P4(e,o.left)),mw=He(ph,Ie.isAbove,-1),gw=He(ph,Ie.isBelow,1),EM=He(uS,-1,mw),AM=He(uS,1,gw),h8=(e,n)=>mw(e,n).breakAt.isNone(),zM=(e,n)=>gw(e,n).breakAt.isNone(),y8=e=>kc(e).map(n=>[n].concat(gw(e,n).positions)).getOr([]),b8=e=>li(e).map(n=>mw(e,n).positions.concat(n)).getOr([]),iv=(e,n)=>fw(EM(e,n),n),$4=(e,n)=>fw(AM(e,n),n),OM=Qo,I4=(e,n)=>Math.abs(e.left-n),dS=(e,n)=>Math.abs(e.right-n),v8=e=>br(e,"node"),DM=(e,n)=>ua(e,(o,r)=>{const c=Math.min(I4(o,n),dS(o,n)),u=Math.min(I4(r,n),dS(r,n));return u===c&&v8(r)&&OM(r.node)||u<c?r:o}),k8=e=>{const n=o=>Re(o,r=>{const c=va(r);return c.node=e,c});if($t(e))return n(e.getClientRects());if(mt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},RM=e=>ts(e,k8);var pw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(pw||(pw={}));const w8=(e,n,o,r)=>{let c=r;for(;c=Fp(c,e,lm,n);)if(o(c))return},NM=(e,n,o,r,c,u)=>{let m=0;const y=[],v=D=>{let L=RM([D]);e===-1&&(L=L.reverse());for(let X=0;X<L.length;X++){const Q=L[X];if(!o(Q,x)){if(y.length>0&&n(Q,te(y))&&m++,Q.line=m,c(Q))return!0;y.push(Q)}}return!1},x=te(u.getClientRects());if(!x)return y;const N=u.getNode();return N&&(v(N),w8(e,r,v,N)),y},MM=(e,n)=>n.line>e,_8=(e,n)=>n.line===e,C8=He(NM,pw.Up,zp,Zh),Eu=He(NM,pw.Down,Zh,zp),BM=e=>te(e.getClientRects()),F4=(e,n,o,r)=>{const c=qu(n);let u,m,y,v;const x=[];let N=0;e===1?(u=c.next,m=Zh,y=zp,v=Ie.after(r)):(u=c.prev,m=zp,y=Zh,v=Ie.before(r));const D=BM(v);do{if(!v.isVisible())continue;const L=BM(v);if(y(L,D))continue;x.length>0&&m(L,te(x))&&N++;const X=va(L);if(X.position=v,X.line=N,o(X))return x;x.push(X)}while(v=u(v));return x},L4=e=>n=>MM(e,n),hw=e=>n=>_8(e,n),Lg=(e,n)=>{e.selection.setRng(n),Om(e,e.selection.getRng())},H4=(e,n,o)=>I.some(z4(e,n,o)),PM=(e,n,o,r,c,u)=>{const m=n===ac.Forwards,y=qu(e.getBody()),v=He(r1,m?y.next:y.prev),x=m?r:c;if(!o.collapsed){const Q=Wl(o);if(u(Q))return Fg(n,e,Q,n===ac.Backwards,!1);if(sS(e)){const q=o.cloneRange();return q.collapse(n===ac.Backwards),I.from(q)}}const N=Hp(n,e.getBody(),o);if(x(N))return uw(e,N.getNode(!m));let D=v(N);const L=wd(o);if(D)D=Ju(m,D);else return L?I.some(o):I.none();if(x(D))return Fg(n,e,D.getNode(!m),m,!1);const X=v(D);return X&&x(X)&&Up(D,X)?Fg(n,e,X.getNode(!m),m,!1):L?H4(e,D.toRange(),!1):I.none()},$M=(e,n,o,r,c,u)=>{const m=Hp(n,e.getBody(),o),y=te(m.getClientRects()),v=n===pw.Down,x=e.getBody();if(!y)return I.none();if(sS(e)){const J=v?Ie.fromRangeEnd(o):Ie.fromRangeStart(o);return(v?$4:iv)(x,J).orThunk(()=>I.from(J)).map(ye=>ye.toRange())}const D=(v?Eu:C8)(x,L4(1),m),L=Be(D,hw(1)),X=y.left,Q=DM(L,X);if(Q&&u(Q.node)){const J=Math.abs(X-Q.left),pe=Math.abs(X-Q.right);return Fg(n,e,Q.node,J<pe,!1)}let q;if(r(m)?q=m.getNode():c(m)?q=m.getNode(!0):q=Wl(o),q){const J=F4(n,x,L4(1),q);let pe=DM(Be(J,hw(1)),X);if(pe||(pe=te(Be(J,hw(0))),pe))return H4(e,pe.position.toRange(),!1)}return L.length===0?V4(e,v).filter(v?c:r).map(J=>z4(e,J.toRange(),!1)):I.none()},V4=(e,n)=>{const o=e.selection.getRng(),r=n?Ie.fromRangeEnd(o):Ie.fromRangeStart(o),c=n1(r.container(),e.getBody());if(n){const u=gw(c,r);return ns(u.positions)}else{const u=mw(c,r);return xn(u.positions)}},U4=(e,n,o)=>V4(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),fS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},IM=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},uv=(e,n,o)=>R4(n,o).map(r=>(fS(e,r),o)),Hg=(e,n,o)=>{const r=Ie.fromRangeStart(e);if(e.collapsed)return r;{const c=Ie.fromRangeEnd(e);return o?ja(n,c).getOr(c):cc(n,r).getOr(r)}},eb=(e,n,o)=>{const r=e.getBody(),c=Hg(e.selection.getRng(),r,o),u=He(Dy,e);return Qy(o,u,r,c).bind(y=>uv(e,n,y))},mS=(e,n,o)=>{const r=Re(Fa(ne.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=Be(r,e),u=Be(o,e);he(Or(c,u),He(IM,!1)),he(Or(u,c),He(IM,!0))},j4=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Ie.fromRangeStart(e.selection.getRng());Ie.isTextPosition(r)&&!uD(r)&&(fS(e,RT(o,r)),n.set(null))}},W4=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=Be(r,e);he(c,u=>{const m=Ie.fromRangeStart(n.selection.getRng());Tu(e,n.getBody(),m).bind(y=>uv(n,o,y))})}},Z4=(e,n,o)=>Tf(e)?eb(e,n,o).isSome():!1,FM=(e,n,o)=>Tf(n)?xM(e,n):!1,LM=e=>{const n=Ra(null),o=He(Dy,e);return e.on("NodeChange",r=>{Tf(e)&&(mS(o,e.dom,r.parents),j4(e,n),W4(o,e,n,r.parents))}),n},HM=He(FM,!0),S8=He(FM,!1),gS=(e,n,o)=>{if(Tf(e)){const r=V4(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?Ie.fromRangeEnd(c):Ie.fromRangeStart(c)});return Tu(He(Dy,e),e.getBody(),r).exists(c=>{const u=lS(c);return R4(o,u).exists(m=>(fS(e,m),!0))})}else return!1},x8=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},T8=e=>Dr(kc(e),li(e),(n,o)=>{const r=Ju(!0,n),c=Ju(!1,o);return cc(e,r).forall(u=>u.isEqual(c))}).getOr(!0),VM=(e,n)=>o=>R4(n,o).map(r=>()=>fS(e,r)),UM=(e,n,o,r)=>{const c=e.getBody(),u=He(Dy,e);e.undoManager.ignore(()=>{e.selection.setRng(x8(o,r)),UE(e),Tu(u,c,Ie.fromRangeStart(e.selection.getRng())).map(B4).bind(VM(e,n)).each(Zt)}),e.nodeChanged()},jM=(e,n)=>{const o=pg(n,e);return o||e},WM=(e,n,o,r)=>{const c=jM(e.getBody(),r.container()),u=He(Dy,e),m=Tu(u,c,r);return m.bind(v=>o?v.fold(Ke(I.some(B4(v))),I.none,Ke(I.some(lS(v))),I.none):v.fold(I.none,Ke(I.some(lS(v))),I.none,Ke(I.some(B4(v))))).map(VM(e,n)).getOrThunk(()=>{const v=Pd(o,c,r),x=v.bind(N=>Tu(u,c,N));return Dr(m,x,()=>Rm(u,c,r).bind(N=>T8(N)?I.some(()=>{na(e,o,ne.fromDom(N))}):I.none())).getOrThunk(()=>x.bind(()=>v.map(N=>()=>{o?UM(e,n,r,N):UM(e,n,N,r)})))})},ZM=(e,n,o)=>{if(e.selection.isCollapsed()&&Tf(e)){const r=Ie.fromRangeStart(e.selection.getRng());return WM(e,n,o,r)}return I.none()},hW=e=>yc(e)>1,E8=(e,n)=>{const o=ne.fromDom(e.getBody()),r=ne.fromDom(e.selection.getStart()),c=Ng(r,o);return Go(c,n).fold(Ke(c),u=>c.slice(0,u))},A8=e=>yc(e)===1,yW=e=>E8(e,n=>Tr(n)||hW(n)),bW=e=>E8(e,Tr),qM=(e,n)=>{const o=He(YD,e);return ts(n,r=>o(r)?[r.dom]:[])},GM=e=>{const n=bW(e);return qM(e,n)},vW=(e,n,o,r)=>{const c=qM(n,r);if(c.length===0)na(n,e,o);else{const u=XD(o.dom,c);n.selection.setRng(u.toRange())}},z8=(e,n)=>{const o=Be(yW(e),A8);return ns(o).bind(r=>{const c=Ie.fromRangeStart(e.selection.getRng());return fD(n,c,r.dom)&&!JD(r)?I.some(()=>vW(n,e,r,o)):I.none()})},Ki=(e,n)=>{const o=n.parentElement;return rr(n)&&!Y(o)&&e.dom.isEmpty(o)},KM=e=>JD(ne.fromDom(e)),dv=(e,n)=>{const o=e.selection.getStart(),r=Ki(e,o)||KM(o)?XD(o,n):gF(e.selection.getRng(),n);e.selection.setRng(r.toRange())},O8=(e,n)=>{const o=Or(n,GM(e));o.length>0&&dv(e,o)},q4=e=>mt(e.startContainer),XM=e=>e.startOffset===0&&q4(e),G4=(e,n)=>{const o=n.startContainer.parentElement;return!Y(o)&&YD(e,ne.fromDom(o))},D8=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Y(n)&&!Y(o)&&n.isEqualNode(o)},R8=e=>{const n=e.endContainer;return e.endOffset===(mt(n)?n.length:n.childNodes.length)},YM=e=>D8(e)&&R8(e),N8=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),M8=e=>YM(e)||N8(e),B8=e=>{const n=e.selection.getRng();return XM(n)&&G4(e,n)&&M8(n)},K4=e=>{if(B8(e)){const n=GM(e);return I.some(()=>{UE(e),O8(e,n)})}else return I.none()},X4=(e,n)=>e.selection.isCollapsed()?z8(e,n):K4(e),P8=e=>rF(e,n=>hu(n.dom),Tr),kW=e=>P8(ne.fromDom(e.selection.getStart())),$8=e=>{const n=e.selection.getRng();return n.collapsed&&(q4(n)||e.dom.isEmpty(n.startContainer))&&!kW(e)},yw=e=>($8(e)&&dv(e,[]),!0),bw=(e,n,o)=>Le(o)?I.some(()=>{e._selectionOverrides.hideFakeCaret(),na(e,n,ne.fromDom(o))}):I.none(),JM=(e,n)=>{const o=n?xk:Tk,r=n?ac.Forwards:ac.Backwards,c=Hp(r,e.getBody(),e.selection.getRng());return o(c)?bw(e,n,c.getNode(!n)):I.from(Ju(n,c)).filter(u=>o(u)&&Up(c,u)).bind(u=>bw(e,n,u.getNode(!n)))},wW=(e,n)=>{const o=e.selection.getNode();return Rr(o)?bw(e,n,o):I.none()},Y4=(e,n)=>e.selection.isCollapsed()?JM(e,n):wW(e,n),I8=e=>V(e,n=>gs(n.dom)||Qo(n.dom)).exists(n=>gs(n.dom)),J4=e=>Pl(e??"").getOr(0),pS=(e,n)=>{const o=e||ap(n)?"margin":"padding",r=Xr(n,"direction")==="rtl"?"-right":"-left";return o+r},hS=(e,n,o,r,c,u)=>{const m=pS(o,ne.fromDom(u)),y=J4(e.getStyle(u,m));if(n==="outdent"){const v=Math.max(0,y-r);e.setStyle(u,m,v?v+c:"")}else{const v=y+r+c;e.setStyle(u,m,v)}},QM=(e,n)=>Ko(n,o=>{const r=pS(W_(e),o),c=Zc(o,r).map(J4).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),Q4=e=>{const n=yS(e);return!e.mode.isReadOnly()&&(n.length>1||QM(e,n))},eB=e=>Oc(e)||Dc(e),F8=e=>Ec(e).exists(eB),yS=e=>Be(pd(e.selection.getSelectedBlocks()),n=>!eB(n)&&!F8(n)&&I8(n)),tB=(e,n)=>{var o,r;const{dom:c}=e,u=Z_(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",y=J4(u),v=W_(e);he(yS(e),x=>{hS(c,n,v,y,m,x.dom)})},L8=e=>tB(e,"indent"),nB=e=>tB(e,"outdent"),oB=e=>{if(e.selection.isCollapsed()&&Q4(e)){const n=e.dom,o=e.selection.getRng(),r=Ie.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&KO(ne.fromDom(c),r))return I.some(()=>nB(e))}return I.none()},nd=(e,n,o)=>la([oB,xu,dw,(r,c)=>ZM(r,n,c),cv,vC,D4,Y4,A4,X4],r=>r(e,o)).filter(r=>e.selection.isEditable()),sB=(e,n)=>{nd(e,n,!1).fold(()=>{UE(e),Ry(e)},Zt)},rB=(e,n)=>{nd(e,n,!0).fold(()=>FI(e),Zt)},_W=(e,n)=>{e.addCommand("delete",()=>{sB(e,n)}),e.addCommand("forwardDelete",()=>{rB(e,n)})},H8=5,CW=400,V8=e=>e.touches===void 0||e.touches.length!==1?I.none():I.some(e.touches[0]),U8=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>H8||r>H8},bS=e=>{const n=Bi(),o=Ra(!1),r=Sp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},CW);e.on("touchstart",c=>{V8(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),V8(c).each(u=>{n.on(m=>{U8(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},e3=(e,n)=>yn(e,n.nodeName),t3=(e,n)=>mt(n)?!0:$t(n)?!e3(e.getBlockElements(),n)&&!Fi(n)&&!um(e,n):!1,aB=(e,n,o)=>nt(qO(ne.fromDom(o),ne.fromDom(n)),r=>e3(e,r.dom)),cB=(e,n)=>{if(mt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||e3(e,n.nextSibling)))return!0}return!1},n3=e=>e.dom.create(Rc(e),Rd(e)),j8=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),u=o.getStart(),m=e.getBody();let y,v,x=!1;const N=Rc(e);if(!u||!$t(u))return;const D=m.nodeName.toLowerCase();if(!r.isValidChild(D,N.toLowerCase())||aB(c,m,u))return;const L=o.getRng(),{startContainer:X,startOffset:Q,endContainer:q,endOffset:J}=L,pe=Ay(e);let ye=m.firstChild;for(;ye;)if($t(ye)&&Zv(r,ye),t3(r,ye)){if(cB(c,ye)){v=ye,ye=ye.nextSibling,n.remove(v);continue}y||(y=n3(e),m.insertBefore(y,ye),x=!0),v=ye,ye=ye.nextSibling,y.appendChild(v)}else y=null,ye=ye.nextSibling;x&&pe&&(L.setStart(X,Q),L.setEnd(q,J),o.setRng(L),e.nodeChanged())},lB=(e,n,o)=>{const r=ne.fromDom(n3(e)),c=w();xr(r,c),o(n,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},W8=e=>{e.on("NodeChange",He(j8,e))},iB=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,vS=(e,n,o)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const y=n.lastIndexOf("<",u);if(y!==-1&&n.substring(y,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},Z8=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],vS(e,c,Jb(e)));o.content=c}},q8=e=>{const n="contenteditable",o=" "+Qe.trim(ST(e))+" ",r=" "+Qe.trim(Jb(e))+" ",c=iB(o),u=iB(r),m=xT(e);m.length>0&&e.on("BeforeSetContent",y=>{Z8(e,m,y)}),e.parser.addAttributeFilter("class",y=>{let v=y.length;for(;v--;){const x=y[v];c(x)?x.attr(n,"true"):u(x)&&x.attr(n,"false")}}),e.serializer.addAttributeFilter(n,y=>{let v=y.length;for(;v--;){const x=y[v];!c(x)&&!u(x)||(m.length>0&&x.attr("data-mce-content")?(x.name="#text",x.type=3,x.raw=!0,x.value=x.attr("data-mce-content")):x.attr(n,null))}})},G8=e=>Bn(ne.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),kS=(e,n)=>{n.hasAttribute("data-mce-caret")&&(vf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},K8=(e,n)=>{const o=G8(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),kS(e,o);return}Fo(o)&&(kS(e,o),e.undoManager.add())}},X8=e=>{e.on("keyup compositionstart",He(K8,e))},o3=Qo,Y8=(e,n,o)=>PM(n,e,o,th,nh,o3),J8=(e,n,o)=>$M(n,e,o,u=>th(u)||wn(u),u=>nh(u)||WO(u),o3),Q8=e=>{const n=e.dom.create(Rc(e));return n.innerHTML='<br data-mce-bogus="1">',n},uB=(e,n,o)=>{const r=qu(e.getBody()),c=He(r1,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!c(Ie.fromRangeStart(o))){const y=ne.fromDom(Q8(e));n===1?wl(ne.fromDom(u),y):qc(ne.fromDom(u),y),e.selection.select(y.dom,!0),e.selection.collapse()}}},e7=(e,n)=>{const o=n?ac.Forwards:ac.Backwards,r=e.selection.getRng();return Y8(o,e,r).orThunk(()=>(uB(e,o,r),I.none()))},t7=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return J8(o,e,r).orThunk(()=>(uB(e,o,r),I.none()))},s3=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return LE(o)?!n:n},dB=(e,n)=>e7(e,s3(e.selection,n)).exists(o=>(Lg(e,o),!0)),r3=(e,n)=>t7(e,n).exists(o=>(Lg(e,o),!0)),fB=(e,n)=>U4(e,n,n?nh:th),wS=(e,n)=>oS(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(Lg(e,o),!0)),n7=e=>Ae(["figcaption"],Ns(e)),o7=(e,n)=>{const o=He(ss,n);return V(ne.fromDom(e.container()),Tr,o).filter(n7)},s7=(e,n,o)=>n?zM(e.dom,o):h8(e.dom,o),r7=(e,n)=>{const o=ne.fromDom(e.getBody()),r=Ie.fromRangeStart(e.selection.getRng());return o7(r,o).exists(()=>{if(s7(o,n,r)){const u=lB(e,o,n?xr:tm);return e.selection.setRng(u),!0}else return!1})},Na=(e,n)=>e.selection.isCollapsed()?r7(e,n):!1,mB={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},a7=e=>Re(e,n=>({...mB,...n})),c7=e=>Re(e,n=>({...mB,...n})),a3=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,c3=(e,n)=>ts(a7(e),o=>a3(o,n)?[o]:[]),gB=(e,n)=>ts(c7(e),o=>a3(o,n)?[o]:[]),In=(e,...n)=>()=>e.apply(null,n),tb=(e,n)=>Un(c3(e,n),o=>o.action()),l3=(e,n)=>la(gB(e,n),o=>o.action()),_S=(e,n)=>{const o=n?ac.Forwards:ac.Backwards,r=e.selection.getRng();return PM(e,o,r,xk,Tk,Rr).exists(c=>(Lg(e,c),!0))},CS=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return $M(e,o,r,xk,Tk,Rr).exists(c=>(Lg(e,c),!0))},SS=(e,n)=>U4(e,n,n?Tk:xk),i3=Zu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),hh={...i3,none:e=>i3.none(e)},vw=(e,n)=>fv(e,n,Je),fv=(e,n,o)=>ts(ga(e),r=>hc(r,n)?o(r)?[r]:[]:fv(r,n,o)),Im=(e,n,o=Ee)=>{if(o(n))return I.none();if(Ae(e,Ns(n)))return I.some(n);const r=c=>hc(c,"table")||o(c);return kn(n,e.join(","),r)},kw=(e,n)=>Im(["td","th"],e,n),pB=e=>vw(e,"th,td"),d3=(e,n)=>Pn(e,"table",n),f3=(e,n,o,r,c=Je)=>{const u=r===1;if(!u&&o<=0)return hh.first(e[0]);if(u&&o>=e.length-1)return hh.last(e[e.length-1]);{const m=o+r,y=e[m];return c(y)?hh.middle(n,y):f3(e,n,m,r,c)}},m3=(e,n)=>d3(e,n).bind(o=>{const r=pB(o);return Go(r,u=>ss(e,u)).map(u=>({index:u,all:r}))}),l7=(e,n,o)=>m3(e,o).fold(()=>hh.none(e),c=>f3(c.all,e,c.index,1,n)),i7=(e,n,o)=>m3(e,o).fold(()=>hh.none(),c=>f3(c.all,e,c.index,-1,n)),hB=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),u7=(e,n)=>ts(n,o=>{const r=hB(va(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),d7=(e,n,o)=>Bt(e,(r,c)=>r.fold(()=>I.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),y=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return I.some(y<m?c:u)}),I.none()),yB=(e,n,o,r,c)=>{const u=Fa(ne.fromDom(o),"td,th,caption").map(y=>y.dom),m=Be(u7(e,u),y=>n(y,c));return d7(m,r,c).map(y=>y.cell)},f7=e=>e.bottom,m7=e=>e.top,g7=(e,n)=>e.y<n,p7=(e,n)=>e.y>n,h7=He(yB,f7,g7),y7=He(yB,m7,p7),b7=(e,n)=>xn(n.getClientRects()).bind(o=>h7(e,o.left,o.top)).bind(o=>fw(b8(o),n)),v7=(e,n)=>ns(n.getClientRects()).bind(o=>y7(e,o.left,o.top)).bind(o=>fw(y8(o),n)),k7=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),w7=e=>e.breakType===Qd.Wrap&&e.positions.length===0,bB=e=>e.breakType===Qd.Br&&e.positions.length===1,g3=(e,n,o)=>{const r=e(n,o);return w7(r)||!rr(o.getNode())&&bB(r)?!k7(e,n,r):r.breakAt.isNone()},vB=He(g3,mw),_7=He(g3,gw),C7=(e,n,o)=>{const r=Ie.fromRangeStart(n);return Em(!e,o).exists(c=>c.isEqual(r))},S7=(e,n,o,r)=>{const c=e.selection.getRng(),u=n?1:-1;return BT()&&C7(n,c,o)?(Fg(u,e,o,!n,!1).each(m=>{Lg(e,m)}),!0):!1},x7=(e,n,o)=>b7(n,o).orThunk(()=>xn(o.getClientRects()).bind(r=>P4(EM(e,Ie.before(n)),r.left))).getOr(Ie.before(n)),kB=(e,n,o)=>v7(n,o).orThunk(()=>xn(o.getClientRects()).bind(r=>P4(AM(e,Ie.after(n)),r.left))).getOr(Ie.after(n)),wB=(e,n)=>{const o=n.getNode(e);return ur(o)?I.some(o):I.none()},_B=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?wl:qc,c=lB(n,ne.fromDom(o),r);Lg(n,c)})},CB=(e,n,o)=>{const r=wB(!!n,o),c=n===!1;r.fold(()=>Lg(e,o.toRange()),u=>Em(c,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>Lg(e,o.toRange()),m=>_B(n,e,u)))},SB=(e,n,o,r)=>{const c=e.selection.getRng(),u=Ie.fromRangeStart(c),m=e.getBody();if(!n&&vB(r,u)){const y=x7(m,o,u);return CB(e,n,y),!0}else if(n&&_7(r,u)){const y=kB(m,o,u);return CB(e,n,y),!0}else return!1},p3=(e,n,o)=>I.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>I.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),xB=(e,n)=>p3(e,n,S7),TB=(e,n)=>p3(e,n,SB),T7=e=>{const n=Tg.exact(e,0,e,0);return N1(n)},h3=(e,n,o)=>o.fold(I.none,I.none,(r,c)=>AO(c).map(u=>T7(u)),r=>(e.execCommand("mceTableInsertRowAfter"),EB(e,n,r))),EB=(e,n,o)=>h3(e,n,l7(o,Yt)),E7=(e,n,o)=>h3(e,n,i7(o,Yt)),y3=(e,n)=>{const o=["table","li","dl"],r=ne.fromDom(e.getBody()),c=y=>{const v=Ns(y);return ss(y,r)||Ae(o,v)},u=e.selection.getRng(),m=ne.fromDom(n?u.endContainer:u.startContainer);return kw(m,c).map(y=>(d3(y,c).each(N=>{e.model.table.clearSelectedCells(N.dom)}),e.selection.collapse(!n),(n?EB:E7)(e,c,y).each(N=>{e.selection.setRng(N)}),!0)).getOr(!1)},A7=(e,n,o)=>{const r=To.os.isMacOS()||To.os.isiOS();tb([{keyCode:Ut.RIGHT,action:In(dB,e,!0)},{keyCode:Ut.LEFT,action:In(dB,e,!1)},{keyCode:Ut.UP,action:In(r3,e,!1)},{keyCode:Ut.DOWN,action:In(r3,e,!0)},...r?[{keyCode:Ut.UP,action:In(wS,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ut.DOWN,action:In(wS,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ut.RIGHT,action:In(xB,e,!0)},{keyCode:Ut.LEFT,action:In(xB,e,!1)},{keyCode:Ut.UP,action:In(TB,e,!1)},{keyCode:Ut.DOWN,action:In(TB,e,!0)},{keyCode:Ut.RIGHT,action:In(_S,e,!0)},{keyCode:Ut.LEFT,action:In(_S,e,!1)},{keyCode:Ut.UP,action:In(CS,e,!1)},{keyCode:Ut.DOWN,action:In(CS,e,!0)},{keyCode:Ut.RIGHT,action:In(Z4,e,n,!0)},{keyCode:Ut.LEFT,action:In(Z4,e,n,!1)},{keyCode:Ut.RIGHT,ctrlKey:!r,altKey:r,action:In(HM,e,n)},{keyCode:Ut.LEFT,ctrlKey:!r,altKey:r,action:In(S8,e,n)},{keyCode:Ut.UP,action:In(Na,e,!1)},{keyCode:Ut.DOWN,action:In(Na,e,!0)}],o).each(c=>{o.preventDefault()})},z7=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||A7(e,n,o)})},ef=(e,n)=>({container:e,offset:n}),xS=zs.DOM,TS=e=>n=>e===n?-1:0,O7=e=>n=>e.isBlock(n)||Ae(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",ES=(e,n,o)=>{if(mt(e)&&n>=0)return I.some(ef(e,n));{const r=Sf(xS);return I.from(r.backwards(e,n,TS(e),o)).map(c=>ef(c.container,c.container.data.length))}},AB=(e,n,o)=>{if(mt(e)&&n>=e.length)return I.some(ef(e,n));{const r=Sf(xS);return I.from(r.forwards(e,n,TS(e),o)).map(c=>ef(c.container,0))}},b3=(e,n,o)=>{if(!mt(e))return I.none();const r=e.data;if(n>=0&&n<=r.length)return I.some(ef(e,n));{const c=Sf(xS);return I.from(c.backwards(e,n,TS(e),o)).bind(u=>{const m=u.container.data;return b3(u.container,n+m.length,o)})}},zB=(e,n,o)=>{if(!mt(e))return I.none();const r=e.data;if(n<=r.length)return I.some(ef(e,n));{const c=Sf(xS);return I.from(c.forwards(e,n,TS(e),o)).bind(u=>zB(u.container,n-r.length,o))}},v3=(e,n,o,r,c)=>{const u=Sf(e,O7(e));return I.from(u.backwards(n,o,r,c))},D7=e=>e.collapsed&&mt(e.startContainer),OB=e=>Me(e.toString().replace(/\u00A0/g," ")),DB=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,k3=(e,n)=>e.substring(n.length),R7=(e,n,o)=>{let r;const c=o.charAt(0);for(r=n-1;r>=0;r--){const u=e.charAt(r);if(DB(u))return I.none();if(c===u&&yo(e,o,r,n))break}return I.some(r)},SW=(e,n,o,r=0)=>{if(!D7(n))return I.none();const c={text:"",offset:0},u=(y,v,x)=>(c.text=x+c.text,c.offset+=v,R7(c.text,c.offset,o).getOr(v)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return v3(e,n.startContainer,n.startOffset,u,m).bind(y=>{const v=n.cloneRange();if(v.setStart(y.container,y.offset),v.setEnd(n.endContainer,n.endOffset),v.collapsed)return I.none();const x=OB(v);return x.lastIndexOf(o)!==0||k3(x,o).length<r?I.none():I.some({text:k3(x,o),range:v,trigger:o})})},RB=(e,n,o,r=0)=>rI(ne.fromDom(n.startContainer)).fold(()=>SW(e,n,o,r),c=>{const u=e.createRng();u.selectNode(c.dom);const m=OB(u);return I.some({range:u,text:k3(m,o),trigger:o})}),AS=e=>e.nodeType===xi,NB=e=>e.nodeType===Si,w3=e=>{if(AS(e))return ef(e,e.data.length);{const n=e.childNodes;return n.length>0?w3(n[n.length-1]):ef(e,n.length)}},MB=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?MB(o[n],0):o.length>0&&NB(e)&&o.length===n?w3(o[o.length-1]):ef(e,n)},BB=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return v3(e,n.container,n.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!DB(u)}).isSome()},PB=e=>n=>{const o=MB(n.startContainer,n.startOffset);return!BB(e,o)},N7=(e,n,o)=>la(o.triggers,r=>RB(e,n,r)),M7=(e,n)=>{const o=n(),r=e.selection.getRng();return N7(e.dom,r,o).bind(c=>$B(e,n,c))},$B=(e,n,o,r={})=>{var c;const u=n(),y=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",v=Be(u.lookupByTrigger(o.trigger),N=>o.text.length>=N.minChars&&N.matches.getOrThunk(()=>PB(e.dom))(o.range,y,o.text));if(v.length===0)return I.none();const x=Promise.all(Re(v,N=>N.fetch(o.text,N.maxResults,r).then(L=>({matchText:o.text,items:L,columns:N.columns,onAction:N.onAction,highlightOn:N.highlightOn}))));return I.some({lookupData:x,context:o})};var tf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(tf||(tf={}));const _3=(e,n,o)=>e.stype===tf.Error?n(e.serror):o(e.svalue),C3=e=>{const n=[],o=[];return he(e,r=>{_3(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},B7=(e,n)=>e.stype===tf.Error?{stype:tf.Error,serror:n(e.serror)}:e,P7=(e,n)=>e.stype===tf.Value?{stype:tf.Value,svalue:n(e.svalue)}:e,$7=(e,n)=>e.stype===tf.Value?n(e.svalue):e,IB=(e,n)=>e.stype===tf.Error?n(e.serror):e,FB=e=>({stype:tf.Value,svalue:e}),LB=e=>({stype:tf.Error,serror:e}),ol={fromResult:e=>e.fold(LB,FB),toResult:e=>_3(e,Qc.error,Qc.value),svalue:FB,partition:C3,serror:LB,bind:$7,bindError:IB,map:P7,mapError:B7,fold:_3},Ma=e=>sn(e)&&Xo(e).length>100?" removed due to size":JSON.stringify(e,null,2),Fm=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Ke("... (only showing first ten failures)")}]):e;return Re(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},zS=(e,n)=>ol.serror([{path:e,getErrorInfo:n}]),EW=(e,n,o)=>zS(e,()=>'Could not find valid *required* value for "'+n+'" in '+Ma(o)),I7=(e,n)=>zS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),F7=(e,n,o)=>zS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Ma(n)),L7=(e,n)=>zS(e,Ke(n)),H7=(e,n,o,r)=>Vo(o,r).fold(()=>F7(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),HB=(e,n)=>({extract:(c,u)=>Vo(u,e).fold(()=>I7(c,e),y=>H7(c,u,n,y)),toString:()=>"chooseOn("+e+"). Possible values: "+Xo(n)}),mv=(e,n)=>n,AW=(e,n)=>dr(e)&&dr(n)?OS(e,n):n,VB=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const u in c)yn(c,u)&&(o[u]=e(o[u],c[u]))}return o},OS=VB(AW),Hf=VB(mv),UB=()=>({tag:"required",process:{}}),V7=e=>({tag:"defaultedThunk",process:e}),S3=e=>V7(Ke(e)),U7=()=>({tag:"option",process:{}}),x3=(e,n)=>e.length>0?ol.svalue(OS(n,Hf.apply(void 0,e))):ol.svalue(n),T3=e=>A(ol.serror,zr)(e),j7={consolidateObj:(e,n)=>{const o=ol.partition(e);return o.errors.length>0?T3(o.errors):x3(o.values,n)},consolidateArr:e=>{const n=ol.partition(e);return n.errors.length>0?T3(n.errors):ol.svalue(n.values)}},jB=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),WB=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),DS=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},ww=e=>{const n=(r,c)=>ol.bindError(e(c),u=>L7(r,u)),o=Ke("val");return{extract:n,toString:o}},E3=ww(ol.svalue),W7=(e,n,o,r)=>Vo(n,o).fold(()=>EW(e,o,n),r),ZB=(e,n,o,r)=>{const c=Vo(e,n).getOrThunk(()=>o(e));return r(c)},Z7=(e,n,o)=>o(Vo(e,n)),q7=(e,n,o,r)=>{const c=Vo(e,n).map(u=>u===!0?o(e):u);return r(c)},A3=(e,n,o,r,c)=>{const u=y=>c.extract(n.concat([r]),y),m=y=>y.fold(()=>ol.svalue(I.none()),v=>{const x=c.extract(n.concat([r]),v);return ol.map(x,I.some)});switch(e.tag){case"required":return W7(n,o,r,u);case"defaultedThunk":return ZB(o,r,e.process,u);case"option":return Z7(o,r,m);case"defaultedOptionThunk":return q7(o,r,e.process,m);case"mergeWithThunk":return ZB(o,r,Ke({}),y=>{const v=OS(e.process(o),y);return u(v)})}},qB=(e,n,o)=>{const r={},c=[];for(const u of o)DS(u,(m,y,v,x)=>{const N=A3(v,e,n,m,x);ol.fold(N,D=>{c.push(...D)},D=>{r[y]=D})},(m,y)=>{r[m]=y(n)});return c.length>0?ol.serror(c):ol.svalue(r)},z3=e=>({extract:(r,c)=>qB(r,c,e),toString:()=>`obj{
`+Re(e,c=>DS(c,(u,m,y,v)=>u+" -> "+v.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),O3=e=>({extract:(r,c)=>{const u=Re(c,(m,y)=>e.extract(r.concat(["["+y+"]"]),m));return j7.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),G7=e=>ww(n=>e(n).fold(ol.serror,ol.svalue)),D3=(e,n,o)=>{const r=n.extract([e],o);return ol.mapError(r,c=>({input:o,errors:c}))},K7=(e,n,o)=>ol.toResult(D3(e,n,o)),X7=e=>`Errors: 
`+Fm(e.errors).join(`
`)+`

Input object: `+Ma(e.input),GB=(e,n)=>HB(e,po(n,z3)),Y7=Ke(E3),RS=(e,n)=>ww(o=>{const r=typeof o;return e(o)?ol.svalue(o):ol.serror(`Expected type: ${n} but got: ${r}`)}),KB=RS(Ho,"number"),gv=RS(re,"string"),XB=RS(gn,"boolean"),NS=RS(ie,"function"),_w=jB,YB=WB,J7=e=>G7(n=>Ae(e,n)?Qc.value(n):Qc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),Cw=(e,n)=>_w(e,e,UB(),n),R3=e=>Cw(e,gv),N3=e=>Cw(e,NS),Q7=(e,n)=>_w(e,e,UB(),O3(n)),M3=(e,n)=>_w(e,e,U7(),n),B3=e=>M3(e,gv),DW=e=>M3(e,NS),RW=(e,n)=>_w(e,e,S3(n),Y7()),pv=(e,n,o)=>_w(e,e,S3(n),o),eH=(e,n)=>pv(e,n,KB),tH=(e,n)=>pv(e,n,gv),JB=(e,n,o)=>pv(e,n,J7(o)),QB=(e,n)=>pv(e,n,XB),P3=(e,n)=>pv(e,n,NS),Ba=(e,n,o)=>pv(e,n,O3(o)),$3=R3("type"),Lm=N3("fetch"),MS=N3("onAction"),eP=P3("onSetup",()=>$e),nH=B3("text"),BS=B3("icon"),I3=B3("tooltip"),tP=B3("label"),nP=QB("active",!1),oH=QB("enabled",!0),oP=QB("primary",!1),sH=e=>RW("columns",e),Sw=e=>tH("type",e),rH=z3([$3,R3("trigger"),eH("minChars",1),sH(1),eH("maxResults",10),DW("matches"),Lm,MS,Ba("highlightOn",[],gv)]),sP=e=>K7("Autocompleter",rH,{trigger:e.ch,...e}),F3=[oH,I3,BS,nH,eP],rP=[nP].concat(F3),aH=[P3("predicate",Ee),JB("scope","node",["node","editor"]),JB("position","selection",["node","selection","line"])],cH=F3.concat([Sw("contextformbutton"),oP,MS,YB("original",_n)]),lH=rP.concat([Sw("contextformbutton"),oP,MS,YB("original",_n)]),aP=F3.concat([Sw("contextformbutton")]),cP=rP.concat([Sw("contextformtogglebutton")]),iH=GB("type",{contextformbutton:cH,contextformtogglebutton:lH});z3([Sw("contextform"),P3("initValue",Ke("")),tP,Q7("commands",iH),M3("launch",GB("type",{contextformbutton:aP,contextformtogglebutton:cP}))].concat(aH));const uH=e=>{const n=e.ui.registry.getAll().popups,o=po(n,m=>sP(m).fold(y=>{throw new Error(X7(y))},_n)),r=Tc(xc(o,m=>m.trigger)),c=ia(o);return{dataset:o,triggers:r,lookupByTrigger:m=>Be(c,y=>y.trigger===m)}},NW=(e,n)=>{const o=Sp(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},L3=e=>{const n=Bi(),o=Ra(!1),r=n.isSet,c=()=>{r()&&(K6(e),ea(e),o.set(!1),n.clear())},u=x=>{r()||(cW(e,x.range),n.set({trigger:x.trigger,matchLength:x.text.length}))},m=ze(()=>uH(e)),y=x=>n.get().map(N=>RB(e.dom,e.selection.getRng(),N.trigger).bind(D=>$B(e,m,D,x))).getOrThunk(()=>M7(e,m)),v=x=>{y(x).fold(c,N=>{u(N.context),N.lookupData.then(D=>{n.get().map(L=>{const X=N.context;L.trigger===X.trigger&&(X.text.length-L.matchLength>=10?c():(n.set({...L,matchLength:X.text.length}),o.get()?eE(e,{lookupData:D}):(o.set(!0),mk(e,{lookupData:D}))))})})})};e.addCommand("mceAutocompleterReload",(x,N)=>{const D=sn(N)?N.fetchOptions:{};v(D)}),e.addCommand("mceAutocompleterClose",c),NW(e,{cancelIfNecessary:c,load:v})},lP=e=>(n,o,r={})=>{const c=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:$e,inputType:o},m=Qv(new InputEvent(e));return n.dispatch(e,{...m,...u,...r})},PS=lP("input"),$S=lP("beforeinput"),iP=(e,n,o)=>{const r=o.keyCode===Ut.BACKSPACE?"deleteContentBackward":"deleteContentForward";l3([{keyCode:Ut.BACKSPACE,action:In(oB,e)},{keyCode:Ut.BACKSPACE,action:In(xu,e,!1)},{keyCode:Ut.DELETE,action:In(xu,e,!0)},{keyCode:Ut.BACKSPACE,action:In(dw,e,!1)},{keyCode:Ut.DELETE,action:In(dw,e,!0)},{keyCode:Ut.BACKSPACE,action:In(ZM,e,n,!1)},{keyCode:Ut.DELETE,action:In(ZM,e,n,!0)},{keyCode:Ut.BACKSPACE,action:In(vC,e,!1)},{keyCode:Ut.DELETE,action:In(vC,e,!0)},{keyCode:Ut.BACKSPACE,action:In(D4,e,!1)},{keyCode:Ut.DELETE,action:In(D4,e,!0)},{keyCode:Ut.BACKSPACE,action:In(Y4,e,!1)},{keyCode:Ut.DELETE,action:In(Y4,e,!0)},{keyCode:Ut.BACKSPACE,action:In(A4,e,!1)},{keyCode:Ut.DELETE,action:In(A4,e,!0)},{keyCode:Ut.BACKSPACE,action:In(cv,e,!1)},{keyCode:Ut.DELETE,action:In(cv,e,!0)},{keyCode:Ut.BACKSPACE,action:In(X4,e,!1)},{keyCode:Ut.DELETE,action:In(X4,e,!0)}],o).filter(c=>e.selection.isEditable()).each(c=>{o.preventDefault(),$S(e,r).isDefaultPrevented()||(c(),PS(e,r))})},dH=(e,n,o)=>{const r=Cs(),c=r.os,u=r.browser,m=c.isMacOS()?[{keyCode:Ut.BACKSPACE,altKey:!0,action:In(yw,e)},{keyCode:Ut.DELETE,altKey:!0,action:In(yw,e)}]:[{keyCode:Ut.BACKSPACE,ctrlKey:!0,action:In(yw,e)},{keyCode:Ut.DELETE,ctrlKey:!0,action:In(yw,e)}];c.isMacOS()&&o&&m.push({keyCode:u.isFirefox()?224:91,action:In(yw,e)}),tb([{keyCode:Ut.BACKSPACE,action:In(r8,e)},{keyCode:Ut.DELETE,action:In(r8,e)},...m],n)},uP=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Ut.BACKSPACE,r.isDefaultPrevented()||iP(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||dH(e,r,o),o=!1})},fH=e=>{for(;e;){if($t(e)||mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},hv=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=fH(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(Pe),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new Vr(n,n);let m=n,y;for(;y=u.current();){if(mt(y)){c.setStart(y,0),c.setEnd(y,0);break}if(r[y.nodeName.toLowerCase()]){c.setStartBefore(y),c.setEndBefore(y);break}m=y,y=u.next()}y||(c.setStart(m,0),c.setEnd(m,0))}else rr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Om(e,c)},H3=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";)e.getContentEditable(c)==="true"&&(r=c),c=c.parentNode;return c!==o?r:o},Bc=e=>I.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),mH=e=>Bc(e).fold(Ke(""),n=>n.nodeName.toUpperCase()),gH=e=>Bc(e).filter(n=>Dc(ne.fromDom(n))).isSome(),pH=(e,n)=>e.dom.getParent(n,ha),hH=(e,n,o)=>{let r=n;for(;r&&r!==e&&Y(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return ha(c);r=c}return!1},yH=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Rc(e)&&e.dom.isEmpty(o)&&hH(e.getBody(),o,r=>yn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),bH=(e,n,o)=>{var r,c,u;const m=n(Rc(e)),y=pH(e,o);y&&(e.dom.insertAfter(m,y),hv(e,m),((u=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},vH=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,IS=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},dP=(e,n)=>{const o=e==null?void 0:e.parentNode;return Le(o)&&o.nodeName===n},fP=e=>Le(e)&&/^(OL|UL|LI)$/.test(e.nodeName),V3=e=>Le(e)&&/^(LI|DT|DD)$/.test(e.nodeName),U3=e=>fP(e)&&fP(e.parentNode),FS=e=>{const n=e.parentNode;return V3(n)?n:e},j3=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!$t(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},MW=(e,n,o,r,c)=>{const u=e.dom,m=e.selection.getRng(),y=o.parentNode;if(o===e.getBody()||!y)return;U3(o)&&(c="LI");let v=n(c);if(j3(o,r,!0)&&j3(o,r,!1))if(dP(o,"LI")){const x=FS(o);u.insertAfter(v,x),IS(o)?u.remove(x):u.remove(o)}else u.replace(v,o);else if(j3(o,r,!0))dP(o,"LI")?(u.insertAfter(v,FS(o)),v.appendChild(u.doc.createTextNode(" ")),v.appendChild(o)):y.insertBefore(v,o),u.remove(r);else if(j3(o,r,!1))u.insertAfter(v,FS(o)),u.remove(r);else{o=FS(o);const x=m.cloneRange();x.setStartAfter(r),x.setEndAfter(o);const N=x.extractContents();c==="LI"&&vH(N,"LI")?(v=N.firstChild,u.insertAfter(N,o)):(u.insertAfter(N,o),u.insertAfter(v,o)),u.remove(r)}hv(e,v)},kH=e=>{he(Rh(ne.fromDom(e),Kr),n=>{const o=n.dom;o.nodeValue=Me(o.data)})},wH=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},BW=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),W3=e=>{e.innerHTML='<br data-mce-bogus="1">'},Vf=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,Z3=(e,n)=>Le(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",_H=(e,n,o)=>{var r;const c=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;$t(u)&&!n[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||BW(e,u))&&e.remove(u)},Hm=(e,n,o)=>mt(n)?e?o===1&&n.data.charAt(o-1)===Z?0:o:o===n.data.length-1&&n.data.charAt(o)===Z?n.data.length:o:o,CH=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,Hm(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Hm(!1,e.endContainer,e.endOffset)),n},mP=e=>{let n=e;do mt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},SH=(e,n,o)=>{const r=e.dom;I.from(o.style).map(r.parseStyle).each(v=>{const N={...Xa(ne.fromDom(n)),...v};r.setStyles(n,N)});const c=I.from(o.class).map(v=>v.split(/\s+/)),u=I.from(n.className).map(v=>Be(v.split(/\s+/),x=>x!==""));Dr(c,u,(v,x)=>{const N=Be(x,L=>!Ae(v,L)),D=[...v,...N];r.setAttrib(n,"class",D.join(" "))});const m=["style","class"],y=us(o,(v,x)=>!Ae(m,x));r.setAttribs(n,y)},xw=(e,n)=>{if(Rc(e).toLowerCase()===n.tagName.toLowerCase()){const r=Rd(e);SH(e,n,r)}},xH=(e,n,o,r,c)=>{var u,m;const y=e.dom,v=(u=H3(y,r))!==null&&u!==void 0?u:y.getRoot();let x=y.getParent(r,y.isBlock);if(!x||!Z3(y,x)){if(x=x||v,!x.hasChildNodes()){const X=y.create(n);return xw(e,X),x.appendChild(X),o.setStart(X,0),o.setEnd(X,0),X}let N=r;for(;N&&N.parentNode!==x;)N=N.parentNode;let D;for(;N&&!y.isBlock(N);)D=N,N=N.previousSibling;const L=(m=D==null?void 0:D.parentElement)===null||m===void 0?void 0:m.nodeName;if(D&&L&&e.schema.isValidChild(L,n.toLowerCase())){const X=D.parentNode,Q=y.create(n);for(xw(e,Q),X.insertBefore(Q,D),N=D;N&&!y.isBlock(N);){const q=N.nextSibling;Q.appendChild(N),N=q}o.setStart(r,c),o.setEnd(r,c)}}return r},TH=(e,n)=>{n.normalize();const o=n.lastChild;(!o||$t(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},EH=(e,n)=>{const o=nT(e);return nn(n)?!1:re(o)?Ae(Qe.explode(o),n.nodeName.toLowerCase()):o},LS={insert:(e,n)=>{let o,r,c,u,m=!1;const y=e.dom,v=e.schema,x=v.getNonEmptyElements(),N=e.selection.getRng(),D=Rc(e),L=N.collapsed&&N.startContainer===e.dom.getRoot(),X=ne.fromDom(N.startContainer),Q=su(X,N.startOffset),q=Q.exists(Et=>kl(Et)&&!Yt(Et)),J=L&&q,pe=Et=>{let jt=o;const Rn=v.getTextInlineElements();let Tn;Et||c==="TABLE"||c==="HR"?Tn=y.create(Et||D):Tn=lt.cloneNode(!1);let Bo=Tn;if(Zl(e)===!1)y.setAttrib(Tn,"style",null),y.setAttrib(Tn,"class",null);else do if(Rn[jt.nodeName]){if(hu(jt)||Fi(jt))continue;const cs=jt.cloneNode(!1);y.setAttrib(cs,"id",""),Tn.hasChildNodes()?(cs.appendChild(Tn.firstChild),Tn.appendChild(cs)):(Bo=cs,Tn.appendChild(cs))}while((jt=jt.parentNode)&&jt!==Ft);return xw(e,Tn),W3(Bo),Tn},ye=Et=>{const jt=Hm(Et,o,r);if(mt(o)&&(Et?jt>0:jt<o.data.length))return!1;if(o.parentNode===lt&&m&&!Et||Et&&$t(o)&&o===lt.firstChild)return!0;if(Vf(o,"TABLE")||Vf(o,"HR"))return m&&!Et||!m&&Et;const Rn=new Vr(o,lt);mt(o)&&(Et&&jt===0?Rn.prev():!Et&&jt===o.data.length&&Rn.next());let Tn;for(;Tn=Rn.current();){if($t(Tn)){if(!Tn.getAttribute("data-mce-bogus")){const Bo=Tn.nodeName.toLowerCase();if(x[Bo]&&Bo!=="br")return!1}}else if(mt(Tn)&&!Mi(Tn.data))return!1;Et?Rn.prev():Rn.next()}return!0},be=()=>{let Et;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&De!=="HGROUP"?Et=pe(D):Et=pe(),EH(e,u)&&Z3(y,u)&&y.isEmpty(lt,void 0,{includeZwsp:!0})?Et=y.split(u,lt):y.insertAfter(Et,lt),hv(e,Et),Et};B1(y,N).each(Et=>{N.setStart(Et.startContainer,Et.startOffset),N.setEnd(Et.endContainer,Et.endOffset)}),o=N.startContainer,r=N.startOffset;const Ce=!!(n&&n.shiftKey),tt=!!(n&&n.ctrlKey);$t(o)&&o.hasChildNodes()&&!J&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&mt(o)?r=o.data.length:r=0);const Ft=H3(y,o);if(!Ft||wH(e,o))return;Ce||(o=xH(e,D,N,o,r));let lt=y.getParent(o,y.isBlock)||y.getRoot();u=Le(lt==null?void 0:lt.parentNode)?y.getParent(lt.parentNode,y.isBlock):null,c=lt?lt.nodeName.toUpperCase():"";const De=u?u.nodeName.toUpperCase():"";if(De==="LI"&&!tt){const Et=u;lt=Et,u=Et.parentNode,c=De}if($t(u)&&yH(e,Ce,lt))return bH(e,pe,lt);if(/^(LI|DT|DD)$/.test(c)&&$t(u)&&y.isEmpty(lt)){MW(e,pe,u,lt,D);return}if(!J&&(lt===e.getBody()||!Z3(y,lt)))return;const We=lt.parentNode;let Ct;if(J)Ct=pe(D),Q.fold(()=>{xr(X,ne.fromDom(Ct))},Et=>{qc(Et,ne.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if(bn(lt))Ct=vf(lt),y.isEmpty(lt)&&W3(lt),xw(e,Ct),hv(e,Ct);else if(ye(!1))Ct=be();else if(ye(!0)&&We){Ct=We.insertBefore(pe(),lt);const Et=qm(ne.fromDom(N.startContainer))&&N.collapsed;hv(e,Vf(lt,"HR")||Et?Ct:lt)}else{const Et=CH(N).cloneRange();Et.setEndAfter(lt);const jt=Et.extractContents();kH(jt),mP(jt),Ct=jt.firstChild,y.insertAfter(jt,lt),_H(y,x,Ct),TH(y,lt),y.isEmpty(lt)&&W3(lt),Ct.normalize(),y.isEmpty(Ct)?(y.remove(Ct),be()):(xw(e,Ct),hv(e,Ct))}y.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},gP=(e,n,o)=>{const r=new Vr(n,o);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||mt(c)&&c.length>0)return!0;return!1},Tw=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Om(e,r)},AH=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let u,m=!1;B1(r,c).each(X=>{c.setStart(X.startContainer,X.startOffset),c.setEnd(X.endContainer,X.endOffset)});let y=c.startOffset,v=c.startContainer;if($t(v)&&v.hasChildNodes()){const X=y>v.childNodes.length-1;v=v.childNodes[Math.min(y,v.childNodes.length-1)]||v,X&&mt(v)?y=v.data.length:y=0}let x=r.getParent(v,r.isBlock);const N=x&&x.parentNode?r.getParent(x.parentNode,r.isBlock):null,D=N?N.nodeName.toUpperCase():"",L=!!(n&&n.ctrlKey);D==="LI"&&!L&&(x=N),mt(v)&&y>=v.data.length&&(gP(e.schema,v,x||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),Ha(r,c,u),Tw(e,u,m),e.undoManager.add()},zH=(e,n)=>{const o=ne.fromTag("br");qc(ne.fromDom(n),o),e.undoManager.add()},OH=(e,n)=>{RH(e.getBody(),n)||wl(ne.fromDom(n),ne.fromTag("br"));const o=ne.fromTag("br");wl(ne.fromDom(n),o),Tw(e,o.dom,!1),e.undoManager.add()},DH=e=>rr(e.getNode()),RH=(e,n)=>DH(Ie.after(n))?!0:cc(e,Ie.after(n)).map(o=>rr(o.getNode())).getOr(!1),q3=e=>e&&e.nodeName==="A"&&"href"in e,NH=e=>e.fold(Ee,q3,q3,Ee),pP=e=>{const n=He(Dy,e),o=Ie.fromRangeStart(e.selection.getRng());return Tu(n,e.getBody(),o).filter(NH)},hP=(e,n)=>{n.fold($e,He(zH,e),He(OH,e),$e)},HS={insert:(e,n)=>{const o=pP(e);o.isSome()?o.each(He(hP,e)):AH(e,n)},fakeEventName:"insertLineBreak"},yP=(e,n)=>Bc(e).filter(o=>n.length>0&&hc(ne.fromDom(o),n)).isSome(),MH=e=>yP(e,fu(e)),VS=e=>yP(e,Jh(e)),Au=Zu.generate([{br:[]},{block:[]},{none:[]}]),G3=(e,n)=>VS(e),US=e=>(n,o)=>gH(n)===e,K3=(e,n)=>(o,r)=>mH(o)===e.toUpperCase()===n,BH=e=>{const n=H3(e.dom,e.selection.getStart());return nn(n)},jS=e=>K3("pre",e),yh=()=>K3("summary",!0),WS=e=>(n,o)=>$i(n)===e,PH=(e,n)=>MH(e),ZS=(e,n)=>n,qS=e=>{const n=Rc(e),o=H3(e.dom,e.selection.getStart());return Le(o)&&e.schema.isValidChild(o.nodeName,n)},bP=e=>{const n=e.selection.getRng(),o=n.collapsed&&n.startContainer===e.dom.getRoot(),r=ne.fromDom(n.startContainer),u=su(r,n.startOffset).map(m=>kl(m)&&!Yt(m));return o&&u.getOr(!0)},zu=(e,n)=>(o,r)=>Bt(e,(u,m)=>u&&m(o,r),!0)?I.some(n):I.none(),$H=(e,n)=>$m([zu([G3],Au.none()),zu([jS(!0),BH],Au.none()),zu([yh()],Au.br()),zu([jS(!0),WS(!1),ZS],Au.br()),zu([jS(!0),WS(!1)],Au.block()),zu([jS(!0),WS(!0),ZS],Au.block()),zu([jS(!0),WS(!0)],Au.br()),zu([US(!0),ZS],Au.br()),zu([US(!0)],Au.block()),zu([PH],Au.br()),zu([ZS],Au.br()),zu([qS],Au.block()),zu([bP],Au.block())],[e,!!(n&&n.shiftKey)]).getOr(Au.none()),Ew=(e,n,o)=>{n.selection.isCollapsed()||Ud(n),!(Le(o)&&$S(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Le(o)&&PS(n,e.fakeEventName))},vP=(e,n)=>{const o=()=>Ew(HS,e,n),r=()=>Ew(LS,e,n),c=$H(e,n);switch(Nd(e)){case"linebreak":c.fold(o,o,$e);break;case"block":c.fold(r,r,$e);break;case"invert":c.fold(r,o,$e);break;default:c.fold(o,r,$e);break}},kP=Cs(),IH=kP.os.isiOS()&&kP.browser.isSafari(),X3=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),S6(e.undoManager),e.undoManager.transact(()=>{vP(e,n)}))},Y3=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(mt(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},FH=e=>{let n=I.none();const o=c=>{n=I.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),n.fold($e,m=>c.selection.moveToBookmark(m)),X3(c,u),n=I.none()};e.on("keydown",c=>{c.keyCode===Ut.ENTER&&(IH&&Y3(e.selection.getRng())?o(e):X3(e,c))}),e.on("keyup",c=>{c.keyCode===Ut.ENTER&&n.each(()=>r(e,c))})},J3=(e,n,o)=>{const r=To.os.isMacOS()||To.os.isiOS();tb([{keyCode:Ut.END,action:In(fB,e,!0)},{keyCode:Ut.HOME,action:In(fB,e,!1)},...r?[]:[{keyCode:Ut.HOME,action:In(wS,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ut.END,action:In(wS,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ut.END,action:In(SS,e,!0)},{keyCode:Ut.HOME,action:In(SS,e,!1)},{keyCode:Ut.END,action:In(gS,e,!0,n)},{keyCode:Ut.HOME,action:In(gS,e,!1,n)}],o).each(c=>{o.preventDefault()})},wP=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||J3(e,n,o)})},GS=e=>{e.on("input",n=>{n.isComposing||zI(e)})},_P=Cs(),CP=(e,n,o)=>{tb([{keyCode:Ut.PAGE_UP,action:In(gS,e,!1,n)},{keyCode:Ut.PAGE_DOWN,action:In(gS,e,!0,n)}],o)},SP=e=>e.stopImmediatePropagation(),xP=e=>e.keyCode===Ut.PAGE_UP||e.keyCode===Ut.PAGE_DOWN,Aw=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",SP,!0):!o&&e.get()&&n.off("NodeChange",SP),e.set(o)},TP=(e,n)=>{if(_P.os.isMacOS())return;const o=Ra(!1);e.on("keydown",r=>{xP(r)&&Aw(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||CP(e,n,r),xP(r)&&o.get()&&(Aw(o,e,!1),e.nodeChanged())})},EP=(e,n)=>{const o=n.container(),r=n.offset();return mt(o)?(o.insertData(r,e),I.some(Ie(o,r+e.length))):gu(n).map(c=>{const u=ne.fromText(e);return n.isAtEnd()?wl(c,u):qc(c,u),Ie(u.dom,e.length)})},LH=He(EP,Pe),AP=He(EP," "),HH=e=>n=>n.fold(o=>ja(e.dom,Ie.before(o)),o=>kc(o),o=>li(o),o=>cc(e.dom,Ie.after(o))),VH=(e,n)=>o=>xI(e,o)?LH(n):AP(n),UH=e=>n=>(e.selection.setRng(n.toRange()),e.nodeChanged(),!0),jH=e=>{const n=Ie.fromRangeStart(e.selection.getRng()),o=ne.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=He(Dy,e),c=Ie.fromRangeStart(e.selection.getRng());return Tu(r,e.getBody(),c).bind(HH(o)).map(u=>()=>VH(o,n)(u).each(UH(e)))}else return I.none()},WH=(e,n)=>{l3([{keyCode:Ut.SPACEBAR,action:In(jH,e)}],n).each(o=>{n.preventDefault(),$S(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),PS(e,"insertText",{data:" "}))})},zP=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||WH(e,n)})},ZH=e=>ny(e)?[{keyCode:Ut.TAB,action:In(y3,e,!0)},{keyCode:Ut.TAB,shiftKey:!0,action:In(y3,e,!1)}]:[],OP=(e,n)=>{tb([...ZH(e)],n).each(o=>{n.preventDefault()})},qH=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||OP(e,n)})},GH=e=>{if(e.addShortcut("Meta+P","","mcePrint"),L3(e),Cu(e))return Ra(null);{const n=LM(e);return X8(e),z7(e,n),uP(e,n),FH(e),zP(e),GS(e),qH(e),wP(e,n),TP(e,n),n}};class KH{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!Eg(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&Fd(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&Fd(n)&&(n.selection.getNode().nodeName==="IMG"?ku.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!J_(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();r=o.getStart(!0)||c,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,c))&&(r=c);const u=[];this.editor.dom.getParent(r,m=>m===c?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:u})}}isSameElementPath(n){let o;const r=this.editor,c=_o(r.dom.getParents(n,Je,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const DP=jh("image"),XH=e=>{const n=e;return I.from(n[DP])},yv=(e,n)=>{const o=e;o[DP]=n},Q3=jh("event"),YH=e=>{const n=e;return I.from(n[Q3])},zw=e=>n=>{const o=n;o[Q3]=e},JH=(e,n)=>zw(n)(e),RP=zw(0),QH=zw(2),NP=zw(1),e9=(e=>n=>{const o=n;return I.from(o[Q3]).exists(r=>r===e)})(0),HW=()=>Object.freeze({length:0,item:e=>null}),bv=jh("mode"),t9=e=>{const n=e;return I.from(n[bv])},KS=e=>n=>{const o=n;o[bv]=e},MP=(e,n)=>KS(n)(e),BP=KS(0),ez=KS(2),n9=KS(1),PP=e=>n=>{const o=n;return I.from(o[bv]).exists(r=>r===e)},vv=PP(0),$P=PP(1),o9=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(vv(e))if(re(o)){if(!Nn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{vv(e)&&n.remove(o)},clear:()=>{vv(e)&&n.clear()}}),s9=["none","copy","link","move"],r9=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],tz=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){Ae(s9,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){e9(r)&&Ae(r9,c)&&(o=c)},get items(){return o9(r,e.items)},get files(){return $P(r)?HW():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{vv(r)&&(yv(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>$P(r)?"":e.getData(c),setData:(c,u)=>{vv(r)&&e.setData(c,u)},clearData:c=>{vv(r)&&e.clearData(c)}};return BP(r),r},Ls=e=>{const n=tz(),o=t9(e);return ez(e),RP(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,XH(e).each(r=>n.setDragImage(r.image,r.x,r.y)),he(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),he(e.files,r=>n.items.add(r)),YH(e).each(r=>{JH(n,r)}),o.each(r=>{MP(e,r),MP(n,r)}),n},a9=e=>{const n=e.getData("text/html");return n===""?I.none():I.some(n)},nz=(e,n)=>e.setData("text/html",n),IP="x-tinymce/html",kv=Ke(IP),XS="<!-- "+IP+" -->",FP=e=>XS+e,c9=e=>e.replace(XS,""),oz=e=>e.indexOf(XS)!==-1,l9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),i9=(e,n)=>{let o="<"+e;const r=xc(n,(c,u)=>u+'="'+gm.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},LP=(e,n,o)=>{const r=e.split(/\n\n/),c=i9(n,o),u="</"+n+">",m=Re(r,v=>v.split(/\n/).join("<br />")),y=v=>c+v+u;return m.length===1?m[0]:Re(m,y).join("")},HP="%MCEPASTEBIN%",u9=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},HP);To.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},d9=(e,n)=>{const o=e.dom;if(bh(e)){let r;const c=n.get();for(;r=bh(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},bh=e=>e.dom.get("mcepastebin"),Ow=e=>Le(e)&&e.id==="mcepastebin",f9=e=>{const n=e.dom,o=(m,y)=>{m.appendChild(y),n.remove(y,!0)},[r,...c]=Be(e.getBody().childNodes,Ow);he(c,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const y=n.create("div");r.insertBefore(y,u[m]),o(y,u[m])}return r?r.innerHTML:""},VP=e=>e===HP,wv=e=>{const n=Ra(null);return{create:()=>u9(e,n),remove:()=>d9(e,n),getEl:()=>bh(e),getHtml:()=>f9(e),getLastRng:n.get}},UP=(e,n)=>(Qe.each(n,o=>{vt(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),sz=e=>{const n=hm(),o=dh({},n);let r="";const c=n.getVoidElements(),u=Qe.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),y=v=>{const x=v.name,N=v;if(x==="br"){r+=`
`;return}if(x!=="wbr"){if(c[x]&&(r+=" "),u[x]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in n.getVoidElements())){let D=v.firstChild;if(D)do y(D);while(D=D.next)}m[x]&&N.next&&(r+=`
`,x==="p"&&(r+=`
`))}};return e=UP(e,[/<!\[[^\]]+\]>/g]),y(o.parse(e)),r},YS=e=>(e=UP(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":Pe],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),jP=e=>{let n=0;return()=>e+n++},m9=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Qe.hasOwn(o,n)?"image/"+o[n]:"image/"+n},g9=(e,n)=>{const o=dh({sanitize:ty(e)},e.schema);o.addNodeFilter("meta",c=>{Qe.each(c,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return eh({validate:!0},e.schema).serialize(r)},rz=(e,n)=>({content:e,cancelled:n}),WP=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=Jp(e,r,o);return rz(c.node.innerHTML,c.isDefaultPrevented())},p9=(e,n,o)=>{const r=_a(e,n,o),c=g9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?WP(e,c,o):rz(c,r.isDefaultPrevented())},h9=(e,n,o)=>p9(e,n,o),az=(e,n)=>(e.insertContent(n,{merge:s2(e),paste:!0}),!0),JS=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),y9=(e,n)=>JS(n)&&nt(i2(e),o=>qr(n.toLowerCase(),`.${o.toLowerCase()}`)),ZP=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),b9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),v9=(e,n,o)=>!e.selection.isCollapsed()&&JS(n)?b9(e,n,o):!1,k9=(e,n,o)=>y9(e,n)?ZP(e,n,o):!1,w9=(e,n)=>{Qe.each([v9,k9,az],o=>!o(e,n,az))},_9=(e,n,o)=>{o||!kT(e)?az(e,n):w9(e,n)},QS=jP("mceclip"),C9=e=>{const n=tz();return nz(n,e),ez(n),n},cz=(e,n,o,r)=>{const c=h9(e,n,o);if(!c.cancelled){const u=c.content;$S(e,"insertFromPaste",{dataTransfer:C9(u)}).isDefaultPrevented()||(_9(e,u,r),PS(e,"insertFromPaste"))}},ex=(e,n,o)=>{const r=o||oz(n);cz(e,c9(n),r,!1)},lz=(e,n)=>{const o=e.dom.encode(n).replace(/\r\n/g,`
`),r=Er(o,wT(e)),c=LP(r,Rc(e),Rd(e));cz(e,c,!1,!0)},qP=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},vh=(e,n)=>n in e&&e[n].length>0,GP=e=>vh(e,"text/html")||vh(e,"text/plain"),S9=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Le(o)?e.dom.encode(o[1]):void 0},KP=(e,n,o,r)=>{const c=QS(),u=Ub(e)&&Le(o.name),m=u?S9(e,o.name):c,y=u?o.name:void 0,v=n.create(c,o,r,m,y);return n.add(v),v},x9=(e,n)=>{OA(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const u=c?o:btoa(o),m=n.file,y=e.editorUpload.blobCache,v=y.getByData(u,r),x=v??KP(e,y,m,u);ex(e,`<img src="${x.blobUri()}">`,!1)})},T9=e=>e.type==="paste",E9=e=>Promise.all(Re(e,n=>TR(n).then(o=>({file:n,uri:o})))),A9=e=>{const n=i2(e);return o=>uo(o.type,"image/")&&nt(n,r=>m9(r)===o.type)},z9=(e,n)=>{const o=n.items?ts(vs(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?vs(n.files):[];return Be(o.length>0?o:r,A9(e))},XP=(e,n,o)=>{const r=T9(n)?n.clipboardData:n.dataTransfer;if(dg(e)&&r){const c=z9(e,r);if(c.length>0)return n.preventDefault(),E9(c).then(u=>{o&&e.selection.setRng(o),he(u,m=>{x9(e,m)})}),!0}return!1},O9=e=>{var n,o;return To.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},YP=e=>Ut.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,iz=(e,n,o,r)=>{let c=YS(o);const u=vh(n,kv())||oz(o),m=!u&&l9(c),y=JS(c);(VP(c)||!c.length||m&&!y)&&(r=!0),(r||y)&&(vh(n,"text/plain")&&m?c=n["text/plain"]:c=sz(c)),!VP(c)&&(r?lz(e,c):ex(e,c,u))},D9=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{YP(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||O9(u))return;const m=o.get()==="text"||r;r=!1;const y=qP(u.clipboardData);!GP(y)&&XP(e,u,c())||(u.preventDefault(),vh(y,"text/html")?iz(e,y,y["text/html"],m):vh(y,"text/plain")&&vh(y,"text/uri-list")?iz(e,y,y["text/plain"],m):(n.create(),ku.setEditorTimeout(e,()=>{const v=n.getHtml();n.remove(),iz(e,y,v,m)},0)))})},R9=e=>{const n=c=>uo(c,"webkit-fake-url"),o=c=>uo(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!dg(e)&&r(m))for(const y of c){const v=y.attr("src");re(v)&&!y.attr("data-mce-object")&&v!==To.transparentSrc&&(n(v)||!_T(e)&&o(v))&&y.remove()}})},N9=(e,n,o)=>{D9(e,n,o),R9(e)},M9=(e,n)=>{n.get()==="text"?(n.set("html"),wy(e,!1)):(n.set("text"),wy(e,!0)),e.focus()},B9=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{M9(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&ex(e,r.html,r.internal),r.text&&lz(e,r.text)})},P9=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(kv(),n),!0}catch{return!1}else return!1},Dw=(e,n,o,r)=>{P9(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},uz=e=>(n,o)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const y=c.getRng();m.focus();const v=r.createRng();v.selectNodeContents(m),c.setRng(v),ku.setEditorTimeout(e,()=>{c.setRng(y),r.remove(u),o()},0)},JP=e=>({html:FP(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),QP=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),dz=e=>!e.selection.isCollapsed()||QP(e),fz=e=>n=>{!n.isDefaultPrevented()&&dz(e)&&Dw(n,JP(e),uz(e),()=>{if(To.browser.isChromium()||To.browser.isFirefox()){const o=e.selection.getRng();ku.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},$9=e=>n=>{!n.isDefaultPrevented()&&dz(e)&&Dw(n,JP(e),uz(e),$e)},e5=e=>{e.on("cut",fz(e)),e.on("copy",$9(e))},t5=(e,n)=>{var o,r;return Mf.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},n5=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},o5=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},s5=e=>nt(e.files,n=>/^image\//.test(n.type)),I9=(e,n,o,r)=>{const c=e.getParent(o,u=>um(n,u));if(c&&yn(r,"text/html")){const u=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Y(u.querySelector(c.nodeName.toLowerCase()))}else return!1},F9=(e,n)=>{Md(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),dg(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&s5(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=t5(e,o);if(nn(r))return;const c=qP(o.dataTransfer),u=vh(c,kv());if((!GP(c)||n5(c))&&XP(e,o,r))return;const m=c[kv()],y=m||c["text/html"]||c["text/plain"],v=I9(e.dom,e.schema,r.startContainer,c);n.get()&&!v||y&&(o.preventDefault(),ku.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{m&&e.execCommand("Delete"),o5(e,r);const x=YS(y);c["text/html"]?ex(e,x,u):lz(e,x)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{dg(e)&&!n.get()&&(o.preventDefault(),o5(e,t5(e,o))),o.type==="dragend"&&n.set(!1)})},L9=e=>{const n=c=>u=>{c(e,u)},o=o2(e);ie(o)&&e.on("PastePreProcess",n(o));const r=Ef(e);ie(r)&&e.on("PastePostProcess",n(r))},Rw=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},H9=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r5=e=>Qe.trim(e).replace(H9,gy).toLowerCase(),a5=(e,n,o)=>{const r=ey(e);if(o||r==="all"||!O0(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(y,v,x,N)=>{const D=u.parseStyle(u.decode(x)),L={};for(let Q=0;Q<c.length;Q++){const q=D[c[Q]];let J=q,pe=u.getStyle(m,c[Q],!0);/color/.test(c[Q])&&(J=r5(J),pe=r5(pe)),pe!==J&&(L[c[Q]]=q)}const X=u.serializeStyle(L,"span");return X?v+' style="'+X+'"'+N:v+N})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,y,v)=>m+' style="'+y+'"'+v),n},V9=e=>{(To.browser.isChromium()||To.browser.isSafari())&&Rw(e,a5)},U9=e=>{const n=Ra(!1),o=Ra(r2(e)?"text":"html"),r=wv(e);V9(e),B9(e,o),L9(e),e.on("PreInit",()=>{e5(e),F9(e,n),N9(e,r,o)})},j9=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},W9=e=>{e.parser.addNodeFilter("details",n=>{const o=oy(e);he(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=u2(e);he(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},c5=e=>S(ne.fromDom(e)),Nw=(e,n)=>{const o=n.getNode();Nn(o)||e.selection.setCursorLocation(o,n.offset())},mz=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},gz=Cs(),Z9=gz.browser,l5=gz.os,q9=Z9.isSafari(),G9=l5.isMacOS()||l5.isiOS(),K9=(e,n)=>kc(n).exists(o=>o.isEqual(e)),pz=(e,n)=>li(n).exists(o=>rr(o.getNode())&&ja(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),hz=(e,n)=>{const o=I.from(e.getParent(n.startContainer,"details")),r=I.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(u=>I.from(e.select("summary",u)[0]));return I.some({startSummary:c,startDetails:o,endDetails:r})}else return I.none()},tx=(e,n)=>{const o=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),c=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(v=>n.endDetails.forall(x=>v!==x));return(c||u)&&!(c&&u)||m},X9=(e,n)=>n.startSummary.exists(o=>K9(e,o)),Y9=(e,n)=>n.startSummary.exists(o=>pz(e,o)),i5=(e,n)=>n.startDetails.exists(o=>ja(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),J9=(e,n,o)=>o.startDetails.exists(r=>cc(e,n).forall(c=>!r.contains(c.container()))),Mw=(e,n)=>Le(e.getParent(n.container(),"details")),yz=(e,n)=>{const o=e.dom.getParent(n.container(),"details");if(o&&!o.open){const r=e.dom.select("summary",o)[0];r&&li(r).each(c=>Nw(e,c))}else Nw(e,n)},Q9=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();if(e.selection.isCollapsed()){const u=Ie.fromRangeStart(r.getRng()),m=o.getParent(u.container(),o.isBlock);if(m&&o.isEmpty(m)){if(Y(m.nextSibling)){const y=ja(c,u).filter(v=>Mw(o,v));if(y.isSome())return y.each(v=>{n||yz(e,v)}),!0}else if(Y(m.previousSibling)&&cc(c,u).filter(v=>Mw(o,v)))return!0}return Pd(n,c,u).fold(Ee,y=>Mw(o,y)?(m&&o.isEmpty(m)&&e.dom.remove(m),n||yz(e,y),!0):!1)}else return!1},eV=(e,n,o)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=o.keyCode===Ut.BACKSPACE,y=o.keyCode===Ut.DELETE,v=e.selection.isCollapsed(),x=Ie.fromRangeStart(u),N=e.getBody();return!v&&tx(u,n)||v&&m&&X9(x,n)||v&&y&&Y9(x,n)||v&&m&&i5(x,n)||v&&y&&J9(N,x,n)?!0:q9&&zc(c)?(!v&&mz(u,c)||fD(y,x,c)?c5(c):e.undoManager.transact(()=>{const D=r.getSel();let{anchorNode:L,anchorOffset:X,focusNode:Q,focusOffset:q}=D??{};const J=()=>{Le(L)&&Le(X)&&Le(Q)&&Le(q)&&(D==null||D.setBaseAndExtent(L,X,Q,q))},pe=()=>{L=D==null?void 0:D.anchorNode,X=D==null?void 0:D.anchorOffset,Q=D==null?void 0:D.focusNode,q=D==null?void 0:D.focusOffset},ye=(Ce,tt)=>{he(Ce.childNodes,Ft=>{hy(Ft)&&tt.appendChild(Ft)})},be=e.dom.create("span",{"data-mce-bogus":"all"});ye(c,be),c.appendChild(be),J(),v&&(G9&&(o.altKey||m&&o.metaKey)||!G9&&o.ctrlKey)&&(D==null||D.modify("extend",m?"left":"right",o.metaKey?"line":"word")),!r.isCollapsed()&&mz(r.getRng(),be)?c5(c):(e.execCommand(m?"Delete":"ForwardDelete"),pe(),ye(be,c),J()),e.dom.remove(be)}),!0):!1},u5=e=>{e.on("keydown",n=>{(n.keyCode===Ut.BACKSPACE||n.keyCode===Ut.DELETE)&&hz(e.dom,e.selection.getRng()).fold(()=>{Q9(e,n.keyCode===Ut.DELETE)&&n.preventDefault()},o=>{eV(e,o,n)&&n.preventDefault()})})},tV=e=>{j9(e),W9(e),u5(e)},VW=rr,d5=mt,nV=e=>Qo(e.dom),oV=e=>gs(e.dom),bz=e=>n=>ss(ne.fromDom(e),n),sV=(e,n)=>V(ne.fromDom(e),o=>oV(o)||Tr(o),bz(n)).getOr(ne.fromDom(n)).dom,vz=(e,n)=>V(ne.fromDom(e),nV,bz(n)),f5=(e,n,o)=>{const r=new Vr(e,n),c=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:c();m&&!VW(m);m=c())wr(m)&&(u=m);return u},rV=(e,n)=>{const r=Ie.fromRangeStart(e).getNode(),c=sV(r,n),u=f5(r,c,!1),m=f5(r,c,!0),y=document.createRange();return vz(u,c).fold(()=>{d5(u)?y.setStart(u,0):y.setStartBefore(u)},v=>y.setStartBefore(v.dom)),vz(m,c).fold(()=>{d5(m)?y.setEnd(m,m.data.length):y.setEndAfter(m)},v=>y.setEndAfter(v.dom)),y},aV=e=>{const n=rV(e.selection.getRng(),e.getBody());e.selection.setRng(uA(n))},cV=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),aV(e))})};var _v;(function(e){e.Before="before",e.After="after"})(_v||(_v={}));const m5=(e,n)=>Math.abs(e.left-n),UW=(e,n)=>Math.abs(e.right-n),lV=(e,n)=>e>=n.top&&e<=n.bottom,g5=(e,n)=>e.top<n.bottom&&e.bottom>n.top,iV=(e,n)=>{const o=$b(e,n)/Math.min(e.height,n.height);return g5(e,n)&&o>.5},kz=(e,n)=>{const o=Be(e,r=>lV(n,r));return k_(o).fold(()=>[[],e],r=>{const{pass:c,fail:u}=Ze(e,m=>iV(m,r));return[c,u]})},uV=(e,n)=>({node:e.node,position:m5(e,n)<UW(e,n)?_v.Before:_v.After}),dV=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),wz=(e,n,o)=>{const r=N=>wr(N.node)?I.some(N):$t(N.node)?wz(vs(N.node.childNodes),n,o):I.none(),c=(N,D)=>{if(N.length>=2){const L=r(N[0]).getOr(N[0]),X=r(N[1]).getOr(N[1]);if(Math.abs(D(L,n,o)-D(X,n,o))<2){if(mt(L.node))return I.some(L);if(mt(X.node))return I.some(X)}}return I.none()},u=(N,D)=>{const L=Kn(N,(X,Q)=>D(X,n,o)-D(Q,n,o));return c(L,D).orThunk(()=>la(L,r))},[m,y]=kz(RM(e),o),{pass:v,fail:x}=Ze(y,N=>N.top<o);return u(m,dV).orThunk(()=>u(x,zd)).orThunk(()=>u(v,zd))},p5=(e,n,o,r)=>{const c=(u,m)=>{const y=x=>$t(x)&&x.classList.contains("mce-drag-container"),v=Be(u.dom.childNodes,Gn(y));return m.fold(()=>wz(v,o,r),x=>{const N=Be(v,D=>D!==x.dom);return wz(N,o,r)}).orThunk(()=>(ss(u,e)?I.none():Jf(u)).bind(N=>c(N,I.some(u))))};return c(n,I.none())},nx=(e,n,o)=>{const r=ne.fromDom(e),c=Oi(r),m=ne.fromPoint(c,n,o).filter(y=>cl(r,y)).getOr(r);return p5(r,m,n,o)},_z=(e,n,o)=>nx(e,n,o).filter(r=>Af(r.node)).map(r=>uV(r,n)),Cz=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},fV=e=>e.inline?Cz(e.getBody()):{left:0,top:0},mV=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},h5=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},gV=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=Cz(e.getContentAreaContainer()),r=h5(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},pV=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),hV=(e,n)=>pV(fV(e),mV(e),gV(e,n)),ox=e=>({target:e,srcElement:e}),yV=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...ox(o)}),bV=(e,n,o)=>{const r=is("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:$e,stopImmediatePropagation:$e,stopPropagation:$e,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...ox(n)}},vV=(e,n)=>{const o=Ls(e);return n==="dragstart"?(RP(o),BP(o)):n==="drop"?(QH(o),ez(o)):(NP(o),n9(o)),o},kV=(e,n,o,r)=>{const c=vV(o,e);return Nn(r)?bV(e,n,c):yV(e,r,n,c)},sx=32,wV=100,Bw=8,Pw=16,rx=Qo,Sz=lg(rx,gs),_V=(e,n,o)=>rx(o)&&o!==n&&e.isEditable(o.parentElement),xz=(e,n,o)=>nn(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),CV=(e,n,o,r)=>{const c=e.dom,u=n.cloneNode(!0);c.setStyles(u,{width:o,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},SV=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},$w=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},y5=$w("left",-sx),b5=$w("left",sx),v5=$w("top",-sx),k5=$w("top",sx),xV=(e,n,o,r,c,u,m,y,v,x,N,D)=>{let L=0,X=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(L=n.pageX+o-c),n.pageY+r>u&&(X=n.pageY+r-u),e.style.width=o-L+"px",e.style.height=r-X+"px";const Q=v.clientHeight,q=v.clientWidth,J=m+v.getBoundingClientRect().top,pe=y+v.getBoundingClientRect().left;N.on(ye=>{ye.intervalId.clear(),ye.dragging&&D&&(m+Bw>=Q?ye.intervalId.set(k5(x)):m-Bw<=0?ye.intervalId.set(v5(x)):y+Bw>=q?ye.intervalId.set(b5(x)):y-Bw<=0?ye.intervalId.set(y5(x)):J+Pw>=window.innerHeight?ye.intervalId.set(k5(window)):J-Pw<=0?ye.intervalId.set(v5(window)):pe+Pw>=window.innerWidth?ye.intervalId.set(b5(window)):pe-Pw<=0&&ye.intervalId.set(y5(window)))})},w5=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},TV=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);w5(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&S(ne.fromDom(o))},_5=e=>e.button===0,EV=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),Tz=(e,n)=>o=>{if(_5(o)){const r=Un(n.dom.getParents(o.target),Sz).getOr(null);if(Le(r)&&_V(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:tz(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:CV(n,r,r.offsetWidth,r.offsetHeight),intervalId:ci(wV)})}}},AV=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),_z(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===_v.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},Iw=(e,n,o,r,c)=>{n==="dragstart"&&nz(r,e.dom.getOuterHTML(o));const u=kV(n,o,r,c);return e.dispatch(n,u)},zV=(e,n)=>{const o=Bb((c,u)=>AV(n,c,u),0);n.on("remove",o.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const y=Iw(n,"dragstart",u.element,u.dataTransfer,c);if(Le(y.dataTransfer)&&(u.dataTransfer=y.dataTransfer),y.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const y=c.currentTarget===n.getDoc().documentElement,v=EV(u,hV(n,c));SV(u.ghost,n.getBody()),xV(u.ghost,v,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,y),o.throttle(c.clientX,c.clientY)}})},OV=e=>{const n=e.getSel();if(Le(n)){const r=n.getRangeAt(0).startContainer;return mt(r)?r.parentNode:r}else return null},DV=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(xz(n,OV(n.selection),r.element)){const u=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();Iw(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{TV(n.dom,r.element),a9(r.dataTransfer).each(y=>n.insertContent(y)),n._selectionOverrides.hideFakeCaret()})}Iw(n,"dragend",n.getBody(),r.dataTransfer,o)}}),S5(e)},C5=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Iw(n,"dragend",r.element,r.dataTransfer),c=>Iw(n,"dragend",r.element,r.dataTransfer,c))}),S5(e)},ax=(e,n)=>o=>C5(e,n,I.some(o)),S5=e=>{e.on(n=>{n.intervalId.clear(),w5(n.ghost)}),e.clear()},RV=e=>{const n=Bi(),o=zs.DOM,r=document,c=Tz(n,e),u=zV(n,e),m=DV(n,e),y=ax(n,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",y),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",y)}),e.on("keydown",v=>{v.keyCode===Ut.ESC&&C5(n,e,I.none())})},NV=e=>{const n=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(Ae(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&lw(e,"Dropped file type is not supported"))}},o=c=>{X2(e,c.target)&&n(c)},r=()=>{const c=zs.DOM,u=e.dom,m=document,y=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];he(v,x=>{c.bind(m,x,o),u.bind(y,x,n)}),e.on("remove",()=>{he(v,x=>{c.unbind(m,x,o),u.unbind(y,x,n)})})};e.on("init",()=>{ku.setEditorTimeout(e,r,0)})},MV=e=>{RV(e),yT(e)&&NV(e)},BV=e=>{const n=Bb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=z4(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},PV=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Rr(o)){const r=jd(e.getBody(),o),c=Qo(r)?r:o;e.selection.getNode()!==c&&uw(e,c).each(u=>e.selection.setRng(u))}})})},Fw=Qo,x5=(e,n)=>jd(e.getBody(),n),$V=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=el(e,r,o.isBlock,()=>Ay(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let y;const v=lt=>Le(lt)&&o.hasClass(lt,"mce-offscreen-selection"),x=lt=>lt!==r&&(Fw(lt)||Rr(lt))&&o.isChildOf(lt,r)&&o.isEditable(lt.parentNode),N=lt=>{lt&&n.setRng(lt)},D=(lt,De,We,Ct=!0)=>e.dispatch("ShowCaret",{target:De,direction:lt,before:We}).isDefaultPrevented()?null:(Ct&&n.scrollIntoView(De,lt===-1),c.show(We,De)),L=lt=>{lt.hasAttribute("data-mce-caret")&&(vf(lt),n.scrollIntoView(lt))},X=()=>{e.on("click",De=>{o.isEditable(De.target)||(De.preventDefault(),e.focus())}),e.on("blur NewBlock",Ce),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",De=>{const We=De.target,Ct=x5(e,We);Fw(Ct)?(De.preventDefault(),uw(e,Ct).each(be)):x(We)&&uw(e,We).each(be)},!0),e.on("mousedown",De=>{const We=De.target;if(We!==r&&We.nodeName!=="HTML"&&!o.isChildOf(We,r)||!GC(e,De.clientX,De.clientY))return;Ce(),Ft();const Ct=x5(e,We);Fw(Ct)?(De.preventDefault(),uw(e,Ct).each(be)):_z(r,De.clientX,De.clientY).each(Et=>{De.preventDefault();const jt=D(1,Et.node,Et.position===_v.Before,!1);N(jt),$t(Ct)?Ct.focus():e.getBody().focus()})}),e.on("keypress",De=>{Ut.modifierPressed(De)||Fw(n.getNode())&&De.preventDefault()}),e.on("GetSelectionRange",De=>{let We=De.range;if(y){if(!y.parentNode){y=null;return}We=We.cloneRange(),We.selectNode(y),De.range=We}}),e.on("SetSelectionRange",De=>{De.range=J(De.range);const We=be(De.range,De.forward);We&&(De.range=We)});const lt=De=>$t(De)&&De.id==="mcepastebin";e.on("AfterSetSelectionRange",De=>{const We=De.range,Ct=We.startContainer.parentElement;!q(We)&&!lt(Ct)&&Ft(),v(Ct)||Ce()}),MV(e),BV(e),PV(e)},Q=lt=>rs(lt)||Kc(lt)||bf(lt),q=lt=>Q(lt.startContainer)||Q(lt.endContainer),J=lt=>{const De=e.schema.getVoidElements(),We=o.createRng(),Ct=lt.startContainer,Et=lt.startOffset,jt=lt.endContainer,Rn=lt.endOffset;return yn(De,Ct.nodeName.toLowerCase())?Et===0?We.setStartBefore(Ct):We.setStartAfter(Ct):We.setStart(Ct,Et),yn(De,jt.nodeName.toLowerCase())?Rn===0?We.setEndBefore(jt):We.setEndAfter(jt):We.setEnd(jt,Rn),We},pe=(lt,De)=>{const We=ne.fromDom(e.getBody()),Ct=e.getDoc(),Et=Bn(We,"#"+u).getOrThunk(()=>{const Tn=ne.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ct);return vr(Tn,"id",u),xr(We,Tn),Tn}),jt=o.createRng();ru(Et),Ms(Et,[ne.fromText(Pe,Ct),ne.fromDom(De),ne.fromText(Pe,Ct)]),jt.setStart(Et.dom.firstChild,1),jt.setEnd(Et.dom.lastChild,0),Yg(Et,{top:o.getPos(lt,e.getBody()).y+"px"}),P1(Et);const Rn=n.getSel();return Rn&&(Rn.removeAllRanges(),Rn.addRange(jt)),jt},ye=lt=>{const De=lt.cloneNode(!0),We=e.dispatch("ObjectSelected",{target:lt,targetClone:De});if(We.isDefaultPrevented())return null;const Ct=pe(lt,We.targetClone),Et=ne.fromDom(lt);return he(Fa(ne.fromDom(e.getBody()),`*[${m}]`),jt=>{ss(Et,jt)||Jo(jt,m)}),o.getAttrib(lt,m)||lt.setAttribute(m,"1"),y=lt,Ft(),Ct},be=(lt,De)=>{if(!lt)return null;if(lt.collapsed){if(!q(lt)){const jt=De?1:-1,Rn=Hp(jt,r,lt),Tn=Rn.getNode(!De);if(Le(Tn)){if(Af(Tn))return D(jt,Tn,De?!Rn.isAtEnd():!1,!1);if(Cn(Tn)&&Qo(Tn.nextSibling)){const cs=o.createRng();return cs.setStart(Tn,0),cs.setEnd(Tn,0),cs}}const Bo=Rn.getNode(De);if(Le(Bo)){if(Af(Bo))return D(jt,Bo,De?!1:!Rn.isAtEnd(),!1);if(Cn(Bo)&&Qo(Bo.previousSibling)){const cs=o.createRng();return cs.setStart(Bo,1),cs.setEnd(Bo,1),cs}}}return null}let We=lt.startContainer,Ct=lt.startOffset;const Et=lt.endOffset;if(mt(We)&&Ct===0&&Fw(We.parentNode)&&(We=We.parentNode,Ct=o.nodeIndex(We),We=We.parentNode),!$t(We))return null;if(Et===Ct+1&&We===lt.endContainer){const jt=We.childNodes[Ct];if(x(jt))return ye(jt)}return null},Ce=()=>{y&&y.removeAttribute(m),Bn(ne.fromDom(e.getBody()),"#"+u).each(Uo),y=null},tt=()=>{c.destroy(),y=null},Ft=()=>{c.hide()};return Cu(e)||X(),{showCaret:D,showBlockCaretContainer:L,hideFakeCaret:Ft,destroy:tt}},T5=(e,n)=>{let o=n;for(let r=e.previousSibling;mt(r);r=r.previousSibling)o+=r.data.length;return o},E5=(e,n,o,r,c)=>{if(mt(o)&&(r<0||r>o.data.length))return[];const u=c&&mt(o)?[T5(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===n?u.reverse():[]},cx=(e,n,o,r,c,u,m=!1)=>{const y=E5(e,n,o,r,m),v=E5(e,n,c,u,m);return{start:y,end:v}},A5=(e,n)=>{const o=n.slice(),r=o.pop();return Ho(r)?Bt(o,(u,m)=>u.bind(y=>I.from(y.childNodes[m])),I.some(e)).bind(u=>mt(u)&&(r<0||r>u.data.length)?I.none():I.some({node:u,offset:r})):I.none()},z5=(e,n)=>A5(e,n.start).bind(({node:o,offset:r})=>A5(e,n.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(c,u),m})),O5=(e,n,o,r=!1)=>cx(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),Vm=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n),Vm(e,r,o)}},lx=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(mt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),mt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Vm(e,c,o),c!==u&&Vm(e,u,o))},ix=(e,n)=>I.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),D5=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Vb(r).concat(e.blockPatterns),inlinePatterns:Kx(r).concat(e.inlinePatterns)}},R5=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},IV=e=>/^\s[^\s]/.test(e),N5=(e,n,o)=>{AB(n,0,n).each(c=>{const u=c.container;zB(u,o.start.length,n).each(v=>{const x=e.createRng();x.setStart(u,0),x.setEnd(v.container,v.offset),lx(e,x,N=>N===n)});const m=ne.fromDom(u),y=sp(m);IV(y)&&Hv(m,y.slice(1))})},M5=(e,n)=>{const o=e.dom,r=n.pattern,c=z5(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(m,y)=>{const v=y.get(m);return Vn(v)&&xn(v).exists(x=>yn(x,"block"))};return ix(e,c).each(m=>{r.type==="block-format"?u(r.format,e.formatter)&&e.undoManager.transact(()=>{N5(e.dom,m,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{N5(e.dom,m,r),e.execCommand(r.cmd,!1,r.value)})}),!0},FV=e=>Kn(e,(n,o)=>o.start.length-n.start.length),B5=(e,n)=>{const o=FV(e),r=n.replace(Pe," ");return Un(o,c=>n.indexOf(c.start)===0||r.indexOf(c.start)===0)},LV=(e,n,o,r)=>{var c;const u=e.dom,m=Rc(e);if(!u.is(n,m))return[];const y=(c=n.textContent)!==null&&c!==void 0?c:"";return B5(o.blockPatterns,y).map(v=>Qe.trim(y).length===v.start.length?[]:[{pattern:v,range:cx(u,u.getRoot(),n,0,n,0,r)}]).getOr([])},HV=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();he(n,r=>M5(e,r)),e.selection.moveToBookmark(o)},P5=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),ux=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},$5=(e,n,o)=>{const r=z5(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),y=r.startOffset===0?c:c.splitText(r.startOffset),v=y.parentNode,x=m.parentNode;return{prefix:n,end:x.insertBefore(P5(e,n+"-end"),m),start:v.insertBefore(P5(e,n+"-start"),y)}},I5=(e,n,o)=>{Vm(e,e.get(n.prefix+"-end"),o),Vm(e,e.get(n.prefix+"-start"),o)},Ez=e=>e.start.length===0,VV=e=>(n,o)=>{const c=n.data.substring(0,o),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},F5=(e,n,o,r)=>{const c=n.start;return v3(e,r.container,r.offset,VV(c),o).bind(m=>{var y,v;const x=(v=(y=o.textContent)===null||y===void 0?void 0:y.indexOf(c))!==null&&v!==void 0?v:-1;if(x!==-1&&m.offset>=x+c.length){const D=e.createRng();return D.setStart(m.container,m.offset-c.length),D.setEnd(m.container,m.offset),I.some(D)}else{const D=m.offset-c.length;return b3(m.container,D,o).map(L=>{const X=e.createRng();return X.setStart(L.container,L.offset),X.setEnd(m.container,m.offset),X}).filter(L=>L.toString()===c).orThunk(()=>F5(e,n,o,ef(m.container,0)))}})},L5=(e,n,o,r,c,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),I.some(m)}return ES(o,r,c).bind(m=>F5(e,n,c,m).bind(v=>{var x;if(u){if(v.endContainer===m.container&&v.endOffset===m.offset)return I.none();if(m.offset===0&&((x=v.endContainer.textContent)===null||x===void 0?void 0:x.length)===v.endOffset)return I.none()}return I.some(v)}))},Az=(e,n,o,r)=>{const c=e.dom,u=c.getRoot(),m=o.pattern,y=o.position.container,v=o.position.offset;return b3(y,v-o.pattern.end.length,n).bind(x=>{const N=cx(c,u,x.container,x.offset,y,v,r);if(Ez(m))return I.some({matches:[{pattern:m,startRng:N,endRng:N}],position:x});{const D=Lw(e,o.remainingPatterns,x.container,x.offset,n,r),L=D.getOr({matches:[],position:x}),X=L.position;return L5(c,m,X.container,X.offset,n,D.isNone()).map(q=>{const J=O5(c,u,q,r);return{matches:L.matches.concat([{pattern:m,startRng:J,endRng:N}]),position:ef(q.startContainer,q.startOffset)}})}})},Lw=(e,n,o,r,c,u)=>{const m=e.dom;return ES(o,r,m.getRoot()).bind(y=>{const v=R5(m,c,o,r);for(let x=0;x<n.length;x++){const N=n[x];if(!qr(v,N.end))continue;const D=n.slice();D.splice(x,1);const L=Az(e,c,{pattern:N,remainingPatterns:D,position:y},u);if(L.isNone()&&r>0)return Lw(e,n,o,r-1,c,u);if(L.isSome())return L}return I.none()})},zz=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?he(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},UV=(e,n,o,r)=>{const c=ux(e.dom,o);lx(e.dom,c,r),zz(e,n,c)},jV=(e,n,o,r,c)=>{const u=e.dom,m=ux(u,r),y=ux(u,o);lx(u,y,c),lx(u,m,c);const v={prefix:o.prefix,start:o.end,end:r.start},x=ux(u,v);zz(e,n,x)},WV=(e,n)=>{const o=jh("mce_textpattern"),r=un(n,(c,u)=>{const m=$5(e,o+`_end${c.length}`,u.endRng);return c.concat([{...u,endMarker:m}])},[]);return un(r,(c,u)=>{const m=r.length-c.length-1,y=Ez(u.pattern)?u.endMarker:$5(e,o+`_start${m}`,u.startRng);return c.concat([{...u,startMarker:y}])},[])},H5=e=>Kn(e,(n,o)=>o.end.length-n.end.length),V5=(e,n)=>{const o=Ko(e,r=>nt(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},U5=(e,n,o,r,c,u)=>{const m=Lw(e,c.inlinePatterns,o,r,n,u).fold(()=>[],v=>v.matches),y=Lw(e,H5(c.inlinePatterns),o,r,n,u).fold(()=>[],v=>v.matches);return V5(m,y)},j5=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=WV(o,n);he(c,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),y=v=>v===m;Ez(u.pattern)?UV(e,u.pattern,u.endMarker,y):jV(e,u.pattern,u.startMarker,u.endMarker,y),I5(o,u.endMarker,y),I5(o,u.startMarker,y)}),e.selection.moveToBookmark(r)},Oz=(e,n)=>{const o=e.selection.getRng();return ix(e,o).map(r=>{var c;const u=Math.max(0,o.startOffset),m=D5(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),y=U5(e,r,o.startContainer,u,m,!0),v=LV(e,r,m,!0);return v.length>0||y.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent($u),j5(e,y),HV(e,v);const x=e.selection.getRng(),N=ES(x.startContainer,x.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),N.each(D=>{const L=D.container;L.data.charAt(D.offset-1)===$u&&(L.deleteData(D.offset-1,1),Vm(e.dom,L.parentNode,X=>X===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},dx=(e,n)=>{const o=e.selection.getRng();ix(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),u=R5(e.dom,r,o.startContainer,c),m=D5(n,r,u),y=U5(e,r,o.startContainer,c,m,!1);y.length>0&&e.undoManager.transact(()=>{j5(e,y)})})},Hw=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},Vg=(e,n)=>Hw(e,n,(o,r)=>o===r.keyCode&&!Ut.modifierPressed(r)),fx=(e,n)=>Hw(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),Cv=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Xx(a2(e),CT(e)),c=()=>ET(e);e.on("keydown",m=>{if(m.keyCode===13&&!Ut.modifierPressed(m)&&e.selection.isCollapsed()){const y=r();(y.inlinePatterns.length>0||y.blockPatterns.length>0||c())&&Oz(e,y)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=r();(m.inlinePatterns.length>0||c())&&dx(e,m)}};e.on("keyup",m=>{Vg(o,m)&&u()}),e.on("keypress",m=>{fx(n,m)&&ku.setEditorTimeout(e,u)})},W5=e=>{Cv(e)},ZV=e=>{const n=Qe.each,o=Ut.BACKSPACE,r=Ut.DELETE,c=e.dom,u=e.selection,m=e.parser,y=To.browser,v=y.isFirefox(),x=y.isChromium()||y.isSafari(),N=To.deviceType.isiPhone()||To.deviceType.isiPad(),D=To.os.isMacOS()||To.os.isiOS(),L=(Qt,Kt)=>{try{e.getDoc().execCommand(Qt,!1,String(Kt))}catch{}},X=Qt=>Qt.isDefaultPrevented(),Q=()=>{const Qt=pt=>{const An=c.create("body"),ao=pt.cloneContents();return An.appendChild(ao),u.serializer.serialize(An,{format:"html"})},Kt=pt=>{const An=Qt(pt),ao=c.createRng();ao.selectNode(e.getBody());const Ts=Qt(ao);return An===Ts};e.on("keydown",pt=>{const An=pt.keyCode;if(!X(pt)&&(An===r||An===o)&&e.selection.isEditable()){const ao=e.selection.isCollapsed(),Ts=e.getBody();if(ao&&!c.isEmpty(Ts)||!ao&&!Kt(e.selection.getRng()))return;pt.preventDefault(),e.setContent(""),Ts.firstChild&&c.isBlock(Ts.firstChild)?e.selection.setCursorLocation(Ts.firstChild,0):e.selection.setCursorLocation(Ts,0),e.nodeChanged()}})},q=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},J=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Qt=>{let Kt;if(Qt.target===e.getDoc().documentElement)if(Kt=u.getRng(),e.getBody().focus(),Qt.type==="mousedown"){if(rs(Kt.startContainer))return;u.placeCaretAt(Qt.clientX,Qt.clientY)}else u.setRng(Kt)})},pe=()=>{e.on("keydown",Qt=>{if(!X(Qt)&&Qt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const Kt=u.getNode(),pt=Kt.previousSibling;if(Kt.nodeName==="HR"){c.remove(Kt),Qt.preventDefault();return}pt&&pt.nodeName&&pt.nodeName.toLowerCase()==="hr"&&(c.remove(pt),Qt.preventDefault())}}})},ye=()=>{Range.prototype.getClientRects||e.on("mousedown",Qt=>{if(!X(Qt)&&Qt.target.nodeName==="HTML"){const Kt=e.getBody();Kt.blur(),ku.setEditorTimeout(e,()=>{Kt.focus()})}})},be=()=>{const Qt=t2(e);e.on("click",Kt=>{const pt=Kt.target;/^(IMG|HR)$/.test(pt.nodeName)&&c.isEditable(pt.parentNode)&&(Kt.preventDefault(),e.selection.select(pt),e.nodeChanged()),pt.nodeName==="A"&&c.hasClass(pt,Qt)&&pt.childNodes.length===0&&c.isEditable(pt.parentNode)&&(Kt.preventDefault(),u.select(pt))})},Ce=()=>{const Qt=()=>{const pt=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const An=u.getStart();An!==e.getBody()&&(c.setAttrib(An,"style",null),n(pt,ao=>{An.setAttributeNode(ao.cloneNode(!0))}))}},Kt=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",pt=>{let An;return!X(pt)&&(pt.keyCode===8||pt.keyCode===46)&&Kt()?(An=Qt(),e.getDoc().execCommand("delete",!1),An(),pt.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",pt=>{if(!X(pt)&&Kt()){const An=Qt();ku.setEditorTimeout(e,()=>{An()})}})},tt=()=>{e.on("keydown",Qt=>{if(!X(Qt)&&Qt.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const Kt=u.getNode().previousSibling;if(Kt&&Kt.nodeName&&Kt.nodeName.toLowerCase()==="table")return Qt.preventDefault(),!1}return!0})},Ft=()=>{e.on("keydown",Qt=>{if(X(Qt)||Qt.keyCode!==Ut.BACKSPACE)return;let Kt=u.getRng();const pt=Kt.startContainer,An=Kt.startOffset,ao=c.getRoot();let Ts=pt;if(!(!Kt.collapsed||An!==0)){for(;Ts.parentNode&&Ts.parentNode.firstChild===Ts&&Ts.parentNode!==ao;)Ts=Ts.parentNode;Ts.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ts),Kt=c.createRng(),Kt.setStart(pt,0),Kt.setEnd(pt,0),u.setRng(Kt))}})},lt=()=>{const Qt=()=>{L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),G_(e)||L("enableObjectResizing",!1)};hT(e)||e.on("BeforeExecCommand mousedown",Qt)},De=()=>{const Qt=()=>{n(c.select("a:not([data-mce-block])"),Kt=>{var pt;let An=Kt.parentNode;const ao=c.getRoot();if((An==null?void 0:An.lastChild)===Kt){for(;An&&!c.isBlock(An);){if(((pt=An.parentNode)===null||pt===void 0?void 0:pt.lastChild)!==An||An===ao)return;An=An.parentNode}c.add(An,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Kt=>{(Kt.type==="setcontent"||Kt.command==="mceInsertLink")&&Qt()})},We=()=>{e.on("init",()=>{L("DefaultParagraphSeparator",Rc(e))})},Ct=Qt=>{const Kt=Qt.getBody(),pt=Qt.selection.getRng();return pt.startContainer===pt.endContainer&&pt.startContainer===Kt&&pt.startOffset===0&&pt.endOffset===Kt.childNodes.length},Et=()=>{e.on("keyup focusin mouseup",Qt=>{!Ut.modifierPressed(Qt)&&!Ct(e)&&u.normalize()},!0)},jt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Rn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Tn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Qt=>{let Kt;Qt.target.nodeName==="HTML"&&(Kt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Kt),e.selection.normalize(),e.nodeChanged())}))},Bo=()=>{D&&e.on("keydown",Qt=>{Ut.metaKeyPressed(Qt)&&!Qt.shiftKey&&(Qt.keyCode===37||Qt.keyCode===39)&&(Qt.preventDefault(),e.selection.getSel().modify("move",Qt.keyCode===37?"backward":"forward","lineboundary"))})},cs=()=>{e.on("click",Qt=>{let Kt=Qt.target;do if(Kt.tagName==="A"){Qt.preventDefault();return}while(Kt=Kt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},fs=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Qt=>{Qt.preventDefault()})})},$r=()=>{m.addNodeFilter("br",Qt=>{let Kt=Qt.length;for(;Kt--;)Qt[Kt].attr("class")==="Apple-interchange-newline"&&Qt[Kt].remove()})},Za=$e,kt=()=>{if(!v||e.removed)return!1;const Qt=e.selection.getSel();return!Qt||!Qt.rangeCount||Qt.rangeCount===0},qt=()=>{x&&(J(),be(),fs(),q(),N&&(Rn(),Tn(),cs())),v&&(ye(),lt(),jt(),Bo())},No=()=>{e.on("drop",Qt=>{var Kt;const pt=(Kt=Qt.dataTransfer)===null||Kt===void 0?void 0:Kt.getData("text/html");re(pt)&&/^<img[^>]*>$/.test(pt)&&e.dispatch("dragend",new window.DragEvent("dragend",Qt))})},Mo=()=>{Ft(),Q(),To.windowsPhone||Et(),x&&(J(),be(),We(),fs(),tt(),$r(),N?(Rn(),Tn(),cs()):q()),v&&(pe(),ye(),Ce(),lt(),De(),jt(),Bo(),tt(),No())};return Cu(e)?qt():Mo(),{refreshContentEditable:Za,isHidden:kt}},Dz=zs.DOM,Z5=(e,n)=>{const o=ne.fromDom(e.getBody()),r=em(oi(o)),c=ne.fromTag("style");vr(c,"type","text/css"),xr(c,ne.fromText(n)),xr(r,c),e.on("remove",()=>{Uo(c)})},qV=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Vw=e=>us(e,n=>Nn(n)===!1),Uw=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return Vw({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:qV(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Ug=e=>{const n=e.options.get;return Vw({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},nb=e=>{const n=e.options.get;return{...Uw(e),...Ug(e),...Vw({remove_trailing_brs:n("remove_trailing_brs"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},q5=e=>{const n=dh(Uw(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const y=o[m];let v=y.attr(r);if(v&&!y.attr(u)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=c.serializeStyle(c.parseStyle(v),y.name),v.length||(v=null),y.attr(u,v),y.attr(r,v)):r==="tabindex"?(y.attr(u,v),y.attr(r,null)):y.attr(u,e.convertURL(v,r,y.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),TT(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const u=o[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new fi("br",1))}}),n},GV=e=>{const n=Yb(e);n&&ku.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},KV=e=>{const n=e.dom.getRoot();!e.inline&&(!Fd(e)||e.selection.getStart(!0)===n)&&kc(n).each(o=>{const r=o.getNode(),c=ur(r)?kc(r).getOr(o):o;e.selection.setRng(c.toRange())})},XV=e=>{e.bindPendingEventDelegates(),e.initialized=!0,uk(e),e.focus(!0),KV(e),e.nodeChanged({initial:!0});const n=$p(e);ie(n)&&n.call(e,e),GV(e)},G5=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,YV=(e,n,o)=>{const r=[G5(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},K5=e=>{const n=G5(e),o=q_(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let v="";Qe.each(e.contentStyles,x=>{v+=x+`\r
`}),e.dom.addStyle(v)}const m=Promise.all(YV(e,r,o)).then(u).catch(u),y=jb(e);return y&&Z5(e,y),m},X5=e=>{const n=e.getDoc(),o=e.getBody();ik(e),z0(e)||(n.body.spellcheck=!1,Dz.setAttrib(o,"spellcheck","false")),e.quirks=ZV(e),$2(e);const r=lT(e);r!==void 0&&(o.dir=r);const c=n2(e);c&&e.on("BeforeSetContent",u=>{Qe.each(c,m=>{u.content=u.content.replace(m,y=>"<!--mce:protected "+escape(y)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},JV=e=>{Cu(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Rz=e=>{e.removed!==!0&&(JV(e),XV(e))},Y5=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(Dz.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=hT(e),e._editableRoot=ug(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&Dz.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=WN(e),e.schema=hm(Ug(e)),e.dom=zs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:aT(e),referrerPolicy:x0(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=q5(e),e.serializer=oL(nb(e),e),e.selection=UC(e.dom,e.getWin(),e.serializer,e),e.annotator=E1(e),e.formatter=w4(e),e.undoManager=YN(e),e._nodeChangeDispatcher=new KH(e),e._selectionOverrides=$V(e),bS(e),tV(e),q8(e),Cu(e)||(cV(e),W5(e));const c=GH(e);_W(e,c),W8(e),NL(e),U9(e);const u=vN(e);X5(e),u.fold(()=>{K5(e).then(()=>Rz(e))},m=>{e.setProgressState(!0),K5(e).then(()=>{m().then(y=>{e.setProgressState(!1),Rz(e),as(e)},y=>{e.notificationManager.open({type:"error",text:String(y)}),Rz(e),as(e)})})})},jW=Je,QV=(e,n,o)=>Ym(e,n,jW,o),jw=zs.DOM,eU=(e,n,o,r)=>{const c=ne.fromTag("iframe");return r.each(u=>vr(c,"tabindex",u)),Ka(c,o),Ka(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),ni(c,"tox-edit-area__iframe"),c},tU=e=>{let n=F_(e)+"<html><head>";L_(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Ol(e),r=H_(e),c=e.translate(bT(e));return w0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+w0(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},J5=(e,n)=>{const o=e.translate("Rich Text Area"),r=Fl(ne.fromDom(e.getElement()),"tabindex").bind(Pl),c=eU(e.id,o,tT(e),r).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=c,e.iframeHTML=tU(e),jw.add(n.iframeContainer,c)},nU=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,Y5(e)};if(l2(e)||To.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=QV(ne.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},Q5=(e,n)=>{J5(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=jw.isHidden(n.editorContainer)),e.getElement().style.display="none",jw.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,nU(e)},e$=zs.DOM,Nz=(e,n,o)=>{const r=Xy.get(o),c=Xy.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Qe.trim(o),r&&Qe.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,c)||{};e.plugins[o]=u,ie(u.init)&&(u.init(e,c),n.push(o))}catch(u){vL(e,o,u)}}},oU=e=>e.replace(/^\-/,""),sU=e=>{const n=[];he(Gb(e),o=>{Nz(e,n,oU(o))})},rU=e=>{const n=Qe.trim(C0(e)),o=e.ui.registry.getAll().icons,r={...ev.get("default").icons,...ev.get(n).icons};it(r,(c,u)=>{yn(o,u)||e.ui.registry.addIcon(u,c)})},aU=e=>{const n=Os(e);if(re(n)){const o=mh.get(n);e.theme=o(e,mh.urls[n])||{},ie(e.theme.init)&&e.theme.init(e,mh.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},t$=e=>{const n=Nc(e),o=tv.get(n);e.model=o(e,tv.urls[n])},Mz=e=>{const n=e.theme.renderUI;return n?n():lU(e)},n$=e=>{const n=e.getElement(),r=Os(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},mx=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),cU=e=>{const n=e$.create("div");return e$.insertAfter(n,e),mx(n,n)},lU=e=>{const n=e.getElement();return e.inline?mx(null):cU(n)},WW=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,re(Os(e))?Mz(e):ie(Os(e))?n$(e):lU(e)},iU=(e,n)=>{const o={show:I.from(n.show).getOr($e),hide:I.from(n.hide).getOr($e),isEnabled:I.from(n.isEnabled).getOr(Je),setEnabled:r=>{e.mode.isReadOnly()||I.from(n.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...o}},o$=async e=>{e.dispatch("ScriptsLoaded"),rU(e),aU(e),t$(e),sU(e);const n=await WW(e);iU(e,I.from(n.api).getOr({})),e.editorContainer=n.editorContainer,CL(e),e.inline?Y5(e):Q5(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},ob=zs.DOM,s$=e=>e.charAt(0)==="-",uU=(e,n)=>{const o=j_(n),r=T0(n);if(!xs.hasCode(o)&&o!=="en"){const c=$o(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{Ig(n,c,o)})}},ZW=(e,n)=>{const o=Os(e);if(re(o)&&!s$(o)&&!yn(mh.urls,o)){const r=K_(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;mh.load(o,c).catch(()=>{gh(e,c,o)})}},qW=(e,n)=>{const o=Nc(e);if(o!=="plugin"&&!yn(tv.urls,o)){const r=A0(e),c=re(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;tv.load(o,c).catch(()=>{Xd(e,c,o)})}},r$=e=>I.from(S0(e)).filter($o).map(n=>({url:n,name:I.none()})),Bz=(e,n,o)=>I.from(n).filter(r=>$o(r)&&!ev.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:I.some(r)})),dU=(e,n,o)=>{const r=Bz(n,"default",o),c=r$(n).orThunk(()=>Bz(n,C0(n),""));he(Ss([r,c]),u=>{e.add(u.url).catch(()=>{$N(n,u.url,u.name.getOrUndefined())})})},fU=(e,n)=>{const o=(r,c)=>{Xy.load(r,c).catch(()=>{PN(e,c,r)})};it(e2(e),(r,c)=>{o(c,r),e.options.set("plugins",Gb(e).concat(c))}),he(Gb(e),r=>{r=Qe.trim(r),r&&!Xy.urls[r]&&!s$(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},mU=e=>{const n=Os(e);return!re(n)||Le(mh.get(n))},GW=e=>{const n=Nc(e);return Le(tv.get(n))},KW=(e,n)=>{const o=Wu.ScriptLoader,r=()=>{!e.removed&&mU(e)&&GW(e)&&o$(e)};ZW(e,n),qW(e,n),uU(o,e),dU(o,e,n),fU(e,n),o.loadQueue().then(r,r)},XW=(e,n)=>Fh.forElement(e,{contentCssCors:Q_(n),referrerPolicy:x0(n)}),gU=e=>{const n=e.id;xs.setCode(j_(e));const o=()=>{ob.unbind(window,"ready",o),e.render()};if(!ym.Event.domLoaded){ob.bind(window,"ready",o);return}if(!e.getElement())return;const r=ne.fromDom(e.getElement()),c=uf(r);e.on("remove",()=>{Ye(r.dom.attributes,m=>Jo(r,m.name)),Ka(r,c)}),e.ui.styleSheetLoader=XW(r,e),qb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||ob.getParent(n,"form");u&&(e.formElement=u,fT(e)&&!eg(e.getElement())&&(ob.insertAfter(ob.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},ob.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),mT(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=p4(e),e.notificationManager=XC(e),Qb(e)&&e.on("GetContent",m=>{m.save&&(m.content=ob.encode(m.content))}),gT(e)&&e.on("submit",()=>{e.initialized&&e.save()}),pT(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),KW(e,e.suffix)},YW=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),tE(e,n))},pU=e=>e._editableRoot,sb=(e,n)=>({sections:Ke(e),options:Ke(n)}),gx=Cs().deviceType,Ww=gx.isPhone(),a$=gx.isTablet(),Sv=e=>{if(nn(e))return[];{const n=Vn(e)?e:e.split(/[ ,]/),o=Re(n,fc);return Be(o,$o)}},c$=(e,n)=>{const o=uc(n,(r,c)=>Ae(e,c));return sb(o.t,o.f)},hU=(e,n,o={})=>{const r=e.sections(),c=Vo(r,n).getOr({});return Qe.extend({},o,c)},Pz=(e,n)=>yn(e.sections(),n),yU=(e,n)=>Pz(e,n)?e.sections()[n]:{},bU=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Vo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),kh=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Qe.extend({},e.external_plugins,r):r},vU=(e,n)=>[...Sv(e),...Sv(n)],l$=(e,n,o,r)=>e&&Pz(n,"mobile")?r:o,kU=(e,n,o,r)=>{const c=Sv(o.forced_plugins),u=Sv(r.plugins),m=yU(n,"mobile"),y=m.plugins?Sv(m.plugins):u,v=l$(e,n,u,y),x=vU(c,v);return Qe.extend(r,{forced_plugins:c,plugins:x})},px=(e,n)=>e&&Pz(n,"mobile"),wU=(e,n,o,r,c)=>{var u;const m=e?{mobile:bU((u=c.mobile)!==null&&u!==void 0?u:{},n)}:{},y=c$(["mobile"],OS(m,c)),v=Qe.extend(o,r,y.options(),px(e,y)?hU(y,"mobile"):{},{external_plugins:kh(r,y.options())});return kU(e,y,r,v)},_U=(e,n)=>wU(Ww||a$,Ww,n,e,n),CU=(e,n)=>G6(e,n),i$=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{he("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},SU=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return nt(c,u=>Le(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},xU=e=>{i$(e),SU(e)},TU=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(To.os.isMacOS()||To.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},$z=(e,n,o)=>{const r=ne.fromDom(e.getRoot());return zk(r,Ie.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Oy(r,Ie.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},EU=e=>{if(typeof e!="string"){const n=Qe.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},AU=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?$z(r,o.getRng(),n):n},oa=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=EU(n);YA(e,{...r,content:AU(e,o),format:"html",set:!1,selection:!0}).each(c=>{const u=Z6(e,c.content,r);PC(e,u,c),e.addVisual()})}},zU=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{oa(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{oa(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{oa(e,r)},mceInsertContent:(n,o,r)=>{oa(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(fg(e))}})},OU={"font-size":"size","font-family":"face"},Iz=Ti("font"),u$=(e,n,o)=>{const r=u=>Zc(u,e).orThunk(()=>Iz(u)?Vo(OU,e).bind(m=>Fl(u,m)):I.none()),c=u=>ss(ne.fromDom(n),u);return $k(ne.fromDom(o),u=>r(u),c)},Fz=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),DU=(e,n)=>I.from(zs.DOM.getStyle(n,e,!0)),d$=e=>(n,o)=>I.from(o).map(ne.fromDom).filter(As).bind(r=>u$(e,n,r.dom).or(DU(e,r.dom))).getOr(""),RU=d$("font-size"),NU=A(Fz,d$("font-family")),MU=e=>kc(e.getBody()).bind(n=>{const o=n.container();return I.from(mt(o)?o.parentNode:o)}),BU=e=>I.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?I.none():I.from(e.selection.getStart(!0))}),PU=(e,n)=>BU(e).orThunk(He(MU,e)).map(ne.fromDom).filter(As).bind(n),Lz=(e,n)=>PU(e,cn(I.some,n)),rb=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=AT(e),c=zT(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},Uf=e=>{const n=e.split(/\s*,\s*/);return Re(n,o=>o.indexOf(" ")!==-1&&!(uo(o,'"')||uo(o,"'"))?`'${o}'`:o).join(",")},$U=(e,n)=>{const o=rb(e,n);e.formatter.toggle("fontname",{value:Uf(o)}),e.nodeChanged()},IU=e=>Lz(e,n=>NU(e.getBody(),n.dom)).getOr(""),FU=(e,n)=>{e.formatter.toggle("fontsize",{value:rb(e,n)}),e.nodeChanged()},LU=e=>Lz(e,n=>RU(e.getBody(),n.dom)).getOr(""),HU=e=>Lz(e,n=>{const o=ne.fromDom(e.getBody()),r=$k(n,u=>Zc(u,"line-height"),He(ss,o)),c=()=>{const u=parseFloat(Xr(n,"line-height")),m=parseFloat(Xr(n,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),VU=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},UU=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{$U(e,c)},FontSize:(o,r,c)=>{FU(e,c)},LineHeight:(o,r,c)=>{VU(e,c)},Lang:(o,r,c)=>{var u;n(o,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(re(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},jU=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>IU(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>LU(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>HU(e))},WU=e=>{UU(e),jU(e)},JW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ZU=e=>{e.editorCommands.addCommands({Indent:()=>{L8(e)},Outdent:()=>{nB(e)}}),e.editorCommands.addCommands({Outdent:()=>Q4(e)},"state")},qU=e=>{const n=(o,r,c)=>{const u=re(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");sn(u)&&re(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},GU=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const c=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(c)}}}})},KU=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},XU=e=>{GU(e),KU(e)},YU=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Ew(LS,e)},mceInsertNewLine:(n,o,r)=>{vP(e,r)},InsertLineBreak:(n,o,r)=>{Ew(HS,e)}})},QW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>$t(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),gs);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},JU=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{Y$(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},QU=e=>{xU(e),TU(e),JW(e),QW(e),zU(e),qU(e),ZU(e),YU(e),XU(e),WU(e),JU(e)},ej=["toggleview"],f$=e=>Ae(ej,e.toLowerCase());class m${constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const u=this.editor,m=n.toLowerCase(),y=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!y?u.focus():hE(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const x=this.commands.exec[m];return ie(x)?(x(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!f$(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ie(r)?r(o):!1}queryCommandValue(n){if(!f$(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ie(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;it(n,(c,u)=>{he(u.toLowerCase().split(","),m=>{r[o][m]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(u,m,y)=>o.call(r??this.editor,m,y)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const ab="data-mce-contenteditable",tj=(e,n,o)=>{df(e,n)&&!o?Ll(e,n):o&&ni(e,n)},Hz=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},hx=(e,n)=>{e.dom.contentEditable=n?"true":"false"},nj=e=>{he(Fa(e,'*[contenteditable="true"]'),n=>{vr(n,ab,"true"),hx(n,!1)})},oj=e=>{he(Fa(e,`*[${ab}="true"]`),n=>{Jo(n,ab),hx(n,!0)})},sj=e=>{I.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},rj=e=>{e.selection.setRng(e.selection.getRng())},aj=(e,n)=>{const o=ne.fromDom(e.getBody());tj(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),sj(e),e.readonly=!0,hx(o,!1),nj(o)):(e.readonly=!1,e.hasEditableRoot()&&hx(o,!0),oj(o),Hz(e,"StyleWithCSS",!1),Hz(e,"enableInlineTableEditing",!1),Hz(e,"enableObjectResizing",!1),K$(e)&&e.focus(),rj(e),e.nodeChanged())},cb=e=>e.readonly,g$=e=>{e.parser.addAttributeFilter("contenteditable",n=>{cb(e)&&he(n,o=>{o.attr(ab,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ab,n=>{cb(e)&&he(n,o=>{o.attr("contenteditable",o.attr(ab))})}),e.serializer.addTempAttr(ab)},p$=e=>{e.serializer?g$(e):e.on("PreInit",()=>{g$(e)})},cj=e=>e.type==="click",lj=["copy"],ij=e=>Ae(lj,e.type),uj=(e,n)=>Pn(n,"a",r=>ss(r,ne.fromDom(e.getBody()))).bind(r=>Fl(r,"href")),dj=(e,n)=>{if(cj(n)&&!Ut.metaKeyPressed(n)){const o=ne.fromDom(n.target);uj(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Ic(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else ij(n)&&e.dispatch(n.type,n)},fj=e=>{e.on("ShowCaret",n=>{cb(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{cb(e)&&n.preventDefault()})},mj=Qe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Vz{static isNative(n){return!!mj[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ee}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=e0(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,y=u.length;m<y;m++){const v=u[m];if(!v.removed){if(v.once&&this.off(r,v.func),c.isImmediatePropagationStopped())return c;if(v.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=Ee),o){const u={func:o,removed:!1};c&&Qe.extend(u,c);const m=n.toLowerCase().split(" ");let y=m.length;for(;y--;){const v=m[y];let x=this.bindings[v];x||(x=[],this.toggleEvent(v,!0)),r?x=[u,...x]:x=[...x,u],this.bindings[v]=x}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return it(this.bindings,(y,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(m){if(!o)m.length=0;else{const y=Ze(m,v=>v.func===o);m=y.fail,this.bindings[u]=m,he(y.pass,v=>{v.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else it(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const xv=e=>(e._eventDispatcher||(e._eventDispatcher=new Vz({scope:e,toggleEvent:(n,o)=>{Vz.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),Uz={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return e0(e.toLowerCase(),n??{},r);const c=xv(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,n,o){return xv(this).on(e,n,o)},off(e,n){return xv(this).off(e,n)},once(e,n){return xv(this).once(e,n)},hasEventListeners(e){return xv(this).has(e)}},yx=zs.DOM;let lb;const bx=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=E0(e);return o?(e.eventRoot||(e.eventRoot=yx.select(o)[0]),e.eventRoot):e.getBody()},gj=e=>!e.hidden&&!cb(e),h$=(e,n,o)=>{gj(e)?e.dispatch(n,o):cb(e)&&dj(e,o)},y$=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=bx(e,n);if(E0(e)){if(lb||(lb={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||lb&&(it(lb,(c,u)=>{e.dom.unbind(bx(e,u))}),lb=null)})),lb[n])return;const r=c=>{const u=c.target,m=e.editorManager.get();let y=m.length;for(;y--;){const v=m[y].getBody();(v===u||yx.isChildOf(u,v))&&h$(m[y],n,c)}};lb[n]=r,yx.bind(o,n,r)}else{const r=c=>{h$(e,n,c)};yx.bind(o,n,r),e.delegates[n]=r}},b$={...Uz,bindPendingEventDelegates(){const e=this;Qe.each(e._pendingNativeEvents,n=>{y$(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?y$(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(bx(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(it(e.delegates,(r,c)=>{e.dom.unbind(bx(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},v$=e=>re(e)?{value:e.split(/[ ,]/),valid:!0}:st(e,re)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},eZ=e=>{const n=(()=>{switch(e){case"array":return Vn;case"boolean":return gn;case"function":return ie;case"number":return Ho;case"object":return sn;case"string":return re;case"string[]":return v$;case"object[]":return o=>st(o,sn);case"regexp":return o=>vt(o,RegExp);default:return Je}})();return o=>Wz(o,n,`The value must be a ${e}.`)},k$=e=>re(e.processor),w$=(e,n)=>{const o=Ea(n.message)?"":`. ${n.message}`;return e+o},jz=e=>e.valid,Wz=(e,n,o="")=>{const r=n(e);return gn(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},pj=(e,n,o)=>{if(!Nn(n)){const r=Wz(n,o);if(jz(r))return r.value;console.error(w$(`Invalid default value passed for the "${e}" option`,r))}},hj=(e,n)=>{const o={},r={},c=(D,L,X)=>{const Q=Wz(L,X);return jz(Q)?(r[D]=Q.value,!0):(console.warn(w$(`Invalid value passed for the ${D} option`,Q)),!1)},u=(D,L)=>{const X=k$(L)?eZ(L.processor):L.processor,Q=pj(D,L.default,X);o[D]={...L,default:Q,processor:X},Vo(r,D).orThunk(()=>Vo(n,D)).each(J=>c(D,J,X))},m=D=>yn(o,D);return{register:u,isRegistered:m,get:D=>Vo(r,D).orThunk(()=>Vo(o,D).map(L=>L.default)).getOrUndefined(),set:(D,L)=>{if(m(D)){const X=o[D];return X.immutable?(console.error(`"${D}" is an immutable option and cannot be updated`),!1):c(D,L,X.processor)}else return console.warn(`"${D}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:D=>{const L=m(D);return L&&delete r[D],L},isSet:D=>yn(r,D)}},yj=["design","readonly"],_$=(e,n,o,r)=>{const c=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&aj(e,u.editorReadOnly),n.set(r),M2(e,r)},bj=(e,n,o,r)=>{if(r!==o.get()){if(!yn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?_$(e,o,n,r):e.on("init",()=>_$(e,o,n,r))}},Zz=(e,n,o)=>{if(Ae(yj,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},qz=e=>{const n=Ra("design"),o=Ra({design:{activate:$e,deactivate:$e,editorReadOnly:!1},readonly:{activate:$e,deactivate:$e,editorReadOnly:!0}});return p$(e),fj(e),{isReadOnly:()=>cb(e),set:r=>bj(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(Zz(o.get(),r,c))}}},Gz=Qe.each,vx=Qe.explode,vj={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},C$=Qe.makeMap("alt,ctrl,shift,meta,access"),kj=e=>e in C$,wj=e=>{const n={},o=To.os.isMacOS()||To.os.isiOS();Gz(vx(e.toLowerCase(),"+"),u=>{kj(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=vj[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in C$)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class S${constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(Gz(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const u=this,m=u.normalizeCommandFunc(r);return Gz(vx(Qe.trim(n)),y=>{const v=u.createShortcut(y,o,m,c);u.shortcuts[v.id]=v}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:Qe.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const u=Qe.map(vx(n,">"),wj);return u[u.length-1]=Qe.extend(u[u.length-1],{func:r,scope:c||this.editor}),Qe.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const _j=()=>{const e={},n={},o={},r={},c={},u={},m={},y={},v=(N,D)=>(L,X)=>{N[L.toLowerCase()]={...X,type:D}},x=(N,D)=>r[N.toLowerCase()]=D;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(n,"menuitem"),addNestedMenuItem:v(n,"nestedmenuitem"),addToggleMenuItem:v(n,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(c,"contextmenu"),addContextToolbar:v(u,"contexttoolbar"),addContextForm:v(u,"contextform"),addSidebar:v(m,"sidebar"),addView:v(y,"views"),addIcon:x,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:u,sidebars:m,views:y})}},Cj=()=>{const e=_j();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},ib=zs.DOM,x$=Qe.extend,Sj=Qe.each;class Tv{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,x$(this,b$);const c=this;this.id=n,this.hidden=!1;const u=_U(r.defaultOptions,o);this.options=hj(c,u),rc(c);const m=this.options.get;m("deprecation_warnings")&&gL(o,u);const y=m("suffix");y&&(r.suffix=y),this.suffix=r.suffix;const v=m("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const x=x0(c);x&&(Wu.ScriptLoader._setReferrerPolicy(x),zs.DOM.styleSheetLoader._setReferrerPolicy(x));const N=Q_(c);Le(N)&&zs.DOM.styleSheetLoader._setContentCssCors(N),Ys.languageLoad=m("language_load"),Ys.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new $f(L_(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=qb(c),this.hasVisual=Pp(c),this.shortcuts=new S$(this),this.editorCommands=new m$(this),QU(this);const D=m("cache_suffix");D&&(To.cacheSuffix=D.replace(/^[\?\&]+/,"")),this.ui={registry:Cj(),styleSheetLoader:void 0,show:$e,hide:$e,setEnabled:$e,isEnabled:Je},this.mode=qz(c),r.dispatch("SetupEditor",{editor:this});const L=vT(c);ie(L)&&L.call(c,c)}render(){gU(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Ay(this)}translate(n){return xs.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||(Le(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:Je,default:o})),!c.isSet(n)&&!Nn(o)?o:c.get(n)}hasPlugin(n,o){return Ae(Gb(this),n)?o?Xy.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(ib.show(n.getContainer()),ib.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(ib.hide(n.getContainer()),ib.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const c={...n,load:!0},u=eg(r)?r.value:r.innerHTML,m=o.setContent(u,c);return c.no_events||o.dispatch("LoadContent",{...c,element:r}),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...n,save:!0,element:r};let u=o.getContent(c);const m={...c,content:u};if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,eg(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const y=ib.getParent(o.id,"form");y&&Sj(y.elements,v=>v.name===o.id?(v.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return d4(this,n,o)}getContent(n){return Bm(this,n)}insertContent(n,o){o&&(n=x$({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?d4(this,this.startContent,{format:"raw"}):d4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||ib.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=ib.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,u=c.options.get,m=Xb(c);return ie(m)?m.call(c,n,r,!0,o):!u("convert_urls")||r==="link"||sn(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:u("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){CU(this,n)}setEditableRoot(n){YW(this,n)}hasEditableRoot(){return pU(this)}remove(){dW(this)}destroy(n){cw(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ev=zs.DOM,kx=Qe.each;let T$=!1,wx,mi=[];const Zw=e=>{const n=e.type;kx(wh.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},Av=e=>{if(e!==T$){const n=zs.DOM;e?(n.bind(window,"resize",Zw),n.bind(window,"scroll",Zw)):(n.unbind(window,"resize",Zw),n.unbind(window,"scroll",Zw)),T$=e}},xj=e=>{const n=mi;return mi=Be(mi,o=>e!==o),wh.activeEditor===e&&(wh.activeEditor=mi.length>0?mi[0]:null),wh.focusedEditor===e&&(wh.focusedEditor=null),n.length!==mi.length},Tj=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(xj(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},tZ=document.compatMode!=="CSS1Compat",wh={...Uz,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"5.0",releaseDate:"2023-06-12",i18n:xs,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=$f.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const y=u[m].src||"";if(y==="")continue;const v=y.substring(y.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){v.indexOf(".min")!==-1&&(o=".min"),n=y.substring(0,y.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new $f(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new $f(e.baseURL),e.suffix=o,Y2(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&it(r,(c,u)=>{Ys.PluginManager.urls[u]=c})},init(e){const n=this;let o;const r=Qe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(N,D)=>N.inline&&D.tagName.toLowerCase()in r,u=N=>{let D=N.id;return D||(D=Vo(N,"name").filter(L=>!Ev.get(L)).getOrThunk(Ev.uniqueId),N.setAttribute("id",D)),D},m=N=>{const D=e[N];if(D)return D.apply(n,[])},y=N=>To.browser.isIE()||To.browser.isEdge()?(JC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):tZ?(JC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):re(N.selector)?Ev.select(N.selector):Le(N.target)?[N.target]:[];let v=N=>{o=N};const x=()=>{let N=0;const D=[];let L;const X=(Q,q,J)=>{const pe=new Tv(Q,q,n);D.push(pe),pe.on("init",()=>{++N===L.length&&v(D)}),pe.targetElm=pe.targetElm||J,pe.render()};Ev.unbind(window,"ready",x),m("onpageload"),L=Sc(y(e)),Qe.each(L,Q=>{Tj(n.get(Q.id))}),L=Qe.grep(L,Q=>!n.get(Q.id)),L.length===0?v([]):kx(L,Q=>{c(e,Q)?JC("Could not initialize inline editor on invalid inline target element",Q):X(u(Q),e,Q)})};return Ev.bind(window,"ready",x),new Promise(N=>{o?N(o):v=D=>{N(D)}})},get(e){return arguments.length===0?mi.slice(0):re(e)?Un(mi,n=>n.id===e).getOr(null):Ho(e)&&mi[e]?mi[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&mi.push(e),Av(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),wx||(wx=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",wx))),e},createEditor(e,n){return this.add(new Tv(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=mi.length-1;r>=0;r--)n.remove(mi[r]);return}if(re(e)){kx(Ev.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,Y(n.get(o.id))?null:(xj(o)&&n.dispatch("RemoveEditor",{editor:o}),mi.length===0&&window.removeEventListener("beforeunload",wx),o.remove(),Av(mi.length>0),o)},execCommand(e,n,o){var r;const c=this,u=sn(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=o.options;new Tv(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{kx(mi,e=>{e.save()})},addI18n:(e,n)=>{xs.add(e,n)},translate:e=>xs.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new $f(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new $f(this.baseURL)}};wh.setup();const oZ=(()=>{const e=Bi(),n=u=>({items:u,types:Xo(u),getType:m=>Vo(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),E$=Math.min,hl=Math.max,qw=Math.round,A$=(e,n,o)=>{let r=n.x,c=n.y;const u=e.w,m=e.h,y=n.w,v=n.h,x=(o||"").split("");return x[0]==="b"&&(c+=v),x[1]==="r"&&(r+=y),x[0]==="c"&&(c+=qw(v/2)),x[1]==="c"&&(r+=qw(y/2)),x[3]==="b"&&(c-=m),x[4]==="r"&&(r-=u),x[3]==="c"&&(c-=qw(m/2)),x[4]==="c"&&(r-=qw(u/2)),zv(r,c,u,m)},Ej=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const u=A$(e,n,r[c]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[c]}return null},Aj=(e,n,o)=>zv(e.x-n,e.y-o,e.w+n*2,e.h+o*2),zj=(e,n)=>{const o=hl(e.x,n.x),r=hl(e.y,n.y),c=E$(e.x+e.w,n.x+n.w),u=E$(e.y+e.h,n.y+n.h);return c-o<0||u-r<0?null:zv(o,r,c-o,u-r)},Oj=(e,n,o)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const y=n.x+n.w,v=n.y+n.h,x=hl(0,n.x-r),N=hl(0,n.y-c),D=hl(0,u-y),L=hl(0,m-v);return r+=x,c+=N,o&&(u+=x,m+=N,r-=D,c-=L),u-=D,m-=L,zv(r,c,u-r,m-c)},zv=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),z$={inflate:Aj,relativePosition:A$,findBestRelativePosition:Ej,intersect:zj,clamp:Oj,create:zv,fromClientRect:e=>zv(e.left,e.top,e.width,e.height)},Dj=(e,n,o=1e3)=>{let r=!1,c=null;const u=x=>(...N)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),x.apply(null,N))},m=u(e),y=u(n);return{start:(...x)=>{!r&&c===null&&(c=setTimeout(()=>y.apply(null,x),o))},resolve:m,reject:y}},Rj=(()=>{const e={},n={};return{load:(u,m)=>{const y=`Script at URL "${m}" failed to load`,v=`Script at URL "${m}" did not call \`tinymce.Resource.add('${u}', data)\` within 1 second`;if(e[u]!==void 0)return e[u];{const x=new Promise((N,D)=>{const L=Dj(N,D);n[u]=L.resolve,Wu.ScriptLoader.loadScript(m).then(()=>L.start(v),()=>L.reject(y))});return e[u]=x,x}},add:(u,m)=>{n[u]!==void 0&&(n[u](m),delete n[u]),e[u]=Promise.resolve(m)},unload:u=>{delete e[u]}}})(),Nj=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Gw;try{const e="__storage_test__";Gw=window.localStorage,Gw.setItem(e,e),Gw.removeItem(e)}catch{Gw=Nj()}var Mj=Gw;const Bj={geom:{Rect:z$},util:{Delay:ku,Tools:Qe,VK:Ut,URI:$f,EventDispatcher:Vz,Observable:Uz,I18n:xs,LocalStorage:Mj,ImageUploader:UN},dom:{EventUtils:ym,TreeWalker:Vr,TextSeeker:Sf,DOMUtils:zs,ScriptLoader:Wu,RangeUtils:Mf,Serializer:oL,StyleSheetLoader:Gv,ControlSelection:A1,BookmarkManager:ky,Selection:UC,Event:ym.Event},html:{Styles:Eb,Entities:gm,Node:fi,Schema:hm,DomParser:dh,Writer:FO,Serializer:eh},Env:To,AddOnManager:Ys,Annotator:E1,Formatter:w4,UndoManager:YN,EditorCommands:m$,WindowManager:p4,NotificationManager:XC,EditorObservable:b$,Shortcuts:S$,Editor:Tv,FocusManager:F1,EditorManager:wh,DOM:zs.DOM,ScriptLoader:Wu.ScriptLoader,PluginManager:Xy,ThemeManager:mh,ModelManager:tv,IconManager:ev,Resource:Rj,FakeClipboard:oZ,trim:Qe.trim,isArray:Qe.isArray,is:Qe.is,toArray:Qe.toArray,makeMap:Qe.makeMap,each:Qe.each,map:Qe.map,grep:Qe.grep,inArray:Qe.inArray,extend:Qe.extend,walk:Qe.walk,resolve:Qe.resolve,explode:Qe.explode,_addCacheSuffix:Qe._addCacheSuffix},ub=Qe.extend(wh,Bj),Pj=e=>{try{Ta.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(ub),Pj(ub)})()})(XZ);(function(){var Ta=tinymce.util.Tools.resolve("tinymce.ModelManager");const yr=(i,f,p)=>{var b;return p(i,f.prototype)?!0:((b=i.constructor)===null||b===void 0?void 0:b.name)===f.name},Sr=i=>{const f=typeof i;return i===null?"null":f==="object"&&Array.isArray(i)?"array":f==="object"&&yr(i,String,(p,b)=>b.isPrototypeOf(p))?"string":f},bs=i=>f=>Sr(f)===i,Es=i=>f=>typeof f===i,Qs=i=>f=>i===f,xo=bs("string"),yt=bs("object"),Yn=bs("array"),Hn=Qs(null),no=Es("boolean"),ls=Qs(void 0),Zo=i=>i==null,Fn=i=>!Zo(i),qo=Es("function"),mo=Es("number"),_t=()=>{},Ao=(i,f)=>(...p)=>i(f.apply(null,p)),vt=(i,f)=>p=>i(f(p)),re=i=>()=>i,sn=i=>i,dr=(i,f)=>i===f;function Vn(i,...f){return(...p)=>{const b=f.concat(p);return i.apply(null,b)}}const Y=i=>f=>!i(f),gn=i=>()=>{throw new Error(i)},Nn=i=>i(),nn=re(!1),Le=re(!0);class ie{constructor(f,p){this.tag=f,this.value=p}static some(f){return new ie(!0,f)}static none(){return ie.singletonNone}fold(f,p){return this.tag?p(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ie.some(f(this.value)):ie.none()}bind(f){return this.tag?f(this.value):ie.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ie.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return Fn(f)?ie.some(f):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Ho=Array.prototype.slice,st=Array.prototype.indexOf,$e=Array.prototype.push,A=(i,f)=>st.call(i,f),cn=(i,f)=>A(i,f)>-1,Ke=(i,f)=>{for(let p=0,b=i.length;p<b;p++){const C=i[p];if(f(C,p))return!0}return!1},_n=(i,f)=>{const p=[];for(let b=0;b<i;b++)p.push(f(b));return p},Ht=(i,f)=>{const p=i.length,b=new Array(p);for(let C=0;C<p;C++){const z=i[C];b[C]=f(z,C)}return b},He=(i,f)=>{for(let p=0,b=i.length;p<b;p++){const C=i[p];f(C,p)}},Gn=(i,f)=>{for(let p=i.length-1;p>=0;p--){const b=i[p];f(b,p)}},is=(i,f)=>{const p=[],b=[];for(let C=0,z=i.length;C<z;C++){const B=i[C];(f(B,C)?p:b).push(B)}return{pass:p,fail:b}},at=(i,f)=>{const p=[];for(let b=0,C=i.length;b<C;b++){const z=i[b];f(z,b)&&p.push(z)}return p},Zt=(i,f,p)=>(Gn(i,(b,C)=>{p=f(p,b,C)}),p),Ee=(i,f,p)=>(He(i,(b,C)=>{p=f(p,b,C)}),p),Je=(i,f,p)=>{for(let b=0,C=i.length;b<C;b++){const z=i[b];if(f(z,b))return ie.some(z);if(p(z,b))break}return ie.none()},I=(i,f)=>Je(i,f,nn),dt=(i,f)=>{for(let p=0,b=i.length;p<b;p++){const C=i[p];if(f(C,p))return ie.some(p)}return ie.none()},je=i=>{const f=[];for(let p=0,b=i.length;p<b;++p){if(!Yn(i[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+i);$e.apply(f,i[p])}return f},Mt=(i,f)=>je(Ht(i,f)),ct=(i,f)=>{for(let p=0,b=i.length;p<b;++p){const C=i[p];if(f(C,p)!==!0)return!1}return!0},zo=i=>{const f=Ho.call(i,0);return f.reverse(),f},Ae=(i,f)=>{const p={};for(let b=0,C=i.length;b<C;b++){const z=i[b];p[String(z)]=f(z,b)}return p},nt=(i,f)=>{const p=Ho.call(i,0);return p.sort(f),p},Re=(i,f)=>f>=0&&f<i.length?ie.some(i[f]):ie.none(),he=i=>Re(i,0),Ye=i=>Re(i,i.length-1),Ze=(i,f)=>{for(let p=0;p<i.length;p++){const b=f(i[p],p);if(b.isSome())return b}return ie.none()},Be=Object.keys,un=Object.hasOwnProperty,Bt=(i,f)=>{const p=Be(i);for(let b=0,C=p.length;b<C;b++){const z=p[b],B=i[z];f(B,z)}},go=(i,f)=>Un(i,(p,b)=>({k:b,v:f(p,b)})),Un=(i,f)=>{const p={};return Bt(i,(b,C)=>{const z=f(b,C);p[z.k]=z.v}),p},Go=i=>(f,p)=>{i[p]=f},zr=(i,f,p,b)=>{Bt(i,(C,z)=>{(f(C,z)?p:b)(C,z)})},ts=(i,f)=>{const p={};return zr(i,f,Go(p),_t),p},Ko=(i,f)=>{const p=[];return Bt(i,(b,C)=>{p.push(f(b,C))}),p},_o=i=>Ko(i,sn),Or=(i,f)=>co(i,f)?ie.from(i[f]):ie.none(),co=(i,f)=>un.call(i,f),Kn=(i,f)=>co(i,f)&&i[f]!==void 0&&i[f]!==null,ca=i=>{for(const f in i)if(un.call(i,f))return!1;return!0},xn=typeof window<"u"?window:Function("return this;")(),ns=(i,f)=>{let p=f??xn;for(let b=0;b<i.length&&p!==void 0&&p!==null;++b)p=p[i[b]];return p},vs=(i,f)=>{const p=i.split(".");return ns(p,f)},la=(i,f)=>vs(i,f),Sc=(i,f)=>{const p=la(i,f);if(p==null)throw new Error(i+" not available on this browser");return p},Xo=Object.getPrototypeOf,Ml=i=>Sc("HTMLElement",i),it=i=>{const f=vs("ownerDocument.defaultView",i);return yt(i)&&(Ml(f).prototype.isPrototypeOf(i)||/^HTML\w*Element$/.test(Xo(i).constructor.name))},po=8,Ir=9,Fr=11,ic=1,uc=3,us=i=>i.dom.nodeName.toLowerCase(),xc=i=>i.dom.nodeType,ia=i=>f=>xc(f)===i,Vo=i=>xc(i)===po||us(i)==="#comment",yn=i=>br(i)&&it(i.dom),br=ia(ic),qa=ia(uc),Tc=ia(Ir),$c=ia(Fr),ks=i=>f=>br(f)&&us(f)===i,fr=(i,f,p)=>{if(xo(p)||no(p)||mo(p))i.setAttribute(f,p+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",p,":: Element ",i),new Error("Attribute value was not simple")},ws=(i,f,p)=>{fr(i.dom,f,p)},mr=(i,f)=>{const p=i.dom;Bt(f,(b,C)=>{fr(p,C,b)})},dc=(i,f)=>{Bt(f,(p,b)=>{p.fold(()=>{ee(i,b)},C=>{fr(i.dom,b,C)})})},_s=(i,f)=>{const p=i.dom.getAttribute(f);return p===null?void 0:p},ua=(i,f)=>ie.from(_s(i,f)),ee=(i,f)=>{i.dom.removeAttribute(f)},te=i=>Ee(i.dom.attributes,(f,p)=>(f[p.name]=p.value,f),{}),ze=(i,f)=>{const b=(f||document).createElement("div");if(b.innerHTML=i,!b.hasChildNodes()||b.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,i),new Error(C)}return rn(b.childNodes[0])},Ve=(i,f)=>{const b=(f||document).createElement(i);return rn(b)},Gt=(i,f)=>{const b=(f||document).createTextNode(i);return rn(b)},rn=i=>{if(i==null)throw new Error("Node cannot be null or undefined");return{dom:i}},fe={fromHtml:ze,fromTag:Ve,fromText:Gt,fromDom:rn,fromPoint:(i,f,p)=>ie.from(i.dom.elementFromPoint(f,p)).map(rn)},jn=(i,f)=>{const p=i.dom;if(p.nodeType!==ic)return!1;{const b=p;if(b.matches!==void 0)return b.matches(f);if(b.msMatchesSelector!==void 0)return b.msMatchesSelector(f);if(b.webkitMatchesSelector!==void 0)return b.webkitMatchesSelector(f);if(b.mozMatchesSelector!==void 0)return b.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},Xn=i=>i.nodeType!==ic&&i.nodeType!==Ir&&i.nodeType!==Fr||i.childElementCount===0,Fs=(i,f)=>{const p=f===void 0?document:f.dom;return Xn(p)?[]:Ht(p.querySelectorAll(i),fe.fromDom)},er=(i,f)=>{const p=f===void 0?document:f.dom;return Xn(p)?ie.none():ie.from(p.querySelector(i)).map(fe.fromDom)},ho=(i,f)=>i.dom===f.dom,Bl=(i,f)=>{const p=i.dom,b=f.dom;return p===b?!1:p.contains(b)},ei=jn,gr=i=>fe.fromDom(i.dom.ownerDocument),Ic=i=>Tc(i)?i:gr(i),yo=i=>fe.fromDom(Ic(i).dom.documentElement),uo=i=>fe.fromDom(Ic(i).dom.defaultView),qr=i=>ie.from(i.dom.parentNode).map(fe.fromDom),Lr=i=>ie.from(i.dom.parentElement).map(fe.fromDom),fc=(i,f)=>{const p=qo(f)?f:nn;let b=i.dom;const C=[];for(;b.parentNode!==null&&b.parentNode!==void 0;){const z=b.parentNode,B=fe.fromDom(z);if(C.push(B),p(B)===!0)break;b=z}return C},bl=i=>ie.from(i.dom.previousSibling).map(fe.fromDom),vl=i=>ie.from(i.dom.nextSibling).map(fe.fromDom),$o=i=>Ht(i.dom.childNodes,fe.fromDom),Ea=(i,f)=>{const p=i.dom.childNodes;return ie.from(p[f]).map(fe.fromDom)},sl=i=>Ea(i,0),Pl=(i,f)=>{qr(i).each(b=>{b.dom.insertBefore(f.dom,i.dom)})},mc=(i,f)=>{vl(i).fold(()=>{qr(i).each(C=>{Ds(C,f)})},b=>{Pl(b,f)})},lr=(i,f)=>{sl(i).fold(()=>{Ds(i,f)},b=>{i.dom.insertBefore(f.dom,b.dom)})},Ds=(i,f)=>{i.dom.appendChild(f.dom)},cf=(i,f,p)=>{Ea(i,p).fold(()=>{Ds(i,f)},b=>{Pl(b,f)})},bi=(i,f)=>{Pl(i,f),Ds(f,i)},ds=(i,f)=>{He(f,(p,b)=>{const C=b===0?i:f[b-1];mc(C,p)})},Hr=(i,f)=>{He(f,p=>{Ds(i,p)})},Aa=i=>{i.dom.textContent="",He($o(i),f=>{tr(f)})},tr=i=>{const f=i.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},vi=i=>{const f=$o(i);f.length>0&&ds(i,f),tr(i)},Ga=(i,f)=>fe.fromDom(i.dom.cloneNode(f)),Pa=i=>Ga(i,!1),za=i=>Ga(i,!0),ad=(i,f)=>{const p=fe.fromTag(f),b=te(i);return mr(p,b),p},Qi=(i,f)=>{const p=ad(i,f),b=$o(za(i));return Hr(p,b),p},ki=(i,f)=>{const p=ad(i,f);mc(i,p);const b=$o(i);return Hr(p,b),tr(i),p},$a=["tfoot","thead","tbody","colgroup"],Fc=i=>cn($a,i),Ru=(i,f)=>({rows:i,columns:f}),Lc=(i,f)=>({row:i,column:f}),wi=(i,f,p)=>({element:i,rowspan:f,colspan:p}),eu=(i,f,p,b)=>({element:i,rowspan:f,colspan:p,isNew:b}),j=(i,f,p,b,C,z)=>({element:i,rowspan:f,colspan:p,row:b,column:C,isLocked:z}),le=(i,f,p)=>({element:i,cells:f,section:p}),ge=(i,f,p,b)=>({element:i,cells:f,section:p,isNew:b}),Oe=(i,f,p)=>({element:i,isNew:f,isLocked:p}),ht=(i,f,p,b)=>({element:i,cells:f,section:p,isNew:b}),ln=(i,f,p,b)=>({startRow:i,startCol:f,finishRow:p,finishCol:b}),os=(i,f,p)=>({element:i,colspan:f,column:p}),Cs=(i,f)=>({element:i,columns:f}),Yo=i=>$c(i)&&Fn(i.dom.host),Io=qo(Element.prototype.attachShadow)&&qo(Node.prototype.getRootNode),Oo=re(Io),da=Io?i=>fe.fromDom(i.dom.getRootNode()):Ic,rl=i=>{const f=da(i);return Yo(f)?ie.some(f):ie.none()},Mn=i=>fe.fromDom(i.dom.host),To=i=>{if(Oo()&&Fn(i.target)){const f=fe.fromDom(i.target);if(br(f)&&fa(f)&&i.composed&&i.composedPath){const p=i.composedPath();if(p)return he(p)}}return ie.from(i.target)},fa=i=>Fn(i.dom.shadowRoot),pr=i=>{const f=qa(i)?i.dom.parentNode:i.dom;if(f==null||f.ownerDocument===null)return!1;const p=f.ownerDocument;return rl(fe.fromDom(f)).fold(()=>p.body.contains(f),vt(pr,Mn))},P=()=>W(fe.fromDom(document)),W=i=>{const f=i.dom.body;if(f==null)throw new Error("Body is not available yet");return fe.fromDom(f)},oe=(i,f,p)=>at(fc(i,p),f),Se=(i,f)=>at($o(i),f),Nt=(i,f)=>{let p=[];return He($o(i),b=>{f(b)&&(p=p.concat([b])),p=p.concat(Nt(b,f))}),p},xt=(i,f,p)=>oe(i,b=>jn(b,f),p),ms=(i,f)=>Se(i,p=>jn(p,f)),nr=(i,f)=>Fs(f,i);var Qe=(i,f,p,b,C)=>i(p,b)?ie.some(p):qo(C)&&C(p)?ie.none():f(p,b,C);const Oa=(i,f,p)=>{let b=i.dom;const C=qo(p)?p:nn;for(;b.parentNode;){b=b.parentNode;const z=fe.fromDom(b);if(f(z))return ie.some(z);if(C(z))break}return ie.none()},Ss=(i,f,p)=>Qe((C,z)=>z(C),Oa,i,f,p),Dr=(i,f)=>{const p=C=>f(fe.fromDom(C));return I(i.dom.childNodes,p).map(fe.fromDom)},cd=(i,f)=>{const p=b=>{for(let C=0;C<b.childNodes.length;C++){const z=fe.fromDom(b.childNodes[C]);if(f(z))return ie.some(z);const B=p(b.childNodes[C]);if(B.isSome())return B}return ie.none()};return p(i.dom)},vo=(i,f,p)=>Oa(i,b=>jn(b,f),p),ti=(i,f)=>Dr(i,p=>jn(p,f)),_i=(i,f)=>er(f,i),Rs=(i,f,p)=>Qe((C,z)=>jn(C,z),vo,i,f,p),or=(i,f,p=dr)=>i.exists(b=>p(b,f)),Ci=i=>{const f=[],p=b=>{f.push(b)};for(let b=0;b<i.length;b++)i[b].each(p);return f},hb=(i,f)=>i!=null?f(i):ie.none(),Wm=(i,f)=>i?ie.some(f):ie.none(),Zs=(i,f,p)=>f===""||i.length>=f.length&&i.substr(p,p+f.length)===f,Hc=(i,f,p=0,b)=>{const C=i.indexOf(f,p);return C!==-1?ls(b)?!0:C+f.length<=b:!1},Vc=(i,f)=>Zs(i,f,0),gc=(i,f)=>Zs(i,f,i.length-f.length),xi=(i=>f=>f.replace(i,""))(/^\s+|\s+$/g),Ns=i=>i.length>0,Gr=i=>{const f=parseFloat(i);return isNaN(f)?ie.none():ie.some(f)},Ia=i=>i.style!==void 0&&qo(i.style.getPropertyValue),lf=(i,f,p)=>{if(!xo(p))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",p,":: Element ",i),new Error("CSS value must be a string: "+p);Ia(i)&&i.style.setProperty(f,p)},kl=(i,f)=>{Ia(i)&&i.style.removeProperty(f)},As=(i,f,p)=>{const b=i.dom;lf(b,f,p)},Kr=(i,f)=>{const p=i.dom;Bt(f,(b,C)=>{lf(p,C,b)})},$l=(i,f)=>{const p=i.dom,C=window.getComputedStyle(p).getPropertyValue(f);return C===""&&!pr(i)?ld(p,f):C},ld=(i,f)=>Ia(i)?i.style.getPropertyValue(f):"",Ti=(i,f)=>{const p=i.dom,b=ld(p,f);return ie.from(b).filter(C=>C.length>0)},Il=(i,f)=>{const p=i.dom;kl(p,f),or(ua(i,"style").map(xi),"")&&ee(i,"style")},vr=(i,f)=>{const p=i.dom,b=f.dom;Ia(p)&&Ia(b)&&(b.style.cssText=p.style.cssText)},Ka=(i,f,p=0)=>ua(i,f).map(b=>parseInt(b,10)).getOr(p),ma=(i,f)=>Ka(i,f,1),Fl=i=>ks("col")(i)?Ka(i,"span",1)>1:ma(i,"colspan")>1,tu=i=>ma(i,"rowspan")>1,Jo=(i,f)=>parseInt($l(i,f),10),al=re(10),uf=re(10),Ei=(i,f)=>id(i,f,Le),id=(i,f,p)=>Mt($o(i),b=>jn(b,f)?p(b)?[b]:[]:id(b,f,p)),Zf=(i,f,p=nn)=>{if(p(f))return ie.none();if(cn(i,us(f)))return ie.some(f);const b=C=>jn(C,"table")||p(C);return vo(f,i.join(","),b)},Ai=(i,f)=>Zf(["td","th"],i,f),Uc=i=>Ei(i,"th,td"),Nu=i=>jn(i,"colgroup")?ms(i,"col"):Mt(ni(i),f=>ms(f,"col")),pc=(i,f)=>Rs(i,"table",f),zi=i=>Ei(i,"tr"),ni=i=>pc(i).fold(re([]),f=>ms(f,"colgroup")),qf=(i,f)=>Ht(i,p=>{if(us(p)==="colgroup"){const b=Ht(Nu(p),C=>{const z=Ka(C,"span",1);return wi(C,1,z)});return le(p,b,"colgroup")}else{const b=Ht(Uc(p),C=>{const z=Ka(C,"rowspan",1),B=Ka(C,"colspan",1);return wi(C,z,B)});return le(p,b,f(p))}}),Ll=i=>qr(i).map(f=>{const p=us(f);return Fc(p)?p:"tbody"}).getOr("tbody"),Gf=i=>{const f=zi(i),b=[...ni(i),...f];return qf(b,Ll)},df=(i,f)=>qf(i,()=>f),nu=i=>{let f=!1,p;return(...b)=>(f||(f=!0,p=i.apply(null,b)),p)},Kf=(i,f,p,b)=>{const C=i.isiOS()&&/ipad/i.test(p)===!0,z=i.isiOS()&&!C,B=i.isiOS()||i.isAndroid(),U=B||b("(pointer:coarse)"),K=C||!z&&B&&b("(min-device-width:768px)"),ae=z||B&&!K,ke=f.isSafari()&&i.isiOS()&&/safari/i.test(p)===!1,rt=!ae&&!K&&!ke;return{isiPad:re(C),isiPhone:re(z),isTablet:re(K),isPhone:re(ae),isTouch:re(U),isAndroid:i.isAndroid,isiOS:i.isiOS,isWebView:re(ke),isDesktop:re(rt)}},Xf=(i,f)=>{for(let p=0;p<i.length;p++){const b=i[p];if(b.test(f))return b}},Mu=(i,f)=>{const p=Xf(i,f);if(!p)return{major:0,minor:0};const b=C=>Number(f.replace(p,"$"+C));return Yf(b(1),b(2))},Zg=(i,f)=>{const p=String(f).toLowerCase();return i.length===0?ne():Mu(i,p)},ne=()=>Yf(0,0),Yf=(i,f)=>({major:i,minor:f}),hc={nu:Yf,detect:Zg,unknown:ne},Zm=(i,f)=>Ze(f.brands,p=>{const b=p.brand.toLowerCase();return I(i,C=>{var z;return b===((z=C.brand)===null||z===void 0?void 0:z.toLowerCase())}).map(C=>({current:C.name,version:hc.nu(parseInt(p.version,10),0)}))}),Sh=(i,f)=>{const p=String(f).toLowerCase();return I(i,b=>b.search(p))},xh=(i,f)=>Sh(i,f).map(p=>{const b=hc.detect(p.versionRegexes,f);return{current:p.name,version:b}}),ss=(i,f)=>Sh(i,f).map(p=>{const b=hc.detect(p.versionRegexes,f);return{current:p.name,version:b}}),cl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Da=i=>f=>Hc(f,i),Oi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:i=>Hc(i,"edge/")&&Hc(i,"chrome")&&Hc(i,"safari")&&Hc(i,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,cl],search:i=>Hc(i,"chrome")&&!Hc(i,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:i=>Hc(i,"msie")||Hc(i,"trident")},{name:"Opera",versionRegexes:[cl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Da("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Da("firefox")},{name:"Safari",versionRegexes:[cl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:i=>(Hc(i,"safari")||Hc(i,"mobile/"))&&Hc(i,"applewebkit")}],ou=[{name:"Windows",search:Da("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:i=>Hc(i,"iphone")||Hc(i,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Da("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Da("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Da("linux"),versionRegexes:[]},{name:"Solaris",search:Da("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Da("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Da("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ud={browsers:re(Oi),oses:re(ou)},Ec="Edge",Jf="Chromium",ff="IE",Qf="Opera",Hl="Firefox",Bu="Safari",qg=()=>jc({current:void 0,version:hc.unknown()}),jc=i=>{const f=i.current,p=i.version,b=C=>()=>f===C;return{current:f,version:p,isEdge:b(Ec),isChromium:b(Jf),isIE:b(ff),isOpera:b(Qf),isFirefox:b(Hl),isSafari:b(Bu)}},ga={unknown:qg,nu:jc,edge:re(Ec),chromium:re(Jf),ie:re(ff),opera:re(Qf),firefox:re(Hl),safari:re(Bu)},su="Windows",dd="iOS",Wc="Android",yc="Linux",qm="macOS",Gg="Solaris",fd="FreeBSD",mf="ChromeOS",Gm=()=>oi({current:void 0,version:hc.unknown()}),oi=i=>{const f=i.current,p=i.version,b=C=>()=>f===C;return{current:f,version:p,isWindows:b(su),isiOS:b(dd),isAndroid:b(Wc),isMacOS:b(qm),isLinux:b(yc),isSolaris:b(Gg),isFreeBSD:b(fd),isChromeOS:b(mf)}},em={unknown:Gm,nu:oi,windows:re(su),ios:re(dd),android:re(Wc),linux:re(yc),macos:re(qm),solaris:re(Gg),freebsd:re(fd),chromeos:re(mf)},Th={detect:(i,f,p)=>{const b=ud.browsers(),C=ud.oses(),z=f.bind(K=>Zm(b,K)).orThunk(()=>xh(b,i)).fold(ga.unknown,ga.nu),B=ss(C,i).fold(em.unknown,em.nu),U=Kf(B,z,i,p);return{browser:z,os:B,deviceType:U}}},Km=i=>window.matchMedia(i).matches;let md=nu(()=>Th.detect(navigator.userAgent,ie.from(navigator.userAgentData),Km));const Kg=()=>md(),Di=(i,f)=>{const p=(U,K)=>{if(!mo(K)&&!K.match(/^[0-9]+$/))throw new Error(i+".set accepts only positive integer values. Value was "+K);const ae=U.dom;Ia(ae)&&(ae.style[i]=K+"px")},b=U=>{const K=f(U);if(K<=0||K===null){const ae=$l(U,i);return parseFloat(ae)||0}return K},C=b,z=(U,K)=>Ee(K,(ae,ke)=>{const rt=$l(U,ke),Dt=rt===void 0?0:parseInt(rt,10);return isNaN(Dt)?ae:ae+Dt},0);return{set:p,get:b,getOuter:C,aggregate:z,max:(U,K,ae)=>{const ke=z(U,ae);return K>ke?K-ke:0}}},T=(i,f)=>Gr(i).getOr(f),R=(i,f,p)=>T($l(i,f),p),V=(i,f,p,b)=>{const C=R(i,`padding-${p}`,0),z=R(i,`padding-${b}`,0),B=R(i,`border-${p}-width`,0),U=R(i,`border-${b}-width`,0);return f-C-z-B-U},ce=(i,f)=>{const p=i.dom,b=p.getBoundingClientRect().width||p.offsetWidth;return f==="border-box"?b:V(i,b,"left","right")},de=i=>R(i,"height",i.dom.offsetHeight),ft=i=>R(i,"width",i.dom.offsetWidth),kn=i=>ce(i,"content-box"),Bn=Di("width",i=>i.dom.offsetWidth),Pn=i=>Bn.get(i),zn=i=>Bn.getOuter(i),Yt=kn,sr=ft,pa=(i,f,p)=>{const b=i.cells,C=b.slice(0,f),z=b.slice(f),B=C.concat(p).concat(z);return Xg(i,B)},Eh=(i,f,p)=>pa(i,f,[p]),Xm=(i,f,p)=>{const b=i.cells;b[f]=p},Xg=(i,f)=>ht(i.element,f,i.section,i.isNew),Yg=(i,f)=>{const p=i.cells,b=Ht(p,f);return ht(i.element,b,i.section,i.isNew)},Xr=(i,f)=>i.cells[f],bc=(i,f)=>Xr(i,f).element,Zc=i=>i.cells.length,Xa=i=>{const f=is(i,p=>p.section==="colgroup");return{rows:f.fail,cols:f.pass}},Jg=(i,f,p)=>{const b=Ht(i.cells,p);return ht(f(i.element),b,i.section,!0)},ir="data-snooker-locked-cols",qc=i=>ua(i,ir).bind(f=>ie.from(f.match(/\d+/g))).map(f=>Ae(f,Le)),wl=i=>{const f=Ee(Xa(i).rows,(b,C)=>(He(C.cells,(z,B)=>{z.isLocked&&(b[B]=!0)}),b),{}),p=Ko(f,(b,C)=>parseInt(C,10));return nt(p)},tm=(i,f)=>i+","+f,xr=(i,f,p)=>ie.from(i.access[tm(f,p)]),yb=(i,f,p)=>{const b=Ah(i,C=>p(f,C.element));return b.length>0?ie.some(b[0]):ie.none()},Ah=(i,f)=>{const p=Mt(i.all,b=>b.cells);return at(p,f)},Ms=i=>{const f={};let p=0;return He(i.cells,b=>{const C=b.colspan;_n(C,z=>{const B=p+z;f[B]=os(b.element,C,B)}),p+=C}),f},ru=i=>{const f={},p=[],C=he(i).map(Tt=>Tt.element).bind(pc).bind(qc).getOr({});let z=0,B=0,U=0;const{pass:K,fail:ae}=is(i,Tt=>Tt.section==="colgroup");He(ae,Tt=>{const Xe=[];He(Tt.cells,At=>{let qe=0;for(;f[tm(U,qe)]!==void 0;)qe++;const Wt=Kn(C,qe.toString()),En=j(At.element,At.rowspan,At.colspan,U,qe,Wt);for(let Jn=0;Jn<At.colspan;Jn++)for(let js=0;js<At.rowspan;js++){const lc=U+js,Mr=qe+Jn,Kl=tm(lc,Mr);f[Kl]=En,B=Math.max(B,Mr+1)}Xe.push(En)}),z++,p.push(le(Tt.element,Xe,Tt.section)),U++});const{columns:ke,colgroups:rt}=Ye(K).map(Tt=>{const Xe=Ms(Tt);return{colgroups:[Cs(Tt.element,_o(Xe))],columns:Xe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ru(z,B),access:f,all:p,columns:ke,colgroups:rt}},so={fromTable:i=>{const f=Gf(i);return ru(f)},generate:ru,getAt:xr,findItem:yb,filterItems:Ah,justCells:i=>Mt(i.all,f=>f.cells),justColumns:i=>_o(i.columns),hasColumns:i=>Be(i.columns).length>0,getColumnAt:(i,f)=>ie.from(i.columns[f])},Qg=(i,f=Le)=>{const p=i.grid,b=_n(p.columns,sn),C=_n(p.rows,sn);return Ht(b,z=>ep(()=>Mt(C,ae=>so.getAt(i,ae,z).filter(ke=>ke.column===z).toArray()),ae=>ae.colspan===1&&f(ae.element),()=>so.getAt(i,0,z)))},ep=(i,f,p)=>{const b=i();return I(b,f).orThunk(()=>ie.from(b[0]).orThunk(p)).map(B=>B.element)},Bv=i=>{const f=i.grid,p=_n(f.rows,sn),b=_n(f.columns,sn);return Ht(p,C=>ep(()=>Mt(b,K=>so.getAt(i,C,K).filter(ae=>ae.row===C).fold(re([]),ae=>[ae])),K=>K.rowspan===1,()=>so.getAt(i,C,0)))},Yw=(i,f)=>{if(f<0||f>=i.length-1)return ie.none();const p=i[f].fold(()=>{const C=zo(i.slice(0,f));return Ze(C,(z,B)=>z.map(U=>({value:U,delta:B+1})))},C=>ie.some({value:C,delta:0})),b=i[f+1].fold(()=>{const C=i.slice(f+1);return Ze(C,(z,B)=>z.map(U=>({value:U,delta:B+1})))},C=>ie.some({value:C,delta:1}));return p.bind(C=>b.map(z=>{const B=z.delta+C.delta;return Math.abs(z.value-C.value)/B}))},tp=(i,f)=>p=>Ym(p)==="rtl"?f:i,Ym=i=>$l(i,"direction")==="rtl"?"rtl":"ltr",Pv=Di("height",i=>{const f=i.dom;return pr(i)?f.getBoundingClientRect().height:f.offsetHeight}),au=i=>Pv.get(i),pf=i=>Pv.getOuter(i),$v=de,Jm=(i,f)=>({left:i,top:f,translate:(b,C)=>Jm(i+b,f+C)}),Pu=Jm,zh=i=>{const f=i.getBoundingClientRect();return Pu(f.left,f.top)},Ri=(i,f)=>i!==void 0?i:f!==void 0?f:0,hd=i=>{const f=i.dom.ownerDocument,p=f.body,b=f.defaultView,C=f.documentElement;if(p===i.dom)return Pu(p.offsetLeft,p.offsetTop);const z=Ri(b==null?void 0:b.pageYOffset,C.scrollTop),B=Ri(b==null?void 0:b.pageXOffset,C.scrollLeft),U=Ri(C.clientTop,p.clientTop),K=Ri(C.clientLeft,p.clientLeft);return Iv(i).translate(B-K,z-U)},Iv=i=>{const f=i.dom,b=f.ownerDocument.body;return b===f?Pu(b.offsetLeft,b.offsetTop):pr(i)?zh(f):Pu(0,0)},np=(i,f)=>({row:i,y:f}),Oh=(i,f)=>({col:i,x:f}),Dh=i=>hd(i).left+zn(i),Rh=i=>hd(i).left,Fa=(i,f)=>Oh(i,Rh(f)),op=(i,f)=>Oh(i,Dh(f)),Vr=i=>hd(i).top,Ya=(i,f)=>np(i,Vr(f)),dn=(i,f)=>np(i,Vr(f)+pf(f)),$t=(i,f,p)=>{if(p.length===0)return[];const b=Ht(p.slice(1),(z,B)=>z.map(U=>i(B,U))),C=p[p.length-1].map(z=>f(p.length-1,z));return b.concat([C])},nm=i=>-i,Vl={delta:sn,positions:i=>$t(Ya,dn,i),edge:Vr},_l=tp({delta:sn,edge:Rh,positions:i=>$t(Fa,op,i)},{delta:nm,edge:Dh,positions:i=>$t(op,Fa,i)}),Cl={delta:(i,f)=>_l(f).delta(i,f),positions:(i,f)=>_l(f).positions(i,f),edge:i=>_l(i).edge(i)},sm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},ur=(()=>{const i="[0-9]+",p="[eE]"+("[+-]?"+i),b="\\.",C=U=>`(?:${U})?`,B=`[+-]?(?:${["Infinity",i+b+C(i)+C(p),b+i+C(p),i+C(p)].join("|")})`;return new RegExp(`^(${B})(.*)$`)})(),rm=(i,f)=>Ke(f,p=>Ke(sm[p],b=>i===b)),eg=(i,f)=>ie.from(ur.exec(i)).bind(b=>{const C=Number(b[1]),z=b[2];return rm(z,f)?ie.some({value:C,unit:z}):ie.none()}),mt=/(\d+(\.\d+)?)%/,Fv=/(\d+(\.\d+)?)px|em/,Lv=ks("col"),ll=(i,f,p)=>{const b=Lr(i).getOrThunk(()=>W(gr(i)));return f(i)/p(b)*100},am=(i,f)=>{As(i,"width",f+"px")},yd=(i,f)=>{As(i,"width",f+"%")},rr=(i,f)=>{As(i,"height",f+"px")},bb=i=>$v(i)+"px",gs=(i,f,p,b)=>{const C=pc(i).map(z=>{const B=p(z);return Math.floor(f/100*B)}).getOr(f);return b(i,C),C},Qo=(i,f,p,b)=>{const C=parseFloat(i);return gc(i,"%")&&us(f)!=="table"?gs(f,C,p,b):C},Ja=i=>{const f=bb(i);return f?Qo(f,i,au,rr):au(i)},cm=(i,f,p)=>{const b=p(i),C=ma(i,f);return b/C},Rr=(i,f)=>Ti(i,f).orThunk(()=>ua(i,f).map(p=>p+"px")),hf=i=>Rr(i,"width"),ha=i=>Rr(i,"height"),zc=i=>ll(i,Pn,Yt),$u=i=>Lv(i)?Pn(i):sr(i),Pe=i=>cm(i,"rowspan",Ja),Gc=i=>hf(i).bind(p=>eg(p,["fixed","relative","empty"])),vb=(i,f,p)=>{As(i,"width",f+p)},Yr=i=>Pn(i)+"px",si=i=>ll(i,Pn,Yt)+"%",sp=i=>hf(i).exists(f=>mt.test(f)),Sl=i=>hf(i).exists(f=>Fv.test(f)),Hv=i=>hf(i).isNone(),bd=re(mt),Nh=ks("col"),il=i=>hf(i).getOrThunk(()=>$u(i)+"px"),jo=i=>ha(i).getOrThunk(()=>Pe(i)+"px"),cu=i=>Ht(so.justColumns(i),f=>ie.from(f.element)),tg=i=>{const f=Kg().browser,p=f.isChromium()||f.isFirefox();return Nh(i)?p:!0},Qa=(i,f,p,b,C,z)=>i.filter(b).fold(()=>z(Yw(p,f)),B=>C(B)),rp=(i,f,p,b)=>{const C=Qg(i),z=so.hasColumns(i)?cu(i):C,B=[ie.some(Cl.edge(f))].concat(Ht(Cl.positions(C,f),K=>K.map(ae=>ae.x))),U=Y(Fl);return Ht(z,(K,ae)=>Qa(K,ae,B,U,ke=>{if(tg(ke))return p(ke);{const rt=hb(C[ae],sn);return Qa(rt,ae,B,U,Dt=>b(ie.some(Pn(Dt))),b)}},b))},vd=i=>i.map(f=>f+"px").getOr(""),Iu=(i,f)=>rp(i,f,il,vd),Tr=(i,f,p)=>rp(i,f,zc,b=>b.fold(()=>p.minCellWidth(),C=>C/p.pixelWidth()*100)),ap=(i,f,p)=>rp(i,f,$u,b=>b.getOrThunk(p.minCellWidth)),we=(i,f,p,b,C)=>{const z=Bv(i),B=[ie.some(p.edge(f))].concat(Ht(p.positions(z,f),U=>U.map(K=>K.y)));return Ht(z,(U,K)=>Qa(U,K,B,Y(tu),b,C))},ec=(i,f,p)=>we(i,f,p,Pe,b=>b.getOrThunk(uf)),ng=(i,f,p)=>we(i,f,p,jo,vd),Oc=(i,f)=>()=>pr(i)?f(i):parseFloat(Ti(i,"width").getOr("0")),Dc=i=>{const f=Oc(i,Pn),p=re(0);return{width:f,pixelWidth:f,getWidths:(C,z)=>ap(C,i,z),getCellDelta:p,singleColumnWidth:re([0]),minCellWidth:p,setElementWidth:_t,adjustTableWidth:_t,isRelative:!0,label:"none"}},tc=i=>{const f=Oc(i,K=>parseFloat(si(K))),p=Oc(i,Pn);return{width:f,pixelWidth:p,getWidths:(K,ae)=>Tr(K,i,ae),getCellDelta:K=>K/p()*100,singleColumnWidth:(K,ae)=>[100-K],minCellWidth:()=>al()/p()*100,setElementWidth:yd,adjustTableWidth:K=>{const ae=f(),ke=K/100*ae,rt=ae+ke;yd(i,rt)},isRelative:!0,label:"percent"}},kr=i=>{const f=Oc(i,Pn);return{width:f,pixelWidth:f,getWidths:(B,U)=>ap(B,i,U),getCellDelta:sn,singleColumnWidth:(B,U)=>[Math.max(al(),B+U)-B],minCellWidth:al,setElementWidth:am,adjustTableWidth:B=>{const U=f()+B;am(i,U)},isRelative:!1,label:"pixel"}},cp=(i,f)=>bd().exec(f)!==null?tc(i):kr(i),kd={getTableSize:i=>hf(i).fold(()=>Dc(i),p=>cp(i,p)),pixelSize:kr,percentageSize:tc,noneSize:Dc},hn=(i,f,p,b,C,z)=>({minRow:i,minCol:f,maxRow:p,maxCol:b,allCells:C,selectedCells:z}),Jw=(i,f)=>{const p=i.grid.columns;let C=i.grid.rows,z=p,B=0,U=0;const K=[],ae=[];return Bt(i.access,ke=>{if(K.push(ke),f(ke)){ae.push(ke);const rt=ke.row,Dt=rt+ke.rowspan-1,Tt=ke.column,Xe=Tt+ke.colspan-1;rt<C?C=rt:Dt>B&&(B=Dt),Tt<z?z=Tt:Xe>U&&(U=Xe)}}),hn(C,z,B,U,K,ae)},w=(i,f,p)=>{const b=i[p].element,C=fe.fromTag("td");Ds(C,fe.fromTag("br")),(f?Ds:lr)(b,C)},S=(i,f,p,b)=>{const C=at(i,U=>U.section!=="colgroup"),z=f.grid.columns,B=f.grid.rows;for(let U=0;U<B;U++){let K=!1;for(let ae=0;ae<z;ae++)U<p.minRow||U>p.maxRow||ae<p.minCol||ae>p.maxCol||(so.getAt(f,U,ae).filter(b).isNone()?w(C,K,U):K=!0)}},F=(i,f,p,b)=>{Bt(p.columns,B=>{(B.column<f.minCol||B.column>f.maxCol)&&tr(B.element)});const C=at(Ei(i,"tr"),B=>B.dom.childElementCount===0);He(C,tr),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&He(Ei(i,"th,td"),B=>{ee(B,"rowspan"),ee(B,"colspan")}),ee(i,ir),ee(i,"data-snooker-col-series"),kd.getTableSize(i).adjustTableWidth(b)},Z=(i,f,p,b)=>{if(b.minCol===0&&f.grid.columns===b.maxCol+1)return 0;const C=ap(f,i,p),z=Ee(C,(ae,ke)=>ae+ke,0),K=Ee(C.slice(b.minCol,b.maxCol+1),(ae,ke)=>ae+ke,0)/z*p.pixelWidth()-p.pixelWidth();return p.getCellDelta(K)},ue=(i,f)=>{const p=Dt=>jn(Dt.element,f),b=za(i),C=Gf(b),z=kd.getTableSize(i),B=so.generate(C),U=Jw(B,p),K="th:not("+f+"),td:not("+f+")",ae=id(b,"th,td",Dt=>jn(Dt,K));He(ae,tr),S(C,B,U,p);const ke=so.fromTable(i),rt=Z(i,ke,z,U);return F(b,U,B,rt),b},Me=" ",Ot=((i,f)=>{const p=z=>{if(!i(z))throw new Error("Can only get "+f+" value of a "+f+" node");return b(z).getOr("")},b=z=>i(z)?ie.from(z.dom.nodeValue):ie.none();return{get:p,getOption:b,set:(z,B)=>{if(!i(z))throw new Error("Can only set raw "+f+" value of a "+f+" node");z.dom.nodeValue=B}}})(qa,"text"),bn=i=>Ot.get(i),Cn=i=>Ot.getOption(i),rs=(i,f)=>Ot.set(i,f),Fo=i=>us(i)==="img"?1:Cn(i).fold(()=>$o(i).length,f=>f.length),qs=i=>Cn(i).filter(f=>f.trim().length!==0||f.indexOf(Me)>-1).isSome(),nc=i=>yn(i)&&_s(i,"contenteditable")==="false",Ul=["img","br"],Fu=i=>qs(i)||cn(Ul,us(i))||nc(i),Kc=i=>cd(i,Fu),bf=i=>lp(i,Fu),lp=(i,f)=>{const p=b=>{const C=$o(b);for(let z=C.length-1;z>=0;z--){const B=C[z];if(f(B))return ie.some(B);const U=p(B);if(U.isSome())return U}return ie.none()};return p(i)},vf={scope:["row","col"]},wd=i=>()=>{const f=fe.fromTag("td",i.dom);return Ds(f,fe.fromTag("br",i.dom)),f},Nr=i=>()=>fe.fromTag("col",i.dom),jl=i=>()=>fe.fromTag("colgroup",i.dom),Lu=i=>()=>fe.fromTag("tr",i.dom),kf=(i,f,p)=>{const b=Qi(i,f);return Bt(p,(C,z)=>{C===null?ee(b,z):ws(b,z,C)}),b},kb=i=>i,oo=(i,f,p)=>Kc(i).map(C=>{const z=p.join(","),B=xt(C,z,U=>ho(U,i));return Zt(B,(U,K)=>{const ae=Pa(K);return Ds(U,ae),ae},f)}).getOr(f),Gs=(i,f)=>{Bt(vf,(p,b)=>ua(i,b).filter(C=>cn(p,C)).each(C=>ws(f,b,C)))},La=(i,f,p)=>{const b=(B,U)=>{vr(B.element,U),Il(U,"height"),B.colspan!==1&&Il(U,"width")},C=B=>{const U=fe.fromTag(us(B.element),f.dom),K=p.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ae=K.length>0?oo(B.element,U,K):U;return Ds(ae,fe.fromTag("br")),b(B,U),Gs(B.element,U),i(B.element,U),U};return{col:B=>{const U=fe.fromTag(us(B.element),f.dom);return b(B,U),i(B.element,U),U},colgroup:jl(f),row:Lu(f),cell:C,replace:kf,colGap:Nr(f),gap:wd(f)}},wr=i=>({col:Nr(i),colgroup:jl(i),row:Lu(i),cell:wd(i),replace:kb,colGap:Nr(i),gap:wd(i)}),Hu=(i,f)=>{const b=(f||document).createElement("div");return b.innerHTML=i,$o(fe.fromDom(b))},lu=i=>Ht(i,fe.fromDom),Ni=i=>f=>f.options.get(i),ul="100%",Qw=i=>{var f;const p=i.dom,b=(f=p.getParent(i.selection.getStart(),p.isBlock))!==null&&f!==void 0?f:i.getBody();return Yt(fe.fromDom(b))+"px"},lm=(i,f)=>Uu(i)||!dp(i)?f:Vu(i)?{...f,width:Qw(i)}:{...f,width:ul},ip=(i,f)=>Uu(i)||dp(i)?f:Vu(i)?{...f,width:Qw(i)}:{...f,width:ul},Mi=i=>{const f=i.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:p=>{const b=cn(["section","cells","sectionCells","auto"],p);return b?{value:p,valid:b}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:p=>{const b=cn(["preservetable","resizetable"],p);return b?{value:p,valid:b}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},e_=i=>ie.from(i.options.get("table_clone_elements")),Mh=i=>{const f=i.options.get("object_resizing");return cn(f.split(","),"table")},Vv=Ni("table_header_type"),Uv=Ni("table_column_resizing"),Er=i=>Uv(i)==="preservetable",t_=i=>Uv(i)==="resizetable",_d=Ni("table_sizing_mode"),up=i=>_d(i)==="relative",Vu=i=>_d(i)==="fixed",Uu=i=>_d(i)==="responsive",ri=Ni("table_resize_bars"),dp=Ni("table_style_by_css"),Bh=Ni("table_merge_content_on_paste"),ya=i=>{const f=i.options,p=f.get("table_default_attributes");return f.isSet("table_default_attributes")?p:ip(i,p)},im=i=>{const f=i.options,p=f.get("table_default_styles");return f.isSet("table_default_styles")?p:lm(i,p)},jv=Ni("table_use_colgroups"),og=i=>Rs(i,"[contenteditable]"),fp=(i,f=!1)=>pr(i)?i.dom.isContentEditable:og(i).fold(re(f),p=>Wv(p)==="true"),Wv=i=>i.dom.contentEditable,sg=i=>fe.fromDom(i.getBody()),wf=i=>f=>ho(f,sg(i)),xl=i=>{ee(i,"data-mce-style");const f=p=>ee(p,"data-mce-style");He(Uc(i),f),He(Nu(i),f),He(zi(i),f)},_f=i=>fe.fromDom(i.selection.getStart()),Cf=i=>i.getBoundingClientRect().width,Zv=i=>i.getBoundingClientRect().height,n_=(i,f)=>{const p=i.dom.getStyle(f,"width")||i.dom.getAttrib(f,"width");return ie.from(p).filter(Ns)},Ph=i=>/^(\d+(\.\d+)?)%$/.test(i),$h=i=>/^(\d+(\.\d+)?)px$/.test(i),mp=i=>Ss(i,ks("table")).exists(fp),um=(i,f)=>{const p=f.column,b=f.column+f.colspan-1,C=f.row,z=f.row+f.rowspan-1;return p<=i.finishCol&&b>=i.startCol&&C<=i.finishRow&&z>=i.startRow},o_=(i,f)=>f.column>=i.startCol&&f.column+f.colspan-1<=i.finishCol&&f.row>=i.startRow&&f.row+f.rowspan-1<=i.finishRow,wb=(i,f)=>{let p=!0;const b=Vn(o_,f);for(let C=f.startRow;C<=f.finishRow;C++)for(let z=f.startCol;z<=f.finishCol;z++)p=p&&so.getAt(i,C,z).exists(b);return p?ie.some(f):ie.none()},es=(i,f)=>ln(Math.min(i.row,f.row),Math.min(i.column,f.column),Math.max(i.row+i.rowspan-1,f.row+f.rowspan-1),Math.max(i.column+i.colspan-1,f.column+f.colspan-1)),an=(i,f,p)=>{const b=so.findItem(i,f,ho),C=so.findItem(i,p,ho);return b.bind(z=>C.map(B=>es(z,B)))},dm=(i,f,p)=>an(i,f,p).bind(b=>wb(i,b)),qv=(i,f,p,b)=>so.findItem(i,f,ho).bind(C=>{const z=p>0?C.row+C.rowspan-1:C.row,B=b>0?C.column+C.colspan-1:C.column;return so.getAt(i,z+p,B+b).map(K=>K.element)}),Ih=(i,f,p)=>an(i,f,p).map(b=>{const C=so.filterItems(i,Vn(um,b));return Ht(C,z=>z.element)}),s_=(i,f)=>{const p=(b,C)=>Bl(C,b);return so.findItem(i,f,p).map(b=>b.element)},Gv=(i,f,p)=>pc(i).bind(b=>{const C=gp(b);return qv(C,i,f,p)}),Ks=(i,f,p)=>{const b=gp(i);return Ih(b,f,p)},Fh=(i,f,p,b,C)=>{const z=gp(i),B=ho(i,p)?ie.some(f):s_(z,f),U=ho(i,C)?ie.some(b):s_(z,b);return B.bind(K=>U.bind(ae=>Ih(z,K,ae)))},Rx=(i,f,p)=>{const b=gp(i);return dm(b,f,p)},gp=so.fromTable;var et=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rg=()=>{const i=ae=>fe.fromDom(ae.dom.cloneNode(!1)),f=ae=>Ic(ae).dom,p=ae=>br(ae)?us(ae)==="body"?!0:cn(et,us(ae)):!1,b=ae=>br(ae)?cn(["br","img","hr","input"],us(ae)):!1,C=ae=>br(ae)&&_s(ae,"contenteditable")==="false",z=(ae,ke)=>ae.dom.compareDocumentPosition(ke.dom),B=(ae,ke)=>{const rt=te(ae);mr(ke,rt)},U=ae=>{const ke=us(ae);return cn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ke)},K=ae=>br(ae)?ua(ae,"lang"):ie.none();return{up:re({selector:vo,closest:Rs,predicate:Oa,all:fc}),down:re({selector:nr,predicate:Nt}),styles:re({get:$l,getRaw:Ti,set:As,remove:Il}),attrs:re({get:_s,set:ws,remove:ee,copyTo:B}),insert:re({before:Pl,after:mc,afterAll:ds,append:Ds,appendAll:Hr,prepend:lr,wrap:bi}),remove:re({unwrap:vi,remove:tr}),create:re({nu:fe.fromTag,clone:i,text:fe.fromText}),query:re({comparePosition:z,prevSibling:bl,nextSibling:vl}),property:re({children:$o,name:us,parent:qr,document:f,isText:qa,isComment:Vo,isElement:br,isSpecial:U,getLanguage:K,getText:bn,setText:rs,isBoundary:p,isEmptyTag:b,isNonEditable:C}),eq:ho,is:ei}};const Nx=(i,f,p,b)=>{const C=p[0],z=p.slice(1);return b(i,f,C,z)},_b=(i,f,p)=>p.length>0?Nx(i,f,p,Mx):ie.none(),Mx=(i,f,p,b)=>{const C=f(i,p);return Zt(b,(z,B)=>{const U=f(i,B);return fm(i,z,U)},C)},fm=(i,f,p)=>f.bind(b=>p.filter(Vn(i.eq,b))),Kv=(i,f)=>Vn(i.eq,f),Cd=(i,f,p,b=nn)=>{const C=[f].concat(i.up().all(f)),z=[p].concat(i.up().all(p)),B=ke=>dt(ke,b).fold(()=>ke,Dt=>ke.slice(0,Dt+1)),U=B(C),K=B(z),ae=I(U,ke=>Ke(K,Kv(i,ke)));return{firstpath:U,secondpath:K,shared:ae}},Cb=_b,pp=Cd,Xs=rg(),iu=(i,f)=>Cb(Xs,(p,b)=>i(b),f),ag=(i,f,p)=>pp(Xs,i,f,p),ju=i=>vo(i,"table"),Sb=(i,f,p)=>{const b=C=>z=>p!==void 0&&p(z)||ho(z,C);return ho(i,f)?ie.some({boxes:ie.some([i]),start:i,finish:f}):ju(i).bind(C=>ju(f).bind(z=>{if(ho(C,z))return ie.some({boxes:Ks(C,i,f),start:i,finish:f});if(Bl(C,z)){const B=xt(f,"td,th",b(C)),U=B.length>0?B[B.length-1]:f;return ie.some({boxes:Fh(C,i,C,f,z),start:i,finish:U})}else if(Bl(z,C)){const B=xt(i,"td,th",b(z)),U=B.length>0?B[B.length-1]:i;return ie.some({boxes:Fh(z,i,C,f,z),start:i,finish:U})}else return ag(i,f).shared.bind(B=>Rs(B,"table",p).bind(U=>{const K=xt(f,"td,th",b(U)),ae=K.length>0?K[K.length-1]:f,ke=xt(i,"td,th",b(U)),rt=ke.length>0?ke[ke.length-1]:i;return ie.some({boxes:Fh(U,i,C,f,z),start:rt,finish:ae})}))}))},hp=(i,f)=>{const p=nr(i,f);return p.length>0?ie.some(p):ie.none()},mm=(i,f)=>I(i,p=>jn(p,f)),Xv=(i,f,p)=>_i(i,f).bind(b=>_i(i,p).bind(C=>iu(ju,[b,C]).map(z=>({first:b,last:C,table:z})))),Bx=(i,f)=>vo(i,"table").bind(p=>_i(p,f).bind(b=>Sb(b,i).bind(C=>C.boxes.map(z=>({boxes:z,start:C.start,finish:C.finish}))))),r_=(i,f,p,b,C)=>mm(i,C).bind(z=>Gv(z,f,p).bind(B=>Bx(B,b))),xb=(i,f)=>hp(i,f),cg=(i,f,p)=>Xv(i,f,p).bind(b=>{const C=K=>ho(i,K),z="thead,tfoot,tbody,table",B=vo(b.first,z,C),U=vo(b.last,z,C);return B.bind(K=>U.bind(ae=>ho(K,ae)?Rx(b.table,b.first,b.last):ie.none()))}),Px=sn,gm=i=>{const f=(b,C)=>ua(b,C).exists(z=>parseInt(z,10)>1),p=b=>f(b,"rowspan")||f(b,"colspan");return i.length>0&&ct(i,p)?ie.some(i):ie.none()},Tb=(i,f,p)=>f.length<=1?ie.none():cg(i,p.firstSelectedSelector,p.lastSelectedSelector).map(b=>({bounds:b,cells:f})),pm="data-mce-selected",Vt="td["+pm+"],th["+pm+"]",yp="["+pm+"]",vc="data-mce-first-selected",Yv="td["+vc+"],th["+vc+"]",Lh="data-mce-last-selected",$x="td["+Lh+"],th["+Lh+"]",oc=yp,uu={selected:pm,selectedSelector:Vt,firstSelected:vc,firstSelectedSelector:Yv,lastSelected:Lh,lastSelectedSelector:$x},Sd=(i,f,p)=>({element:p,mergable:Tb(f,i,uu),unmergable:gm(i),selection:Px(i)}),Ix=(i,f,p)=>({element:i,clipboard:f,generators:p}),bp=(i,f,p,b)=>({selection:Px(i),clipboard:p,generators:b}),hm=i=>pc(i).bind(f=>xb(f,uu.firstSelectedSelector)).fold(re(i),f=>f[0]),Eb=i=>(f,p)=>{const b=us(f),C=b==="col"||b==="colgroup"?hm(f):f;return Rs(C,i,p)},Jv=Eb("th,td,caption"),Hh=Eb("th,td"),xd=i=>lu(i.model.table.getSelectedCells()),Ab=i=>at(xd(i),f=>jn(f,uu.selectedSelector)),Qv=i=>pc(i[0]).map(f=>{const p=ue(f,oc);return xl(p),[p]}),e0=(i,f)=>Ht(f,p=>i.selection.serializer.serialize(p.dom,{})).join(""),a_=i=>Ht(i,f=>f.dom.innerText).join(""),zb=(i,f)=>{i.on("BeforeGetContent",p=>{const b=C=>{p.preventDefault(),Qv(C).each(z=>{p.content=p.format==="text"?a_(z):e0(i,z)})};if(p.selection===!0){const C=Ab(i);C.length>=1&&b(C)}}),i.on("BeforeSetContent",p=>{if(p.selection===!0&&p.paste===!0){const b=xd(i);he(b).each(C=>{pc(C).each(z=>{const B=at(Hu(p.content),K=>us(K)!=="meta"),U=ks("table");if(Bh(i)&&B.length===1&&U(B[0])){p.preventDefault();const K=fe.fromDom(i.getDoc()),ae=wr(K),ke=Ix(C,B[0],ae);f.pasteCells(z,ke).each(()=>{i.focus()})}})})}})},dl=(i,f)=>({element:i,offset:f}),Xc=(i,f,p)=>i.property().isText(f)&&i.property().getText(f).trim().length===0||i.property().isComment(f)?p(f).bind(b=>Xc(i,b,p).orThunk(()=>ie.some(b))):ie.none(),c_=(i,f)=>i.property().isText(f)?i.property().getText(f).length:i.property().children(f).length,vp=(i,f)=>{const p=Xc(i,f,i.query().prevSibling).getOr(f);if(i.property().isText(p))return dl(p,c_(i,p));const b=i.property().children(p);return b.length>0?vp(i,b[b.length-1]):dl(p,c_(i,p))},Fx=vp,ym=rg(),ai=i=>Fx(ym,i),Lx=(i,f)=>{Fl(i)||Gc(i).each(b=>{const C=b.value/2;vb(i,C,b.unit),vb(f,C,b.unit)})},kp=i=>Ht(i,re(0)),l_=(i,f,p,b,C)=>C(i.slice(0,f)).concat(b).concat(C(i.slice(p))),wp=i=>(f,p,b,C)=>{if(i(b)){const z=Math.max(C,f[p]-Math.abs(b)),B=Math.abs(z-f[p]);return b>=0?B:-B}else return b},Vh=wp(i=>i<0),_p=wp(Le),Uh=()=>{const i=(U,K,ae,ke,rt)=>{const Dt=Vh(U,K,ke,rt);return l_(U,K,ae+1,[Dt,0],kp)},f=(U,K,ae,ke)=>{const rt=(100+ae)/100,Dt=Math.max(ke,(U[K]+ae)/rt);return Ht(U,(Tt,Xe)=>(Xe===K?Dt:Tt/rt)-Tt)},p=(U,K,ae,ke,rt,Dt)=>Dt?f(U,K,ke,rt):i(U,K,ae,ke,rt);return{resizeTable:(U,K)=>U(K),clampTableDelta:Vh,calcLeftEdgeDeltas:p,calcMiddleDeltas:(U,K,ae,ke,rt,Dt,Tt)=>p(U,ae,ke,rt,Dt,Tt),calcRightEdgeDeltas:(U,K,ae,ke,rt,Dt)=>{if(Dt)return f(U,ae,ke,rt);{const Tt=Vh(U,ae,ke,rt);return kp(U.slice(0,ae)).concat([Tt])}},calcRedestributedWidths:(U,K,ae,ke)=>{if(ke){const Dt=(K+ae)/K,Tt=Ht(U,Xe=>Xe/Dt);return{delta:Dt*100-100,newSizes:Tt}}else return{delta:ae,newSizes:U}}}},t0=()=>{const i=(B,U,K,ae,ke)=>{const rt=ae>=0?K:U,Dt=_p(B,rt,ae,ke);return l_(B,U,K+1,[Dt,-Dt],kp)};return{resizeTable:(B,U,K)=>{K&&B(U)},clampTableDelta:(B,U,K,ae,ke)=>{if(ke){if(K>=0)return K;{const rt=Ee(B,(Dt,Tt)=>Dt+Tt-ae,0);return Math.max(-rt,K)}}else return Vh(B,U,K,ae)},calcLeftEdgeDeltas:i,calcMiddleDeltas:(B,U,K,ae,ke,rt)=>i(B,K,ae,ke,rt),calcRightEdgeDeltas:(B,U,K,ae,ke,rt)=>{if(rt)return kp(B);{const Dt=ae/B.length;return Ht(B,re(Dt))}},calcRedestributedWidths:(B,U,K,ae)=>({delta:0,newSizes:B})}},Ob=i=>so.fromTable(i).grid,Db=ks("th"),zs=i=>ct(i,f=>Db(f.element)),Hx=(i,f)=>i&&f?"sectionCells":i?"section":"cells",i_=i=>{const f=i.section==="thead",p=or(n0(i.cells),"th");return i.section==="tfoot"?{type:"footer"}:f||p?{type:"header",subType:Hx(f,p)}:{type:"body"}},n0=i=>{const f=at(i,p=>Db(p.element));return f.length===0?ie.some("td"):f.length===i.length?ie.some("th"):ie.none()},Rb=i=>{const f=Ht(i,C=>i_(C).type),p=cn(f,"header"),b=cn(f,"footer");if(!p&&!b)return ie.some("body");{const C=cn(f,"body");return p&&!C&&!b?ie.some("header"):!p&&!C&&b?ie.some("footer"):ie.none()}},bm=i=>Ze(i.all,f=>{const p=i_(f);return p.type==="header"?ie.from(p.subType):ie.none()}),Wu=(i,f,p)=>Oe(p(i.element,f),!0,i.isLocked),Ra=(i,f)=>i.section!==f?ht(i.element,i.cells,f,i.isNew):i,u_=()=>({transformRow:Ra,transformCell:(i,f,p)=>{const b=p(i.element,f),C=us(b)!=="td"?ki(b,"td"):b;return Oe(C,i.isNew,i.isLocked)}}),d_=()=>({transformRow:Ra,transformCell:Wu}),Cp=()=>({transformRow:(i,f)=>Ra(i,f==="thead"?"tbody":f),transformCell:Wu}),Mb={getTableSectionType:(i,f)=>{const p=so.fromTable(i);switch(bm(p).getOr(f)){case"section":return u_();case"sectionCells":return d_();case"cells":return Cp()}},section:u_,sectionCells:d_,cells:Cp,fallback:()=>({transformRow:sn,transformCell:Wu})},vm=(i,f,p,b)=>{p===b?ee(i,f):ws(i,f,p)},f_=(i,f,p)=>{Ye(ms(i,f)).fold(()=>lr(i,p),b=>mc(b,p))},nO=(i,f)=>{const p=ti(i,f).getOrThunk(()=>{const b=fe.fromTag(f,gr(i).dom);return f==="thead"?f_(i,"caption,colgroup",b):f==="colgroup"?f_(i,"caption",b):Ds(i,b),b});return Aa(p),p},oO=(i,f)=>{const p=[],b=[],C=Tt=>Ht(Tt,Xe=>{Xe.isNew&&p.push(Xe.element);const At=Xe.element;return Aa(At),He(Xe.cells,qe=>{qe.isNew&&b.push(qe.element),vm(qe.element,"colspan",qe.colspan,1),vm(qe.element,"rowspan",qe.rowspan,1),Ds(At,qe.element)}),At}),z=Tt=>Mt(Tt,Xe=>Ht(Xe.cells,At=>(vm(At.element,"span",At.colspan,1),At.element))),B=(Tt,Xe)=>{const At=nO(i,Xe),Wt=(Xe==="colgroup"?z:C)(Tt);Hr(At,Wt)},U=Tt=>{ti(i,Tt).each(tr)},K=(Tt,Xe)=>{Tt.length>0?B(Tt,Xe):U(Xe)},ae=[],ke=[],rt=[],Dt=[];return He(f,Tt=>{switch(Tt.section){case"thead":ae.push(Tt);break;case"tbody":ke.push(Tt);break;case"tfoot":rt.push(Tt);break;case"colgroup":Dt.push(Tt);break}}),K(Dt,"colgroup"),K(ae,"thead"),K(ke,"tbody"),K(rt,"tfoot"),{newRows:p,newCells:b}},ba=i=>Ht(i,f=>{const p=Pa(f.element);return He(f.cells,b=>{const C=za(b.element);vm(C,"colspan",b.colspan,1),vm(C,"rowspan",b.rowspan,1),Ds(p,C)}),p}),sO=(i,f)=>Ht(i,p=>Xr(p,f)),xs=(i,f)=>i[f],Ys=(i,f)=>{if(i.length===0)return 0;const p=i[0];return dt(i,C=>!f(p.element,C.element)).getOr(i.length)},Td=(i,f,p,b)=>{const C=xs(i,f),z=C.section==="colgroup",B=Ys(C.cells.slice(p),b),U=z?1:Ys(sO(i.slice(f),p),b);return{colspan:B,rowspan:U}},ci=(i,f)=>{const p=Ht(i,C=>Ht(C.cells,nn)),b=(C,z,B,U)=>{for(let K=C;K<C+B;K++)for(let ae=z;ae<z+U;ae++)p[K][ae]=!0};return Ht(i,(C,z)=>{const B=Mt(C.cells,(U,K)=>{if(p[z][K]===!1){const ae=Td(i,z,K,f);return b(z,K,ae.rowspan,ae.colspan),[eu(U.element,ae.rowspan,ae.colspan,U.isNew)]}else return[]});return ge(C.element,B,C.section,C.isNew)})},Bi=(i,f,p)=>{const b=[];He(i.colgroups,C=>{const z=[];for(let B=0;B<i.grid.columns;B++){const U=so.getColumnAt(i,B).map(K=>Oe(K.element,p,!1)).getOrThunk(()=>Oe(f.colGap(),!0,!1));z.push(U)}b.push(ht(C.element,z,"colgroup",p))});for(let C=0;C<i.grid.rows;C++){const z=[];for(let K=0;K<i.grid.columns;K++){const ae=so.getAt(i,C,K).map(ke=>Oe(ke.element,p,ke.isLocked)).getOrThunk(()=>Oe(f.gap(),!0,!1));z.push(ae)}const B=i.all[C],U=ht(B.element,z,B.section,p);b.push(U)}return b},Bb=(i,f)=>Bi(i,f,!1),Sp=i=>ci(i,ho),Tl=(i,f)=>Ze(i.all,p=>I(p.cells,b=>ho(f,b.element))),El=(i,f,p)=>{const b=Ht(f.selection,z=>Ai(z).bind(B=>Tl(i,B)).filter(p)),C=Ci(b);return Wm(C.length>0,C)},Jr=(i,f,p,b,C)=>(z,B,U,K)=>{const ae=so.fromTable(z),ke=ie.from(K==null?void 0:K.section).getOrThunk(Mb.fallback);return f(ae,B).map(Dt=>{const Tt=Bb(ae,U),Xe=i(Tt,Dt,ho,C(U),ke),At=wl(Xe.grid),qe=Sp(Xe.grid);return{info:Dt,grid:qe,cursor:Xe.cursor,lockedColumns:At}}).bind(Dt=>{const Tt=oO(z,Dt.grid),Xe=ie.from(K==null?void 0:K.sizing).getOrThunk(()=>kd.getTableSize(z)),At=ie.from(K==null?void 0:K.resize).getOrThunk(t0);return p(z,Dt.grid,Dt.info,{sizing:Xe,resize:At,section:ke}),b(z),ee(z,ir),Dt.lockedColumns.length>0&&ws(z,ir,Dt.lockedColumns.join(",")),ie.some({cursor:Dt.cursor,newRows:Tt.newRows,newCells:Tt.newCells})})},xp=(i,f)=>Ai(f.element).bind(p=>Tl(i,p).map(b=>({...b,generators:f.generators,clipboard:f.clipboard}))),km=(i,f)=>El(i,f,Le).map(p=>({cells:p,generators:f.generators,clipboard:f.clipboard})),Tp=(i,f)=>f.mergable,m_=(i,f)=>f.unmergable,Ed=(i,f)=>El(i,f,Le),Ad=(i,f)=>El(i,f,p=>!p.isLocked),g_=(i,f)=>Tl(i,f).exists(p=>!p.isLocked),o0=(i,f)=>ct(f,p=>g_(i,p)),p_=(i,f)=>Tp(i,f).filter(p=>o0(i,p.cells)),Ux=(i,f)=>m_(i,f).filter(p=>o0(i,p)),jx=(i,f,p,b)=>{const C=Xa(i).rows;if(C.length===0)return i;for(let z=f.startRow;z<=f.finishRow;z++)for(let B=f.startCol;B<=f.finishCol;B++){const U=C[z],K=Xr(U,B).isLocked;Xm(U,B,Oe(b(),!1,K))}return i},h_=(i,f,p,b)=>{const C=Xa(i).rows;let z=!0;for(let B=0;B<C.length;B++)for(let U=0;U<Zc(C[0]);U++){const K=C[B],ae=Xr(K,U),ke=ae.element,rt=p(ke,f);rt&&!z?Xm(K,U,Oe(b(),!0,ae.isLocked)):rt&&(z=!1)}return i},y_=(i,f)=>Ee(i,(p,b)=>Ke(p,C=>f(C.element,b.element))?p:p.concat([b]),[]),jh=(i,f,p,b)=>(f>0&&f<i[0].cells.length&&He(i,C=>{const z=C.cells[f-1];let B=0;const U=b();for(;C.cells.length>f+B&&p(z.element,C.cells[f+B].element);)Xm(C,f+B,Oe(U,!0,C.cells[f+B].isLocked)),B++}),i),Wx=(i,f,p,b)=>{const C=Xa(i).rows;if(f>0&&f<C.length){const z=C[f-1].cells,B=y_(z,p);He(B,U=>{let K=ie.none();for(let ae=f;ae<C.length;ae++)for(let ke=0;ke<Zc(C[0]);ke++){const rt=C[ae],Dt=Xr(rt,ke);p(Dt.element,U.element)&&(K.isNone()&&(K=ie.some(b())),K.each(Xe=>{Xm(rt,ke,Oe(Xe,!0,Dt.isLocked))}))}})}return i},b_=i=>{const f=z=>z(i),p=re(i),b=()=>C,C={tag:!0,inner:i,fold:(z,B)=>B(i),isValue:Le,isError:nn,map:z=>Wh.value(z(i)),mapError:b,bind:f,exists:f,forall:f,getOr:p,or:b,getOrThunk:p,orThunk:b,getOrDie:p,each:z=>{z(i)},toOptional:()=>ie.some(i)};return C},s0=i=>{const f=()=>p,p={tag:!1,inner:i,fold:(b,C)=>b(i),isValue:nn,isError:Le,map:f,mapError:b=>Wh.error(b(i)),bind:f,exists:nn,forall:Le,getOr:sn,or:sn,getOrThunk:Nn,orThunk:Nn,getOrDie:gn(String(i)),each:_t,toOptional:ie.none};return p},Wh={value:b_,error:s0,fromOption:(i,f)=>i.fold(()=>s0(f),b_)},Ur=(i,f,p)=>{if(i.row>=f.length||i.column>Zc(f[0]))return Wh.error("invalid start address out of table bounds, row: "+i.row+", column: "+i.column);const b=f.slice(i.row),C=b[0].cells.slice(i.column),z=Zc(p[0]),B=p.length;return Wh.value({rowDelta:b.length-B,colDelta:C.length-z})},Pb=(i,f)=>{const p=Zc(i[0]),b=Zc(f[0]);return{rowDelta:0,colDelta:p-b}},r0=(i,f)=>{const p=i.length,b=f.length;return{rowDelta:p-b,colDelta:0}},Sf=(i,f,p,b)=>{const C=f.section==="colgroup"?p.col:p.cell;return _n(i,z=>Oe(C(),!0,b(z)))},wm=(i,f,p,b)=>{const C=i[i.length-1];return i.concat(_n(f,()=>{const z=C.section==="colgroup"?p.colgroup:p.row,B=Jg(C,z,sn),U=Sf(B.cells.length,B,p,K=>co(b,K.toString()));return Xg(B,U)}))},va=(i,f,p,b)=>Ht(i,C=>{const z=Sf(f,C,p,nn);return pa(C,b,z)}),Pi=(i,f,p)=>Ht(i,b=>Ee(p,(C,z)=>{const B=Sf(1,b,f,Le)[0];return Eh(C,z,B)},b)),Ap=(i,f,p)=>{const b=f.colDelta<0?va:sn,C=f.rowDelta<0?wm:sn,z=wl(i),B=Zc(i[0]),U=Ke(z,ke=>ke===B-1),K=b(i,Math.abs(f.colDelta),p,U?B-1:B),ae=wl(K);return C(K,Math.abs(f.rowDelta),p,Ae(ae,Le))},a0=(i,f,p,b)=>{const C=Xr(i[f],p),z=Vn(b,C.element),B=i[f];return i.length>1&&Zc(B)>1&&(p>0&&z(bc(B,p-1))||p<B.cells.length-1&&z(bc(B,p+1))||f>0&&z(bc(i[f-1],p))||f<i.length-1&&z(bc(i[f+1],p)))},zp=(i,f,p,b,C,z)=>{const B=i.row,U=i.column,K=p.length,ae=Zc(p[0]),ke=B+K,rt=U+ae+z.length,Dt=Ae(z,Le);for(let Tt=B;Tt<ke;Tt++){let Xe=0;for(let At=U;At<rt;At++){if(Dt[At]){Xe++;continue}a0(f,Tt,At,C)&&h_(f,bc(f[Tt],At),C,b.cell);const qe=At-U-Xe,Wt=Xr(p[Tt-B],qe),En=Wt.element,Jn=b.replace(En);Xm(f[Tt],At,Oe(Jn,!0,Wt.isLocked))}}return f},Zh=(i,f,p)=>{const b=Zc(f[0]),C=Xa(f).cols.length+i.row,z=_n(b-i.column,U=>U+i.column),B=I(z,U=>ct(p,K=>K!==U)).getOr(b-1);return{row:C,column:B}},v_=(i,f,p)=>at(p,b=>b>=i.column&&b<=Zc(f[0])+i.column),k_=(i,f,p,b,C)=>{const z=wl(f),B=Zh(i,f,z),U=Xa(p).rows,K=v_(B,U,z);return Ur(B,f,U).map(ke=>{const rt={...ke,colDelta:ke.colDelta-K.length},Dt=Ap(f,rt,b),Tt=wl(Dt),Xe=v_(B,U,Tt);return zp(B,Dt,U,b,C,Xe)})},zd=(i,f,p,b,C)=>{jh(f,i,C,b.cell);const z=r0(p,f),B=Ap(p,z,b),U=r0(f,B),K=Ap(f,U,b);return Ht(K,(ae,ke)=>pa(ae,i,B[ke].cells))},$b=(i,f,p,b,C)=>{Wx(f,i,C,b.cell);const z=wl(f),B=Pb(f,p),U={...B,colDelta:B.colDelta-z.length},K=Ap(f,U,b),{cols:ae,rows:ke}=Xa(K),rt=wl(K),Dt=Pb(p,f),Tt={...Dt,colDelta:Dt.colDelta+rt.length},Xe=Pi(p,b,rt),At=Ap(Xe,Tt,b);return[...ae,...ke.slice(0,i),...At,...ke.slice(i,ke.length)]},Qr=(i,f,p,b)=>Jg(i,C=>b(C,p),f),Wl=(i,f,p,b,C)=>{const{rows:z,cols:B}=Xa(i),U=z.slice(0,f),K=z.slice(f),ae=Qr(z[p],(ke,rt)=>f>0&&f<z.length&&b(bc(z[f-1],rt),bc(z[f],rt))?Xr(z[f],rt):Oe(C(ke.element,b),!0,ke.isLocked),b,C);return[...B,...U,ae,...K]},du=(i,f,p,b,C,z,B)=>{if(p==="colgroup"||!b){const U=Xr(i,C);return Oe(B(U.element,z),!0,!1)}else return Xr(i,f)},w_=(i,f,p,b,C)=>Ht(i,z=>{const B=f>0&&f<Zc(z)&&b(bc(z,f-1),bc(z,f)),U=du(z,f,z.section,B,p,b,C);return Eh(z,f,U)}),__=(i,f)=>Mt(i,p=>{const b=p.cells,C=Zt(f,(z,B)=>B>=0&&B<z.length?z.slice(0,B).concat(z.slice(B+1)):z,b);return C.length>0?[ht(p.element,C,p.section,p.isNew)]:[]}),C_=(i,f,p)=>{const{rows:b,cols:C}=Xa(i);return[...C,...b.slice(0,f),...b.slice(p+1)]},lg=(i,f,p,b)=>bc(i[f],p)!==void 0&&f>0&&b(bc(i[f-1],p),bc(i[f],p)),S_=(i,f,p)=>f>0&&p(bc(i,f-1),bc(i,f)),_m=(i,f,p,b)=>lg(i,f,p,b)||S_(i[f],p,b),c0=(i,f)=>ct(f,sn)&&zs(i.cells)?Le:(b,C,z)=>!(us(b.element)==="th"&&f[z]),x_=(i,f)=>ct(f,sn)&&zs(i)?Le:(b,C,z)=>!(us(b.element)==="th"&&f[C]),T_=(i,f,p,b)=>{const C=B=>B==="row"?tu(f):Fl(f),z=B=>C(B)?`${B}group`:B;return i?Db(f)?z(p):null:b&&Db(f)?z(p==="row"?"col":"row"):null},qh=(i,f)=>(p,b,C)=>ie.some(T_(i,p.element,"col",f[C])),Zx=(i,f)=>(p,b)=>ie.some(T_(i,p.element,"row",f[b])),Op=(i,f,p)=>Oe(p(i.element,f),!0,i.isLocked),ig=(i,f,p,b,C,z,B)=>{const U=K=>Ke(f,ae=>p(K.element,ae.element));return Ht(i,(K,ae)=>Yg(K,(ke,rt)=>{if(U(ke)){const Dt=B(ke,ae,rt)?C(ke,p,b):ke;return z(Dt,ae,rt).each(Tt=>{dc(Dt.element,{scope:ie.from(Tt)})}),Dt}else return ke}))},l0=(i,f,p)=>Mt(i,(b,C)=>_m(i,C,f,p)?[]:[Xr(b,f)]),Gh=(i,f,p)=>{const b=i[f];return Mt(b.cells,(C,z)=>_m(i,f,z,p)?[]:[C])},Dp=(i,f,p,b,C)=>{const z=Xa(i).rows,B=Mt(f,ke=>l0(z,ke,b)),U=Ht(z,ke=>zs(ke.cells)),K=x_(B,U),ae=Zx(p,U);return ig(i,B,b,C,Op,ae,K)},i0=(i,f,p,b,C,z,B)=>{const{cols:U,rows:K}=Xa(i),ae=K[f[0]],ke=Mt(f,qe=>Gh(K,qe,C)),rt=Ht(ae.cells,(qe,Wt)=>zs(l0(K,Wt,C))),Dt=[...K];He(f,qe=>{Dt[qe]=B.transformRow(K[qe],p)});const Tt=[...U,...Dt],Xe=c0(ae,rt),At=qh(b,rt);return ig(Tt,ke,C,z,B.transformCell,At,Xe)},u0=(i,f,p,b)=>{const C=Xa(i).rows,z=Ht(f,B=>Xr(C[B.row],B.column));return ig(i,z,p,b,Op,ie.none,Le)},Od={generate:i=>{if(!Yn(i))throw new Error("cases must be an array");if(i.length===0)throw new Error("there must be at least one case");const f=[],p={};return He(i,(b,C)=>{const z=Be(b);if(z.length!==1)throw new Error("one and only one name per case");const B=z[0],U=b[B];if(p[B]!==void 0)throw new Error("duplicate key detected:"+B);if(B==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Yn(U))throw new Error("case arguments must be an array");f.push(B),p[B]=(...K)=>{const ae=K.length;if(ae!==U.length)throw new Error("Wrong number of arguments to case "+B+". Expected "+U.length+" ("+U+"), got "+ae);return{fold:(...rt)=>{if(rt.length!==i.length)throw new Error("Wrong number of arguments to fold. Expected "+i.length+", got "+rt.length);return rt[C].apply(null,K)},match:rt=>{const Dt=Be(rt);if(f.length!==Dt.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+Dt.join(","));if(!ct(f,Xe=>cn(Dt,Xe)))throw new Error("Not all branches were specified when using match. Specified: "+Dt.join(", ")+`
Required: `+f.join(", "));return rt[B].apply(null,K)},log:rt=>{console.log(rt,{constructors:f,constructor:B,params:K})}}}}),p}},Dd={...Od.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},lo=(i,f)=>i.length===0?Dd.none():i.length===1?Dd.only(0):f===0?Dd.left(0,1):f===i.length-1?Dd.right(f-1,f):f>0&&f<i.length-1?Dd.middle(f-1,f,f+1):Dd.none(),sc=(i,f,p,b,C)=>{const z=i.slice(0),B=lo(i,f),U=re(Ht(z,re(0))),K=Dt=>b.singleColumnWidth(z[Dt],p),ae=(Dt,Tt)=>C.calcLeftEdgeDeltas(z,Dt,Tt,p,b.minCellWidth(),b.isRelative),ke=(Dt,Tt,Xe)=>C.calcMiddleDeltas(z,Dt,Tt,Xe,p,b.minCellWidth(),b.isRelative),rt=(Dt,Tt)=>C.calcRightEdgeDeltas(z,Dt,Tt,p,b.minCellWidth(),b.isRelative);return B.fold(U,K,ae,ke,rt)},Cm=(i,f,p)=>{let b=0;for(let C=i;C<f;C++)b+=p[C]!==void 0?p[C]:0;return b},Ie=(i,f)=>{const p=so.justCells(i);return Ht(p,b=>{const C=Cm(b.column,b.column+b.colspan,f);return{element:b.element,width:C,colspan:b.colspan}})},Bs=(i,f)=>{const p=so.justColumns(i);return Ht(p,(b,C)=>({element:b.element,width:f[C],colspan:b.colspan}))},A_=(i,f)=>{const p=so.justCells(i);return Ht(p,b=>{const C=Cm(b.row,b.row+b.rowspan,f);return{element:b.element,height:C,rowspan:b.rowspan}})},z_=(i,f)=>Ht(i.all,(p,b)=>({element:p.element,height:f[b]})),Ha=i=>Zt(i,(f,p)=>f+p,0),Yc=(i,f)=>so.hasColumns(i)?Bs(i,f):Ie(i,f),Ib=(i,f,p)=>{const b=Yc(i,f);He(b,C=>{p.setElementWidth(C.element,C.width)})},d0=(i,f,p,b,C)=>{const z=so.fromTable(i),B=C.getCellDelta(f),U=C.getWidths(z,C),K=p===z.grid.columns-1,ae=b.clampTableDelta(U,p,B,C.minCellWidth(),K),ke=sc(U,p,ae,C,b),rt=Ht(ke,(Dt,Tt)=>Dt+U[Tt]);Ib(z,rt,C),b.resizeTable(C.adjustTableWidth,ae,K)},O_=(i,f,p,b)=>{const C=so.fromTable(i),z=ec(C,i,b),B=Ht(z,(ke,rt)=>p===rt?Math.max(f+ke,uf()):ke),U=A_(C,B),K=z_(C,B);He(K,ke=>{rr(ke.element,ke.height)}),He(U,ke=>{rr(ke.element,ke.height)});const ae=Ha(B);rr(i,ae)},Np=(i,f,p,b,C)=>{const z=so.generate(f),B=b.getWidths(z,b),U=b.pixelWidth(),{newSizes:K,delta:ae}=C.calcRedestributedWidths(B,U,p.pixelDelta,b.isRelative);Ib(z,K,b),b.adjustTableWidth(ae)},f0=(i,f,p,b)=>{const C=so.generate(f),z=b.getWidths(C,b);Ib(C,z,b)},xf=i=>Ee(i,(p,b)=>Ke(p,z=>z.column===b.column)?p:p.concat([b]),[]).sort((p,b)=>p.column-b.column),Fb=ks("col"),Lb=ks("colgroup"),m0=i=>us(i)==="tr"||Lb(i),g0=i=>{const f=Ka(i,"colspan",1),p=Ka(i,"rowspan",1);return{element:i,colspan:f,rowspan:p}},D_=(i,f=g0)=>{const p=U=>Fb(U.element)?i.col(U):i.cell(U),b=U=>Lb(U.element)?i.colgroup(U):i.row(U),C=U=>{if(m0(U))return b({element:U});{const K=U,ae=p(f(K));return z=ie.some({item:K,replacement:ae}),ae}};let z=ie.none();return{getOrInit:(U,K)=>z.fold(()=>C(U),ae=>K(U,ae.item)?ae.replacement:C(U))}},Mp=i=>f=>{const p=[],b=(B,U)=>I(p,K=>U(K.item,B)),C=B=>{const U=i==="td"?{scope:null}:{},K=f.replace(B,i,U);return p.push({item:B,sub:K}),K};return{replaceOrInit:(B,U)=>{if(m0(B)||Fb(B))return B;{const K=B;return b(K,U).fold(()=>C(K),ae=>U(B,ae.item)?ae.sub:C(K))}}}},Al=i=>ua(i,"scope").map(f=>f.substr(0,3)),Us={modification:D_,transform:Mp,merging:i=>({unmerge:b=>{const C=Al(b);return C.each(z=>ws(b,"scope",z)),()=>{const z=i.cell({element:b,colspan:1,rowspan:1});return Il(z,"width"),Il(b,"width"),C.each(B=>ws(z,"scope",B)),z}},merge:b=>{const C=()=>{const z=Ci(Ht(b,Al));if(z.length===0)return ie.none();{const B=z[0],U=["row","col"];return Ke(z,ae=>ae!==B&&cn(U,ae))?ie.none():ie.from(B)}};return Il(b[0],"width"),C().fold(()=>ee(b[0],"scope"),z=>ws(b[0],"scope",z+"group")),re(b[0])}})},R_=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Sm=(i,f)=>{const p=i.property().name(f);return cn(["ol","ul"],p)},Hb=(i,f)=>{const p=i.property().name(f);return cn(R_,p)},h0=(i,f)=>cn(["br","img","hr","input"],i.property().name(f)),Kh=rg(),Bp=i=>Hb(Kh,i),y0=i=>Sm(Kh,i),b0=i=>h0(Kh,i),qx=i=>{const f=ks("br"),p=K=>ct(K,ae=>f(ae)||qa(ae)&&bn(ae).trim().length===0),b=K=>us(K)==="li"||Oa(K,y0).isSome(),C=K=>vl(K).map(ae=>Bp(ae)?!0:b0(ae)?us(ae)!=="img":!1).getOr(!1),z=K=>bf(K).bind(ae=>{const ke=C(ae);return qr(ae).map(rt=>ke===!0||b(rt)||f(ae)||Bp(rt)&&!ho(K,rt)?[]:[fe.fromTag("br")])}).getOr([]),U=(()=>{const K=Mt(i,ae=>{const ke=$o(ae);return p(ke)?[]:ke.concat(z(ae))});return K.length===0?[fe.fromTag("br")]:K})();Aa(i[0]),Hr(i[0],U)},N_=i=>fp(i,!0),Va=i=>{Uc(i).length===0&&tr(i)},ka=(i,f)=>({grid:i,cursor:f}),zl=i=>Ze(i,f=>Ze(f.cells,p=>{const b=p.element;return Wm(N_(b),b)})),Jc=(i,f,p)=>{var b,C;const z=Xa(i).rows;return ie.from((C=(b=z[f])===null||b===void 0?void 0:b.cells[p])===null||C===void 0?void 0:C.element).filter(N_).orThunk(()=>zl(z))},hr=(i,f,p)=>{const b=Jc(i,f,p);return ka(i,b)},jr=i=>Ee(i,(p,b)=>Ke(p,z=>z.row===b.row)?p:p.concat([b]),[]).sort((p,b)=>p.row-b.row),M_=(i,f,p,b)=>{const C=f[0].row,z=jr(f),B=Zt(z,(U,K)=>({grid:Wl(U.grid,C,K.row+U.delta,p,b.getOrInit),delta:U.delta+1}),{grid:i,delta:0}).grid;return hr(B,C,f[0].column)},Qc=(i,f,p,b)=>{const C=jr(f),z=C[C.length-1],B=z.row+z.rowspan,U=Zt(C,(K,ae)=>Wl(K,B,ae.row,p,b.getOrInit),i);return hr(U,B,f[0].column)},Gx=(i,f,p,b)=>{const C=f.details,z=xf(C),B=z[0].column,U=Zt(z,(K,ae)=>({grid:w_(K.grid,B,ae.column+K.delta,p,b.getOrInit),delta:K.delta+1}),{grid:i,delta:0}).grid;return hr(U,C[0].row,B)},Zu=(i,f,p,b)=>{const C=f.details,z=C[C.length-1],B=z.column+z.colspan,U=xf(C),K=Zt(U,(ae,ke)=>w_(ae,B,ke.column,p,b.getOrInit),i);return hr(K,C[0].row,B)},B_=(i,f,p,b)=>{const C=xf(f),z=Ht(C,U=>U.column),B=Dp(i,z,!0,p,b.replaceOrInit);return hr(B,f[0].row,f[0].column)},P_=(i,f,p,b)=>{const C=u0(i,f,p,b.replaceOrInit);return hr(C,f[0].row,f[0].column)},v0=(i,f,p,b)=>{const C=xf(f),z=Ht(C,U=>U.column),B=Dp(i,z,!1,p,b.replaceOrInit);return hr(B,f[0].row,f[0].column)},k0=(i,f,p,b)=>{const C=u0(i,f,p,b.replaceOrInit);return hr(C,f[0].row,f[0].column)},Vb=(i,f)=>(p,b,C,z,B)=>{const U=jr(b),K=Ht(U,ke=>ke.row),ae=i0(p,K,i,f,C,z.replaceOrInit,B);return hr(ae,b[0].row,b[0].column)},Kx=Vb("thead",!0),Xx=Vb("tbody",!1),$_=Vb("tfoot",!1),Yx=(i,f,p,b)=>{const C=xf(f.details),z=__(i,Ht(C,U=>U.column)),B=z.length>0?z[0].cells.length-1:0;return hr(z,C[0].row,Math.min(C[0].column,B))},Xh=(i,f,p,b)=>{const C=jr(f),z=C_(i,C[0].row,C[C.length-1].row),B=z.length>0?z.length-1:0;return hr(z,Math.min(f[0].row,B),f[0].column)},Jx=(i,f,p,b)=>{const C=f.cells;qx(C);const z=jx(i,f.bounds,p,b.merge(C));return ka(z,ie.from(C[0]))},Qx=(i,f,p,b)=>{const z=Zt(f,(B,U)=>h_(B,U,p,b.unmerge(U)),i);return ka(z,ie.from(f[0]))},eT=(i,f,p,b)=>{const z=((K,ae)=>{const ke=so.fromTable(K);return Bi(ke,ae,!0)})(f.clipboard,f.generators),B=Lc(f.row,f.column);return k_(B,i,z,f.generators,p).fold(()=>ka(i,ie.some(f.element)),K=>hr(K,f.row,f.column))},Yh=(i,f,p)=>{const b=df(i,p.section),C=so.generate(b);return Bi(C,f,!0)},Lt=(i,f,p,b)=>{const C=Xa(i).rows,z=f.cells[0].column,B=C[f.cells[0].row],U=Yh(f.clipboard,f.generators,B),K=zd(z,i,U,f.generators,p);return hr(K,f.cells[0].row,f.cells[0].column)},bt=(i,f,p,b)=>{const C=Xa(i).rows,z=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,B=C[f.cells[0].row],U=Yh(f.clipboard,f.generators,B),K=zd(z,i,U,f.generators,p);return hr(K,f.cells[0].row,f.cells[0].column)},I_=(i,f,p,b)=>{const C=Xa(i).rows,z=f.cells[0].row,B=C[z],U=Yh(f.clipboard,f.generators,B),K=$b(z,i,U,f.generators,p);return hr(K,f.cells[0].row,f.cells[0].column)},rc=(i,f,p,b)=>{const C=Xa(i).rows,z=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,B=C[f.cells[0].row],U=Yh(f.clipboard,f.generators,B),K=$b(z,i,U,f.generators,p);return hr(K,f.cells[0].row,f.cells[0].column)},tT=(i,f)=>{const p=so.fromTable(i);return Ed(p,f).bind(C=>{const z=C[C.length-1],B=C[0].column,U=z.column+z.colspan,K=je(Ht(p.all,ae=>at(ae.cells,ke=>ke.column>=B&&ke.column<U)));return n0(K)}).getOr("")},F_=(i,f)=>{const p=so.fromTable(i);return Ed(p,f).bind(n0).getOr("")},L_=(i,f)=>{const p=so.fromTable(i);return Ed(p,f).bind(C=>{const z=C[C.length-1],B=C[0].row,U=z.row+z.rowspan,K=p.all.slice(B,U);return Rb(K)}).getOr("")},Ol=(i,f,p,b)=>f0(i,f,p,b.sizing),H_=(i,f,p,b)=>Np(i,f,p,b.sizing,b.resize),w0=(i,f)=>Ke(f,p=>p.column===0&&p.isLocked),$i=(i,f)=>Ke(f,p=>p.column+p.colspan>=i.grid.columns&&p.isLocked),Rc=(i,f)=>{const p=Qg(i),b=xf(f);return Ee(b,(C,z)=>{const U=p[z.column].map(zn).getOr(0);return C+U},0)},Rd=i=>(f,p)=>Ed(f,p).filter(b=>!(i?w0:$i)(f,b)).map(b=>({details:b,pixelDelta:Rc(f,b)})),Nd=(i,f)=>Ad(i,f).map(p=>({details:p,pixelDelta:-Rc(i,p)})),fu=i=>(f,p)=>km(f,p).filter(b=>!(i?w0:$i)(f,b.cells)),Jh=Us.transform("th"),Zl=Us.transform("td"),nT=Jr(M_,Ed,_t,_t,Us.modification),_0=Jr(Qc,Ed,_t,_t,Us.modification),Ub=Jr(Gx,Rd(!0),H_,_t,Us.modification),V_=Jr(Zu,Rd(!1),H_,_t,Us.modification),C0=Jr(Yx,Nd,H_,Va,Us.modification),S0=Jr(Xh,Ed,_t,Va,Us.modification),oT=Jr(B_,Ad,_t,_t,Jh),U_=Jr(v0,Ad,_t,_t,Zl),sT=Jr(Kx,Ad,_t,_t,Jh),rT=Jr(Xx,Ad,_t,_t,Zl),aT=Jr($_,Ad,_t,_t,Zl),x0=Jr(P_,Ad,_t,_t,Jh),j_=Jr(k0,Ad,_t,_t,Zl),T0=Jr(Jx,p_,Ol,_t,Us.merging),W_=Jr(Qx,Ux,Ol,_t,Us.merging),Z_=Jr(eT,xp,Ol,_t,Us.modification),cT=Jr(Lt,fu(!0),_t,_t,Us.modification),jb=Jr(bt,fu(!1),_t,_t,Us.modification),q_=Jr(I_,km,_t,_t,Us.modification),lT=Jr(rc,km,_t,_t,Us.modification),iT=tT,G_=F_,uT=L_,Wb=(i,f)=>i.dispatch("NewRow",{node:f}),E0=(i,f)=>i.dispatch("NewCell",{node:f}),mu=(i,f,p)=>{i.dispatch("TableModified",{...p,table:f})},Os=(i,f,p,b,C)=>{i.dispatch("TableSelectionChange",{cells:f,start:p,finish:b,otherCells:C})},K_=i=>{i.dispatch("TableSelectionClear")},Nc=(i,f,p,b,C)=>{i.dispatch("ObjectResizeStart",{target:f,width:p,height:b,origin:C})},A0=(i,f,p,b,C)=>{i.dispatch("ObjectResized",{target:f,width:p,height:b,origin:C})},Tf={structure:!1,style:!0},Ua={structure:!0,style:!1},Zb={structure:!0,style:!0},X_=(i,f)=>up(i)?kd.percentageSize(f):Vu(i)?kd.pixelSize(f):kd.getTableSize(f),dT=(i,f,p)=>{const b=gl=>us(sg(gl))==="table",C=gl=>!b(i)||Ob(gl).rows>1,z=gl=>!b(i)||Ob(gl).columns>1,B=e_(i),U=t_(i)?_t:Lx,K=gl=>{switch(Vv(i)){case"section":return Mb.section();case"sectionCells":return Mb.sectionCells();case"cells":return Mb.cells();default:return Mb.getTableSectionType(gl,"section")}},ae=(gl,Ck)=>Ck.cursor.fold(()=>{const Ty=Uc(gl);return he(Ty).filter(pr).map(Ui=>{p.clearSelectedCells(gl.dom);const wc=i.dom.createRng();return wc.selectNode(Ui.dom),i.selection.setRng(wc),ws(Ui,"data-mce-selected","1"),wc})},Ty=>{const Ui=ai(Ty),wc=i.dom.createRng();return wc.setStart(Ui.element.dom,Ui.offset),wc.setEnd(Ui.element.dom,Ui.offset),i.selection.setRng(wc),p.clearSelectedCells(gl.dom),ie.some(wc)}),ke=(gl,Ck,Ty,Ui)=>(wc,pE,$1=!1)=>{xl(wc);const I1=fe.fromDom(i.getDoc()),hE=La(Ty,I1,B),yO={sizing:X_(i,wc),resize:t_(i)?Uh():t0(),section:K(wc)};return Ck(wc)?gl(wc,pE,hE,yO).bind(F1=>{f.refresh(wc.dom),He(F1.newRows,Ey=>{Wb(i,Ey.dom)}),He(F1.newCells,Ey=>{E0(i,Ey.dom)});const yE=ae(wc,F1);return pr(wc)&&(xl(wc),$1||mu(i,wc.dom,Ui)),yE.map(Ey=>({rng:Ey,effect:Ui}))}):ie.none()},rt=ke(S0,C,_t,Ua),Dt=ke(C0,z,_t,Ua),Tt=ke(nT,Le,_t,Ua),Xe=ke(_0,Le,_t,Ua),At=ke(Ub,Le,U,Ua),qe=ke(V_,Le,U,Ua),Wt=ke(T0,Le,_t,Ua),En=ke(W_,Le,_t,Ua),Jn=ke(cT,Le,_t,Ua),js=ke(jb,Le,_t,Ua),lc=ke(q_,Le,_t,Ua),Mr=ke(lT,Le,_t,Ua),Kl=ke(Z_,Le,_t,Zb),Dg=ke(x0,Le,_t,Ua),Om=ke(j_,Le,_t,Ua),P1=ke(oT,Le,_t,Ua),xy=ke(U_,Le,_t,Ua),ps=ke(sT,Le,_t,Ua),ml=ke(rT,Le,_t,Ua),tl=ke(aT,Le,_t,Ua);return{deleteRow:rt,deleteColumn:Dt,insertRowsBefore:Tt,insertRowsAfter:Xe,insertColumnsBefore:At,insertColumnsAfter:qe,mergeCells:Wt,unmergeCells:En,pasteColsBefore:Jn,pasteColsAfter:js,pasteRowsBefore:lc,pasteRowsAfter:Mr,pasteCells:Kl,makeCellsHeader:Dg,unmakeCellsHeader:Om,makeColumnsHeader:P1,unmakeColumnsHeader:xy,makeRowsHeader:ps,makeRowsBody:ml,makeRowsFooter:tl,getTableRowType:uT,getTableCellType:G_,getTableColType:iT}},Y_=(i,f,p)=>{const b=Ka(i,f,1);p===1||b<=1?ee(i,f):ws(i,f,Math.min(p,b))},qb=(i,f)=>p=>{const b=p.column+p.colspan-1,C=p.column;return b>=i&&C<f},fT=(i,f,p)=>{if(so.hasColumns(i)){const b=at(so.justColumns(i),qb(f,p)),C=Ht(b,B=>{const U=za(B.element);return Y_(U,"span",p-f),U}),z=fe.fromTag("colgroup");return Hr(z,C),[z]}else return[]},mT=(i,f,p)=>Ht(i.all,b=>{const C=at(b.cells,qb(f,p)),z=Ht(C,U=>{const K=za(U.element);return Y_(K,"colspan",p-f),K}),B=fe.fromTag("tr");return Hr(B,z),B}),gT=(i,f)=>{const p=so.fromTable(i);return Ad(p,f).map(C=>{const z=C[C.length-1],B=C[0].column,U=z.column+z.colspan,K=fT(p,B,U),ae=mT(p,B,U);return[...K,...ae]})},pT=(i,f,p)=>{const b=so.fromTable(i);return Ed(b,f).bind(z=>{const B=Bi(b,p,!1),K=Xa(B).rows.slice(z[0].row,z[z.length-1].row+z[z.length-1].rowspan),ae=Mt(K,rt=>{const Dt=at(rt.cells,Tt=>!Tt.isLocked);return Dt.length>0?[{...rt,cells:Dt}]:[]}),ke=Sp(ae);return Wm(ke.length>0,ke)}).map(z=>ba(z))},Qh=Od.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),J_=(i,f,p)=>{const b=p.substring(0,p.length-i.length),C=parseFloat(b);return b===C.toString()?f(C):Qh.invalid(p)},ug={...Qh,from:i=>gc(i,"%")?J_("%",Qh.percent,i):gc(i,"px")?J_("px",Qh.pixels,i):Qh.invalid(i)},Q_=(i,f)=>Ht(i,p=>ug.from(p).fold(()=>p,C=>C/f*100+"%",C=>C+"%")),Gb=(i,f,p)=>{const b=p/f;return Ht(i,C=>ug.from(C).fold(()=>C,B=>B*b+"px",B=>B/100*p+"px"))},e2=(i,f)=>{const p=i.fold(()=>re(""),b=>{const C=b/f;return re(C+"px")},()=>{const b=100/f;return re(b+"%")});return _n(f,p)},yT=(i,f,p)=>i.fold(()=>f,b=>Gb(f,p,b),b=>Q_(f,p)),Pp=(i,f,p)=>{const b=ug.from(p),C=ct(i,z=>z==="0px")?e2(b,i.length):yT(b,i,f);return vT(C)},Kb=(i,f)=>i.length===0?f:Zt(i,(p,b)=>ug.from(b).fold(re(0),sn,sn)+p,0),t2=(i,f)=>{const p=Math.floor(i);return{value:p+f,remainder:i-p}},bT=(i,f)=>ug.from(i).fold(re(i),p=>p+f+"px",p=>p+f+"%"),vT=i=>{if(i.length===0)return i;const f=Zt(i,(b,C)=>{const z=ug.from(C).fold(()=>({value:C,remainder:0}),B=>t2(B,"px"),B=>({value:B+"%",remainder:0}));return{output:[z.value].concat(b.output),remainder:b.remainder+z.remainder}},{output:[],remainder:0}),p=f.output;return p.slice(0,p.length-1).concat([bT(p[p.length-1],Math.round(f.remainder))])},$p=ug.from,Xb=(i,f,p)=>{He(f,b=>{const C=i.slice(b.column,b.colspan+b.column),z=Kb(C,al());As(b.element,"width",z+p)})},Yb=(i,f,p)=>{He(f,(b,C)=>{const z=Kb([i[C]],al());As(b.element,"width",z+p)})},z0=(i,f,p,b)=>{He(p,C=>{const z=i.slice(C.row,C.rowspan+C.row),B=Kb(z,uf());As(C.element,"height",B+b)}),He(f,(C,z)=>{As(C.element,"height",i[z])})},n2=i=>$p(i).fold(re("px"),re("px"),re("%")),Md=(i,f,p)=>{const b=so.fromTable(i),C=b.all,z=so.justCells(b),B=so.justColumns(b);f.each(U=>{const K=n2(U),ae=Pn(i),ke=Iu(b,i),rt=Pp(ke,ae,U);so.hasColumns(b)?Yb(rt,B,K):Xb(rt,z,K),As(i,"width",U)}),p.each(U=>{const K=n2(U),ae=au(i),ke=ng(b,i,Vl),rt=Pp(ke,ae,U);z0(rt,C,z,K),As(i,"height",U)})},dg=sp,o2=Sl,Ef=Hv,fg=i=>{ee(i,"width")},ey=i=>{const f=si(i);Md(i,ie.some(f),ie.none()),fg(i)},O0=i=>{const f=Yr(i);Md(i,ie.some(f),ie.none()),fg(i)},s2=i=>{Il(i,"width");const f=Nu(i),p=f.length>0?f:Uc(i);He(p,b=>{Il(b,"width"),fg(b)}),fg(i)},kT={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},r2=()=>fe.fromTag("th"),wT=()=>fe.fromTag("td"),_T=()=>fe.fromTag("col"),a2=(i,f,p,b)=>{const C=fe.fromTag("tr");for(let z=0;z<i;z++){const B=b<f||z<p?r2():wT();z<p&&ws(B,"scope","row"),b<f&&ws(B,"scope","col"),Ds(B,fe.fromTag("br")),Ds(C,B)}return C},CT=i=>{const f=fe.fromTag("colgroup");return _n(i,()=>Ds(f,_T())),f},Jb=(i,f,p,b)=>_n(i,C=>a2(f,p,b,C)),ST=(i,f,p,b,C,z=kT)=>{const B=fe.fromTag("table"),U=C!=="cells";Kr(B,z.styles),mr(B,z.attributes),z.colGroups&&Ds(B,CT(f));const K=Math.min(i,p);if(U&&p>0){const Tt=fe.fromTag("thead");Ds(B,Tt);const At=Jb(p,f,C==="sectionCells"?K:0,b);Hr(Tt,At)}const ae=fe.fromTag("tbody");Ds(B,ae);const ke=U?i-K:i,Dt=Jb(ke,f,U?0:p,b);return Hr(ae,Dt),B},xT=i=>i.dom.innerHTML,TT=i=>{const f=fe.fromTag("div"),p=fe.fromDom(i.dom.cloneNode(!0));return Ds(f,p),xT(f)},c2=(i,f)=>{i.selection.select(f.dom,!0),i.selection.collapse(!0)},ty=(i,f)=>{_i(f,"td,th").each(Vn(c2,i))},l2=(i,f)=>{He(nr(f,"tr"),p=>{Wb(i,p.dom),He(nr(p,"th,td"),b=>{E0(i,b.dom)})})},ET=i=>xo(i)&&i.indexOf("%")!==-1,AT=(i,f,p,b,C)=>{const z=im(i),B={styles:z,attributes:ya(i),colGroups:jv(i)};return i.undoManager.ignore(()=>{const U=ST(p,f,C,b,Vv(i),B);ws(U,"data-mce-id","__mce");const K=TT(U);i.insertContent(K),i.addVisual()}),_i(sg(i),'table[data-mce-id="__mce"]').map(U=>(Vu(i)?O0(U):Uu(i)?s2(U):(up(i)||ET(z.width))&&ey(U),xl(U),ee(U,"data-mce-id"),l2(i,U),ty(i,U),U.dom)).getOrNull()},zT=(i,f,p,b={})=>{const C=z=>mo(z)&&z>0;if(C(f)&&C(p)){const z=b.headerRows||0,B=b.headerColumns||0;return AT(i,p,f,B,z)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Qb=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const i2="x-tinymce/dom-table-",ny=i2+"rows",oy=i2+"columns",u2=i=>{const f=Qb.FakeClipboardItem(i);Qb.write([f])},D0=i=>{var f;const p=(f=Qb.read())!==null&&f!==void 0?f:[];return Ze(p,b=>ie.from(b.getType(i)))},R0=i=>{D0(i).isSome()&&Qb.clear()},N0=i=>{i.fold(d2,f=>u2({[ny]:f}))},M0=()=>D0(ny),d2=()=>R0(ny),Ip=i=>{i.fold(OT,f=>u2({[oy]:f}))},f2=()=>D0(oy),OT=()=>R0(oy),B0=i=>Jv(_f(i),wf(i)).filter(mp),DT=i=>Hh(_f(i),wf(i)).filter(mp),RT=(i,f)=>{const p=wf(i),b=()=>B0(i).each(qe=>{pc(qe,p).filter(Y(p)).each(Wt=>{const En=fe.fromText("");if(mc(Wt,En),tr(Wt),i.dom.isEmpty(i.getBody()))i.setContent(""),i.selection.setCursorLocation();else{const Jn=i.dom.createRng();Jn.setStart(En.dom,0),Jn.setEnd(En.dom,0),i.selection.setRng(Jn),i.nodeChanged()}})}),C=qe=>B0(i).each(Wt=>{Uu(i)||Vu(i)||up(i)||pc(Wt,p).each(Jn=>{qe==="relative"&&!dg(Jn)?ey(Jn):qe==="fixed"&&!o2(Jn)?O0(Jn):qe==="responsive"&&!Ef(Jn)&&s2(Jn),xl(Jn),mu(i,Jn.dom,Ua)})}),z=qe=>pc(qe,p),B=qe=>DT(i).bind(Wt=>z(Wt).map(En=>qe(En,Wt))),U=(qe,Wt)=>{B(En=>{i.formatter.toggle("tableclass",{value:Wt},En.dom),mu(i,En.dom,Tf)})},K=(qe,Wt)=>{B(En=>{const Jn=xd(i),lc=ct(Jn,Mr=>i.formatter.match("tablecellclass",{value:Wt},Mr.dom))?i.formatter.remove:i.formatter.apply;He(Jn,Mr=>lc("tablecellclass",{value:Wt},Mr.dom)),mu(i,En.dom,Tf)})},ae=()=>{B0(i).each(qe=>{pc(qe,p).each(Wt=>{ti(Wt,"caption").fold(()=>{const En=fe.fromTag("caption");Ds(En,fe.fromText("Caption")),cf(Wt,En,0),i.selection.setCursorLocation(En.dom,0)},En=>{ks("caption")(qe)&&er("td",Wt).each(Jn=>i.selection.setCursorLocation(Jn.dom,0)),tr(En)}),mu(i,Wt.dom,Ua)})})},ke=qe=>{i.focus()},rt=(qe,Wt=!1)=>B((En,Jn)=>{const js=Sd(xd(i),En,Jn);qe(En,js,Wt).each(ke)}),Dt=()=>B((qe,Wt)=>{const En=Sd(xd(i),qe,Wt),Jn=La(_t,fe.fromDom(i.getDoc()),ie.none());return pT(qe,En,Jn)}),Tt=()=>B((qe,Wt)=>{const En=Sd(xd(i),qe,Wt);return gT(qe,En)}),Xe=(qe,Wt)=>Wt().each(En=>{const Jn=Ht(En,js=>za(js));B((js,lc)=>{const Mr=wr(fe.fromDom(i.getDoc())),Kl=bp(xd(i),lc,Jn,Mr);qe(js,Kl).each(ke)})}),At=qe=>(Wt,En)=>Or(En,"type").each(Jn=>{rt(qe(Jn),En.no_events)});Bt({mceTableSplitCells:()=>rt(f.unmergeCells),mceTableMergeCells:()=>rt(f.mergeCells),mceTableInsertRowBefore:()=>rt(f.insertRowsBefore),mceTableInsertRowAfter:()=>rt(f.insertRowsAfter),mceTableInsertColBefore:()=>rt(f.insertColumnsBefore),mceTableInsertColAfter:()=>rt(f.insertColumnsAfter),mceTableDeleteCol:()=>rt(f.deleteColumn),mceTableDeleteRow:()=>rt(f.deleteRow),mceTableCutCol:()=>Tt().each(qe=>{Ip(qe),rt(f.deleteColumn)}),mceTableCutRow:()=>Dt().each(qe=>{N0(qe),rt(f.deleteRow)}),mceTableCopyCol:()=>Tt().each(qe=>Ip(qe)),mceTableCopyRow:()=>Dt().each(qe=>N0(qe)),mceTablePasteColBefore:()=>Xe(f.pasteColsBefore,f2),mceTablePasteColAfter:()=>Xe(f.pasteColsAfter,f2),mceTablePasteRowBefore:()=>Xe(f.pasteRowsBefore,M0),mceTablePasteRowAfter:()=>Xe(f.pasteRowsAfter,M0),mceTableDelete:b,mceTableCellToggleClass:K,mceTableToggleClass:U,mceTableToggleCaption:ae,mceTableSizingMode:(qe,Wt)=>C(Wt),mceTableCellType:At(qe=>qe==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:At(qe=>qe==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:At(qe=>{switch(qe){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(qe,Wt)=>i.addCommand(Wt,qe)),i.addCommand("mceInsertTable",(qe,Wt)=>{zT(i,Wt.rows,Wt.columns,Wt.options)}),i.addCommand("mceTableApplyCellStyle",(qe,Wt)=>{const En=lc=>"tablecell"+lc.toLowerCase().replace("-","");if(!yt(Wt))return;const Jn=at(xd(i),mp);if(Jn.length===0)return;const js=ts(Wt,(lc,Mr)=>i.formatter.has(En(Mr))&&xo(lc));ca(js)||(Bt(js,(lc,Mr)=>{const Kl=En(Mr);He(Jn,Dg=>{lc===""?i.formatter.remove(Kl,{value:null},Dg.dom,!0):i.formatter.apply(Kl,{value:lc},Dg.dom)})}),z(Jn[0]).each(lc=>mu(i,lc.dom,Tf)))})},mg=(i,f)=>{const p=wf(i),b=C=>Hh(_f(i)).bind(z=>pc(z,p).map(B=>{const U=Sd(xd(i),B,z);return C(B,U)})).getOr("");Bt({mceTableRowType:()=>b(f.getTableRowType),mceTableCellType:()=>b(f.getTableCellType),mceTableColType:()=>b(f.getTableColType)},(C,z)=>i.addQueryValueHandler(z,C))},P0=Od.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sy=(i,f,p,b)=>i.fold(f,p,b),NT=i=>i.fold(sn,sn,sn),MT=P0.before,$0=P0.on,m2=P0.after,el={before:MT,on:$0,after:m2,cata:sy,getStart:NT},Bd={create:(i,f)=>({selection:i,kill:f})},Af=(i,f)=>{const p=i.document.createRange();return p.selectNode(f.dom),p},g2=(i,f)=>{const p=i.document.createRange();return I0(p,f),p},I0=(i,f)=>i.selectNodeContents(f.dom),PT=(i,f)=>{f.fold(p=>{i.setStartBefore(p.dom)},(p,b)=>{i.setStart(p.dom,b)},p=>{i.setStartAfter(p.dom)})},p2=(i,f)=>{f.fold(p=>{i.setEndBefore(p.dom)},(p,b)=>{i.setEnd(p.dom,b)},p=>{i.setEndAfter(p.dom)})},e1=(i,f,p)=>{const b=i.document.createRange();return PT(b,f),p2(b,p),b},ry=(i,f,p,b,C)=>{const z=i.document.createRange();return z.setStart(f.dom,p),z.setEnd(b.dom,C),z},fl=i=>({left:i.left,top:i.top,right:i.right,bottom:i.bottom,width:i.width,height:i.height}),$T=i=>{const f=i.getClientRects(),p=f.length>0?f[0]:i.getBoundingClientRect();return p.width>0||p.height>0?ie.some(p).map(fl):ie.none()},ay=Od.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),gg=(i,f,p)=>f(fe.fromDom(p.startContainer),p.startOffset,fe.fromDom(p.endContainer),p.endOffset),xm=(i,f)=>f.match({domRange:p=>({ltr:re(p),rtl:ie.none}),relative:(p,b)=>({ltr:nu(()=>e1(i,p,b)),rtl:nu(()=>ie.some(e1(i,b,p)))}),exact:(p,b,C,z)=>({ltr:nu(()=>ry(i,p,b,C,z)),rtl:nu(()=>ie.some(ry(i,C,z,p,b)))})}),t1=(i,f)=>{const p=f.ltr();return p.collapsed?f.rtl().filter(C=>C.collapsed===!1).map(C=>ay.rtl(fe.fromDom(C.endContainer),C.endOffset,fe.fromDom(C.startContainer),C.startOffset)).getOrThunk(()=>gg(i,ay.ltr,p)):gg(i,ay.ltr,p)},Fp=(i,f)=>{const p=xm(i,f);return t1(i,p)},n1=(i,f)=>Fp(i,f).match({ltr:(b,C,z,B)=>{const U=i.document.createRange();return U.setStart(b.dom,C),U.setEnd(z.dom,B),U},rtl:(b,C,z,B)=>{const U=i.document.createRange();return U.setStart(z.dom,B),U.setEnd(b.dom,C),U}});ay.ltr,ay.rtl;const Ii={create:(i,f,p,b)=>({start:i,soffset:f,finish:p,foffset:b})},F0={create:(i,f,p,b)=>({start:el.on(i,f),finish:el.on(p,b)})},cy=(i,f)=>{const p=n1(i,f);return Ii.create(fe.fromDom(p.startContainer),p.startOffset,fe.fromDom(p.endContainer),p.endOffset)},ly=F0.create,Lp=(i,f,p,b,C,z,B)=>ho(p,C)&&b===z?ie.none():Rs(p,"td,th",f).bind(U=>Rs(C,"td,th",f).bind(K=>Tm(i,f,U,K,B))),Tm=(i,f,p,b,C)=>ho(p,b)?ie.none():Sb(p,b,f).bind(z=>{const B=z.boxes.getOr([]);return B.length>1?(C(i,B,z.start,z.finish),ie.some(Bd.create(ie.some(ly(p,0,p,Fo(p))),!0))):ie.none()}),o1=(i,f,p,b,C)=>{const z=B=>(C.clearBeforeUpdate(p),C.selectRange(p,B.boxes,B.start,B.finish),B.boxes);return r_(b,i,f,C.firstSelectedSelector,C.lastSelectedSelector).map(z)},s1=(i,f)=>({item:i,mode:f}),Hp=(i,f,p,b=gu)=>i.property().parent(f).map(C=>s1(C,b)),gu=(i,f,p,b=Vp)=>p.sibling(i,f).map(C=>s1(C,b)),Vp=(i,f,p,b=Vp)=>{const C=i.property().children(f);return p.first(C).map(B=>s1(B,b))},r1=[{current:Hp,next:gu,fallback:ie.none()},{current:gu,next:Vp,fallback:ie.some(Hp)},{current:Vp,next:Vp,fallback:ie.some(gu)}],Up=(i,f,p,b,C=r1)=>I(C,B=>B.current===p).bind(B=>B.current(i,f,b,B.next).orThunk(()=>B.fallback.bind(U=>Up(i,f,U,b)))),pu={left:()=>({sibling:(p,b)=>p.query().prevSibling(b),first:p=>p.length>0?ie.some(p[p.length-1]):ie.none()}),right:()=>({sibling:(p,b)=>p.query().nextSibling(b),first:p=>p.length>0?ie.some(p[0]):ie.none()})},iy=(i,f,p,b,C,z)=>Up(i,f,b,C).bind(U=>z(U.item)?ie.none():p(U.item)?ie.some(U.item):iy(i,U.item,p,U.mode,C,z)),a1=(i,f,p,b)=>iy(i,f,p,gu,pu.left(),b),hg=(i,f,p,b)=>iy(i,f,p,gu,pu.right(),b),c1=i=>f=>i.property().children(f).length===0,l1=(i,f,p)=>L0(i,f,c1(i),p),FT=(i,f,p)=>H0(i,f,c1(i),p),L0=a1,H0=hg,i1=rg(),u1=(i,f)=>l1(i1,i,f),qu=(i,f)=>FT(i1,i,f),LT=(i,f,p)=>L0(i1,i,f,p),HT=(i,f,p)=>H0(i1,i,f,p),y2=(i,f,p)=>Oa(i,f,p).isSome(),jp=Od.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),VT=(i,f,p)=>{const b=i.getRect(f),C=i.getRect(p);return C.right>b.left&&C.left<b.right},rO=i=>Rs(i,"tr"),Pd={...jp,verify:(i,f,p,b,C,z,B)=>Rs(b,"td,th",B).bind(U=>Rs(f,"td,th",B).map(K=>ho(U,K)?ho(b,U)&&Fo(U)===C?z(K):jp.none("in same cell"):iu(rO,[U,K]).fold(()=>VT(i,K,U)?jp.success():z(K),ae=>z(K)))).getOr(jp.none("default")),cata:(i,f,p,b,C)=>i.fold(f,p,b,C)},Mc=(i,f,p,b)=>({parent:i,children:f,element:p,index:b}),Em=i=>qr(i).bind(f=>{const p=$o(f);return cc(p,i).map(b=>Mc(f,p,i,b))}),cc=(i,f)=>dt(i,Vn(ho,f)),ja=ks("br"),kc=(i,f,p)=>f(i,p).bind(b=>qa(b)&&bn(b).trim().length===0?kc(b,f,p):ie.some(b)),li=(i,f,p)=>p.traverse(f).orThunk(()=>kc(f,p.gather,i)).map(p.relative),d1=(i,f)=>Ea(i,f).filter(ja).orThunk(()=>Ea(i,f-1).filter(ja)),hu=(i,f,p,b)=>d1(f,p).bind(C=>b.traverse(C).fold(()=>kc(C,b.gather,i).map(b.relative),z=>Em(z).map(B=>el.on(B.parent,B.index)))),yg=(i,f,p,b)=>(ja(f)?li(i,f,b):hu(i,f,p,b)).map(z=>({start:z,finish:z})),UT=i=>Pd.cata(i,f=>ie.none(),()=>ie.none(),f=>ie.some(dl(f,0)),f=>ie.some(dl(f,Fo(f)))),$d=(i,f)=>({left:i.left,top:i.top+f,right:i.right,bottom:i.bottom+f}),uy=(i,f)=>({left:i.left,top:i.top-f,right:i.right,bottom:i.bottom-f}),f1=(i,f,p)=>({left:i.left+f,top:i.top+p,right:i.right+f,bottom:i.bottom+p}),Id=i=>i.top,dy=i=>i.bottom,m1=(i,f,p)=>p>=0&&p<Fo(f)?i.getRangedRect(f,p,f,p+1):p>0?i.getRangedRect(f,p-1,f,p):ie.none(),bg=i=>({left:i.left,top:i.top,right:i.right,bottom:i.bottom}),V0=(i,f)=>ie.some(i.getRect(f)),b2=(i,f,p)=>br(f)?V0(i,f).map(bg):qa(f)?m1(i,f,p).map(bg):ie.none(),U0=(i,f)=>br(f)?V0(i,f).map(bg):qa(f)?i.getRangedRect(f,0,f,Fo(f)).map(bg):ie.none(),zf=5,v2=100,yu=Od.generate([{none:[]},{retry:["caret"]}]),j0=(i,f)=>i.left<f.left||Math.abs(f.right-i.left)<1||i.left>f.right,W0=(i,f,p)=>Ss(f,Bp).fold(nn,b=>U0(i,b).exists(C=>j0(p,C))),jT=(i,f,p,b,C)=>{const z=$d(C,zf);return Math.abs(p.bottom-b.bottom)<1||p.top>C.bottom?yu.retry(z):p.top===C.bottom?yu.retry($d(C,1)):W0(i,f,C)?yu.retry(f1(z,zf,0)):yu.none()},WT={point:Id,adjuster:(i,f,p,b,C)=>{const z=uy(C,zf);return Math.abs(p.top-b.top)<1||p.bottom<C.top?yu.retry(z):p.bottom===C.top?yu.retry(uy(C,1)):W0(i,f,C)?yu.retry(f1(z,zf,0)):yu.none()},move:uy,gather:u1},ZT={point:dy,adjuster:jT,move:$d,gather:qu},k2=(i,f,p)=>i.elementFromPoint(f,p).filter(b=>us(b)==="table").isSome(),Fi=(i,f,p,b,C)=>Z0(i,f,p,f.move(b,zf),C),Z0=(i,f,p,b,C)=>C===0?ie.some(b):k2(i,b.left,f.point(b))?Fi(i,f,p,b,C-1):i.situsFromPoint(b.left,f.point(b)).bind(z=>z.start.fold(ie.none,B=>U0(i,B).bind(U=>f.adjuster(i,B,U,p,b).fold(ie.none,K=>Z0(i,f,p,K,C-1))).orThunk(()=>ie.some(b)),ie.none)),g1=(i,f,p)=>i.point(f)>p.getInnerHeight()?ie.some(i.point(f)-p.getInnerHeight()):i.point(f)<0?ie.some(-i.point(f)):ie.none(),Wp=(i,f,p)=>{const b=i.move(p,zf),C=Z0(f,i,p,b,v2).getOr(b);return g1(i,C,f).fold(()=>f.situsFromPoint(C.left,i.point(C)),z=>(f.scrollBy(0,z),f.situsFromPoint(C.left,i.point(C)-z)))},fy={tryUp:Vn(Wp,WT),tryDown:Vn(Wp,ZT),getJumpSize:re(zf)},qT=20,lO=(i,f,p)=>i.getSelection().bind(b=>yg(f,b.finish,b.foffset,p).fold(()=>ie.some(dl(b.finish,b.foffset)),C=>{const z=i.fromSitus(C),B=Pd.verify(i,b.finish,b.foffset,z.finish,z.foffset,p.failure,f);return UT(B)})),my=(i,f,p,b,C,z)=>z===0?ie.none():Zp(i,f,p,b,C).bind(B=>{const U=i.fromSitus(B),K=Pd.verify(i,p,b,U.finish,U.foffset,C.failure,f);return Pd.cata(K,()=>ie.none(),()=>ie.some(B),ae=>ho(p,ae)&&b===0?Eo(i,p,b,uy,C):my(i,f,ae,0,C,z-1),ae=>ho(p,ae)&&b===Fo(ae)?Eo(i,p,b,$d,C):my(i,f,ae,Fo(ae),C,z-1))}),Eo=(i,f,p,b,C)=>b2(i,f,p).bind(z=>Of(i,C,b(z,fy.getJumpSize()))),Of=(i,f,p)=>{const b=Kg().browser;return b.isChromium()||b.isSafari()||b.isFirefox()?f.retry(i,p):ie.none()},Zp=(i,f,p,b,C)=>b2(i,p,b).bind(z=>Of(i,C,z)),p1=(i,f,p)=>lO(i,f,p).bind(b=>my(i,f,b.element,b.offset,p,qT).map(i.fromSitus)),w2=(i,f)=>y2(i,p=>qr(p).exists(b=>ho(b,f))),h1=(i,f,p,b,C)=>Rs(b,"td,th",f).bind(z=>Rs(z,"table",f).bind(B=>w2(C,B)?p1(i,f,p).bind(U=>Rs(U.finish,"td,th",f).map(K=>({start:z,finish:K,range:U}))):ie.none())),gy=(i,f,p,b,C,z)=>z(b,f).orThunk(()=>h1(i,f,p,b,C).map(B=>{const U=B.range;return Bd.create(ie.some(ly(U.start,U.soffset,U.finish,U.foffset)),!0)})),py=(i,f)=>Rs(i,"tr",f).bind(p=>Rs(p,"table",f).bind(b=>{const C=nr(b,"tr");return ho(p,C[0])?LT(b,z=>bf(z).isSome(),f).map(z=>{const B=Fo(z);return Bd.create(ie.some(ly(z,B,z,B)),!0)}):ie.none()})),q0=(i,f)=>Rs(i,"tr",f).bind(p=>Rs(p,"table",f).bind(b=>{const C=nr(b,"tr");return ho(p,C[C.length-1])?HT(b,z=>Kc(z).isSome(),f).map(z=>Bd.create(ie.some(ly(z,0,z,0)),!0)):ie.none()})),G0=(i,f,p,b,C,z,B)=>h1(i,p,b,C,z).bind(U=>Tm(f,p,U.start,U.finish,B)),_2=i=>{let f=i;return{get:()=>f,set:C=>{f=C}}},iO=i=>{const f=_2(ie.none()),p=()=>f.get().each(i);return{clear:()=>{p(),f.set(ie.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:U=>{p(),f.set(ie.some(U))}}},y1=()=>{const i=iO(_t);return{...i,on:p=>i.get().each(p)}},vg=(i,f)=>Rs(i,"td,th",f),b1=i=>Lr(i).exists(fp),GT=(i,f,p,b)=>{const C=y1(),z=C.clear,B=ke=>{C.on(rt=>{b.clearBeforeUpdate(f),vg(ke.target,p).each(Dt=>{Sb(rt,Dt,p).each(Tt=>{const Xe=Tt.boxes.getOr([]);if(Xe.length===1){const At=Xe[0],qe=Wv(At)==="false",Wt=or(og(ke.target),At,ho);qe&&Wt&&(b.selectRange(f,Xe,At,At),i.selectContents(At))}else Xe.length>1&&(b.selectRange(f,Xe,Tt.start,Tt.finish),i.selectContents(Dt))})})})};return{clearstate:z,mousedown:ke=>{b.clear(f),vg(ke.target,p).filter(b1).each(C.set)},mouseover:ke=>{B(ke)},mouseup:ke=>{B(ke),z()}}},K0={traverse:vl,gather:qu,relative:el.before,retry:fy.tryDown,failure:Pd.failedDown},X0={traverse:bl,gather:u1,relative:el.before,retry:fy.tryUp,failure:Pd.failedUp},Df=i=>f=>f===i,v1=Df(38),qp=Df(40),Fd=i=>i>=37&&i<=40,Y0={isBackward:Df(37),isForward:Df(39)},C2={isBackward:Df(39),isForward:Df(37)},hy=i=>{const f=i!==void 0?i.dom:document,p=f.body.scrollLeft||f.documentElement.scrollLeft,b=f.body.scrollTop||f.documentElement.scrollTop;return Pu(p,b)},J0=(i,f,p)=>{const C=(p!==void 0?p.dom:document).defaultView;C&&C.scrollBy(i,f)},k1=Od.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),kg=i=>k1.exact(i.start,i.soffset,i.finish,i.foffset),S2=i=>i.match({domRange:f=>fe.fromDom(f.startContainer),relative:(f,p)=>el.getStart(f),exact:(f,p,b,C)=>f}),KT=k1.domRange,x2=k1.relative,Q0=k1.exact,Gp=i=>{const f=S2(i);return uo(f)},ek=Ii.create,Kp={domRange:KT,relative:x2,exact:Q0,exactFromRange:kg,getWin:Gp,range:ek},XT=(i,f,p)=>{var b,C;return ie.from((C=(b=i.dom).caretPositionFromPoint)===null||C===void 0?void 0:C.call(b,f,p)).bind(z=>{if(z.offsetNode===null)return ie.none();const B=i.dom.createRange();return B.setStart(z.offsetNode,z.offset),B.collapse(),ie.some(B)})},Pt=(i,f,p)=>{var b,C;return ie.from((C=(b=i.dom).caretRangeFromPoint)===null||C===void 0?void 0:C.call(b,f,p))},_r=(()=>document.caretPositionFromPoint?XT:document.caretRangeFromPoint?Pt:ie.none)(),Xp=(i,f,p)=>{const b=fe.fromDom(i.document);return _r(b,f,p).map(C=>Ii.create(fe.fromDom(C.startContainer),C.startOffset,fe.fromDom(C.endContainer),C.endOffset))},Wr=(i,f)=>{const p=us(i);return p==="input"?el.after(i):cn(["br","img"],p)?f===0?el.before(i):el.after(i):el.on(i,f)},ql=(i,f)=>{const p=i.fold(el.before,Wr,el.after),b=f.fold(el.before,Wr,el.after);return Kp.relative(p,b)},tk=(i,f,p,b)=>{const C=Wr(i,f),z=Wr(p,b);return Kp.relative(C,z)},wg=(i,f,p,b)=>{const z=gr(i).dom.createRange();return z.setStart(i.dom,f),z.setEnd(p.dom,b),z},yy=(i,f,p,b)=>{const C=wg(i,f,p,b),z=ho(i,p)&&f===b;return C.collapsed&&!z},w1=i=>ie.from(i.getSelection()),T2=(i,f)=>{w1(i).each(p=>{p.removeAllRanges(),p.addRange(f)})},Li=(i,f,p,b,C)=>{const z=ry(i,f,p,b,C);T2(i,z)},YT=(i,f,p,b,C,z)=>{f.collapse(p.dom,b),f.extend(C.dom,z)},E2=(i,f)=>Fp(i,f).match({ltr:(p,b,C,z)=>{Li(i,p,b,C,z)},rtl:(p,b,C,z)=>{w1(i).each(B=>{if(B.setBaseAndExtent)B.setBaseAndExtent(p.dom,b,C.dom,z);else if(B.extend)try{YT(i,B,p,b,C,z)}catch{Li(i,C,z,p,b)}else Li(i,C,z,p,b)})}}),ii=(i,f,p,b,C)=>{const z=tk(f,p,b,C);E2(i,z)},wa=(i,f,p)=>{const b=ql(f,p);E2(i,b)},A2=i=>{if(i.rangeCount>0){const f=i.getRangeAt(0),p=i.getRangeAt(i.rangeCount-1);return ie.some(Ii.create(fe.fromDom(f.startContainer),f.startOffset,fe.fromDom(p.endContainer),p.endOffset))}else return ie.none()},_1=i=>{if(i.anchorNode===null||i.focusNode===null)return A2(i);{const f=fe.fromDom(i.anchorNode),p=fe.fromDom(i.focusNode);return yy(f,i.anchorOffset,p,i.focusOffset)?ie.some(Ii.create(f,i.anchorOffset,p,i.focusOffset)):A2(i)}},Ld=(i,f,p=!0)=>{const C=(p?g2:Af)(i,f);T2(i,C)},by=i=>w1(i).filter(f=>f.rangeCount>0).bind(_1),vy=i=>by(i).map(f=>Kp.exact(f.start,f.soffset,f.finish,f.foffset)),C1=(i,f)=>{const p=n1(i,f);return $T(p)},nk=(i,f,p)=>Xp(i,f,p),z2=i=>{w1(i).each(f=>f.removeAllRanges())},_g=i=>({elementFromPoint:(qe,Wt)=>fe.fromPoint(fe.fromDom(i.document),qe,Wt),getRect:qe=>qe.dom.getBoundingClientRect(),getRangedRect:(qe,Wt,En,Jn)=>{const js=Kp.exact(qe,Wt,En,Jn);return C1(i,js)},getSelection:()=>vy(i).map(qe=>cy(i,qe)),fromSitus:qe=>{const Wt=Kp.relative(qe.start,qe.finish);return cy(i,Wt)},situsFromPoint:(qe,Wt)=>nk(i,qe,Wt).map(En=>F0.create(En.start,En.soffset,En.finish,En.foffset)),clearSelection:()=>{z2(i)},collapseSelection:(qe=!1)=>{vy(i).each(Wt=>Wt.fold(En=>En.collapse(qe),(En,Jn)=>{const js=qe?En:Jn;wa(i,js,js)},(En,Jn,js,lc)=>{const Mr=qe?En:js,Kl=qe?Jn:lc;ii(i,Mr,Kl,Mr,Kl)}))},setSelection:qe=>{ii(i,qe.start,qe.soffset,qe.finish,qe.foffset)},setRelativeSelection:(qe,Wt)=>{wa(i,qe,Wt)},selectNode:qe=>{Ld(i,qe,!1)},selectContents:qe=>{Ld(i,qe)},getInnerHeight:()=>i.innerHeight,getScrollY:()=>hy(fe.fromDom(i.document)).top,scrollBy:(qe,Wt)=>{J0(qe,Wt,fe.fromDom(i.document))}}),Rf=(i,f)=>({rows:i,cols:f}),JT=(i,f,p,b)=>{const C=_g(i),z=GT(C,f,p,b);return{clearstate:z.clearstate,mousedown:z.mousedown,mouseover:z.mouseover,mouseup:z.mouseup}},ok=i=>Ss(i,yn).exists(fp),S1=(i,f)=>ok(i)||ok(f),O2=(i,f,p,b)=>{const C=_g(i),z=()=>(b.clear(f),ie.none());return{keydown:(K,ae,ke,rt,Dt,Tt)=>{const Xe=K.raw,At=Xe.which,qe=Xe.shiftKey===!0;return hp(f,b.selectedSelector).fold(()=>(Fd(At)&&!qe&&b.clearBeforeUpdate(f),Fd(At)&&qe&&!S1(ae,rt)?ie.none:qp(At)&&qe?Vn(G0,C,f,p,K0,rt,ae,b.selectRange):v1(At)&&qe?Vn(G0,C,f,p,X0,rt,ae,b.selectRange):qp(At)?Vn(gy,C,p,K0,rt,ae,q0):v1(At)?Vn(gy,C,p,X0,rt,ae,py):ie.none),En=>{const Jn=js=>()=>Ze(js,Mr=>o1(Mr.rows,Mr.cols,f,En,b)).fold(()=>Xv(f,b.firstSelectedSelector,b.lastSelectedSelector).map(Mr=>{const Kl=qp(At)||Tt.isForward(At)?el.after:el.before;return C.setRelativeSelection(el.on(Mr.first,0),Kl(Mr.table)),b.clear(f),Bd.create(ie.none(),!0)}),Mr=>ie.some(Bd.create(ie.none(),!0)));return Fd(At)&&qe&&!S1(ae,rt)?ie.none:qp(At)&&qe?Jn([Rf(1,0)]):v1(At)&&qe?Jn([Rf(-1,0)]):Tt.isBackward(At)&&qe?Jn([Rf(0,-1),Rf(-1,0)]):Tt.isForward(At)&&qe?Jn([Rf(0,1),Rf(1,0)]):Fd(At)&&!qe?z:ie.none})()},keyup:(K,ae,ke,rt,Dt)=>hp(f,b.selectedSelector).fold(()=>{const Tt=K.raw,Xe=Tt.which;return Tt.shiftKey===!0&&Fd(Xe)&&S1(ae,rt)?Lp(f,p,ae,ke,rt,Dt,b.selectRange):ie.none()},ie.none)}},sk=(i,f,p,b)=>{const C=_g(i);return(z,B)=>{b.clearBeforeUpdate(f),Sb(z,B,p).each(U=>{const K=U.boxes.getOr([]);b.selectRange(f,K,U.start,U.finish),C.selectContents(B),C.collapseSelection()})}},Cg=(i,f)=>{const p=_s(i,f);return p===void 0||p===""?[]:p.split(" ")},D2=(i,f,p)=>{const C=Cg(i,f).concat([p]);return ws(i,f,C.join(" ")),!0},Hd=(i,f,p)=>{const b=at(Cg(i,f),C=>C!==p);return b.length>0?ws(i,f,b.join(" ")):ee(i,f),!1},Zr=i=>i.dom.classList!==void 0,bu=i=>Cg(i,"class"),Hi=(i,f)=>D2(i,"class",f),x1=(i,f)=>Hd(i,"class",f),Ku=(i,f)=>{Zr(i)?i.dom.classList.add(f):Hi(i,f)},R2=i=>{(Zr(i)?i.dom.classList:bu(i)).length===0&&ee(i,"class")},rk=(i,f)=>{Zr(i)?i.dom.classList.remove(f):x1(i,f),R2(i)},T1=(i,f)=>Zr(i)&&i.dom.classList.contains(f),ak=(i,f)=>{He(f,p=>{rk(i,p)})},QT=i=>f=>{Ku(f,i)},E1=i=>f=>{ak(f,i)},ck={byClass:i=>{const f=QT(i.selected),p=E1([i.selected,i.lastSelected,i.firstSelected]),b=z=>{const B=nr(z,i.selectedSelector);He(B,p)};return{clearBeforeUpdate:b,clear:b,selectRange:(z,B,U,K)=>{b(z),He(B,f),Ku(U,i.firstSelected),Ku(K,i.lastSelected)},selectedSelector:i.selectedSelector,firstSelectedSelector:i.firstSelectedSelector,lastSelectedSelector:i.lastSelectedSelector}},byAttr:(i,f,p)=>{const b=K=>{ee(K,i.selected),ee(K,i.firstSelected),ee(K,i.lastSelected)},C=K=>{ws(K,i.selected,"1")},z=K=>{B(K),p()},B=K=>{const ae=nr(K,`${i.selectedSelector},${i.firstSelectedSelector},${i.lastSelectedSelector}`);He(ae,b)};return{clearBeforeUpdate:B,clear:z,selectRange:(K,ae,ke,rt)=>{z(K),He(ae,C),ws(ke,i.firstSelected,"1"),ws(rt,i.lastSelected,"1"),f(ae,ke,rt)},selectedSelector:i.selectedSelector,firstSelectedSelector:i.firstSelectedSelector,lastSelectedSelector:i.lastSelectedSelector}}},lk=(i,f,p,b)=>{switch(i.tag){case"none":return f();case"single":return b(i.element);case"multiple":return p(i.elements)}},Ps=()=>({tag:"none"}),Nf=i=>({tag:"multiple",elements:i}),M2=i=>({tag:"single",element:i}),B2=(i,f,p)=>({get:()=>xb(i(),p).fold(()=>f().fold(Ps,M2),Nf)}),P2=(i,f)=>{const p=i.slice(0,f[f.length-1].row+1),b=Sp(p);return Mt(b,C=>{const z=C.cells.slice(0,f[f.length-1].column+1);return Ht(z,B=>B.element)})},ik=(i,f)=>{const p=i.slice(f[0].row+f[0].rowspan-1,i.length),b=Sp(p);return Mt(b,C=>{const z=C.cells.slice(f[0].column+f[0].colspan-1,C.cells.length);return Ht(z,B=>B.element)})},$2=(i,f,p)=>{const b=so.fromTable(i);return Ed(b,f).map(z=>{const B=Bi(b,p,!1),{rows:U}=Xa(B),K=P2(U,z),ae=ik(U,z);return{upOrLeftCells:K,downOrRightCells:ae}})},uk=(i,f,p,b,C,z,B)=>({target:i,x:f,y:p,stop:b,prevent:C,kill:z,raw:B}),I2=i=>{const f=fe.fromDom(To(i).getOr(i.target)),p=()=>i.stopPropagation(),b=()=>i.preventDefault(),C=Ao(b,p);return uk(f,i.clientX,i.clientY,p,b,C,i)},F2=(i,f)=>p=>{i(p)&&f(I2(p))},dk=(i,f,p,b,C)=>{const z=F2(p,b);return i.dom.addEventListener(f,z,C),{unbind:Vn(fk,i,f,z,C)}},L2=(i,f,p,b)=>dk(i,f,p,b,!1),fk=(i,f,p,b)=>{i.dom.removeEventListener(f,p,b)},H2=Le,Sg=(i,f,p)=>L2(i,f,H2,p),Yp=I2,mk=i=>!T1(fe.fromDom(i.target),"ephox-snooker-resizer-bar"),eE=(i,f)=>{const p=B2(()=>fe.fromDom(i.getBody()),()=>Hh(_f(i),wf(i)),uu.selectedSelector),b=(K,ae,ke)=>{pc(ae).each(Dt=>{const Tt=e_(i),Xe=La(_t,fe.fromDom(i.getDoc()),Tt),At=xd(i),qe=$2(Dt,{selection:At},Xe);Os(i,K,ae,ke,qe)})},C=()=>K_(i),z=ck.byAttr(uu,b,C);return i.on("init",K=>{const ae=i.getWin(),ke=sg(i),rt=wf(i),Dt=()=>{const ps=i.selection,ml=fe.fromDom(ps.getStart()),tl=fe.fromDom(ps.getEnd());iu(pc,[ml,tl]).fold(()=>z.clear(ke),_t)},Tt=JT(ae,ke,rt,z),Xe=O2(ae,ke,rt,z),At=sk(ae,ke,rt,z),qe=ps=>ps.raw.shiftKey===!0;i.on("TableSelectorChange",ps=>At(ps.start,ps.finish));const Wt=(ps,ml)=>{qe(ps)&&(ml.kill&&ps.kill(),ml.selection.each(tl=>{const vu=Kp.relative(tl.start,tl.finish),di=n1(ae,vu);i.selection.setRng(di)}))},En=ps=>{const ml=Yp(ps);if(ml.raw.shiftKey&&Fd(ml.raw.which)){const tl=i.selection.getRng(),vu=fe.fromDom(tl.startContainer),di=fe.fromDom(tl.endContainer);Xe.keyup(ml,vu,tl.startOffset,di,tl.endOffset).each(Rg=>{Wt(ml,Rg)})}},Jn=ps=>{const ml=Yp(ps);f.hide();const tl=i.selection.getRng(),vu=fe.fromDom(tl.startContainer),di=fe.fromDom(tl.endContainer),Rg=tp(Y0,C2)(fe.fromDom(i.selection.getStart()));Xe.keydown(ml,vu,tl.startOffset,di,tl.endOffset,Rg).each(gl=>{Wt(ml,gl)}),f.show()},js=ps=>ps.button===0,lc=ps=>ps.buttons===void 0?!0:(ps.buttons&1)!==0,Mr=ps=>{Tt.clearstate()},Kl=ps=>{js(ps)&&mk(ps)&&Tt.mousedown(Yp(ps))},Dg=ps=>{lc(ps)&&mk(ps)&&Tt.mouseover(Yp(ps))},Om=ps=>{js(ps)&&mk(ps)&&Tt.mouseup(Yp(ps))},xy=(()=>{const ps=_2(fe.fromDom(ke)),ml=_2(0);return{touchEnd:vu=>{const di=fe.fromDom(vu.target);if(ks("td")(di)||ks("th")(di)){const Rg=ps.get(),gl=ml.get();ho(Rg,di)&&vu.timeStamp-gl<300&&(vu.preventDefault(),At(di,di))}ps.set(di),ml.set(vu.timeStamp)}}})();i.on("dragstart",Mr),i.on("mousedown",Kl),i.on("mouseover",Dg),i.on("mouseup",Om),i.on("touchend",xy.touchEnd),i.on("keyup",En),i.on("keydown",Jn),i.on("NodeChange",Dt)}),i.on("PreInit",()=>{i.serializer.addTempAttr(uu.firstSelected),i.serializer.addTempAttr(uu.lastSelected)}),{getSelectedCells:()=>lk(p.get(),re([]),K=>Ht(K,ae=>ae.dom),K=>[K.dom]),clearSelectedCells:K=>z.clear(fe.fromDom(K))}},ea=i=>{let f=[];return{bind:z=>{if(z===void 0)throw new Error("Event bind error: undefined handler");f.push(z)},unbind:z=>{f=at(f,B=>B!==z)},trigger:(...z)=>{const B={};He(i,(U,K)=>{B[U]=z[K]}),He(f,U=>{U(B)})}}},_a=i=>{const f=go(i,b=>({bind:b.bind,unbind:b.unbind})),p=go(i,b=>b.trigger);return{registry:f,trigger:p}},Jp=(i,f)=>{let p=null;const b=()=>{Hn(p)||(clearTimeout(p),p=null)};return{cancel:b,throttle:(...z)=>{b(),p=setTimeout(()=>{p=null,i.apply(null,z)},f)}}},wy=i=>i.slice(0).sort(),tE=(i,f)=>{throw new Error("All required keys ("+wy(i).join(", ")+") were not specified. Specified keys were: "+wy(f).join(", ")+".")},Ut=i=>{throw new Error("Unsupported keys for object: "+wy(i).join(", "))},ro=(i,f)=>{if(!Yn(f))throw new Error("The "+i+" fields must be an array. Was: "+f+".");He(f,p=>{if(!xo(p))throw new Error("The value "+p+" in the "+i+" fields was not a string.")})},nE=(i,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+wy(i).join(", ")+") were not.")},gk=i=>{const f=wy(i);I(f,(b,C)=>C<f.length-1&&b===f[C+1]).each(b=>{throw new Error("The field: "+b+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},Qp=(i,f)=>pk(i,f,{validate:qo,label:"function"}),pk=(i,f,p)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return ro("required",f),gk(f),b=>{const C=Be(b);ct(f,U=>cn(C,U))||tE(f,C),i(f,C);const B=at(f,U=>!p.validate(b[U],U));return B.length>0&&nE(B,p.label),b}},oE=(i,f)=>{const p=at(f,b=>!cn(i,b));p.length>0&&Ut(p)},A1=i=>Qp(oE,i),sE=A1(["compare","extract","mutate","sink"]),rE=A1(["element","start","stop","destroy"]),V2=A1(["forceDrop","drop","move","delayDrop"]),_y=()=>{let i=ie.none();const f=()=>{i=ie.none()},p=(z,B)=>{const U=i.map(K=>z.compare(K,B));return i=ie.some(B),U},b=(z,B)=>{B.extract(z).each(K=>{p(B,K).each(ke=>{C.trigger.move(ke)})})},C=_a({move:ea(["info"])});return{onEvent:b,reset:f,events:C.registry}},xg=()=>{const i=_a({move:ea(["info"])});return{onEvent:_t,reset:_t,events:i.registry}},hk=()=>{const i=xg(),f=_y();let p=i;return{on:()=>{p.reset(),p=f},off:()=>{p.reset(),p=i},isOn:()=>p===f,onEvent:(U,K)=>{p.onEvent(U,K)},events:f.events}},uO=(i,f,p)=>{let b=!1;const C=_a({start:ea([]),stop:ea([])}),z=hk(),B=()=>{Xe.stop(),z.isOn()&&(z.off(),C.trigger.stop())},U=Jp(B,200),K=qe=>{Xe.start(qe),z.on(),C.trigger.start()},ae=qe=>{U.cancel(),z.onEvent(qe,f)};z.events.move.bind(qe=>{f.mutate(i,qe.info)});const ke=()=>{b=!0},rt=()=>{b=!1},Dt=()=>b,Tt=qe=>(...Wt)=>{b&&qe.apply(null,Wt)},Xe=f.sink(V2({forceDrop:B,drop:Tt(B),move:Tt(ae),delayDrop:Tt(U.throttle)}),p),At=()=>{Xe.destroy()};return{element:Xe.element,go:K,on:ke,off:rt,isActive:Dt,destroy:At,events:C.registry}},U2=i=>{const f=i.replace(/\./g,"-");return{resolve:b=>f+"-"+b}},dO=U2("ephox-dragster").resolve,j2=i=>{const f={layerClass:dO("blocker"),...i},p=fe.fromTag("div");return ws(p,"role","presentation"),Kr(p,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ku(p,dO("blocker")),Ku(p,f.layerClass),{element:re(p),destroy:()=>{tr(p)}}};var yk=sE({compare:(i,f)=>Pu(f.left-i.left,f.top-i.top),extract:i=>ie.some(Pu(i.x,i.y)),sink:(i,f)=>{const p=j2(f),b=Sg(p.element(),"mousedown",i.forceDrop),C=Sg(p.element(),"mouseup",i.drop),z=Sg(p.element(),"mousemove",i.move),B=Sg(p.element(),"mouseout",i.delayDrop),U=()=>{p.destroy(),C.unbind(),z.unbind(),B.unbind(),b.unbind()},K=ke=>{Ds(ke,p.element())},ae=()=>{tr(p.element())};return rE({element:p.element,start:K,stop:ae,destroy:U})},mutate:(i,f)=>{i.mutate(f.left,f.top)}});const Cy=(i,f={})=>{var p;const b=(p=f.mode)!==null&&p!==void 0?p:yk;return uO(i,b,f)},z1=U2("ephox-snooker").resolve,cE=()=>{const i=_a({drag:ea(["xDelta","yDelta"])});return{mutate:(p,b)=>{i.trigger.drag(p,b)},events:i.registry}},lE=()=>{const i=_a({drag:ea(["xDelta","yDelta","target"])});let f=ie.none();const p=cE();return p.events.drag.bind(z=>{f.each(B=>{i.trigger.drag(z.xDelta,z.yDelta,B)})}),{assign:z=>{f=ie.some(z)},get:()=>f,mutate:p.mutate,events:i.registry}},Xu=(i,f,p,b,C)=>{const z=fe.fromTag("div");return Kr(z,{position:"absolute",left:f-b/2+"px",top:p+"px",height:C+"px",width:b+"px"}),mr(z,{"data-column":i,role:"presentation"}),z},O1=(i,f,p,b,C)=>{const z=fe.fromTag("div");return Kr(z,{position:"absolute",left:f+"px",top:p-C/2+"px",height:C+"px",width:b+"px"}),mr(z,{"data-row":i,role:"presentation"}),z},bk=z1("resizer-bar"),vk=z1("resizer-rows"),kk=z1("resizer-cols"),wk=7,iE=(i,f)=>Mt(i.all,(p,b)=>f(p.element)?[b]:[]),uE=(i,f)=>{const p=[];return _n(i.grid.columns,b=>{so.getColumnAt(i,b).map(z=>z.element).forall(f)&&p.push(b)}),at(p,b=>{const C=so.filterItems(i,z=>z.column===b);return ct(C,z=>f(z.element))})},D1=i=>{const f=nr(i.parent(),"."+bk);He(f,tr)},Tg=(i,f,p)=>{const b=i.origin();He(f,C=>{C.each(z=>{const B=p(b,z);Ku(B,bk),Ds(i.parent(),B)})})},R1=(i,f,p,b)=>{Tg(i,f,(C,z)=>{const B=Xu(z.col,z.x-C.left,p.top-C.top,wk,b);return Ku(B,kk),B})},Lo=(i,f,p,b)=>{Tg(i,f,(C,z)=>{const B=O1(z.row,p.left-C.left,z.y-C.top,b,wk);return Ku(B,vk),B})},W2=(i,f,p,b,C)=>{const z=hd(p),B=f.isResizable,U=b.length>0?Vl.positions(b,p):[],K=U.length>0?iE(i,B):[],ae=at(U,(Tt,Xe)=>Ke(K,At=>Xe===At));Lo(f,ae,z,zn(p));const ke=C.length>0?Cl.positions(C,p):[],rt=ke.length>0?uE(i,B):[],Dt=at(ke,(Tt,Xe)=>Ke(rt,At=>Xe===At));R1(f,Dt,z,pf(p))},Vd=(i,f)=>{if(D1(i),i.isResizable(f)){const p=so.fromTable(f),b=Bv(p),C=Qg(p);W2(p,i,f,b,C)}},Vi=(i,f)=>{const p=nr(i.parent(),"."+bk);He(p,f)},N1=i=>{Vi(i,f=>{As(f,"display","none")})},Gl=i=>{Vi(i,f=>{As(f,"display","block")})},Sy=i=>T1(i,vk),Eg=i=>T1(i,kk),M1=z1("resizer-bar-dragging"),Ag=i=>{const f=lE(),p=Cy(f,{});let b=ie.none();const C=(Xe,At)=>ie.from(_s(Xe,At));f.events.drag.bind(Xe=>{C(Xe.target,"data-row").each(At=>{const qe=Jo(Xe.target,"top");As(Xe.target,"top",qe+Xe.yDelta+"px")}),C(Xe.target,"data-column").each(At=>{const qe=Jo(Xe.target,"left");As(Xe.target,"left",qe+Xe.xDelta+"px")})});const z=(Xe,At)=>{const qe=Jo(Xe,At),Wt=Ka(Xe,"data-initial-"+At,0);return qe-Wt};p.events.stop.bind(()=>{f.get().each(Xe=>{b.each(At=>{C(Xe,"data-row").each(qe=>{const Wt=z(Xe,"top");ee(Xe,"data-initial-top"),Tt.trigger.adjustHeight(At,Wt,parseInt(qe,10))}),C(Xe,"data-column").each(qe=>{const Wt=z(Xe,"left");ee(Xe,"data-initial-left"),Tt.trigger.adjustWidth(At,Wt,parseInt(qe,10))}),Vd(i,At)})})});const B=(Xe,At)=>{Tt.trigger.startAdjust(),f.assign(Xe),ws(Xe,"data-initial-"+At,Jo(Xe,At)),Ku(Xe,M1),As(Xe,"opacity","0.2"),p.go(i.parent())},U=Sg(i.parent(),"mousedown",Xe=>{Sy(Xe.target)&&B(Xe.target,"top"),Eg(Xe.target)&&B(Xe.target,"left")}),K=Xe=>ho(Xe,i.view()),ae=Xe=>Rs(Xe,"table",K).filter(fp),ke=Sg(i.view(),"mouseover",Xe=>{ae(Xe.target).fold(()=>{pr(Xe.target)&&D1(i)},At=>{p.isActive()&&(b=ie.some(At),Vd(i,At))})}),rt=()=>{U.unbind(),ke.unbind(),p.destroy(),D1(i)},Dt=Xe=>{Vd(i,Xe)},Tt=_a({adjustHeight:ea(["table","delta","row"]),adjustWidth:ea(["table","delta","column"]),startAdjust:ea([])});return{destroy:rt,refresh:Dt,on:p.on,off:p.off,hideBars:Vn(N1,i),showBars:Vn(Gl,i),events:Tt.registry}},dE={create:(i,f,p)=>{const b=Vl,C=Cl,z=Ag(i),B=_a({beforeResize:ea(["table","type"]),afterResize:ea(["table","type"]),startDrag:ea([])});return z.events.adjustHeight.bind(U=>{const K=U.table;B.trigger.beforeResize(K,"row");const ae=b.delta(U.delta,K);O_(K,ae,U.row,b),B.trigger.afterResize(K,"row")}),z.events.startAdjust.bind(U=>{B.trigger.startDrag()}),z.events.adjustWidth.bind(U=>{const K=U.table;B.trigger.beforeResize(K,"col");const ae=C.delta(U.delta,K),ke=p(K);d0(K,ae,U.column,f,ke),B.trigger.afterResize(K,"col")}),{on:z.on,off:z.off,refreshBars:z.refresh,hideBars:z.hideBars,showBars:z.showBars,destroy:z.destroy,events:B.registry}}},ui={only:(i,f)=>{const p=Tc(i)?yo(i):i;return{parent:re(p),view:re(i),origin:re(Pu(0,0)),isResizable:f}},detached:(i,f,p)=>{const b=()=>hd(f);return{parent:re(f),view:re(i),origin:b,isResizable:p}},body:(i,f,p)=>({parent:re(f),view:re(i),origin:re(Pu(0,0)),isResizable:p})},zg=()=>{const i=fe.fromTag("div");return Kr(i,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ds(P(),i),i},B1=(i,f)=>i.inline?ui.body(fe.fromDom(i.getBody()),zg(),f):ui.only(fe.fromDom(i.getDoc()),f),Am=(i,f)=>{i.inline&&tr(f.parent())},Co=i=>Fn(i)&&i.nodeName==="TABLE",Mf="bar-",mE=i=>_s(i,"data-mce-resize")!=="false",_k=i=>{const f=so.fromTable(i);so.hasColumns(f)||He(Uc(i),p=>{const b=$l(p,"width");As(p,"width",b),ee(p,"width")})},gE=i=>{const f=y1(),p=y1(),b=y1();let C,z;const B=Xe=>X_(i,Xe),U=()=>Er(i)?t0():Uh(),K=Xe=>Ob(Xe).columns,ae=(Xe,At,qe)=>{const Wt=gc(At,"e");if(z===""&&ey(Xe),qe!==C&&z!==""){As(Xe,"width",z);const En=U(),Jn=B(Xe),js=Er(i)||Wt?K(Xe)-1:0;d0(Xe,qe-C,js,En,Jn)}else if(Ph(z)){const En=parseFloat(z.replace("%","")),Jn=qe*En/C;As(Xe,"width",Jn+"%")}$h(z)&&_k(Xe)},ke=()=>{p.on(Xe=>{Xe.destroy()}),b.on(Xe=>{Am(i,Xe)})};return i.on("init",()=>{const Xe=B1(i,mE);if(b.set(Xe),Mh(i)&&ri(i)){const At=U(),qe=dE.create(Xe,At,B);qe.on(),qe.events.startDrag.bind(Wt=>{f.set(i.selection.getRng())}),qe.events.beforeResize.bind(Wt=>{const En=Wt.table.dom;Nc(i,En,Cf(En),Zv(En),Mf+Wt.type)}),qe.events.afterResize.bind(Wt=>{const En=Wt.table,Jn=En.dom;xl(En),f.on(js=>{i.selection.setRng(js),i.focus()}),A0(i,Jn,Cf(Jn),Zv(Jn),Mf+Wt.type),i.undoManager.add()}),p.set(qe)}}),i.on("ObjectResizeStart",Xe=>{const At=Xe.target;if(Co(At)){const qe=fe.fromDom(At);He(i.dom.select(".mce-clonedresizable"),Wt=>{i.dom.addClass(Wt,"mce-"+Uv(i)+"-columns")}),!o2(qe)&&Vu(i)?O0(qe):!dg(qe)&&up(i)&&ey(qe),Ef(qe)&&Vc(Xe.origin,Mf)&&ey(qe),C=Xe.width,z=Uu(i)?"":n_(i,At).getOr("")}}),i.on("ObjectResized",Xe=>{const At=Xe.target;if(Co(At)){const qe=fe.fromDom(At),Wt=Xe.origin;Vc(Wt,"corner-")&&ae(qe,Wt,Xe.width),xl(qe),mu(i,qe.dom,Tf)}}),i.on("SwitchMode",()=>{p.on(Xe=>{i.mode.isReadOnly()?Xe.hideBars():Xe.showBars()})}),i.on("dragstart dragend",Xe=>{p.on(At=>{Xe.type==="dragstart"?(At.hideBars(),At.off()):(At.on(),At.showBars())})}),i.on("remove",()=>{ke()}),{refresh:Xe=>{p.on(At=>At.refreshBars(fe.fromDom(Xe)))},hide:()=>{p.on(Xe=>Xe.hideBars())},show:()=>{p.on(Xe=>Xe.showBars())}}},Og=i=>{Mi(i);const f=gE(i),p=eE(i,f),b=dT(i,f,p);return RT(i,b),mg(i,b),zb(i,b),{getSelectedCells:p.getSelectedCells,clearSelectedCells:p.clearSelectedCells}},zm=i=>({table:Og(i)});var Z2=()=>{Ta.add("dom",zm)};Z2()})();(function(){const Ta=Object.getPrototypeOf,yr=(t,s,a)=>{var l;return a(t,s.prototype)?!0:((l=t.constructor)===null||l===void 0?void 0:l.name)===s.name},Sr=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&yr(t,String,(a,l)=>l.isPrototypeOf(a))?"string":s},bs=t=>s=>Sr(s)===t,Es=t=>s=>typeof s===t,Qs=t=>s=>t===s,xo=(t,s)=>Yn(t)&&yr(t,s,(a,l)=>Ta(a)===l),yt=bs("string"),Yn=bs("object"),Hn=t=>xo(t,Object),no=bs("array"),ls=Qs(null),Zo=Es("boolean"),Fn=Qs(void 0),qo=t=>t==null,mo=t=>!qo(t),_t=Es("function"),Ao=Es("number"),vt=(t,s)=>{if(no(t)){for(let a=0,l=t.length;a<l;++a)if(!s(t[a]))return!1;return!0}return!1},re=()=>{},sn=t=>()=>t(),dr=(t,s)=>(...a)=>t(s.apply(null,a)),Vn=(t,s)=>a=>t(s(a)),Y=t=>()=>t,gn=t=>t,Nn=(t,s)=>t===s;function nn(t,...s){return(...a)=>{const l=s.concat(a);return t.apply(null,l)}}const Le=t=>s=>!t(s),ie=t=>()=>{throw new Error(t)},Ho=t=>t(),st=Y(!1),$e=Y(!0);class A{constructor(s,a){this.tag=s,this.value=a}static some(s){return new A(!0,s)}static none(){return A.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?A.some(s(this.value)):A.none()}bind(s){return this.tag?s(this.value):A.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:A.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return mo(s)?A.some(s):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const cn=Array.prototype.slice,Ke=Array.prototype.indexOf,_n=Array.prototype.push,Ht=(t,s)=>Ke.call(t,s),He=(t,s)=>{const a=Ht(t,s);return a===-1?A.none():A.some(a)},Gn=(t,s)=>Ht(t,s)>-1,is=(t,s)=>{for(let a=0,l=t.length;a<l;a++){const d=t[a];if(s(d,a))return!0}return!1},at=(t,s)=>{const a=[];for(let l=0;l<t;l++)a.push(s(l));return a},Zt=(t,s)=>{const a=[];for(let l=0;l<t.length;l+=s){const d=cn.call(t,l,l+s);a.push(d)}return a},Ee=(t,s)=>{const a=t.length,l=new Array(a);for(let d=0;d<a;d++){const g=t[d];l[d]=s(g,d)}return l},Je=(t,s)=>{for(let a=0,l=t.length;a<l;a++){const d=t[a];s(d,a)}},I=(t,s)=>{for(let a=t.length-1;a>=0;a--){const l=t[a];s(l,a)}},dt=(t,s)=>{const a=[],l=[];for(let d=0,g=t.length;d<g;d++){const h=t[d];(s(h,d)?a:l).push(h)}return{pass:a,fail:l}},je=(t,s)=>{const a=[];for(let l=0,d=t.length;l<d;l++){const g=t[l];s(g,l)&&a.push(g)}return a},Mt=(t,s,a)=>(I(t,(l,d)=>{a=s(a,l,d)}),a),ct=(t,s,a)=>(Je(t,(l,d)=>{a=s(a,l,d)}),a),zo=(t,s,a)=>{for(let l=0,d=t.length;l<d;l++){const g=t[l];if(s(g,l))return A.some(g);if(a(g,l))break}return A.none()},Ae=(t,s)=>zo(t,s,st),nt=(t,s)=>{for(let a=0,l=t.length;a<l;a++){const d=t[a];if(s(d,a))return A.some(a)}return A.none()},Re=t=>{const s=[];for(let a=0,l=t.length;a<l;++a){if(!no(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);_n.apply(s,t[a])}return s},he=(t,s)=>Re(Ee(t,s)),Ye=(t,s)=>{for(let a=0,l=t.length;a<l;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},Ze=t=>{const s=cn.call(t,0);return s.reverse(),s},Be=(t,s)=>je(t,a=>!Gn(s,a)),un=(t,s)=>{const a={};for(let l=0,d=t.length;l<d;l++){const g=t[l];a[String(g)]=s(g,l)}return a},Bt=t=>[t],go=(t,s)=>{const a=cn.call(t,0);return a.sort(s),a},Un=(t,s)=>s>=0&&s<t.length?A.some(t[s]):A.none(),Go=t=>Un(t,0),zr=t=>Un(t,t.length-1),ts=_t(Array.from)?Array.from:t=>cn.call(t),Ko=(t,s)=>{for(let a=0;a<t.length;a++){const l=s(t[a],a);if(l.isSome())return l}return A.none()},_o=Object.keys,Or=Object.hasOwnProperty,co=(t,s)=>{const a=_o(t);for(let l=0,d=a.length;l<d;l++){const g=a[l],h=t[g];s(h,g)}},Kn=(t,s)=>ca(t,(a,l)=>({k:l,v:s(a,l)})),ca=(t,s)=>{const a={};return co(t,(l,d)=>{const g=s(l,d);a[g.k]=g.v}),a},xn=t=>(s,a)=>{t[a]=s},ns=(t,s,a,l)=>{co(t,(d,g)=>{(s(d,g)?a:l)(d,g)})},vs=(t,s)=>{const a={},l={};return ns(t,s,xn(a),xn(l)),{t:a,f:l}},la=(t,s)=>{const a={};return ns(t,s,xn(a),re),a},Sc=(t,s)=>{const a=[];return co(t,(l,d)=>{a.push(s(l,d))}),a},Xo=(t,s)=>{const a=_o(t);for(let l=0,d=a.length;l<d;l++){const g=a[l],h=t[g];if(s(h,g,t))return A.some(h)}return A.none()},Ml=t=>Sc(t,gn),it=(t,s)=>po(t,s)?A.from(t[s]):A.none(),po=(t,s)=>Or.call(t,s),Ir=(t,s)=>po(t,s)&&t[s]!==void 0&&t[s]!==null,Fr=(t,s,a=Nn)=>t.exists(l=>a(l,s)),ic=(t,s,a=Nn)=>xc(t,s,a).getOr(t.isNone()&&s.isNone()),uc=t=>{const s=[],a=l=>{s.push(l)};for(let l=0;l<t.length;l++)t[l].each(a);return s},us=t=>{const s=[];for(let a=0;a<t.length;a++){const l=t[a];if(l.isSome())s.push(l.getOrDie());else return A.none()}return A.some(s)},xc=(t,s,a)=>t.isSome()&&s.isSome()?A.some(a(t.getOrDie(),s.getOrDie())):A.none(),ia=(t,s,a,l)=>t.isSome()&&s.isSome()&&a.isSome()?A.some(l(t.getOrDie(),s.getOrDie(),a.getOrDie())):A.none(),Vo=(t,s)=>t!=null?A.some(s(t)):A.none(),yn=(t,s)=>t?A.some(s):A.none(),br=(t,s)=>t+s,qa=(t,s)=>t.substring(s),Tc=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,$c=(t,s)=>ws(t,s)?qa(t,s.length):t,ks=(t,s)=>mr(t,s)?t:br(t,s),fr=(t,s,a=0,l)=>{const d=t.indexOf(s,a);return d!==-1?Fn(l)?!0:d+s.length<=l:!1},ws=(t,s)=>Tc(t,s,0),mr=(t,s)=>Tc(t,s,t.length-s.length),_s=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ua=t=>t.length>0,ee=t=>!ua(t),te=t=>t.style!==void 0&&_t(t.style.getPropertyValue),ze=(t,s)=>{const l=(s||document).createElement("div");if(l.innerHTML=t,!l.hasChildNodes()||l.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return rn(l.childNodes[0])},Ve=(t,s)=>{const l=(s||document).createElement(t);return rn(l)},Gt=(t,s)=>{const l=(s||document).createTextNode(t);return rn(l)},rn=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},fe={fromHtml:ze,fromTag:Ve,fromText:Gt,fromDom:rn,fromPoint:(t,s,a)=>A.from(t.dom.elementFromPoint(s,a)).map(rn)},jn=typeof window<"u"?window:Function("return this;")(),Xn=(t,s)=>{let a=s??jn;for(let l=0;l<t.length&&a!==void 0&&a!==null;++l)a=a[t[l]];return a},Fs=(t,s)=>{const a=t.split(".");return Xn(a,s)},er=(t,s)=>Fs(t,s),ho=(t,s)=>{const a=er(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},Bl=Object.getPrototypeOf,ei=t=>ho("HTMLElement",t),gr=t=>{const s=Fs("ownerDocument.defaultView",t);return Yn(t)&&(ei(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Bl(t).constructor.name))},Ic=9,yo=11,uo=1,qr=3,Lr=t=>t.dom.nodeName.toLowerCase(),fc=t=>t.dom.nodeType,bl=t=>s=>fc(s)===t,vl=t=>$o(t)&&gr(t.dom),$o=bl(uo),Ea=bl(qr),sl=bl(Ic),Pl=bl(yo),mc=t=>s=>$o(s)&&Lr(s)===t,lr=(t,s)=>{const a=t.dom;if(a.nodeType!==uo)return!1;{const l=a;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Ds=t=>t.nodeType!==uo&&t.nodeType!==Ic&&t.nodeType!==yo||t.childElementCount===0,cf=(t,s)=>{const a=s===void 0?document:s.dom;return Ds(a)?[]:Ee(a.querySelectorAll(t),fe.fromDom)},bi=(t,s)=>{const a=s===void 0?document:s.dom;return Ds(a)?A.none():A.from(a.querySelector(t)).map(fe.fromDom)},ds=(t,s)=>t.dom===s.dom,Hr=(t,s)=>{const a=t.dom,l=s.dom;return a===l?!1:a.contains(l)},Aa=t=>fe.fromDom(t.dom.ownerDocument),tr=t=>sl(t)?t:Aa(t),vi=t=>fe.fromDom(tr(t).dom.documentElement),Ga=t=>fe.fromDom(tr(t).dom.defaultView),Pa=t=>A.from(t.dom.parentNode).map(fe.fromDom),za=t=>A.from(t.dom.parentElement).map(fe.fromDom),ad=(t,s)=>{const a=_t(s)?s:st;let l=t.dom;const d=[];for(;l.parentNode!==null&&l.parentNode!==void 0;){const g=l.parentNode,h=fe.fromDom(g);if(d.push(h),a(h)===!0)break;l=g}return d},Qi=t=>A.from(t.dom.offsetParent).map(fe.fromDom),ki=t=>A.from(t.dom.nextSibling).map(fe.fromDom),$a=t=>Ee(t.dom.childNodes,fe.fromDom),Fc=(t,s)=>{const a=t.dom.childNodes;return A.from(a[s]).map(fe.fromDom)},Ru=t=>Fc(t,0),Lc=(t,s)=>({element:t,offset:s}),wi=(t,s)=>{const a=$a(t);return a.length>0&&s<a.length?Lc(a[s],0):Lc(t,s)},eu=t=>Pl(t)&&mo(t.dom.host),j=_t(Element.prototype.attachShadow)&&_t(Node.prototype.getRootNode),le=Y(j),ge=j?t=>fe.fromDom(t.dom.getRootNode()):tr,Oe=t=>eu(t)?t:fe.fromDom(tr(t).dom.body),ht=t=>ln(t).isSome(),ln=t=>{const s=ge(t);return eu(s)?A.some(s):A.none()},os=t=>fe.fromDom(t.dom.host),Cs=t=>{if(le()&&mo(t.target)){const s=fe.fromDom(t.target);if($o(s)&&Yo(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Go(a)}}return A.from(t.target)},Yo=t=>mo(t.dom.shadowRoot),Io=t=>{const s=Ea(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return ln(fe.fromDom(s)).fold(()=>a.body.contains(s),Vn(Io,os))},Oo=()=>da(fe.fromDom(document)),da=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return fe.fromDom(s)},rl=(t,s,a)=>{if(yt(a)||Zo(a)||Ao(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},Mn=(t,s,a)=>{rl(t.dom,s,a)},To=(t,s)=>{const a=t.dom;co(s,(l,d)=>{rl(a,d,l)})},fa=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},pr=(t,s)=>A.from(fa(t,s)),P=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},W=(t,s)=>{t.dom.removeAttribute(s)},oe=t=>ct(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),Se=(t,s,a)=>{if(!yt(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);te(t)&&t.style.setProperty(s,a)},Nt=(t,s)=>{te(t)&&t.style.removeProperty(s)},xt=(t,s,a)=>{const l=t.dom;Se(l,s,a)},ms=(t,s)=>{const a=t.dom;co(s,(l,d)=>{Se(a,d,l)})},nr=(t,s)=>{const a=t.dom;co(s,(l,d)=>{l.fold(()=>{Nt(a,d)},g=>{Se(a,d,g)})})},Qe=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!Io(t)?Oa(a,s):d},Oa=(t,s)=>te(t)?t.style.getPropertyValue(s):"",Ss=(t,s)=>{const a=t.dom,l=Oa(a,s);return A.from(l).filter(d=>d.length>0)},Dr=t=>{const s={},a=t.dom;if(te(a))for(let l=0;l<a.style.length;l++){const d=a.style.item(l);s[d]=a.style[d]}return s},cd=(t,s,a)=>{const l=fe.fromTag(t);return xt(l,s,a),Ss(l,s).isSome()},vo=(t,s)=>{const a=t.dom;Nt(a,s),Fr(pr(t,"style").map(_s),"")&&W(t,"style")},ti=t=>t.dom.offsetWidth,_i=(t,s)=>{const a=(k,_)=>{if(!Ao(_)&&!_.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+_);const E=k.dom;te(E)&&(E.style[t]=_+"px")},l=k=>{const _=s(k);if(_<=0||_===null){const E=Qe(k,t);return parseFloat(E)||0}return _},d=l,g=(k,_)=>ct(_,(E,O)=>{const M=Qe(k,O),$=M===void 0?0:parseInt(M,10);return isNaN($)?E:E+$},0);return{set:a,get:l,getOuter:d,aggregate:g,max:(k,_,E)=>{const O=g(k,E);return _>O?_-O:0}}},Rs=_i("height",t=>{const s=t.dom;return Io(t)?s.getBoundingClientRect().height:s.offsetHeight}),or=t=>Rs.get(t),Ci=t=>Rs.getOuter(t),hb=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],l=Rs.max(t,s,a);xt(t,"max-height",l+"px")},Wm=(t,s)=>({left:t,top:s,translate:(l,d)=>Wm(t+l,s+d)}),Zs=Wm,Hc=t=>{const s=t.getBoundingClientRect();return Zs(s.left,s.top)},Vc=(t,s)=>t!==void 0?t:s!==void 0?s:0,gc=t=>{const s=t.dom.ownerDocument,a=s.body,l=s.defaultView,d=s.documentElement;if(a===t.dom)return Zs(a.offsetLeft,a.offsetTop);const g=Vc(l==null?void 0:l.pageYOffset,d.scrollTop),h=Vc(l==null?void 0:l.pageXOffset,d.scrollLeft),k=Vc(d.clientTop,a.clientTop),_=Vc(d.clientLeft,a.clientLeft);return Si(t).translate(h-_,g-k)},Si=t=>{const s=t.dom,l=s.ownerDocument.body;return l===s?Zs(l.offsetLeft,l.offsetTop):Io(t)?Hc(s):Zs(0,0)},xi=_i("width",t=>t.dom.offsetWidth),Ns=(t,s)=>xi.set(t,s),Gr=t=>xi.get(t),Ia=t=>xi.getOuter(t),lf=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],l=xi.max(t,s,a);xt(t,"max-width",l+"px")},kl=t=>{let s=!1,a;return(...l)=>(s||(s=!0,a=t.apply(null,l)),a)},As=(t,s,a,l)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!d,h=t.isiOS()||t.isAndroid(),k=h||l("(pointer:coarse)"),_=d||!g&&h&&l("(min-device-width:768px)"),E=g||h&&!_,O=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,M=!E&&!_&&!O;return{isiPad:Y(d),isiPhone:Y(g),isTablet:Y(_),isPhone:Y(E),isTouch:Y(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Y(O),isDesktop:Y(M)}},Kr=(t,s)=>{for(let a=0;a<t.length;a++){const l=t[a];if(l.test(s))return l}},$l=(t,s)=>{const a=Kr(t,s);if(!a)return{major:0,minor:0};const l=d=>Number(s.replace(a,"$"+d));return Il(l(1),l(2))},ld=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?Ti():$l(t,a)},Ti=()=>Il(0,0),Il=(t,s)=>({major:t,minor:s}),vr={nu:Il,detect:ld,unknown:Ti},Ka=(t,s)=>Ko(s.brands,a=>{const l=a.brand.toLowerCase();return Ae(t,d=>{var g;return l===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(d=>({current:d.name,version:vr.nu(parseInt(a.version,10),0)}))}),ma=(t,s)=>{const a=String(s).toLowerCase();return Ae(t,l=>l.search(a))},Fl=(t,s)=>ma(t,s).map(a=>{const l=vr.detect(a.versionRegexes,s);return{current:a.name,version:l}}),tu=(t,s)=>ma(t,s).map(a=>{const l=vr.detect(a.versionRegexes,s);return{current:a.name,version:l}}),Jo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,al=t=>s=>fr(s,t),uf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>fr(t,"edge/")&&fr(t,"chrome")&&fr(t,"safari")&&fr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Jo],search:t=>fr(t,"chrome")&&!fr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>fr(t,"msie")||fr(t,"trident")},{name:"Opera",versionRegexes:[Jo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:al("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:al("firefox")},{name:"Safari",versionRegexes:[Jo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(fr(t,"safari")||fr(t,"mobile/"))&&fr(t,"applewebkit")}],Ei=[{name:"Windows",search:al("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>fr(t,"iphone")||fr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:al("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:al("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:al("linux"),versionRegexes:[]},{name:"Solaris",search:al("sunos"),versionRegexes:[]},{name:"FreeBSD",search:al("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:al("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],id={browsers:Y(uf),oses:Y(Ei)},Zf="Edge",Ai="Chromium",Uc="IE",Nu="Opera",pc="Firefox",zi="Safari",ni=()=>qf({current:void 0,version:vr.unknown()}),qf=t=>{const s=t.current,a=t.version,l=d=>()=>s===d;return{current:s,version:a,isEdge:l(Zf),isChromium:l(Ai),isIE:l(Uc),isOpera:l(Nu),isFirefox:l(pc),isSafari:l(zi)}},Ll={unknown:ni,nu:qf,edge:Y(Zf),chromium:Y(Ai),ie:Y(Uc),opera:Y(Nu),firefox:Y(pc),safari:Y(zi)},Gf="Windows",df="iOS",nu="Android",Kf="Linux",Xf="macOS",Mu="Solaris",Zg="FreeBSD",ne="ChromeOS",Yf=()=>hc({current:void 0,version:vr.unknown()}),hc=t=>{const s=t.current,a=t.version,l=d=>()=>s===d;return{current:s,version:a,isWindows:l(Gf),isiOS:l(df),isAndroid:l(nu),isMacOS:l(Xf),isLinux:l(Kf),isSolaris:l(Mu),isFreeBSD:l(Zg),isChromeOS:l(ne)}},Zm={unknown:Yf,nu:hc,windows:Y(Gf),ios:Y(df),android:Y(nu),linux:Y(Kf),macos:Y(Xf),solaris:Y(Mu),freebsd:Y(Zg),chromeos:Y(ne)},xh={detect:(t,s,a)=>{const l=id.browsers(),d=id.oses(),g=s.bind(_=>Ka(l,_)).orThunk(()=>Fl(l,t)).fold(Ll.unknown,Ll.nu),h=tu(d,t).fold(Zm.unknown,Zm.nu),k=As(h,g,t,a);return{browser:g,os:h,deviceType:k}}},ss=t=>window.matchMedia(t).matches;let cl=kl(()=>xh.detect(navigator.userAgent,A.from(navigator.userAgentData),ss));const Da=()=>cl(),Oi=(t,s,a,l,d,g,h)=>({target:t,x:s,y:a,stop:l,prevent:d,kill:g,raw:h}),ou=t=>{const s=fe.fromDom(Cs(t).getOr(t.target)),a=()=>t.stopPropagation(),l=()=>t.preventDefault(),d=dr(l,a);return Oi(s,t.clientX,t.clientY,a,l,d,t)},ud=(t,s)=>a=>{t(a)&&s(ou(a))},Ec=(t,s,a,l,d)=>{const g=ud(a,l);return t.dom.addEventListener(s,g,d),{unbind:nn(Qf,t,s,g,d)}},Jf=(t,s,a,l)=>Ec(t,s,a,l,!1),ff=(t,s,a,l)=>Ec(t,s,a,l,!0),Qf=(t,s,a,l)=>{t.dom.removeEventListener(s,a,l)},Hl=(t,s)=>{Pa(t).each(l=>{l.dom.insertBefore(s.dom,t.dom)})},Bu=(t,s)=>{ki(t).fold(()=>{Pa(t).each(d=>{jc(d,s)})},l=>{Hl(l,s)})},qg=(t,s)=>{Ru(t).fold(()=>{jc(t,s)},l=>{t.dom.insertBefore(s.dom,l.dom)})},jc=(t,s)=>{t.dom.appendChild(s.dom)},ga=(t,s,a)=>{Fc(t,a).fold(()=>{jc(t,s)},l=>{Hl(l,s)})},su=(t,s)=>{Je(s,a=>{jc(t,a)})},dd=t=>{t.dom.textContent="",Je($a(t),s=>{Wc(s)})},Wc=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},yc=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return Zs(a,l)},qm=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},Gg=t=>{const s=t===void 0?window:t;return Da().browser.isFirefox()?A.none():A.from(s.visualViewport)},fd=(t,s,a,l)=>({x:t,y:s,width:a,height:l,right:t+a,bottom:s+l}),mf=t=>{const s=t===void 0?window:t,a=s.document,l=yc(fe.fromDom(a));return Gg(s).fold(()=>{const d=s.document.documentElement,g=d.clientWidth,h=d.clientHeight;return fd(l.left,l.top,g,h)},d=>fd(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},Gm=()=>fe.fromDom(document),oi=(t,s)=>t.view(s).fold(Y([]),l=>{const d=t.owner(l),g=oi(t,d);return[l].concat(g)}),em=(t,s)=>{const a=s.owner(t),l=oi(s,a);return A.some(l)};var Km=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?A.none():A.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(fe.fromDom)},owner:t=>Aa(t)});const md=t=>{const s=Gm(),a=yc(s);return em(t,Km).fold(nn(gc,t),d=>{const g=Si(t),h=Mt(d,(k,_)=>{const E=Si(_);return{left:k.left+E.left,top:k.top+E.top}},{left:0,top:0});return Zs(h.left+g.left+a.left,h.top+g.top+a.top)})},Kg=(t,s,a)=>({point:t,width:s,height:a}),Di=(t,s,a,l)=>({x:t,y:s,width:a,height:l}),T=(t,s,a,l)=>({x:t,y:s,width:a,height:l,right:t+a,bottom:s+l}),R=t=>{const s=gc(t),a=Ia(t),l=Ci(t);return T(s.left,s.top,a,l)},V=t=>{const s=md(t),a=Ia(t),l=Ci(t);return T(s.left,s.top,a,l)},ce=(t,s)=>{const a=Math.max(t.x,s.x),l=Math.max(t.y,s.y),d=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),h=d-a,k=g-l;return T(a,l,h,k)},de=(t,s)=>ct(s,(a,l)=>ce(a,l),t),ft=()=>mf(window);var kn=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Bn=t=>{const s=g=>g(t),a=Y(t),l=()=>d,d={tag:!0,inner:t,fold:(g,h)=>h(t),isValue:$e,isError:st,map:g=>Yt.value(g(t)),mapError:l,bind:s,exists:s,forall:s,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:g=>{g(t)},toOptional:()=>A.some(t)};return d},Pn=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(l,d)=>l(t),isValue:st,isError:$e,map:s,mapError:l=>Yt.error(l(t)),bind:s,exists:st,forall:$e,getOr:gn,or:gn,getOrThunk:Ho,orThunk:Ho,getOrDie:ie(String(t)),each:re,toOptional:A.none};return a},Yt={value:Bn,error:Pn,fromOption:(t,s)=>t.fold(()=>Pn(s),Bn)};var sr;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(sr||(sr={}));const pa=(t,s,a)=>t.stype===sr.Error?s(t.serror):a(t.svalue),Eh=t=>{const s=[],a=[];return Je(t,l=>{pa(l,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},Xm=(t,s)=>t.stype===sr.Error?{stype:sr.Error,serror:s(t.serror)}:t,Xg=(t,s)=>t.stype===sr.Value?{stype:sr.Value,svalue:s(t.svalue)}:t,Yg=(t,s)=>t.stype===sr.Value?s(t.svalue):t,Xr=(t,s)=>t.stype===sr.Error?s(t.serror):t,bc=t=>({stype:sr.Value,svalue:t}),Zc=t=>({stype:sr.Error,serror:t}),ir={fromResult:t=>t.fold(Zc,bc),toResult:t=>pa(t,Yt.error,Yt.value),svalue:bc,partition:Eh,serror:Zc,bind:Yg,bindError:Xr,map:Xg,mapError:Xm,fold:pa},qc=(t,s,a,l)=>({tag:"field",key:t,newKey:s,presence:a,prop:l}),wl=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),tm=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},xr=(t,s)=>s,yb=(t,s)=>Hn(t)&&Hn(s)?Ms(t,s):s,Ah=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<s.length;l++){const d=s[l];for(const g in d)po(d,g)&&(a[g]=t(a[g],d[g]))}return a},Ms=Ah(yb),ru=Ah(xr),Uo=()=>({tag:"required",process:{}}),Ac=t=>({tag:"defaultedThunk",process:t}),gd=t=>Ac(Y(t)),pd=()=>({tag:"option",process:{}}),gf=t=>({tag:"mergeWithThunk",process:t}),so=t=>gf(Y(t)),Qg=(t,s)=>t.length>0?ir.svalue(Ms(s,ru.apply(void 0,t))):ir.svalue(s),ep=t=>dr(ir.serror,Re)(t),tp={consolidateObj:(t,s)=>{const a=ir.partition(t);return a.errors.length>0?ep(a.errors):Qg(a.values,s)},consolidateArr:t=>{const s=ir.partition(t);return s.errors.length>0?ep(s.errors):ir.svalue(s.values)}},Ym=t=>Yn(t)&&_o(t).length>100?" removed due to size":JSON.stringify(t,null,2),Pv=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Y("... (only showing first ten failures)")}]):t;return Ee(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},au=(t,s)=>ir.serror([{path:t,getErrorInfo:s}]),pf=(t,s,a)=>au(t,()=>'Could not find valid *required* value for "'+s+'" in '+Ym(a)),$v=(t,s)=>au(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Jm=(t,s,a)=>au(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Ym(s)),Pu=(t,s)=>au(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),zh=(t,s)=>au(t,Y(s)),Ri=t=>{const s=(l,d)=>ir.bindError(t(d),g=>zh(l,g)),a=Y("val");return{extract:s,toString:a}},hd=Ri(ir.svalue),Iv=(t,s,a,l)=>it(s,a).fold(()=>pf(t,a,s),l),np=(t,s,a,l)=>{const d=it(t,s).getOrThunk(()=>a(t));return l(d)},Oh=(t,s,a)=>a(it(t,s)),Dh=(t,s,a,l)=>{const d=it(t,s).map(g=>g===!0?a(t):g);return l(d)},Rh=(t,s,a,l,d)=>{const g=k=>d.extract(s.concat([l]),k),h=k=>k.fold(()=>ir.svalue(A.none()),_=>{const E=d.extract(s.concat([l]),_);return ir.map(E,A.some)});switch(t.tag){case"required":return Iv(s,a,l,g);case"defaultedThunk":return np(a,l,t.process,g);case"option":return Oh(a,l,h);case"defaultedOptionThunk":return Dh(a,l,t.process,h);case"mergeWithThunk":return np(a,l,Y({}),k=>{const _=Ms(t.process(a),k);return g(_)})}},Fa=(t,s,a)=>{const l={},d=[];for(const g of a)tm(g,(h,k,_,E)=>{const O=Rh(_,t,s,h,E);ir.fold(O,M=>{d.push(...M)},M=>{l[k]=M})},(h,k)=>{l[h]=k(s)});return d.length>0?ir.serror(d):ir.svalue(l)},op=t=>({extract:(l,d)=>t().extract(l,d),toString:()=>t().toString()}),Vr=t=>_o(la(t,mo)),Ya=t=>{const s=dn(t),a=Mt(t,(d,g)=>tm(g,h=>Ms(d,{[h]:!0}),Y(d)),{});return{extract:(d,g)=>{const h=Zo(g)?[]:Vr(g),k=je(h,_=>!Ir(a,_));return k.length===0?s.extract(d,g):Pu(d,k)},toString:s.toString}},dn=t=>({extract:(l,d)=>Fa(l,d,t),toString:()=>`obj{
`+Ee(t,d=>tm(d,(g,h,k,_)=>g+" -> "+_.toString(),(g,h)=>"state("+g+")")).join(`
`)+"}"}),$t=t=>({extract:(l,d)=>{const g=Ee(d,(h,k)=>t.extract(l.concat(["["+k+"]"]),h));return tp.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),nm=(t,s)=>{const a=s!==void 0?s:gn;return{extract:(g,h)=>{const k=[];for(const _ of t){const E=_.extract(g,h);if(E.stype===sr.Value)return{stype:sr.Value,svalue:a(E.svalue)};k.push(E)}return tp.consolidateArr(k)},toString:()=>"oneOf("+Ee(t,g=>g.toString()).join(", ")+")"}},Vl=(t,s)=>{const a=(g,h)=>$t(Ri(t)).extract(g,h);return{extract:(g,h)=>{const k=_o(h),_=a(g,k);return ir.bind(_,E=>{const O=Ee(E,M=>qc(M,M,Uo(),s));return dn(O).extract(g,h)})},toString:()=>"setOf("+s.toString()+")"}},om=(t,s)=>{const a=kl(s);return{extract:(g,h)=>a().extract(g,h),toString:()=>a().toString()}},Qm=dr($t,dn),_l=Y(hd),Cl=(t,s)=>Ri(a=>{const l=typeof a;return t(a)?ir.svalue(a):ir.serror(`Expected type: ${s} but got: ${l}`)}),sm=Cl(Ao,"number"),ur=Cl(yt,"string"),rm=Cl(Zo,"boolean"),eg=Cl(_t,"function"),mt=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>mt(t[s]));default:return!1}},Fv=Ri(t=>mt(t)?ir.svalue(t):ir.serror("Expected value to be acceptable for sending via postMessage")),Lv=(t,s,a,l)=>it(a,l).fold(()=>Jm(t,a,l),g=>g.extract(t.concat(["branch: "+l]),s)),ll=(t,s)=>({extract:(d,g)=>it(g,t).fold(()=>$v(d,t),k=>Lv(d,g,s,k)),toString:()=>"chooseOn("+t+"). Possible values: "+_o(s)}),am=()=>$t(hd),yd=t=>Ri(s=>t(s).fold(ir.serror,ir.svalue)),rr=(t,s)=>Vl(a=>ir.fromResult(t(a)),s),bb=(t,s,a)=>{const l=s.extract([t],a);return ir.mapError(l,d=>({input:a,errors:d}))},gs=(t,s,a)=>ir.toResult(bb(t,s,a)),Qo=t=>t.fold(s=>{throw new Error(cm(s))},gn),Ja=(t,s,a)=>Qo(gs(t,s,a)),cm=t=>`Errors: 
`+Pv(t.errors).join(`
`)+`

Input object: `+Ym(t.input),Rr=(t,s)=>ll(t,Kn(s,dn)),hf=(t,s)=>om(t,s),ha=qc,zc=wl,$u=t=>yd(s=>Gn(t,s)?Yt.value(s):Yt.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Pe=t=>ha(t,t,Uo(),_l()),Gc=(t,s)=>ha(t,t,Uo(),s),vb=t=>Gc(t,sm),Yr=t=>Gc(t,ur),si=(t,s)=>ha(t,t,Uo(),$u(s)),sp=t=>Gc(t,rm),Sl=t=>Gc(t,eg),Hv=(t,s)=>ha(t,t,pd(),Ri(a=>ir.serror("The field: "+t+" is forbidden. "+s))),bd=(t,s)=>ha(t,t,Uo(),dn(s)),Nh=(t,s)=>ha(t,t,Uo(),Qm(s)),il=(t,s)=>ha(t,t,Uo(),$t(s)),jo=t=>ha(t,t,pd(),_l()),cu=(t,s)=>ha(t,t,pd(),s),tg=t=>cu(t,sm),Qa=t=>cu(t,ur),rp=(t,s)=>cu(t,$u(s)),vd=t=>cu(t,eg),Iu=(t,s)=>cu(t,$t(s)),Tr=(t,s)=>cu(t,dn(s)),ap=(t,s)=>cu(t,Ya(s)),we=(t,s)=>ha(t,t,gd(s),_l()),ec=(t,s,a)=>ha(t,t,gd(s),a),ng=(t,s)=>ec(t,s,sm),Oc=(t,s)=>ec(t,s,ur),Dc=(t,s,a)=>ec(t,s,$u(a)),tc=(t,s)=>ec(t,s,rm),kr=(t,s)=>ec(t,s,eg),cp=(t,s)=>ec(t,s,Fv),yf=(t,s,a)=>ec(t,s,$t(a)),kd=(t,s,a)=>ec(t,s,dn(a)),hn=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},w={generate:t=>{if(!no(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return Je(t,(l,d)=>{const g=_o(l);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],k=l[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!no(k))throw new Error("case arguments must be an array");s.push(h),a[h]=(..._)=>{const E=_.length;if(E!==k.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+k.length+" ("+k+"), got "+E);return{fold:(...M)=>{if(M.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+M.length);return M[d].apply(null,_)},match:M=>{const $=_o(M);if(s.length!==$.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+$.join(","));if(!Ye(s,G=>Gn($,G)))throw new Error("Not all branches were specified when using match. Specified: "+$.join(", ")+`
Required: `+s.join(", "));return M[h].apply(null,_)},log:M=>{console.log(M,{constructors:s,constructor:h,params:_})}}}}),a}};w.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const S=t=>{const s=[],a=[];return Je(t,l=>{l.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},F=(t,s)=>{const a={};return co(t,(l,d)=>{Gn(s,d)||(a[d]=l)}),a},Z=(t,s)=>({[t]:s}),ue=t=>{const s={};return Je(t,a=>{s[a.key]=a.value}),s},Me=(t,s)=>F(t,s),ut=(t,s)=>Z(t,s),Ot=t=>ue(t),bn=(t,s)=>t.length===0?Yt.value(s):Yt.value(Ms(s,ru.apply(void 0,t))),Cn=t=>Yt.error(Re(t)),rs=(t,s)=>{const a=S(t);return a.errors.length>0?Cn(a.errors):bn(a.values,s)},Fo=t=>_t(t)?t:st,qs=(t,s,a)=>{let l=t.dom;const d=Fo(a);for(;l.parentNode;){l=l.parentNode;const g=fe.fromDom(l),h=s(g);if(h.isSome())return h;if(d(g))break}return A.none()},nc=(t,s,a)=>{const l=s(t),d=Fo(a);return l.orThunk(()=>d(t)?A.none():qs(t,s,d))},Ul=(t,s)=>ds(t.element,s.event.target),Fu={can:$e,abort:st,run:re},Kc=t=>{if(!Ir(t,"can")&&!Ir(t,"abort")&&!Ir(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Fu,...t}},bf=(t,s)=>(...a)=>ct(t,(l,d)=>l&&s(d).apply(void 0,a),!0),lp=(t,s)=>(...a)=>ct(t,(l,d)=>l||s(d).apply(void 0,a),!1),vf=t=>_t(t)?{can:$e,abort:st,run:t}:t,wd=t=>{const s=bf(t,d=>d.can),a=lp(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{Je(t,g=>{g.run.apply(void 0,d)})}}},Nr=Y,jl=Nr("touchstart"),Lu=Nr("touchmove"),kf=Nr("touchend"),kb=Nr("touchcancel"),oo=Nr("mousedown"),Gs=Nr("mousemove"),La=Nr("mouseout"),wr=Nr("mouseup"),Hu=Nr("mouseover"),lu=Nr("focusin"),Ni=Nr("focusout"),ul=Nr("keydown"),Qw=Nr("keyup"),lm=Nr("input"),ip=Nr("change"),Mi=Nr("click"),e_=Nr("transitioncancel"),Mh=Nr("transitionend"),Vv=Nr("transitionstart"),Uv=Nr("selectstart"),Er=t=>Y("alloy."+t),t_={tap:Er("tap")},_d=Er("focus"),up=Er("blur.post"),Vu=Er("paste.post"),Uu=Er("receive"),ri=Er("execute"),dp=Er("focus.item"),Bh=t_.tap,ya=Er("longpress"),im=Er("sandbox.close"),jv=Er("typeahead.cancel"),og=Er("system.init"),fp=Er("system.touchmove"),Wv=Er("system.touchend"),sg=Er("system.scroll"),wf=Er("system.resize"),xl=Er("system.attached"),_f=Er("system.detached"),Cf=Er("system.dismissRequested"),Zv=Er("system.repositionRequested"),n_=Er("focusmanager.shifted"),Ph=Er("slotcontainer.visibility"),$h=Er("system.external.element.scroll"),mp=Er("change.tab"),um=Er("dismiss.tab"),o_=Er("highlight"),wb=Er("dehighlight"),es=(t,s)=>{Ih(t,t.element,s,{})},an=(t,s,a)=>{Ih(t,t.element,s,a)},dm=t=>{es(t,ri())},qv=(t,s,a)=>{Ih(t,s,a,{})},Ih=(t,s,a,l)=>{const d={target:s,...l};t.getSystem().triggerEvent(a,s,d)},s_=(t,s,a,l)=>{const d={...l,target:s};t.getSystem().triggerEvent(a,s,d)},Gv=(t,s,a,l)=>{t.getSystem().triggerEvent(a,s,l.event)},Ks=t=>Ot(t),Fh=(t,s)=>({key:t,value:Kc({abort:s})}),Rx=(t,s)=>({key:t,value:Kc({can:s})}),gp=t=>({key:t,value:Kc({run:(s,a)=>{a.event.prevent()}})}),et=(t,s)=>({key:t,value:Kc({run:s})}),rg=(t,s,a)=>({key:t,value:Kc({run:(l,d)=>{s.apply(void 0,[l,d].concat(a))}})}),Nx=t=>s=>et(t,s),_b=t=>s=>({key:t,value:Kc({run:(a,l)=>{Ul(a,l)&&s(a,l)}})}),Mx=(t,s)=>et(t,(a,l)=>{a.getSystem().getByUid(s).each(d=>{Gv(d,d.element,t,l)})}),fm=(t,s,a)=>{const l=s.partUids[a];return Mx(t,l)},Kv=(t,s)=>et(t,(a,l)=>{const d=l.event,g=a.getSystem().getByDom(d.target).getOrThunk(()=>nc(d.target,k=>a.getSystem().getByDom(k).toOptional(),st).getOr(a));s(a,g,l)}),Cd=t=>et(t,(s,a)=>{a.cut()}),Cb=t=>et(t,(s,a)=>{a.stop()}),pp=(t,s)=>_b(t)(s),Xs=_b(xl()),iu=_b(_f()),ag=_b(og()),ju=Nx(ri()),Sb=(t,s)=>{const l=(s||document).createElement("div");return l.innerHTML=t,$a(fe.fromDom(l))},hp=t=>t.dom.innerHTML,mm=(t,s)=>{const l=Aa(t).dom,d=fe.fromDom(l.createDocumentFragment()),g=Sb(s,l);su(d,g),dd(t),jc(t,d)},Xv=t=>{const s=fe.fromTag("div"),a=fe.fromDom(t.dom.cloneNode(!0));return jc(s,a),hp(s)},Bx=(t,s)=>fe.fromDom(t.dom.cloneNode(s)),r_=t=>Bx(t,!1),xb=t=>{if(eu(t))return"#shadow-root";{const s=r_(t);return Xv(s)}},cg=t=>xb(t),Px=(t,s,a)=>ds(s,t.element)&&!ds(s,a),gm=Ks([Rx(_d(),(t,s)=>{const a=s.event,l=a.originator,d=a.target;return Px(t,l,d)?(console.warn(_d()+` did not get interpreted by the desired target. 
Originator: `+cg(l)+`
Target: `+cg(d)+`
Check the `+_d()+" event handlers"),!1):!0})]);var Tb=Object.freeze({__proto__:null,events:gm});let pm=0;const Vt=t=>{const a=new Date().getTime(),l=Math.floor(Math.random()*1e9);return pm++,t+"_"+l+pm+String(a)},yp=Y("alloy-id-"),vc=Y("data-alloy-id"),Yv=yp(),Lh=vc(),$x=(t,s)=>{const a=Vt(Yv+t);return oc(s,a),a},oc=(t,s)=>{Object.defineProperty(t.dom,Lh,{value:s,writable:!0})},uu=t=>{const s=$o(t)?t.dom[Lh]:null;return A.from(s)},Sd=t=>Vt(t),Ix=gn,bp=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+cg(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},l=d=>()=>{console.warn(s(d))};return{debugInfo:Y("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:st}},hm=bp(),Eb=(t,s,a)=>{const l=a.toString(),d=l.indexOf(")")+1,g=l.indexOf("("),h=l.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Jv(h.slice(0,1).concat(h.slice(3)))}),t},Jv=t=>Ee(t,s=>mr(s,"/*")?s.substring(0,s.length-2):s),Hh=(t,s)=>{const a=t.toString(),l=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,l-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Jv(g)}),t},xd=(t,s)=>{const a=s.toString(),l=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,l-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Jv(g.slice(1))}),t},Ab=Vt("alloy-premade"),Qv=t=>(Object.defineProperty(t.element.dom,Ab,{value:t.uid,writable:!0}),ut(Ab,t)),e0=t=>po(t.dom,Ab),a_=t=>it(t,Ab),zb=t=>xd((s,...a)=>t(s.getApis(),s,...a),t),dl={init:()=>Xc({readState:Y("No State required")})},Xc=t=>t,c_=(t,s)=>{const a=Ee(s,d=>Tr(d.name(),[Pe("config"),we("state",dl)])),l=gs("component.behaviours",dn(a),t.behaviours).fold(d=>{throw new Error(cm(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},gn);return{list:s,data:Kn(l,d=>{const g=d.map(h=>({config:h.config,state:h.state.init(h.config)}));return Y(g)})}},vp=t=>t.list,Fx=t=>t.data,ym=(t,s)=>{const a={};return co(t,(l,d)=>{co(l,(g,h)=>{const k=it(a,h).getOr([]);a[h]=k.concat([s(d,g)])})}),a},ai=t=>({classes:Fn(t.classes)?[]:t.classes,attributes:Fn(t.attributes)?{}:t.attributes,styles:Fn(t.styles)?{}:t.styles}),Lx=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),kp=(t,s,a,l)=>{const d={...s};Je(a,O=>{d[O.name()]=O.exhibit(t,l)});const g=ym(d,(O,M)=>({name:O,modification:M})),h=O=>Mt(O,(M,$)=>({...$.modification,...M}),{}),k=Mt(g.classes,(O,M)=>M.modification.concat(O),[]),_=h(g.attributes),E=h(g.styles);return ai({classes:k,attributes:_,styles:E})},l_=(t,s,a,l)=>{try{const d=go(a,(g,h)=>{const k=g[s],_=h[s],E=l.indexOf(k),O=l.indexOf(_);if(E===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(l,null,2));if(O===-1)throw new Error("The ordering for "+t+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(l,null,2));return E<O?-1:O<E?1:0});return Yt.value(d)}catch(d){return Yt.error([d])}},wp=(t,s)=>({handler:t,purpose:s}),Vh=(t,s)=>({cHandler:t,purpose:s}),_p=(t,s)=>Vh(nn.apply(void 0,[t.handler].concat(s)),t.purpose),Uh=t=>t.cHandler,t0=(t,s)=>({name:t,handler:s}),Ob=(t,s)=>{const a={};return Je(t,l=>{a[l.name()]=l.handlers(s)}),a},Db=(t,s,a)=>{const l={...a,...Ob(s,t)};return ym(l,t0)},zs=(t,s,a,l)=>{const d=Db(t,a,l);return Rb(d,s)},Hx=t=>{const s=vf(t);return(a,l,...d)=>{const g=[a,l].concat(d);s.abort.apply(void 0,g)?l.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},i_=(t,s)=>Yt.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ee(s,a=>a.name),null,2)]),n0=(t,s,a)=>{const l=s[a];return l?l_("Event: "+a,"name",t,l).map(d=>{const g=Ee(d,h=>h.handler);return wd(g)}):i_(a,t)},Rb=(t,s)=>{const a=Sc(t,(l,d)=>(l.length===1?Yt.value(l[0].handler):n0(l,s,d)).map(h=>{const k=Hx(h),_=l.length>1?je(s[d],E=>is(l,O=>O.name===E)).join(" > "):l[0].name;return ut(d,wp(k,_))}));return rs(a,{})},bm="alloy.base.behaviour",Wu=dn([ha("dom","dom",Uo(),dn([Pe("tag"),we("styles",{}),we("classes",[]),we("attributes",{}),jo("value"),jo("innerHtml")])),Pe("components"),Pe("uid"),we("events",{}),we("apis",{}),ha("eventOrder","eventOrder",so({[ri()]:["disabling",bm,"toggling","typeaheadevents"],[_d()]:[bm,"focusing","keying"],[og()]:[bm,"disabling","toggling","representing"],[lm()]:[bm,"representing","streaming","invalidating"],[_f()]:[bm,"representing","item-events","tooltipping"],[oo()]:["focusing",bm,"item-type-events"],[jl()]:["focusing",bm,"item-type-events"],[Hu()]:["item-type-events","tooltipping"],[Uu()]:["receiving","reflecting","tooltipping"]}),_l()),jo("domModification")]),Ra=t=>gs("custom.definition",Wu,t),u_=t=>({...t.dom,uid:t.uid,domChildren:Ee(t.components,s=>s.element)}),d_=t=>t.domModification.fold(()=>ai({}),ai),Cp=t=>t.events,Nb=(t,s)=>{const a=fa(t,s);return a===void 0||a===""?[]:a.split(" ")},Vx=(t,s,a)=>{const d=Nb(t,s).concat([a]);return Mn(t,s,d.join(" ")),!0},Mb=(t,s,a)=>{const l=je(Nb(t,s),d=>d!==a);return l.length>0?Mn(t,s,l.join(" ")):W(t,s),!1},vm=t=>t.dom.classList!==void 0,f_=t=>Nb(t,"class"),nO=(t,s)=>Vx(t,"class",s),oO=(t,s)=>Mb(t,"class",s),ba=(t,s)=>{vm(t)?t.dom.classList.add(s):nO(t,s)},sO=t=>{(vm(t)?t.dom.classList:f_(t)).length===0&&W(t,"class")},xs=(t,s)=>{vm(t)?t.dom.classList.remove(s):oO(t,s),sO(t)},Ys=(t,s)=>vm(t)&&t.dom.classList.contains(s),Td=(t,s)=>{Je(s,a=>{ba(t,a)})},ci=(t,s)=>{Je(s,a=>{xs(t,a)})},Bi=(t,s)=>Ye(s,a=>Ys(t,a)),Bb=t=>{const s=t.dom.classList,a=new Array(s.length);for(let l=0;l<s.length;l++){const d=s.item(l);d!==null&&(a[l]=d)}return a},Sp=t=>vm(t)?Bb(t):f_(t),Tl=t=>t.dom.value,El=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},Jr=(t,s,a)=>Fc(t,s).map(d=>{if(a.exists(h=>!ds(h,d))){const h=a.map(Lr).getOr("span"),k=fe.fromTag(h);return Hl(d,k),k}else return d}),xp=(t,s,a)=>{a.fold(()=>jc(t,s),l=>{ds(l,s)||(Hl(l,s),Wc(l))})},km=(t,s,a)=>{const l=Ee(s,a),d=$a(t);return Je(d.slice(l.length),Wc),l},Tp=(t,s,a,l)=>{const d=Fc(t,s),g=l(a,d),h=Jr(t,s,d);return xp(t,g.element,h),g},m_=(t,s,a)=>km(t,s,(l,d)=>Tp(t,d,l,a)),Ed=(t,s)=>km(t,s,(a,l)=>{const d=Fc(t,l);return xp(t,a,d),a}),Ad=(t,s)=>{const a=_o(t),l=_o(s),d=Be(l,a),g=vs(t,(h,k)=>!po(s,k)||h!==s[k]).t;return{toRemove:d,toSet:g}},g_=(t,s)=>{const{class:a,style:l,...d}=oe(s),{toSet:g,toRemove:h}=Ad(t.attributes,d),k=()=>{Je(h,Ue=>W(s,Ue)),To(s,g)},_=Dr(s),{toSet:E,toRemove:O}=Ad(t.styles,_),M=()=>{Je(O,Ue=>vo(s,Ue)),ms(s,E)},$=Sp(s),H=Be($,t.classes),G=Be(t.classes,$),se=()=>{Td(s,G),ci(s,H)},_e=Ue=>{mm(s,Ue)},ve=()=>{const Ue=t.domChildren;Ed(s,Ue)},me=()=>{const Ue=s,Ge=t.value.getOrUndefined();Ge!==Tl(Ue)&&El(Ue,Ge??"")};return k(),se(),M(),t.innerHtml.fold(ve,_e),me(),s},o0=t=>{const s=fe.fromTag(t.tag);To(s,t.attributes),Td(s,t.classes),ms(s,t.styles),t.innerHtml.each(l=>mm(s,l));const a=t.domChildren;return su(s,a),t.value.each(l=>{El(s,l)}),s},p_=(t,s)=>{try{const a=g_(t,s);return A.some(a)}catch{return A.none()}},Ux=t=>t.innerHtml.isSome()&&t.domChildren.length>0,jx=(t,s)=>{const a=d=>Lr(d)===t.tag&&!Ux(t)&&!e0(d),l=s.filter(a).bind(d=>p_(t,d)).getOrThunk(()=>o0(t));return oc(l,t.uid),l},h_=t=>{const s=it(t,"behaviours").getOr({});return he(_o(s),a=>{const l=s[a];return mo(l)?[l.me]:[]})},y_=(t,s)=>c_(t,s),jh=t=>{const s=h_(t);return y_(t,s)},Wx=(t,s,a)=>{const l=u_(t),d=d_(t),g={"alloy.base.modification":d},h=s.length>0?kp(a,g,s,l):d;return Lx(l,h)},b_=(t,s,a)=>{const l={"alloy.base.behaviour":Cp(t)};return zs(a,t.eventOrder,s,l).getOrDie()},s0=(t,s)=>{const a=()=>Ue,l=hn(hm),d=Qo(Ra(t)),g=jh(t),h=vp(g),k=Fx(g),_=Wx(d,h,k),E=jx(_,s),O=b_(d,h,k),M=hn(d.components),$=Ge=>{l.set(Ge)},H=()=>{l.set(bp(a))},G=()=>{const Ge=$a(E),St=he(Ge,ot=>l.get().getByDom(ot).fold(()=>[],Bt));M.set(St)},se=Ge=>{const St=k;return(_t(St[Ge.name()])?St[Ge.name()]:()=>{throw new Error("Could not find "+Ge.name()+" in "+JSON.stringify(t,null,2))})()},_e=Ge=>_t(k[Ge.name()]),ve=()=>d.apis,me=Ge=>k[Ge]().map(St=>St.state.readState()).getOr("not enabled"),Ue={uid:t.uid,getSystem:l.get,config:se,hasConfigured:_e,spec:t,readState:me,getApis:ve,connect:$,disconnect:H,element:E,syncComponents:G,components:M.get,events:O};return Ue},Ep=(t,s)=>{const a=it(t,"components").getOr([]);return s.fold(()=>Ee(a,va),l=>Ee(a,(d,g)=>wm(d,Fc(l,g))))},Wh=(t,s)=>{const{events:a,...l}=Ix(t),d=Ep(l,s),g={...l,events:{...Tb,...a},components:d};return Yt.value(s0(g,s))},Ur=t=>{const s=fe.fromText(t);return Pb({element:s})},Pb=t=>{const s=Ja("external.component",Ya([Pe("element"),jo("uid")]),t),a=hn(bp()),l=k=>{a.set(k)},d=()=>{a.set(bp(()=>h))},g=s.uid.getOrThunk(()=>Sd("external"));oc(s.element,g);const h={uid:g,getSystem:a.get,config:A.none,hasConfigured:st,connect:l,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:Y("No state"),syncComponents:re,components:Y([]),events:{}};return Qv(h)},r0=Sd,Sf=t=>po(t,"uid"),wm=(t,s)=>a_(t).getOrThunk(()=>{const a=Sf(t)?t:{uid:r0(""),...t};return Wh(a,s).getOrDie()}),va=t=>wm(t,A.none()),Pi=Qv;var Ap=(t,s,a,l,d)=>t(a,l)?A.some(a):_t(d)&&d(a)?A.none():s(a,l,d);const a0=(t,s,a)=>{let l=t.dom;const d=_t(a)?a:st;for(;l.parentNode;){l=l.parentNode;const g=fe.fromDom(l);if(s(g))return A.some(g);if(d(g))break}return A.none()},zp=(t,s,a)=>Ap((d,g)=>g(d),a0,t,s,a),Zh=(t,s)=>{const a=d=>s(fe.fromDom(d));return Ae(t.dom.childNodes,a).map(fe.fromDom)},v_=(t,s)=>{const a=l=>{for(let d=0;d<l.childNodes.length;d++){const g=fe.fromDom(l.childNodes[d]);if(s(g))return A.some(g);const h=a(l.childNodes[d]);if(h.isSome())return h}return A.none()};return a(t.dom)},k_=(t,s,a)=>zp(t,s,a).isSome(),zd=(t,s,a)=>a0(t,l=>lr(l,s),a),$b=(t,s)=>Zh(t,a=>lr(a,s)),Qr=(t,s)=>bi(s,t),Wl=(t,s,a)=>Ap((d,g)=>lr(d,g),zd,t,s,a),du="aria-controls",w_=t=>zp(t,a=>{if(!$o(a))return!1;const l=fa(a,"id");return l!==void 0&&l.indexOf(du)>-1}).bind(a=>{const l=fa(a,"id"),d=ge(a);return Qr(d,`[${du}="${l}"]`)}),__=()=>{const t=Vt(du);return{id:t,link:l=>{Mn(l,du,t)},unlink:l=>{W(l,du)}}},C_=(t,s)=>w_(s).exists(a=>lg(t,a)),lg=(t,s)=>k_(s,a=>ds(a,t.element),st)||C_(t,s),S_="unknown";var _m;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(_m||(_m={}));const c0=hn({}),x_=(t,s)=>{const a=[],l=new Date().getTime();return{logEventCut:(d,g,h)=>{a.push({outcome:"cut",target:g,purpose:h})},logEventStopped:(d,g,h)=>{a.push({outcome:"stopped",target:g,purpose:h})},logNoParent:(d,g,h)=>{a.push({outcome:"no-parent",target:g,purpose:h})},logEventNoHandlers:(d,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(d,g,h)=>{a.push({outcome:"response",purpose:h,target:g})},write:()=>{const d=new Date().getTime();Gn(["mousemove","mouseover","mouseout",og()],t)||console.log(t,{event:t,time:d-l,target:s.dom,sequence:Ee(a,g=>Gn(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+cg(g.target)+")":g.outcome)})}}},T_=(t,s,a)=>{switch(it(c0.get(),t).orThunk(()=>{const d=_o(c0.get());return Ko(d,g=>t.indexOf(g)>-1?A.some(c0.get()[g]):A.none())}).getOr(_m.NORMAL)){case _m.NORMAL:return a(l0());case _m.LOGGING:{const d=x_(t,s),g=a(d);return d.write(),g}case _m.STOP:return!0}},qh=["alloy/data/Fields","alloy/debugging/Debugging"],Zx=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return Ae(s,a=>a.indexOf("alloy")>0&&!is(qh,l=>a.indexOf(l)>-1)).getOr(S_)}else return S_},Op={logEventCut:re,logEventStopped:re,logNoParent:re,logEventNoHandlers:re,logEventResponse:re,write:re},ig=(t,s,a)=>T_(t,s,a),l0=Y(Op),Gh=Y([Pe("menu"),Pe("selectedMenu")]),Dp=Y([Pe("item"),Pe("selectedItem")]);Y(dn(Dp().concat(Gh())));const i0=Y(dn(Dp())),u0=bd("initSize",[Pe("numColumns"),Pe("numRows")]),E_=()=>Gc("markers",i0()),Od=()=>bd("markers",[Pe("backgroundMenu")].concat(Gh()).concat(Dp())),Rp=t=>bd("markers",Ee(t,Pe)),Dd=(t,s,a)=>(Zx(),ha(s,s,a,yd(l=>Yt.value((...d)=>l.apply(void 0,d))))),lo=t=>Dd("onHandler",t,gd(re)),sc=t=>Dd("onKeyboardHandler",t,gd(A.none)),Cm=t=>Dd("onHandler",t,Uo()),Ie=t=>Dd("onKeyboardHandler",t,Uo()),Bs=(t,s)=>zc(t,Y(s)),A_=t=>zc(t,gn),z_=Y(u0),Ha=(t,s,a,l,d,g,h,k=!1)=>({x:t,y:s,bubble:a,direction:l,placement:d,restriction:g,label:`${h}-${d}`,alwaysFit:k}),Yc=w.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ib=(t,s,a,l,d,g,h,k,_)=>t.fold(s,a,l,d,g,h,k,_),d0=(t,s,a,l)=>t.fold(s,s,l,l,s,l,a,a),O_=(t,s,a,l)=>t.fold(s,l,s,l,a,a,s,l),Np=Yc.southeast,f0=Yc.southwest,xf=Yc.northeast,Fb=Yc.northwest,Lb=Yc.south,m0=Yc.north,g0=Yc.east,D_=Yc.west,Mp=(t,s,a,l)=>{const d=t+s;return d>l?a:d<a?l:d},Al=(t,s,a)=>Math.min(Math.max(t,s),a),p0=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Us=(t,s)=>un(["left","right","top","bottom"],a=>it(s,a).map(l=>p0(t,l))),R_=(t,s,a)=>{const l=(_,E)=>s[_].map(O=>{const M=_==="top"||_==="bottom",$=M?a.top:a.left,G=(_==="left"||_==="top"?Math.max:Math.min)(O,E)+$;return M?Al(G,t.y,t.bottom):Al(G,t.x,t.right)}).getOr(E),d=l("left",t.x),g=l("top",t.y),h=l("right",t.right),k=l("bottom",t.bottom);return T(d,g,h-d,k-g)},Sm="layout",Hb=t=>t.x,h0=(t,s)=>t.x+t.width/2-s.width/2,Kh=(t,s)=>t.x+t.width-s.width,Bp=(t,s)=>t.y-s.height,y0=t=>t.y+t.height,b0=(t,s)=>t.y+t.height/2-s.height/2,qx=t=>t.x+t.width,N_=(t,s)=>t.x-s.width,Va=(t,s,a)=>Ha(Hb(t),y0(t),a.southeast(),Np(),"southeast",Us(t,{left:1,top:3}),Sm),ka=(t,s,a)=>Ha(Kh(t,s),y0(t),a.southwest(),f0(),"southwest",Us(t,{right:0,top:3}),Sm),zl=(t,s,a)=>Ha(Hb(t),Bp(t,s),a.northeast(),xf(),"northeast",Us(t,{left:1,bottom:2}),Sm),Jc=(t,s,a)=>Ha(Kh(t,s),Bp(t,s),a.northwest(),Fb(),"northwest",Us(t,{right:0,bottom:2}),Sm),hr=(t,s,a)=>Ha(h0(t,s),Bp(t,s),a.north(),m0(),"north",Us(t,{bottom:2}),Sm),jr=(t,s,a)=>Ha(h0(t,s),y0(t),a.south(),Lb(),"south",Us(t,{top:3}),Sm),M_=(t,s,a)=>Ha(qx(t),b0(t,s),a.east(),g0(),"east",Us(t,{left:0}),Sm),Qc=(t,s,a)=>Ha(N_(t,s),b0(t,s),a.west(),D_(),"west",Us(t,{right:1}),Sm),Gx=()=>[Va,ka,zl,Jc,jr,hr,M_,Qc],Zu=()=>[ka,Va,Jc,zl,jr,hr,M_,Qc],B_=()=>[zl,Jc,Va,ka,hr,jr],P_=()=>[Jc,zl,ka,Va,hr,jr],v0=()=>[Va,ka,zl,Jc,jr,hr],k0=()=>[ka,Va,Jc,zl,jr,hr],Vb=(t,s)=>s.universal?t:je(t,a=>Gn(s.channels,a));var Xx=Object.freeze({__proto__:null,events:t=>Ks([et(Uu(),(s,a)=>{const l=t.channels,d=_o(l),g=a,h=Vb(d,g);Je(h,k=>{const _=l[k],E=_.schema,O=Ja("channel["+k+`] data
Receiver: `+cg(s.element),E,g.data);_.onReceive(s,O)})})])}),$_=[Gc("channels",rr(Yt.value,Ya([Cm("onReceive"),we("schema",_l())])))];const Yx=(t,s,a)=>ju(l=>{a(l,t,s)}),Xh=(t,s,a)=>ag((l,d)=>{a(l,t,s)}),Jx=(t,s,a,l,d,g)=>{const h=Ya(t),k=Tr(s,[ap("config",t)]);return Lt(h,k,s,a,l,d,g)},Qx=(t,s,a,l,d,g)=>{const h=t,k=Tr(s,[cu("config",t)]);return Lt(h,k,s,a,l,d,g)},eT=(t,s,a)=>Eb((d,...g)=>{const h=[d].concat(g);return d.config({name:Y(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},k=>{const _=Array.prototype.slice.call(h,1);return s.apply(void 0,[d,k.config,k.state].concat(_))})},a,s),Yh=t=>({key:t,value:void 0}),Lt=(t,s,a,l,d,g,h)=>{const k=M=>Ir(M,a)?M[a]():A.none(),_=Kn(d,(M,$)=>eT(a,M,$)),O={...Kn(g,(M,$)=>Hh(M,$)),..._,revoke:nn(Yh,a),config:M=>{const $=Ja(a+"-config",t,M);return{key:a,value:{config:$,me:O,configAsRaw:kl(()=>Ja(a+"-config",t,M)),initialConfig:M,state:h}}},schema:Y(s),exhibit:(M,$)=>xc(k(M),it(l,"exhibit"),(H,G)=>G($,H.config,H.state)).getOrThunk(()=>ai({})),name:Y(a),handlers:M=>k(M).map($=>it(l,"events").getOr(()=>({}))($.config,$.state)).getOr({})};return O},bt=t=>Ot(t),I_=Ya([Pe("fields"),Pe("name"),we("active",{}),we("apis",{}),we("state",dl),we("extra",{})]),rc=t=>{const s=Ja("Creating behaviour: "+t.name,I_,t);return Jx(s.fields,s.name,s.active,s.apis,s.extra,s.state)},tT=Ya([Pe("branchKey"),Pe("branches"),Pe("name"),we("active",{}),we("apis",{}),we("state",dl),we("extra",{})]),F_=t=>{const s=Ja("Creating behaviour: "+t.name,tT,t);return Qx(Rr(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},L_=Y(void 0),Ol=rc({fields:$_,name:"receiving",active:Xx});var w0=Object.freeze({__proto__:null,exhibit:(t,s)=>ai({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const $i=t=>t.dom.focus(),Rc=t=>t.dom.blur(),Rd=t=>{const s=ge(t).dom;return t.dom===s.activeElement},Nd=(t=Gm())=>A.from(t.dom.activeElement).map(fe.fromDom),fu=t=>Nd(ge(t)).filter(s=>t.dom.contains(s.dom)),Jh=(t,s)=>{const a=ge(s),l=Nd(a).bind(g=>{const h=k=>ds(g,k);return h(s)?A.some(s):v_(s,h)}),d=t(s);return l.each(g=>{Nd(a).filter(h=>ds(h,g)).fold(()=>{$i(g)},re)}),d},Zl=(t,s,a,l,d)=>{const g=h=>h+"px";return{position:t,left:s.map(g),top:a.map(g),right:l.map(g),bottom:d.map(g)}},nT=t=>({...t,position:A.some(t.position)}),_0=(t,s)=>{nr(t,nT(s))},Ub=w.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),V_=(t,s,a,l,d,g)=>{const h=s.rect,k=h.x-a,_=h.y-l,E=h.width,O=h.height,M=d-(k+E),$=g-(_+O),H=A.some(k),G=A.some(_),se=A.some(M),_e=A.some($),ve=A.none();return Ib(s.direction,()=>Zl(t,H,G,ve,ve),()=>Zl(t,ve,G,se,ve),()=>Zl(t,H,ve,ve,_e),()=>Zl(t,ve,ve,se,_e),()=>Zl(t,H,G,ve,ve),()=>Zl(t,H,ve,ve,_e),()=>Zl(t,H,G,ve,ve),()=>Zl(t,ve,G,se,ve))},C0=(t,s)=>t.fold(()=>{const a=s.rect;return Zl("absolute",A.some(a.x),A.some(a.y),A.none(),A.none())},(a,l,d,g)=>V_("absolute",s,a,l,d,g),(a,l,d,g)=>V_("fixed",s,a,l,d,g)),S0=(t,s)=>{const a=nn(md,s),l=t.fold(a,a,()=>{const h=yc();return md(s).translate(-h.left,-h.top)}),d=Ia(s),g=Ci(s);return T(l.left,l.top,d,g)},oT=(t,s)=>s.fold(()=>t.fold(ft,ft,T),a=>t.fold(Y(a),Y(a),()=>{const l=U_(t,a.x,a.y);return T(l.left,l.top,a.width,a.height)})),U_=(t,s,a)=>{const l=Zs(s,a),d=()=>{const g=yc();return l.translate(-g.left,-g.top)};return t.fold(Y(l),Y(l),d)},sT=(t,s,a,l)=>t.fold(s,a,l);Ub.none;const rT=Ub.relative,aT=Ub.fixed,x0=(t,s)=>({anchorBox:t,origin:s}),j_=(t,s)=>x0(t,s),T0="data-alloy-placement",W_=(t,s)=>{Mn(t,T0,s)},Z_=t=>pr(t,T0),cT=t=>W(t,T0),jb=w.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),q_=(t,s)=>{const{x:a,y:l,right:d,bottom:g}=s,{x:h,y:k,right:_,bottom:E,width:O,height:M}=t,$=h>=a&&h<=d,H=k>=l&&k<=g,G=$&&H,se=_<=d&&_>=a,_e=E<=g&&E>=l,ve=se&&_e,me=Math.min(O,h>=a?d-h:_-a),Ue=Math.min(M,k>=l?g-k:E-l);return{originInBounds:G,sizeInBounds:ve,visibleW:me,visibleH:Ue}},lT=(t,s)=>{const{x:a,y:l,right:d,bottom:g}=s,{x:h,y:k,width:_,height:E}=t,O=Math.max(a,d-_),M=Math.max(l,g-E),$=Al(h,a,O),H=Al(k,l,M),G=Math.min($+_,d)-$,se=Math.min(H+E,g)-H;return T($,H,G,se)},iT=(t,s,a)=>{const l=Y(s.bottom-a.y),d=Y(a.bottom-s.y),g=d0(t,d,d,l),h=Y(s.right-a.x),k=Y(a.right-s.x);return{maxWidth:O_(t,k,k,h),maxHeight:g}},G_=(t,s,a,l)=>{const d=t.bubble,g=d.offset,h=R_(l,t.restriction,g),k=t.x+g.left,_=t.y+g.top,E=T(k,_,s,a),{originInBounds:O,sizeInBounds:M,visibleW:$,visibleH:H}=q_(E,h),G=O&&M,se=G?E:lT(E,h),_e=se.width>0&&se.height>0,{maxWidth:ve,maxHeight:me}=iT(t.direction,se,l),Ue={rect:se,maxHeight:me,maxWidth:ve,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:_};return G||t.alwaysFit?jb.fit(Ue):jb.nofit(Ue,$,H,_e)},uT=(t,s,a,l,d,g)=>{const h=l.width,k=l.height,_=(O,M,$,H,G)=>{const se=O(a,l,d,t,g),_e=G_(se,h,k,g);return _e.fold(Y(_e),(ve,me,Ue,Ge)=>(G===Ge?Ue>H||me>$:!G&&Ge)?_e:jb.nofit(M,$,H,G))};return ct(s,(O,M)=>{const $=nn(_,M);return O.fold(Y(O),$)},jb.nofit({rect:a,maxHeight:l.height,maxWidth:l.width,direction:Np(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(gn,gn)},Wb=t=>{const s=hn(A.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(A.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:k=>{a(),s.set(A.some(k))}}},E0=()=>Wb(t=>t.destroy()),mu=()=>Wb(t=>t.unbind()),Os=()=>{const t=Wb(re);return{...t,on:a=>t.get().each(a)}},K_=$e,Nc=(t,s,a)=>Jf(t,s,K_,a),A0=(t,s,a)=>ff(t,s,K_,a),Tf=ou,Ua=["top","bottom","right","left"],Zb="data-alloy-transition-timer",X_=(t,s)=>Bi(t,s.classes),dT=(t,s,a)=>a.exists(l=>{const d=t.mode;return d==="all"?!0:l[d]!==s[d]}),Y_=(t,s)=>{const a=l=>parseFloat(l).toFixed(3);return Xo(s,(l,d)=>{const g=t[d].map(a),h=l.map(a);return!ic(g,h)}).isSome()},qb=t=>{const s=g=>{const k=Qe(t,g).split(/\s*,\s*/);return je(k,ua)},a=g=>{if(yt(g)&&/^[\d.]+/.test(g)){const h=parseFloat(g);return mr(g,"ms")?h:h*1e3}else return 0},l=s("transition-delay"),d=s("transition-duration");return ct(d,(g,h,k)=>{const _=a(l[k])+a(h);return Math.max(g,_)},0)},fT=(t,s)=>{const a=mu(),l=mu();let d;const g=E=>{var O;const M=(O=E.raw.pseudoElement)!==null&&O!==void 0?O:"";return ds(E.target,t)&&ee(M)&&Gn(Ua,E.raw.propertyName)},h=E=>{if(qo(E)||g(E)){a.clear(),l.clear();const O=E==null?void 0:E.raw.type;(qo(O)||O===Mh())&&(clearTimeout(d),W(t,Zb),ci(t,s.classes))}},k=Nc(t,Vv(),E=>{g(E)&&(k.unbind(),a.set(Nc(t,Mh(),h)),l.set(Nc(t,e_(),h)))}),_=qb(t);requestAnimationFrame(()=>{d=setTimeout(h,_+17),Mn(t,Zb,d)})},mT=(t,s)=>{Td(t,s.classes),pr(t,Zb).each(a=>{clearTimeout(parseInt(a,10)),W(t,Zb)}),fT(t,s)},gT=(t,s,a,l,d,g)=>{const h=dT(l,d,g);if(h||X_(t,l)){xt(t,"position",a.position);const k=S0(s,t),_=C0(s,{...d,rect:k}),E=un(Ua,O=>_[O]);Y_(a,E)&&(nr(t,E),h&&mT(t,l),ti(t))}else ci(t,l.classes)},pT=t=>({width:Ia(t),height:Ci(t)}),Qh=(t,s,a,l)=>{vo(s,"max-height"),vo(s,"max-width");const d=pT(s);return uT(s,l.preference,t,d,a,l.bounds)},J_=(t,s)=>{const a=s.classes;ci(t,a.off),Td(t,a.on)},hT=(t,s,a)=>{const l=a.maxHeightFunction;l(t,s.maxHeight)},ug=(t,s,a)=>{const l=a.maxWidthFunction;l(t,s.maxWidth)},Q_=(t,s,a)=>{const l=C0(a.origin,s);a.transition.each(d=>{gT(t,a.origin,l,d,s,a.lastPlacement)}),_0(t,l)},Gb=(t,s)=>{W_(t,s.placement)},e2=(t,s)=>{hb(t,Math.floor(s))},yT=Y((t,s)=>{e2(t,s),ms(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Pp=Y((t,s)=>{e2(t,s)}),Kb=(t,s,a)=>t[s]===void 0?a:t[s],t2=(t,s,a,l,d,g,h,k)=>{const _=Kb(h,"maxHeightFunction",yT()),E=Kb(h,"maxWidthFunction",re),O=t.anchorBox,M=t.origin,$={bounds:oT(M,g),origin:M,preference:l,maxHeightFunction:_,maxWidthFunction:E,lastPlacement:d,transition:k};return bT(O,s,a,$)},bT=(t,s,a,l)=>{const d=Qh(t,s,a,l);return Q_(s,d,l),Gb(s,d),J_(s,d),hT(s,d,l),ug(s,d,l),{layout:d.layout,placement:d.placement}},vT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],$p=(t,s,a,l=1)=>{const d=t*l,g=s*l,h=_=>it(a,_).getOr([]),k=(_,E,O)=>{const M=Be(vT,O);return{offset:Zs(_,E),classesOn:he(O,h),classesOff:he(M,h)}};return{southeast:()=>k(-t,s,["top","alignLeft"]),southwest:()=>k(t,s,["top","alignRight"]),south:()=>k(-t/2,s,["top","alignCentre"]),northeast:()=>k(-t,-s,["bottom","alignLeft"]),northwest:()=>k(t,-s,["bottom","alignRight"]),north:()=>k(-t/2,-s,["bottom","alignCentre"]),east:()=>k(t,-s/2,["valignCentre","left"]),west:()=>k(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>k(d,g,["top","alignLeft","inset"]),insetNorthwest:()=>k(-d,g,["top","alignRight","inset"]),insetNorth:()=>k(-d/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>k(d,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-d,-g,["bottom","alignRight","inset"]),insetSouth:()=>k(-d/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>k(-d,-g/2,["valignCentre","right","inset"]),insetWest:()=>k(d,-g/2,["valignCentre","left","inset"])}},Xb=()=>$p(0,0,{}),Yb=gn,z0=(t,s)=>a=>n2(a)==="rtl"?s:t,n2=t=>Qe(t,"direction")==="rtl"?"rtl":"ltr";var Md;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Md||(Md={}));const dg="data-alloy-vertical-dir",o2=t=>k_(t,s=>$o(s)&&fa(s,"data-alloy-vertical-dir")===Md.BottomToTop),Ef=()=>Tr("layouts",[Pe("onLtr"),Pe("onRtl"),jo("onBottomLtr"),jo("onBottomRtl")]),fg=(t,s,a,l,d,g,h)=>{const k=h.map(o2).getOr(!1),_=s.layouts.map(H=>H.onLtr(t)),E=s.layouts.map(H=>H.onRtl(t)),O=k?s.layouts.bind(H=>H.onBottomLtr.map(G=>G(t))).or(_).getOr(d):_.getOr(a),M=k?s.layouts.bind(H=>H.onBottomRtl.map(G=>G(t))).or(E).getOr(g):E.getOr(l);return z0(O,M)(t)},ey=(t,s,a)=>{const l=s.hotspot,d=S0(a,l.element),g=fg(t.element,s,v0(),k0(),B_(),P_(),A.some(s.hotspot.element));return A.some(Yb({anchorBox:d,bubble:s.bubble.getOr(Xb()),overrides:s.overrides,layouts:g}))};var O0=[Pe("hotspot"),jo("bubble"),we("overrides",{}),Ef(),Bs("placement",ey)];const s2=(t,s,a)=>{const l=U_(a,s.x,s.y),d=T(l.left,l.top,s.width,s.height),g=fg(t.element,s,Gx(),Zu(),Gx(),Zu(),A.none());return A.some(Yb({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var kT=[Pe("x"),Pe("y"),we("height",0),we("width",0),we("bubble",Xb()),we("overrides",{}),Ef(),Bs("placement",s2)];const r2=w.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),wT=t=>t.fold(gn,(s,a,l)=>s.translate(-a,-l)),_T=t=>t.fold(gn,gn),a2=t=>ct(t,(s,a)=>s.translate(a.left,a.top),Zs(0,0)),CT=t=>{const s=Ee(t,wT);return a2(s)},Jb=t=>{const s=Ee(t,_T);return a2(s)},ST=r2.screen,xT=r2.absolute,TT=(t,s,a)=>{const l=Ga(a.root).dom,d=g=>{const h=Aa(g),k=Aa(t.element);return ds(h,k)};return A.from(l.frameElement).map(fe.fromDom).filter(d).map(gc)},c2=(t,s,a)=>{const l=Aa(t.element),d=yc(l),g=TT(t,s,a).getOr(d);return xT(g,d.left,d.top)},ty=(t,s,a,l)=>{const d=ST(Zs(t,s));return A.some(Kg(d,a,l))},l2=(t,s,a,l,d)=>t.map(g=>{const h=[s,g.point],k=sT(l,()=>Jb(h),()=>Jb(h),()=>CT(h)),_=Di(k.left,k.top,g.width,g.height),E=a.showAbove?B_():v0(),O=a.showAbove?P_():k0(),M=fg(d,a,E,O,E,O,A.none());return Yb({anchorBox:_,bubble:a.bubble.getOr(Xb()),overrides:a.overrides,layouts:M})}),ET=(t,s,a)=>{const l=c2(t,a,s);return s.node.filter(Io).bind(d=>{const g=d.dom.getBoundingClientRect(),h=ty(g.left,g.top,g.width,g.height),k=s.node.getOr(t.element);return l2(h,l,s,a,k)})};var AT=[Pe("node"),Pe("root"),jo("bubble"),Ef(),we("overrides",{}),we("showAbove",!1),Bs("placement",ET)];const zT="\uFEFF",Qb=" ",ny={create:(t,s,a,l)=>({start:t,soffset:s,finish:a,foffset:l})},oy=w.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),u2=(t,s,a,l)=>t.fold(s,a,l),D0=t=>t.fold(gn,gn,gn),R0=oy.before,N0=oy.on,M0=oy.after,d2={before:R0,on:N0,after:M0,cata:u2,getStart:D0},Ip=w.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),f2=t=>Ip.exact(t.start,t.soffset,t.finish,t.foffset),OT=t=>t.match({domRange:s=>fe.fromDom(s.startContainer),relative:(s,a)=>d2.getStart(s),exact:(s,a,l,d)=>s}),B0=Ip.domRange,DT=Ip.relative,RT=Ip.exact,mg=t=>{const s=OT(t);return Ga(s)},P0=ny.create,sy={domRange:B0,relative:DT,exact:RT,exactFromRange:f2,getWin:mg,range:P0},NT=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,l)=>{t.setStart(a.dom,l)},a=>{t.setStartAfter(a.dom)})},MT=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,l)=>{t.setEnd(a.dom,l)},a=>{t.setEndAfter(a.dom)})},$0=(t,s,a)=>{const l=t.document.createRange();return NT(l,s),MT(l,a),l},m2=(t,s,a,l,d)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(l.dom,d),g},el=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),BT=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?A.some(a).map(el):A.none()},Bd=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?A.some(s).map(el):A.none()},Af=w.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),g2=(t,s,a)=>s(fe.fromDom(a.startContainer),a.startOffset,fe.fromDom(a.endContainer),a.endOffset),I0=(t,s)=>s.match({domRange:a=>({ltr:Y(a),rtl:A.none}),relative:(a,l)=>({ltr:kl(()=>$0(t,a,l)),rtl:kl(()=>A.some($0(t,l,a)))}),exact:(a,l,d,g)=>({ltr:kl(()=>m2(t,a,l,d,g)),rtl:kl(()=>A.some(m2(t,d,g,a,l)))})}),PT=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>Af.rtl(fe.fromDom(d.endContainer),d.endOffset,fe.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>g2(t,Af.ltr,a)):g2(t,Af.ltr,a)},p2=(t,s)=>{const a=I0(t,s);return PT(t,a)},e1=(t,s)=>p2(t,s).match({ltr:(l,d,g,h)=>{const k=t.document.createRange();return k.setStart(l.dom,d),k.setEnd(g.dom,h),k},rtl:(l,d,g,h)=>{const k=t.document.createRange();return k.setStart(g.dom,h),k.setEnd(l.dom,d),k}});Af.ltr,Af.rtl;const ry=(t,s,a)=>je(ad(t,a),s),fl=(t,s)=>cf(s,t),$T=(t,s,a,l)=>{const g=Aa(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,l),g},ay=(t,s,a,l)=>{const d=$T(t,s,a,l),g=ds(t,a)&&s===l;return d.collapsed&&!g},gg=t=>A.from(t.getSelection()),xm=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return A.some(ny.create(fe.fromDom(s.startContainer),s.startOffset,fe.fromDom(a.endContainer),a.endOffset))}else return A.none()},t1=t=>{if(t.anchorNode===null||t.focusNode===null)return xm(t);{const s=fe.fromDom(t.anchorNode),a=fe.fromDom(t.focusNode);return ay(s,t.anchorOffset,a,t.focusOffset)?A.some(ny.create(s,t.anchorOffset,a,t.focusOffset)):xm(t)}},Fp=t=>gg(t).filter(s=>s.rangeCount>0).bind(t1),n1=(t,s)=>{const a=e1(t,s);return BT(a)},pg=(t,s)=>{const a=e1(t,s);return Bd(a)},h2=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return l(g).getOr("")},l=g=>t(g)?A.from(g.dom.nodeValue):A.none();return{get:a,getOption:l,set:(g,h)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=h}}})(Ea,"text"),F0=t=>h2.get(t),cy=(t,s)=>({element:t,offset:s}),ly=(t,s)=>{const a=$a(t);if(a.length===0)return cy(t,s);if(s<a.length)return cy(a[s],0);{const l=a[a.length-1],d=Ea(l)?F0(l).length:$a(l).length;return cy(l,d)}},Lp=(t,s)=>Ea(t)?cy(t,s):ly(t,s),Tm=t=>t.foffset!==void 0,o1=(t,s)=>s.getSelection.getOrThunk(()=>()=>Fp(t))().map(l=>{if(Tm(l)){const d=Lp(l.start,l.soffset),g=Lp(l.finish,l.foffset);return sy.range(d.element,d.offset,g.element,g.offset)}else return l}),s1=(t,s,a)=>{const l=Ga(s.root).dom,d=c2(t,a,s),g=o1(l,s).bind(_=>{if(Tm(_))return pg(l,sy.exactFromRange(_)).orThunk(()=>{const O=fe.fromText(zT);Hl(_.start,O);const M=n1(l,sy.exact(O,0,O,1));return Wc(O),M}).bind(O=>ty(O.left,O.top,O.width,O.height));{const E=Kn(_,M=>M.dom.getBoundingClientRect()),O={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return ty(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),k=o1(l,s).bind(_=>Tm(_)?$o(_.start)?A.some(_.start):za(_.start):A.some(_.firstCell)).getOr(t.element);return l2(g,d,s,a,k)};var Hp=[jo("getSelection"),Pe("root"),jo("bubble"),Ef(),we("overrides",{}),we("showAbove",!1),Bs("placement",s1)];const gu="link-layout",Vp=t=>t.x+t.width,r1=(t,s)=>t.x-s.width,Up=(t,s)=>t.y-s.height+t.height,ac=t=>t.y,IT=(t,s,a)=>Ha(Vp(t),ac(t),a.southeast(),Np(),"southeast",Us(t,{left:0,top:2}),gu),pu=(t,s,a)=>Ha(r1(t,s),ac(t),a.southwest(),f0(),"southwest",Us(t,{right:1,top:2}),gu),iy=(t,s,a)=>Ha(Vp(t),Up(t,s),a.northeast(),xf(),"northeast",Us(t,{left:0,bottom:3}),gu),a1=(t,s,a)=>Ha(r1(t,s),Up(t,s),a.northwest(),Fb(),"northwest",Us(t,{right:1,bottom:3}),gu),hg=()=>[IT,pu,iy,a1],c1=()=>[pu,IT,a1,iy],l1=(t,s,a)=>{const l=S0(a,s.item.element),d=fg(t.element,s,hg(),c1(),hg(),c1(),A.none());return A.some(Yb({anchorBox:l,bubble:Xb(),overrides:s.overrides,layouts:d}))};var FT=[Pe("item"),Ef(),we("overrides",{}),Bs("placement",l1)],L0=Rr("type",{selection:Hp,node:AT,hotspot:O0,submenu:FT,makeshift:kT});const H0=[il("classes",ur),Dc("mode","all",["all","layout","placement"])],i1=[we("useFixed",st),jo("getBounds")],u1=[Gc("anchor",L0),Tr("transition",H0)],qu=()=>{const t=document.documentElement;return aT(0,0,t.clientWidth,t.clientHeight)},LT=t=>{const s=gc(t.element),a=t.element.dom.getBoundingClientRect();return rT(s.left,s.top,a.width,a.height)},HT=(t,s,a,l,d,g)=>{const h=j_(s.anchorBox,t);return t2(h,l.element,s.bubble,s.layouts,d,a,s.overrides,g)},y2=(t,s,a,l,d)=>{const g=A.none();jp(t,s,a,l,d,g)},jp=(t,s,a,l,d,g)=>{const h=Ja("placement.info",dn(u1),d),k=h.anchor,_=l.element,E=a.get(l.uid);Jh(()=>{xt(_,"position","fixed");const O=Ss(_,"visibility");xt(_,"visibility","hidden");const M=s.useFixed()?qu():LT(t);k.placement(t,k,M).each($=>{const H=g.orThunk(()=>s.getBounds.map(Ho)),G=HT(M,$,H,l,E,h.transition);a.set(l.uid,G)}),O.fold(()=>{vo(_,"visibility")},$=>{xt(_,"visibility",$)}),Ss(_,"left").isNone()&&Ss(_,"top").isNone()&&Ss(_,"right").isNone()&&Ss(_,"bottom").isNone()&&Fr(Ss(_,"position"),"fixed")&&vo(_,"position")},_)};var aO=Object.freeze({__proto__:null,position:y2,positionWithinBounds:jp,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,l)=>{const d=l.element;Je(["position","left","right","top","bottom"],g=>vo(d,g)),cT(d),a.clear(l.uid)}}),Pd=Object.freeze({__proto__:null,init:()=>{let t={};return Xc({readState:()=>t,clear:d=>{mo(d)?delete t[d]:t={}},set:(d,g)=>{t[d]=g},get:d=>it(t,d)})}});const Mc=rc({fields:i1,name:"positioning",active:w0,apis:aO,state:Pd}),Em=t=>t.getSystem().isConnected(),cc=t=>{es(t,_f());const s=t.components();Je(s,cc)},ja=t=>{const s=t.components();Je(s,ja),es(t,xl())},kc=(t,s)=>{t.getSystem().addToWorld(s),Io(t.element)&&ja(s)},li=t=>{cc(t),t.getSystem().removeFromWorld(t)},d1=(t,s)=>{jc(t.element,s.element)},hu=t=>{Je(t.components(),s=>Wc(s.element)),dd(t.element),t.syncComponents()},yg=(t,s,a)=>{const l=t.components();hu(t);const d=a(s),g=Be(l,d);Je(g,h=>{cc(h),t.getSystem().removeFromWorld(h)}),Je(d,h=>{Em(h)?d1(t,h):(t.getSystem().addToWorld(h),d1(t,h),Io(t.element)&&ja(h))}),t.syncComponents()},UT=(t,s,a)=>{const l=t.components(),d=he(s,k=>a_(k).toArray());Je(l,k=>{Gn(d,k)||li(k)});const g=a(s),h=Be(l,g);Je(h,k=>{Em(k)&&li(k)}),Je(g,k=>{Em(k)||kc(t,k)}),t.syncComponents()},$d=(t,s)=>{uy(t,s,jc)},uy=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),Io(t.element)&&ja(s),t.syncComponents()},f1=t=>{cc(t),Wc(t.element),t.getSystem().removeFromWorld(t)},Id=t=>{const s=Pa(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());f1(t),s.each(a=>{a.syncComponents()})},dy=t=>{const s=t.components();Je(s,f1),dd(t.element),t.syncComponents()},m1=(t,s)=>{V0(t,s,jc)},bg=(t,s)=>{V0(t,s,Bu)},V0=(t,s,a)=>{a(t,s.element);const l=$a(s.element);Je(l,d=>{s.getByDom(d).each(ja)})},b2=t=>{const s=$a(t.element);Je(s,a=>{t.getByDom(a).each(cc)}),Wc(t.element)},U0=(t,s,a,l)=>{a.get().each(h=>{dy(t)});const d=s.getAttachPoint(t);$d(d,t);const g=t.getSystem().build(l);return $d(t,g),a.set(g),g},zf=(t,s,a,l)=>{const d=U0(t,s,a,l);return s.onOpen(t,d),d},v2=(t,s,a,l)=>a.get().map(()=>U0(t,s,a,l)),yu=(t,s,a,l,d)=>{k2(t,s),zf(t,s,a,l),d(),Z0(t,s)},j0=(t,s,a)=>{a.get().each(l=>{dy(t),Id(t),s.onClose(t,l),a.clear()})},W0=(t,s,a)=>a.isOpen(),jT=(t,s,a,l)=>W0(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,l)),cO=(t,s,a)=>a.get(),WT=(t,s,a,l)=>{Ss(t.element,s).fold(()=>{W(t.element,a)},d=>{Mn(t.element,a,d)}),xt(t.element,s,l)},ZT=(t,s,a)=>{pr(t.element,a).fold(()=>vo(t.element,s),l=>xt(t.element,s,l))},k2=(t,s,a)=>{const l=s.getAttachPoint(t);xt(t.element,"position",Mc.getMode(l)),WT(t,"visibility",s.cloakVisibilityAttr,"hidden")},Fi=t=>is(["top","left","right","bottom"],s=>Ss(t,s).isSome()),Z0=(t,s,a)=>{Fi(t.element)||vo(t.element,"position"),ZT(t,"visibility",s.cloakVisibilityAttr)};var g1=Object.freeze({__proto__:null,cloak:k2,decloak:Z0,open:zf,openWhileCloaked:yu,close:j0,isOpen:W0,isPartOf:jT,getState:cO,setContent:v2}),fy=Object.freeze({__proto__:null,events:(t,s)=>Ks([et(im(),(a,l)=>{j0(a,t,s)})])}),qT=[lo("onOpen"),lo("onClose"),Pe("isPartOf"),Pe("getAttachPoint"),we("cloakVisibilityAttr","data-precloak-visibility")],my=Object.freeze({__proto__:null,init:()=>{const t=Os(),s=Y("not-implemented");return Xc({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Eo=rc({fields:qT,name:"sandboxing",active:fy,apis:g1,state:my}),Of=Y("dismiss.popups"),Zp=Y("reposition.popups"),p1=Y("mouse.released"),w2=Ya([we("isExtraPart",st),Tr("fireEventInstead",[we("event",Cf())])]),h1=t=>{const s=Ja("Dismissal",w2,t);return{[Of()]:{schema:Ya([Pe("target")]),onReceive:(a,l)=>{Eo.isOpen(a)&&(Eo.isPartOf(a,l.target)||s.isExtraPart(a,l.target)||s.fireEventInstead.fold(()=>Eo.close(a),g=>es(a,g.event)))}}}},gy=Ya([Tr("fireEventInstead",[we("event",Zv())]),Sl("doReposition")]),py=t=>{const s=Ja("Reposition",gy,t);return{[Zp()]:{onReceive:a=>{Eo.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),l=>es(a,l.event))}}}},q0=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},G0=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var vg=Object.freeze({__proto__:null,onLoad:q0,onUnload:G0,setValue:(t,s,a,l)=>{s.store.manager.setValue(t,s,a,l)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),GT=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Xs((l,d)=>{q0(l,t,s)}),iu((l,d)=>{G0(l,t,s)})]:[Xh(t,s,q0)];return Ks(a)}});const K0=()=>{const t=hn(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,l=()=>{t.set(null)};return Xc({set:t.set,get:t.get,isNotSet:a,clear:l,readState:s})},X0=()=>Xc({readState:re}),Df=()=>{const t=hn({}),s=hn({});return Xc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:h=>it(t.get(),h).orThunk(()=>it(s.get(),h)),update:h=>{const k=t.get(),_=s.get(),E={},O={};Je(h,M=>{E[M.value]=M,it(M,"meta").each($=>{it($,"text").each(H=>{O[H]=M})})}),t.set({...k,...E}),s.set({..._,...O})},clear:()=>{t.set({}),s.set({})}})};var qp=Object.freeze({__proto__:null,memory:K0,dataset:Df,manual:X0,init:t=>t.store.manager.state(t)});const Fd=(t,s,a,l)=>{const d=s.store;a.update([l]),d.setValue(t,l),s.onSetValue(t,l)},Y0=(t,s,a)=>{const l=s.store,d=l.getDataKey(t);return a.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},C2=(t,s,a)=>{s.store.initialValue.each(d=>{Fd(t,s,a,d)})},hy=(t,s,a)=>{a.clear()};var J0=[jo("initialValue"),Pe("getFallbackEntry"),Pe("getDataKey"),Pe("setValue"),Bs("manager",{setValue:Fd,getValue:Y0,onLoad:C2,onUnload:hy,state:Df})];const k1=(t,s,a)=>s.store.getValue(t),kg=(t,s,a,l)=>{s.store.setValue(t,l),s.onSetValue(t,l)},S2=(t,s,a)=>{s.store.initialValue.each(l=>{s.store.setValue(t,l)})};var KT=[Pe("getValue"),we("setValue",re),jo("initialValue"),Bs("manager",{setValue:kg,getValue:k1,onLoad:S2,onUnload:re,state:dl.init})];const x2=(t,s,a,l)=>{a.set(l),s.onSetValue(t,l)},Q0=(t,s,a)=>a.get(),Gp=(t,s,a)=>{s.store.initialValue.each(l=>{a.isNotSet()&&a.set(l)})},ek=(t,s,a)=>{a.clear()};var Kp=[jo("initialValue"),Bs("manager",{setValue:x2,getValue:Q0,onLoad:Gp,onUnload:ek,state:K0})],XT=[ec("store",{mode:"memory"},Rr("mode",{memory:Kp,manual:KT,dataset:J0})),lo("onSetValue"),we("resetOnDom",!1)];const Pt=rc({fields:XT,name:"representing",active:GT,apis:vg,extra:{setValueFrom:(t,s)=>{const a=Pt.getValue(s);Pt.setValue(t,a)}},state:qp}),_r=(t,s)=>kd(t,{},Ee(s,a=>Hv(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([zc("dump",gn)])),Xp=t=>t.dump,Wr=(t,s)=>({...bt(s),...t.dump}),ql={field:_r,augment:Wr,get:Xp},tk="placeholder",wg=w.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),yy=t=>po(t,"uiType"),w1=(t,s,a,l)=>t.exists(d=>d!==a.owner)?wg.single(!0,Y(a)):it(l,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+_o(l)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),T2=(t,s,a,l)=>yy(a)&&a.uiType===tk?w1(t,s,a,l):wg.single(!1,Y(a)),Li=(t,s,a,l)=>T2(t,s,a,l).fold((g,h)=>{const k=yy(a)?h(s,a.config,a.validated):h(s),_=it(k,"components").getOr([]),E=he(_,O=>Li(t,s,O,l));return[{...k,components:E}]},(g,h)=>{if(yy(a)){const k=h(s,a.config,a.validated);return a.validated.preprocess.getOr(gn)(k)}else return h(s)}),YT=(t,s,a,l)=>he(a,d=>Li(t,s,d,l)),E2=(t,s)=>{let a=!1;const l=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((h,k)=>h,(h,k)=>h);return{name:Y(t),required:g,used:l,replace:d}},ii=(t,s,a,l)=>{const d=Kn(l,(h,k)=>E2(k,h)),g=YT(t,s,a,d);return co(d,h=>{if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},wa=wg.single,A2=wg.multiple,_1=Y(tk),Ld=w.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),by=we("factory",{sketch:gn}),vy=we("schema",[]),C1=Pe("name"),nk=ha("pname","pname",Ac(t=>"<alloy."+Vt(t.name)+">"),_l()),z2=zc("schema",()=>[jo("preprocess")]),_g=we("defaults",Y({})),Rf=we("overrides",Y({})),JT=dn([by,vy,C1,nk,_g,Rf]),ok=dn([by,vy,C1,_g,Rf]),S1=dn([by,vy,C1,nk,_g,Rf]),O2=dn([by,z2,C1,Pe("unit"),nk,_g,Rf]),sk=t=>t.fold(A.some,A.none,A.some,A.some),Cg=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},D2=t=>t.fold(gn,gn,gn,gn),Hd=(t,s)=>a=>{const l=Ja("Converting part type",s,a);return t(l)},Zr=Hd(Ld.required,JT),bu=Hd(Ld.external,ok),Hi=Hd(Ld.optional,S1),x1=Hd(Ld.group,O2),Ku=Y("entirety");var R2=Object.freeze({__proto__:null,required:Zr,external:bu,optional:Hi,group:x1,asNamedPart:sk,name:Cg,asCommon:D2,original:Ku});const rk=(t,s,a,l)=>Ms(s.defaults(t,a,l),a,{uid:t.partUids[s.name]},s.overrides(t,a,l)),T1=(t,s,a)=>{const l={},d={};return Je(a,g=>{g.fold(h=>{l[h.pname]=wa(!0,(k,_,E)=>h.factory.sketch(rk(k,h,_,E)))},h=>{const k=s.parts[h.name];d[h.name]=Y(h.factory.sketch(rk(s,h,k[Ku()]),k))},h=>{l[h.pname]=wa(!1,(k,_,E)=>h.factory.sketch(rk(k,h,_,E)))},h=>{l[h.pname]=A2(!0,(k,_,E)=>{const O=k[h.name];return Ee(O,M=>h.factory.sketch(Ms(h.defaults(k,M,E),M,h.overrides(k,M))))})})}),{internals:Y(l),externals:Y(d)}},ak=(t,s)=>{const a={};return Je(s,l=>{sk(l).each(d=>{const g=QT(t,d.pname);a[d.name]=h=>{const k=Ja("Part: "+d.name+" in "+t,dn(d.schema),h);return{...g,config:h,validated:k}}})}),a},QT=(t,s)=>({uiType:_1(),owner:t,name:s}),E1=(t,s,a)=>({uiType:_1(),owner:t,name:s,config:a,validated:{}}),ky=t=>he(t,s=>s.fold(A.none,A.some,A.none,A.none).map(a=>bd(a.name,a.schema.concat([A_(Ku())]))).toArray()),N2=t=>Ee(t,Cg),ck=(t,s,a)=>T1(t,s,a),lk=(t,s,a)=>ii(A.some(t),s,s.components,a),Ps=(t,s,a)=>{const l=s.partUids[a];return t.getSystem().getByUid(l).toOptional()},Nf=(t,s,a)=>Ps(t,s,a).getOrDie("Could not find part: "+a),M2=(t,s,a)=>{const l={},d=s.partUids,g=t.getSystem();return Je(a,h=>{l[h]=Y(g.getByUid(d[h]))}),l},B2=(t,s)=>{const a=t.getSystem();return Kn(s.partUids,(l,d)=>Y(a.getByUid(l)))},P2=t=>_o(t.partUids),ik=(t,s,a)=>{const l={},d=s.partUids,g=t.getSystem();return Je(a,h=>{l[h]=Y(g.getByUid(d[h]).getOrDie())}),l},$2=(t,s)=>{const a=N2(s);return Ot(Ee(a,l=>({key:l,value:t+"-"+l})))},uk=t=>ha("partUids","partUids",gf(s=>$2(s.uid,t)),_l());var I2=Object.freeze({__proto__:null,generate:ak,generateOne:E1,schemas:ky,names:N2,substitutes:ck,components:lk,defaultUids:$2,defaultUidsSchema:uk,getAllParts:B2,getAllPartNames:P2,getPart:Ps,getPartOrDie:Nf,getParts:M2,getPartsOrDie:ik});const F2=(t,s)=>(t.length>0?[bd("parts",t)]:[]).concat([Pe("uid"),we("dom",{}),we("components",[]),A_("originalSpec"),we("debug.sketcher",{})]).concat(s),dk=(t,s,a,l,d)=>{const g=F2(l,d);return Ja(t+" [SpecSchema]",Ya(g.concat(s)),a)},L2=(t,s,a,l)=>{const d=Sg(l),g=dk(t,s,d,[],[]);return a(g,d)},fk=(t,s,a,l,d)=>{const g=Sg(d),h=ky(a),k=uk(a),_=dk(t,s,g,h,[k]),E=ck(t,_,a),O=lk(t,_,E.internals());return l(_,O,g,E.externals())},H2=t=>po(t,"uid"),Sg=t=>H2(t)?t:{...t,uid:Sd("uid")},Yp=t=>t.uid!==void 0,mk=Ya([Pe("name"),Pe("factory"),Pe("configFields"),we("apis",{}),we("extraApis",{})]),eE=Ya([Pe("name"),Pe("factory"),Pe("configFields"),Pe("partFields"),we("apis",{}),we("extraApis",{})]),ea=t=>{const s=Ja("Sketcher for "+t.name,mk,t),a=g=>L2(s.name,s.configFields,s.factory,g),l=Kn(s.apis,zb),d=Kn(s.extraApis,(g,h)=>Hh(g,h));return{name:s.name,configFields:s.configFields,sketch:a,...l,...d}},_a=t=>{const s=Ja("Sketcher for "+t.name,eE,t),a=h=>fk(s.name,s.configFields,s.partFields,s.factory,h),l=ak(s.name,s.partFields),d=Kn(s.apis,zb),g=Kn(s.extraApis,(h,k)=>Hh(h,k));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:l,...d,...g}},Jp=t=>mc("input")(t)&&fa(t,"type")!=="radio"||mc("textarea")(t);var tE=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const Ut=[Pe("find")],ro=rc({fields:Ut,name:"composing",apis:tE}),nE=["input","button","textarea","select"],gk=(t,s,a)=>{(s.disabled()?_y:xg)(t,s)},Qp=(t,s)=>s.useNative===!0&&Gn(nE,Lr(t.element)),pk=t=>P(t.element,"disabled"),oE=t=>{Mn(t.element,"disabled","disabled")},A1=t=>{W(t.element,"disabled")},sE=t=>fa(t.element,"aria-disabled")==="true",rE=t=>{Mn(t.element,"aria-disabled","true")},V2=t=>{Mn(t.element,"aria-disabled","false")},_y=(t,s,a)=>{s.disableClass.each(d=>{ba(t.element,d)}),(Qp(t,s)?oE:rE)(t),s.onDisabled(t)},xg=(t,s,a)=>{s.disableClass.each(d=>{xs(t.element,d)}),(Qp(t,s)?A1:V2)(t),s.onEnabled(t)},hk=(t,s)=>Qp(t,s)?pk(t):sE(t);var U2=Object.freeze({__proto__:null,enable:xg,disable:_y,isDisabled:hk,onLoad:gk,set:(t,s,a,l)=>{(l?_y:xg)(t,s)}}),j2=Object.freeze({__proto__:null,exhibit:(t,s)=>ai({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Ks([Fh(ri(),(a,l)=>hk(a,t)),Xh(t,s,gk)])}),fO=[kr("disabled",st),we("useNative",!0),jo("disableClass"),lo("onDisabled"),lo("onEnabled")];const vn=rc({fields:fO,name:"disabling",active:j2,apis:U2}),aE=(t,s,a,l)=>{const d=fl(t.element,"."+s.highlightClass);Je(d,g=>{is(l,k=>ds(k.element,g))||(xs(g,s.highlightClass),t.getSystem().getByDom(g).each(k=>{s.onDehighlight(t,k),es(k,wb())}))})},mO=(t,s,a)=>aE(t,s,a,[]),yk=(t,s,a,l)=>{Xu(t,s,a,l)&&(xs(l.element,s.highlightClass),s.onDehighlight(t,l),es(l,wb()))},Cy=(t,s,a,l)=>{aE(t,s,a,[l]),Xu(t,s,a,l)||(ba(l.element,s.highlightClass),s.onHighlight(t,l),es(l,o_()))},gO=(t,s,a)=>{vk(t,s).each(l=>{Cy(t,s,a,l)})},z1=(t,s,a)=>{kk(t,s).each(l=>{Cy(t,s,a,l)})},cE=(t,s,a,l)=>{bk(t,s,a,l).fold(d=>{throw d},d=>{Cy(t,s,a,d)})},lE=(t,s,a,l)=>{const d=D1(t,s);Ae(d,l).each(h=>{Cy(t,s,a,h)})},Xu=(t,s,a,l)=>Ys(l.element,s.highlightClass),O1=(t,s,a)=>Qr(t.element,"."+s.highlightClass).bind(l=>t.getSystem().getByDom(l).toOptional()),bk=(t,s,a,l)=>{const d=fl(t.element,"."+s.itemClass);return A.from(d[l]).fold(()=>Yt.error(new Error("No element found with index "+l)),t.getSystem().getByDom)},vk=(t,s,a)=>Qr(t.element,"."+s.itemClass).bind(l=>t.getSystem().getByDom(l).toOptional()),kk=(t,s,a)=>{const l=fl(t.element,"."+s.itemClass);return(l.length>0?A.some(l[l.length-1]):A.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},wk=(t,s,a,l)=>{const d=fl(t.element,"."+s.itemClass);return nt(d,h=>Ys(h,s.highlightClass)).bind(h=>{const k=Mp(h,l,0,d.length-1);return t.getSystem().getByDom(d[k]).toOptional()})},iE=(t,s,a)=>wk(t,s,a,-1),uE=(t,s,a)=>wk(t,s,a,1),D1=(t,s,a)=>{const l=fl(t.element,"."+s.itemClass);return uc(Ee(l,d=>t.getSystem().getByDom(d).toOptional()))};var Tg=Object.freeze({__proto__:null,dehighlightAll:mO,dehighlight:yk,highlight:Cy,highlightFirst:gO,highlightLast:z1,highlightAt:cE,highlightBy:lE,isHighlighted:Xu,getHighlighted:O1,getFirst:vk,getLast:kk,getPrevious:iE,getNext:uE,getCandidates:D1}),R1=[Pe("highlightClass"),Pe("itemClass"),lo("onHighlight"),lo("onDehighlight")];const Lo=rc({fields:R1,name:"highlighting",apis:Tg}),W2=[8],Vd=[9],Vi=[13],N1=[27],Gl=[32],Sy=[37],Eg=[38],M1=[39],Ag=[40],pO=(t,s,a)=>{const l=Ze(t.slice(0,s)),d=Ze(t.slice(s+1));return Ae(l.concat(d),a)},dE=(t,s,a)=>{const l=Ze(t.slice(0,s));return Ae(l,a)},fE=(t,s,a)=>{const l=t.slice(0,s),d=t.slice(s+1);return Ae(d.concat(l),a)},hO=(t,s,a)=>{const l=t.slice(s+1);return Ae(l,a)},Ro=t=>s=>{const a=s.raw;return Gn(t,a.which)},ui=t=>s=>Ye(t,a=>a(s)),zg=t=>t.raw.shiftKey===!0,B1=t=>t.raw.ctrlKey===!0,Am=Le(zg),Co=(t,s)=>({matches:t,classification:s}),Mf=(t,s)=>Ae(t,l=>l.matches(s)).map(l=>l.classification),mE=(t,s,a)=>{s.exists(d=>a.exists(g=>ds(g,d)))||an(t,n_(),{prevFocus:s,newFocus:a})},_k=()=>{const t=a=>fu(a.element);return{get:t,set:(a,l)=>{const d=t(a);a.getSystem().triggerFocus(l,a.element);const g=t(a);mE(a,d,g)}}},gE=()=>{const t=a=>Lo.getHighlighted(a).map(l=>l.element);return{get:t,set:(a,l)=>{const d=t(a);a.getSystem().getByDom(l).fold(re,h=>{Lo.highlight(a,h)});const g=t(a);mE(a,d,g)}}};var Og;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Og||(Og={}));const zm=(t,s,a,l,d)=>{const g=()=>t.concat([we("focusManager",_k()),ec("focusInside","onFocus",yd(E=>Gn(["onFocus","onEnterOrSpace","onApi"],E)?Yt.value(E):Yt.error("Invalid value for focusInside"))),Bs("handler",_),Bs("state",s),Bs("sendFocusIn",d)]),h=(E,O,M,$,H)=>{const G=M(E,O,$,H);return Mf(G,O.event).bind(se=>se(E,O,$,H))},_={schema:g,processKey:h,toEvents:(E,O)=>{const M=E.focusInside!==Og.OnFocusMode?A.none():d(E).map(G=>et(_d(),(se,_e)=>{G(se,E,O),_e.stop()})),$=(G,se)=>{const _e=Ro(Gl.concat(Vi))(se.event);E.focusInside===Og.OnEnterOrSpaceMode&&_e&&Ul(G,se)&&d(E).each(ve=>{ve(G,E,O),se.stop()})},H=[et(ul(),(G,se)=>{h(G,se,a,E,O).fold(()=>{$(G,se)},_e=>{se.stop()})}),et(Qw(),(G,se)=>{h(G,se,l,E,O).each(_e=>{se.stop()})})];return Ks(M.toArray().concat(H))}};return _},Z2=t=>{const s=[jo("onEscape"),jo("onEnter"),we("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),we("firstTabstop",0),we("useTabstopAt",$e),jo("visibilitySelector")].concat([t]),a=(se,_e)=>{const ve=se.visibilitySelector.bind(me=>Wl(_e,me)).getOr(_e);return or(ve)>0},l=(se,_e)=>{const ve=fl(se.element,_e.selector),me=je(ve,Ue=>a(_e,Ue));return A.from(me[_e.firstTabstop])},d=(se,_e)=>_e.focusManager.get(se).bind(ve=>Wl(ve,_e.selector)),g=(se,_e)=>a(se,_e)&&se.useTabstopAt(_e),h=(se,_e,ve)=>{l(se,_e).each(me=>{_e.focusManager.set(se,me)})},k=(se,_e,ve,me,Ue)=>Ue(_e,ve,Ge=>g(me,Ge)).fold(()=>me.cyclic?A.some(!0):A.none(),Ge=>(me.focusManager.set(se,Ge),A.some(!0))),_=(se,_e,ve,me)=>{const Ue=fl(se.element,ve.selector);return d(se,ve).bind(Ge=>nt(Ue,nn(ds,Ge)).bind(ot=>k(se,Ue,ot,ve,me)))},E=(se,_e,ve)=>{const me=ve.cyclic?pO:dE;return _(se,_e,ve,me)},O=(se,_e,ve)=>{const me=ve.cyclic?fE:hO;return _(se,_e,ve,me)},M=(se,_e,ve)=>ve.onEnter.bind(me=>me(se,_e)),$=(se,_e,ve)=>ve.onEscape.bind(me=>me(se,_e)),H=Y([Co(ui([zg,Ro(Vd)]),E),Co(Ro(Vd),O),Co(ui([Am,Ro(Vi)]),M)]),G=Y([Co(Ro(N1),$)]);return zm(s,dl.init,H,G,()=>A.some(h))};var i=Z2(zc("cyclic",st)),f=Z2(zc("cyclic",$e));const p=(t,s,a)=>(qv(t,a,ri()),A.some(!0)),b=(t,s,a)=>Jp(a)&&Ro(Gl)(s.event)?A.none():p(t,s,a),C=(t,s)=>A.some(!0),z=[we("execute",b),we("useSpace",!1),we("useEnter",!0),we("useControlEnter",!1),we("useDown",!1)],B=(t,s,a)=>a.execute(t,s,t.element),U=(t,s,a,l)=>{const d=a.useSpace&&!Jp(t.element)?Gl:[],g=a.useEnter?Vi:[],h=a.useDown?Ag:[],k=d.concat(g).concat(h);return[Co(Ro(k),B)].concat(a.useControlEnter?[Co(ui([B1,Ro(Vi)]),B)]:[])},K=(t,s,a,l)=>a.useSpace&&!Jp(t.element)?[Co(Ro(Gl),C)]:[];var ae=zm(z,dl.init,U,K,()=>A.none());const ke=()=>{const t=Os();return Xc({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,g)=>{t.set({numRows:d,numColumns:g})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var Dt=Object.freeze({__proto__:null,flatgrid:ke,init:t=>t.state(t)});const Tt=t=>(s,a,l,d)=>{const g=t(s.element);return Wt(g,s,a,l,d)},Xe=(t,s)=>{const a=z0(t,s);return Tt(a)},At=(t,s)=>{const a=z0(s,t);return Tt(a)},qe=t=>(s,a,l,d)=>Wt(t,s,a,l,d),Wt=(t,s,a,l,d)=>l.focusManager.get(s).bind(h=>t(s.element,h,l,d)).map(h=>(l.focusManager.set(s,h),!0)),En=qe,Jn=qe,js=qe,lc=t=>t.offsetWidth<=0&&t.offsetHeight<=0,Mr=t=>!lc(t.dom),Kl=(t,s)=>nt(t,s).map(a=>({index:a,candidates:t})),Dg=(t,s,a)=>{const l=h=>ds(h,s),d=fl(t,a),g=je(d,Mr);return Kl(g,l)},Om=(t,s)=>nt(t,a=>ds(s,a)),P1=(t,s,a,l)=>{const d=Math.floor(s/a),g=s%a;return l(d,g).bind(h=>{const k=h.row*a+h.column;return k>=0&&k<t.length?A.some(t[k]):A.none()})},xy=(t,s,a,l,d)=>P1(t,s,l,(g,h)=>{const _=g===a-1?t.length-g*l:l,E=Mp(h,d,0,_-1);return A.some({row:g,column:E})}),ps=(t,s,a,l,d)=>P1(t,s,l,(g,h)=>{const k=Mp(g,d,0,a-1),E=k===a-1?t.length-k*l:l,O=Al(h,0,E-1);return A.some({row:k,column:O})}),ml=(t,s,a,l)=>xy(t,s,a,l,1),tl=(t,s,a,l)=>xy(t,s,a,l,-1),vu=(t,s,a,l)=>ps(t,s,a,l,-1),di=(t,s,a,l)=>ps(t,s,a,l,1),Rg=[Pe("selector"),we("execute",b),sc("onEscape"),we("captureTab",!1),z_()],gl=(t,s,a)=>{Qr(t.element,s.selector).each(l=>{s.focusManager.set(t,l)})},Ck=(t,s)=>s.focusManager.get(t).bind(a=>Wl(a,s.selector)),Ty=(t,s,a,l)=>Ck(t,a).bind(d=>a.execute(t,s,d)),Ui=t=>(s,a,l,d)=>Dg(s,a,l.selector).bind(g=>t(g.candidates,g.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),wc=(t,s,a)=>a.captureTab?A.some(!0):A.none(),pE=(t,s,a)=>a.onEscape(t,s),$1=Ui(tl),I1=Ui(ml),hE=Ui(vu),yO=Ui(di),F1=Y([Co(Ro(Sy),Xe($1,I1)),Co(Ro(M1),At($1,I1)),Co(Ro(Eg),En(hE)),Co(Ro(Ag),Jn(yO)),Co(ui([zg,Ro(Vd)]),wc),Co(ui([Am,Ro(Vd)]),wc),Co(Ro(Gl.concat(Vi)),Ty)]),yE=Y([Co(Ro(N1),pE),Co(Ro(Gl),C)]);var Ey=zm(Rg,ke,F1,yE,()=>A.some(gl));const ku=(t,s,a,l,d)=>{const g=k=>Lr(k)==="button"&&fa(k,"disabled")==="disabled",h=(k,_,E)=>d(k,_,l,0,E.length-1,E[_],O=>g(E[O])?h(k,O,E):A.from(E[O]));return Dg(t,a,s).bind(k=>{const _=k.index,E=k.candidates;return h(_,_,E)})},bO=(t,s,a,l)=>ku(t,s,a,l,(d,g,h,k,_,E,O)=>{const M=Al(g+h,k,_);return M===d?A.from(E):O(M)}),q2=(t,s,a,l)=>ku(t,s,a,l,(d,g,h,k,_,E,O)=>{const M=Mp(g,h,k,_);return M===d?A.none():O(M)}),H$=[Pe("selector"),we("getInitial",A.none),we("execute",b),sc("onEscape"),we("executeOnMove",!1),we("allowVertical",!0),we("allowHorizontal",!0),we("cycles",!0)],V$=(t,s)=>s.focusManager.get(t).bind(a=>Wl(a,s.selector)),bE=(t,s,a)=>V$(t,a).bind(l=>a.execute(t,s,l)),L1=(t,s,a)=>{s.getInitial(t).orThunk(()=>Qr(t.element,s.selector)).each(l=>{s.focusManager.set(t,l)})},G2=(t,s,a)=>(a.cycles?q2:bO)(t,a.selector,s,-1),vO=(t,s,a)=>(a.cycles?q2:bO)(t,a.selector,s,1),K2=t=>(s,a,l,d)=>t(s,a,l,d).bind(()=>l.executeOnMove?bE(s,a,l):A.some(!0)),X2=(t,s,a)=>a.onEscape(t,s),vE=(t,s,a,l)=>{const d=[...a.allowHorizontal?Sy:[]].concat(a.allowVertical?Eg:[]),g=[...a.allowHorizontal?M1:[]].concat(a.allowVertical?Ag:[]);return[Co(Ro(d),K2(Xe(G2,vO))),Co(Ro(g),K2(At(G2,vO))),Co(Ro(Vi),bE),Co(Ro(Gl),bE)]},U$=Y([Co(Ro(Gl),C),Co(Ro(N1),X2)]);var j$=zm(H$,dl.init,vE,U$,()=>A.some(L1));const Y2=(t,s,a)=>A.from(t[s]).bind(l=>A.from(l[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),kO=(t,s,a,l)=>{const g=t[s].length,h=Mp(a,l,0,g-1);return Y2(t,s,h)},wO=(t,s,a,l)=>{const d=Mp(a,l,0,t.length-1),g=t[d].length,h=Al(s,0,g-1);return Y2(t,d,h)},_O=(t,s,a,l)=>{const g=t[s].length,h=Al(a+l,0,g-1);return Y2(t,s,h)},kE=(t,s,a,l)=>{const d=Al(a+l,0,t.length-1),g=t[d].length,h=Al(s,0,g-1);return Y2(t,d,h)},wE=(t,s,a)=>kO(t,s,a,1),W$=(t,s,a)=>kO(t,s,a,-1),Z$=(t,s,a)=>wO(t,a,s,-1),q$=(t,s,a)=>wO(t,a,s,1),G$=(t,s,a)=>_O(t,s,a,-1),Ay=(t,s,a)=>_O(t,s,a,1),K$=(t,s,a)=>kE(t,a,s,-1),X$=(t,s,a)=>kE(t,a,s,1),_E=[bd("selectors",[Pe("row"),Pe("cell")]),we("cycles",!0),we("previousSelector",A.none),we("execute",b)],Y$=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return Qr(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},CO=(t,s,a)=>fu(t.element).bind(l=>a.execute(t,s,l)),SO=(t,s)=>Ee(t,a=>fl(a,s.selectors.cell)),Sk=(t,s)=>(a,l,d)=>{const g=d.cycles?t:s;return Wl(l,d.selectors.row).bind(h=>{const k=fl(h,d.selectors.cell);return Om(k,l).bind(_=>{const E=fl(a,d.selectors.row);return Om(E,h).bind(O=>{const M=SO(E,d);return g(M,O,_).map($=>$.cell)})})})},CE=Sk(W$,G$),xO=Sk(wE,Ay),J$=Sk(Z$,K$),Q$=Sk(q$,X$),SE=Y([Co(Ro(Sy),Xe(CE,xO)),Co(Ro(M1),At(CE,xO)),Co(Ro(Eg),En(J$)),Co(Ro(Ag),Jn(Q$)),Co(Ro(Gl.concat(Vi)),CO)]),eI=Y([Co(Ro(Gl),C)]);var tI=zm(_E,dl.init,SE,eI,()=>A.some(Y$));const nI=[Pe("selector"),we("execute",b),we("moveOnTab",!1)],TO=(t,s,a)=>a.focusManager.get(t).bind(l=>a.execute(t,s,l)),EO=(t,s,a)=>{Qr(t.element,s.selector).each(l=>{s.focusManager.set(t,l)})},AO=(t,s,a)=>q2(t,a.selector,s,-1),zO=(t,s,a)=>q2(t,a.selector,s,1),oI=(t,s,a,l)=>a.moveOnTab?js(AO)(t,s,a,l):A.none(),OO=(t,s,a,l)=>a.moveOnTab?js(zO)(t,s,a,l):A.none(),sI=Y([Co(Ro(Eg),js(AO)),Co(Ro(Ag),js(zO)),Co(ui([zg,Ro(Vd)]),oI),Co(ui([Am,Ro(Vd)]),OO),Co(Ro(Vi),TO),Co(Ro(Gl),TO)]),rI=Y([Co(Ro(Gl),C)]);var DO=zm(nI,dl.init,sI,rI,()=>A.some(EO));const aI=[sc("onSpace"),sc("onEnter"),sc("onShiftEnter"),sc("onLeft"),sc("onRight"),sc("onTab"),sc("onShiftTab"),sc("onUp"),sc("onDown"),sc("onEscape"),we("stopSpaceKeyup",!1),jo("focusIn")],cI=(t,s,a)=>[Co(Ro(Gl),a.onSpace),Co(ui([Am,Ro(Vi)]),a.onEnter),Co(ui([zg,Ro(Vi)]),a.onShiftEnter),Co(ui([zg,Ro(Vd)]),a.onShiftTab),Co(ui([Am,Ro(Vd)]),a.onTab),Co(Ro(Eg),a.onUp),Co(Ro(Ag),a.onDown),Co(Ro(Sy),a.onLeft),Co(Ro(M1),a.onRight),Co(Ro(Gl),a.onSpace)],J2=(t,s,a)=>[...a.stopSpaceKeyup?[Co(Ro(Gl),C)]:[],Co(Ro(N1),a.onEscape)];var lI=zm(aI,dl.init,cI,J2,t=>t.focusIn);const RO=i.schema(),fi=f.schema(),iI=j$.schema(),NO=Ey.schema(),uI=tI.schema(),dI=ae.schema(),MO=DO.schema(),fI=lI.schema();var BO=Object.freeze({__proto__:null,acyclic:RO,cyclic:fi,flow:iI,flatgrid:NO,matrix:uI,execution:dI,menu:MO,special:fI});const PO=t=>Ir(t,"setGridSize"),mn=F_({branchKey:"mode",branches:BO,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},l=>{l(t,s,a)})},setGridSize:(t,s,a,l,d)=>{PO(a)?a.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:Dt}),$O=(t,s)=>{Jh(()=>{yg(t,s,()=>Ee(s,t.getSystem().build))},t.element)},IO=(t,s)=>{Jh(()=>{UT(t,s,()=>m_(t.element,s,t.getSystem().buildOrPatch))},t.element)},mI=(t,s,a,l)=>{li(s);const d=Tp(t.element,a,l,t.getSystem().buildOrPatch);kc(t,d),t.syncComponents()},Q2=(t,s,a)=>{const l=t.getSystem().build(a);uy(t,l,s)},FO=(t,s,a,l)=>{Id(s),Q2(t,(d,g)=>ga(d,g,a),l)},eh=(t,s,a,l)=>(s.reuseDom?IO:$O)(t,l),LO=(t,s,a,l)=>{Q2(t,jc,l)},HO=(t,s,a,l)=>{Q2(t,qg,l)},xE=(t,s,a,l)=>{const d=eC(t);Ae(d,h=>ds(l.element,h.element)).each(Id)},eC=(t,s)=>t.components(),VO=(t,s,a,l,d)=>{const g=eC(t);return A.from(g[l]).map(h=>(d.fold(()=>Id(h),k=>{(s.reuseDom?mI:FO)(t,h,l,k)}),h))};var gI=Object.freeze({__proto__:null,append:LO,prepend:HO,remove:xE,replaceAt:VO,replaceBy:(t,s,a,l,d)=>{const g=eC(t);return nt(g,l).bind(h=>VO(t,s,a,h,d))},set:eh,contents:eC});const Dn=rc({fields:[tc("reuseDom",!0)],name:"replacing",apis:gI}),TE=(t,s)=>{const a=Ks(s);return rc({fields:[Pe("enabled")],name:t,active:{events:Y(a)}})},Wn=(t,s)=>{const a=TE(t,s);return{key:t,value:{config:{},me:a,configAsRaw:Y({}),initialConfig:{},state:dl}}},UO=(t,s)=>{s.ignore||($i(t.element),s.onFocus(t))};var jO=Object.freeze({__proto__:null,focus:UO,blur:(t,s)=>{s.ignore||Rc(t.element)},isFocused:t=>Rd(t.element)}),xk=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return ai(a)},events:t=>Ks([et(_d(),(s,a)=>{UO(s,t),a.stop()})].concat(t.stopMousedown?[et(oo(),(s,a)=>{a.event.prevent()})]:[]))}),Tk=[lo("onFocus"),we("stopMousedown",!1),we("ignore",!1)];const wn=rc({fields:Tk,name:"focusing",active:xk,apis:jO}),WO=t=>({init:()=>{const a=hn(t);return{get:()=>a.get(),set:k=>a.set(k),clear:()=>a.set(t),readState:()=>a.get()}}}),th=(t,s,a)=>{const l=s.aria;l.update(t,l,a.get())},nh=(t,s,a)=>{s.toggleClass.each(l=>{a.get()?ba(t.element,l):xs(t.element,l)})},Ek=(t,s,a,l)=>{const d=a.get();a.set(l),nh(t,s,a),th(t,s,a),d!==l&&s.onToggled(t,l)},ZO=(t,s,a)=>{Ek(t,s,a,!a.get())},qO=(t,s,a)=>{Ek(t,s,a,!0)},Ng=(t,s,a)=>{Ek(t,s,a,!1)},EE=(t,s,a)=>a.get(),AE=(t,s,a)=>{Ek(t,s,a,s.selected)};var GO=Object.freeze({__proto__:null,onLoad:AE,toggle:ZO,isOn:EE,on:qO,off:Ng,set:Ek}),XO=Object.freeze({__proto__:null,exhibit:()=>ai({}),events:(t,s)=>{const a=Yx(t,s,ZO),l=Xh(t,s,AE);return Ks(Re([t.toggleOnExecute?[a]:[],[l]]))}});const yI=(t,s,a)=>{Mn(t.element,"aria-pressed",a),s.syncWithExpanded&&Ak(t,s,a)},bI=(t,s,a)=>{Mn(t.element,"aria-selected",a)},vI=(t,s,a)=>{Mn(t.element,"aria-checked",a)},Ak=(t,s,a)=>{Mn(t.element,"aria-expanded",a)};var zE=[we("selected",!1),jo("toggleClass"),we("toggleOnExecute",!0),lo("onToggled"),ec("aria",{mode:"none"},Rr("mode",{pressed:[we("syncWithExpanded",!1),Bs("update",yI)],checked:[Bs("update",vI)],expanded:[Bs("update",Ak)],selected:[Bs("update",bI)],none:[Bs("update",re)]}))];const Qn=rc({fields:zE,name:"toggling",active:XO,apis:GO,state:WO(!1)}),YO=()=>{const t=(s,a)=>{a.stop(),dm(s)};return[et(Mi(),t),et(Bh(),t),Cd(jl()),Cd(oo())]},tC=t=>{const s=a=>ju((l,d)=>{a(l),d.stop()});return Ks(Re([t.map(s).toArray(),YO()]))},OE="alloy.item-hover",DE="alloy.item-focus",RE="alloy.item-toggled",NE=t=>{(fu(t.element).isNone()||wn.isFocused(t))&&(wn.isFocused(t)||wn.focus(t),an(t,OE,{item:t}))},JO=t=>{an(t,DE,{item:t})},ME=(t,s)=>{an(t,RE,{item:t,state:s})},QO=Y(OE),kI=Y(DE),wI=Y(RE),_I=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),eD=t=>({aria:{mode:"checked"},...la(t,(s,a)=>a!=="exclusive"),onToggled:(s,a)=>{_t(t.onToggled)&&t.onToggled(s,a),ME(s,a)}}),CI=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:_I(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ql.augment(t.itemBehaviours,[t.toggling.fold(Qn.revoke,s=>Qn.config(eD(s))),wn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{JO(s)}}),mn.config({mode:"execution"}),Pt.config({store:{mode:"memory",initialValue:t.data}}),Wn("item-type-events",[...YO(),et(Hu(),NE),et(dp(),wn.focus)])]),components:t.components,eventOrder:t.eventOrder}),SI=[Pe("data"),Pe("components"),Pe("dom"),we("hasSubmenu",!1),jo("toggling"),ql.field("itemBehaviours",[Qn,wn,mn,Pt]),we("ignoreFocus",!1),we("domModification",{}),Bs("builder",CI),we("eventOrder",{})],xI=t=>({dom:t.dom,components:t.components,events:Ks([Cb(dp())])}),zk=[Pe("dom"),Pe("components"),Bs("builder",xI)],BE=Y("item-widget"),Oy=Y([Zr({name:"widget",overrides:t=>({behaviours:bt([Pt.config({store:{mode:"manual",getValue:s=>t.data,setValue:re}})])})})]),PE=t=>{const s=ck(BE(),t,Oy()),a=lk(BE(),t,s.internals()),l=g=>Ps(g,t,"widget").map(h=>(mn.focusIn(h),h)),d=(g,h)=>Jp(h.event.target)?A.none():(()=>(t.autofocus&&h.setSource(g.element),A.none()))();return{dom:t.dom,components:a,domModification:t.domModification,events:Ks([ju((g,h)=>{l(g).each(k=>{h.stop()})}),et(Hu(),NE),et(dp(),(g,h)=>{t.autofocus?l(g):wn.focus(g)})]),behaviours:ql.augment(t.widgetBehaviours,[Pt.config({store:{mode:"memory",initialValue:t.data}}),wn.config({ignore:t.ignoreFocus,onFocus:g=>{JO(g)}}),mn.config({mode:"special",focusIn:t.autofocus?g=>{l(g)}:L_(),onLeft:d,onRight:d,onEscape:(g,h)=>!wn.isFocused(g)&&!t.autofocus?(wn.focus(g),A.some(!0)):(t.autofocus&&h.setSource(g.element),A.none())})])}},tD=[Pe("uid"),Pe("data"),Pe("components"),Pe("dom"),we("autofocus",!1),we("ignoreFocus",!1),ql.field("widgetBehaviours",[Pt,wn,mn]),we("domModification",{}),uk(Oy()),Bs("builder",PE)],nD=Rr("type",{widget:tD,item:SI,separator:zk}),TI=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),EI=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),oD=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),AI=Y([x1({factory:{sketch:t=>{const s=Ja("menu.spec item",nD,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>po(s,"uid")?s:{...s,uid:Sd("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),sD=Y([Pe("value"),Pe("items"),Pe("dom"),Pe("components"),we("eventOrder",{}),_r("menuBehaviours",[Lo,Pt,ro,mn]),ec("movement",{mode:"menu",moveOnTab:!0},Rr("mode",{grid:[z_(),Bs("config",TI)],matrix:[Bs("config",EI),Pe("rowSelector"),we("previousSelector",A.none)],menu:[we("moveOnTab",!0),Bs("config",oD)]})),E_(),we("fakeFocus",!1),we("focusManager",_k()),lo("onHighlight"),lo("onDehighlight")]),rD=Y("alloy.menu-focus"),zI=(t,s)=>{const a=fl(t.element,'[role="menuitemradio"][aria-checked="true"]');Je(a,l=>{ds(l,s.element)||t.getSystem().getByDom(l).each(d=>{Qn.off(d)})})},aD=(t,s,a,l)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Wr(t.menuBehaviours,[Lo.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Pt.config({store:{mode:"memory",initialValue:t.value}}),ro.config({find:A.some}),mn.config(t.movement.config(t,t.movement))]),events:Ks([et(kI(),(d,g)=>{const h=g.event;d.getSystem().getByDom(h.target).each(k=>{Lo.highlight(d,k),g.stop(),an(d,rD(),{menu:d,item:k})})}),et(QO(),(d,g)=>{const h=g.event.item;Lo.highlight(d,h)}),et(wI(),(d,g)=>{const{item:h,state:k}=g.event;k&&fa(h.element,"role")==="menuitemradio"&&zI(d,h)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Dm=_a({name:"Menu",configFields:sD(),partFields:AI(),factory:aD}),$E=t=>ca(t,(s,a)=>({k:s,v:a})),nC=(t,s,a,l)=>it(a,l).bind(d=>it(t,d).bind(g=>{const h=nC(t,s,a,g);return A.some([g].concat(h))})).getOr([]),OI=(t,s)=>{const a={};co(t,(h,k)=>{Je(h,_=>{a[_]=k})});const l=s,d=$E(s),g=Kn(d,(h,k)=>[k].concat(nC(a,l,d,k)));return Kn(a,h=>it(g,h).getOr([h]))},DI=()=>{const t=hn({}),s=hn({}),a=hn({}),l=Os(),d=hn({}),g=()=>{t.set({}),s.set({}),a.set({}),l.clear()},h=()=>l.get().isNone(),k=(St,ot)=>{s.set({...s.get(),[St]:{type:"prepared",menu:ot}})},_=(St,ot,zt,on)=>{l.set(St),t.set(zt),s.set(ot),d.set(on);const bo=OI(on,zt);a.set(bo)},E=St=>Xo(t.get(),(ot,zt)=>ot===St),O=(St,ot,zt)=>se(St).bind(on=>E(St).bind(bo=>ot(bo).map(Jt=>({triggeredMenu:on,triggeringItem:Jt,triggeringPath:zt})))),M=(St,ot)=>{const zt=je(ve(St).toArray(),on=>se(on).isSome());return it(a.get(),St).bind(on=>{const bo=Ze(zt.concat(on)),Jt=he(bo,(fo,Zn)=>O(fo,ot,bo.slice(0,Zn+1)).fold(()=>Fr(l.get(),fo)?[]:[A.none()],ko=>[A.some(ko)]));return us(Jt)})},$=St=>it(t.get(),St).map(ot=>{const zt=it(a.get(),St).getOr([]);return[ot].concat(zt)}),H=St=>it(a.get(),St).bind(ot=>ot.length>1?A.some(ot.slice(1)):A.none()),G=St=>it(a.get(),St),se=St=>_e(St).bind(cD),_e=St=>it(s.get(),St),ve=St=>it(t.get(),St);return{setMenuBuilt:k,setContents:_,expand:$,refresh:G,collapse:H,lookupMenu:_e,lookupItem:ve,otherMenus:St=>{const ot=d.get();return Be(_o(ot),St)},getPrimary:()=>l.get().bind(se),getMenus:()=>s.get(),clear:g,isClear:h,getTriggeringPath:M}},cD=t=>t.type==="prepared"?A.some(t.menu):A.none(),lD={init:DI,extractPreparedMenu:cD},IE=Vt("tiered-menu-item-highlight"),FE=Vt("tiered-menu-item-dehighlight");var Xl;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Xl||(Xl={}));const RI=(t,s)=>{const a=Os(),l=(Rt,en,It)=>Kn(It,(Sn,to)=>{const So=()=>Dm.sketch({...Sn,value:to,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(aa,Wo)=>{an(aa,IE,{menuComp:aa,itemComp:Wo})},onDehighlight:(aa,Wo)=>{an(aa,FE,{menuComp:aa,itemComp:Wo})},focusManager:t.fakeFocus?gE():_k()});return to===en?{type:"prepared",menu:Rt.getSystem().build(So())}:{type:"notbuilt",nbMenu:So}}),d=lD.init(),g=Rt=>{const en=l(Rt,t.data.primary,t.data.menus),It=_();return d.setContents(t.data.primary,en,t.data.expansions,It),d.getPrimary()},h=Rt=>Pt.getValue(Rt).value,k=(Rt,en,It)=>Ko(en,Sn=>{if(!Sn.getSystem().isConnected())return A.none();const to=Lo.getCandidates(Sn);return Ae(to,So=>h(So)===It)}),_=Rt=>Kn(t.data.menus,(en,It)=>he(en.items,Sn=>Sn.type==="separator"?[]:[Sn.data.value])),E=Lo.highlight,O=(Rt,en)=>{E(Rt,en),Lo.getHighlighted(en).orThunk(()=>Lo.getFirst(en)).each(It=>{t.fakeFocus?Lo.highlight(en,It):qv(Rt,It.element,dp())})},M=(Rt,en)=>uc(Ee(en,It=>Rt.lookupMenu(It).bind(Sn=>Sn.type==="prepared"?A.some(Sn.menu):A.none()))),$=(Rt,en,It)=>{const Sn=M(en,en.otherMenus(It));Je(Sn,to=>{ci(to.element,[t.markers.backgroundMenu]),t.stayInDom||Dn.remove(Rt,to)})},H=Rt=>a.get().getOrThunk(()=>{const en={},It=fl(Rt.element,`.${t.markers.item}`),Sn=je(It,to=>fa(to,"aria-haspopup")==="true");return Je(Sn,to=>{Rt.getSystem().getByDom(to).each(So=>{const aa=h(So);en[aa]=So})}),a.set(en),en}),G=(Rt,en)=>{const It=H(Rt);co(It,(Sn,to)=>{const So=Gn(en,to);Mn(Sn.element,"aria-expanded",So)})},se=(Rt,en,It)=>A.from(It[0]).bind(Sn=>en.lookupMenu(Sn).bind(to=>{if(to.type==="notbuilt")return A.none();{const So=to.menu,aa=M(en,It.slice(1));return Je(aa,Wo=>{ba(Wo.element,t.markers.backgroundMenu)}),Io(So.element)||Dn.append(Rt,Pi(So)),ci(So.element,[t.markers.backgroundMenu]),O(Rt,So),$(Rt,en,It),A.some(So)}}));let _e;(function(Rt){Rt[Rt.HighlightSubmenu=0]="HighlightSubmenu",Rt[Rt.HighlightParent=1]="HighlightParent"})(_e||(_e={}));const ve=(Rt,en,It)=>{if(It.type==="notbuilt"){const Sn=Rt.getSystem().build(It.nbMenu());return d.setMenuBuilt(en,Sn),Sn}else return It.menu},me=(Rt,en,It=_e.HighlightSubmenu)=>{if(en.hasConfigured(vn)&&vn.isDisabled(en))return A.some(en);{const Sn=h(en);return d.expand(Sn).bind(to=>(G(Rt,to),A.from(to[0]).bind(So=>d.lookupMenu(So).bind(aa=>{const Wo=ve(Rt,So,aa);return Io(Wo.element)||Dn.append(Rt,Pi(Wo)),t.onOpenSubmenu(Rt,en,Wo,Ze(to)),It===_e.HighlightSubmenu?(Lo.highlightFirst(Wo),se(Rt,d,to)):(Lo.dehighlightAll(Wo),A.some(en))}))))}},Ue=(Rt,en)=>{const It=h(en);return d.collapse(It).bind(Sn=>(G(Rt,Sn),se(Rt,d,Sn).map(to=>(t.onCollapseMenu(Rt,en,to),to))))},Ge=(Rt,en)=>{const It=h(en);return d.refresh(It).bind(Sn=>(G(Rt,Sn),se(Rt,d,Sn)))},St=(Rt,en)=>Jp(en.element)?A.none():me(Rt,en,_e.HighlightSubmenu),ot=(Rt,en)=>Jp(en.element)?A.none():Ue(Rt,en),zt=(Rt,en)=>Ue(Rt,en).orThunk(()=>t.onEscape(Rt,en).map(()=>Rt)),on=Rt=>(en,It)=>Wl(It.getSource(),`.${t.markers.item}`).bind(Sn=>en.getSystem().getByDom(Sn).toOptional().bind(to=>Rt(en,to).map($e))),bo=Ks([et(rD(),(Rt,en)=>{const It=en.event.item;d.lookupItem(h(It)).each(()=>{const Sn=en.event.menu;Lo.highlight(Rt,Sn);const to=h(en.event.item);d.refresh(to).each(So=>$(Rt,d,So))})}),ju((Rt,en)=>{const It=en.event.target;Rt.getSystem().getByDom(It).each(Sn=>{h(Sn).indexOf("collapse-item")===0&&Ue(Rt,Sn),me(Rt,Sn,_e.HighlightSubmenu).fold(()=>{t.onExecute(Rt,Sn)},re)})}),Xs((Rt,en)=>{g(Rt).each(It=>{Dn.append(Rt,Pi(It)),t.onOpenMenu(Rt,It),t.highlightOnOpen===Xl.HighlightMenuAndItem?O(Rt,It):t.highlightOnOpen===Xl.HighlightJustMenu&&E(Rt,It)})}),et(IE,(Rt,en)=>{t.onHighlightItem(Rt,en.event.menuComp,en.event.itemComp)}),et(FE,(Rt,en)=>{t.onDehighlightItem(Rt,en.event.menuComp,en.event.itemComp)}),...t.navigateOnHover?[et(QO(),(Rt,en)=>{const It=en.event.item;Ge(Rt,It),me(Rt,It,_e.HighlightParent),t.onHover(Rt,It)})]:[]]),Jt=Rt=>Lo.getHighlighted(Rt).bind(Lo.getHighlighted),fo=Rt=>{Jt(Rt).each(en=>{Ue(Rt,en)})},Zn=Rt=>{d.getPrimary().each(en=>{O(Rt,en)})},ko=Rt=>A.from(Rt.components()[0]).filter(en=>fa(en.element,"role")==="menu"),ys={collapseMenu:fo,highlightPrimary:Zn,repositionMenus:Rt=>{d.getPrimary().bind(It=>Jt(Rt).bind(Sn=>{const to=h(Sn),So=Ml(d.getMenus()),aa=uc(Ee(So,lD.extractPreparedMenu));return d.getTriggeringPath(to,Wo=>k(Rt,aa,Wo))}).map(Sn=>({primary:It,triggeringPath:Sn}))).fold(()=>{ko(Rt).each(It=>{t.onRepositionMenu(Rt,It,[])})},({primary:It,triggeringPath:Sn})=>{t.onRepositionMenu(Rt,It,Sn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Wr(t.tmenuBehaviours,[mn.config({mode:"special",onRight:on(St),onLeft:on(ot),onEscape:on(zt),focusIn:(Rt,en)=>{d.getPrimary().each(It=>{qv(Rt,It.element,dp())})}}),Lo.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ro.config({find:Rt=>Lo.getHighlighted(Rt)}),Dn.config({})]),eventOrder:t.eventOrder,apis:ys,events:bo}},NI=Y("collapse-item"),MI=(t,s,a)=>({primary:t,menus:s,expansions:a}),BI=(t,s)=>({primary:t,menus:ut(t,s),expansions:{}}),PI=t=>({value:Vt(NI()),meta:{text:t}}),oh=ea({name:"TieredMenu",configFields:[Ie("onExecute"),Ie("onEscape"),Cm("onOpenMenu"),Cm("onOpenSubmenu"),lo("onRepositionMenu"),lo("onCollapseMenu"),we("highlightOnOpen",Xl.HighlightMenuAndItem),bd("data",[Pe("primary"),Pe("menus"),Pe("expansions")]),we("fakeFocus",!1),lo("onHighlightItem"),lo("onDehighlightItem"),lo("onHover"),Od(),Pe("dom"),we("navigateOnHover",!0),we("stayInDom",!1),_r("tmenuBehaviours",[mn,Lo,ro,Dn]),we("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:RI,extraApis:{tieredData:MI,singleData:BI,collapseItem:PI}}),$I=(t,s,a,l,d)=>{const g=()=>t.lazySink(s),h=l.type==="horizontal"?{layouts:{onLtr:()=>v0(),onRtl:()=>k0()}}:{},k=E=>E.length===2,_=E=>k(E)?h:{};return oh.sketch({dom:{tag:"div"},data:l.data,markers:l.menu.markers,highlightOnOpen:l.menu.highlightOnOpen,fakeFocus:l.menu.fakeFocus,onEscape:()=>(Eo.close(s),t.onEscape.map(E=>E(s)),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(E,O)=>{Mc.positionWithinBounds(g().getOrDie(),O,a,d())},onOpenSubmenu:(E,O,M,$)=>{const H=g().getOrDie();Mc.position(H,M,{anchor:{type:"submenu",item:O,..._($)}})},onRepositionMenu:(E,O,M)=>{const $=g().getOrDie();Mc.positionWithinBounds($,O,a,d()),Je(M,H=>{const G=_(H.triggeringPath);Mc.position($,H.triggeredMenu,{anchor:{type:"submenu",item:H.triggeringItem,...G}})})}})},II=(t,s)=>{const a=($,H)=>t.getRelated($).exists(se=>lg(se,H)),l=($,H)=>{Eo.setContent($,H)},d=($,H,G)=>{const se=A.none;g($,H,G,se)},g=($,H,G,se)=>{const _e=t.lazySink($).getOrDie();Eo.openWhileCloaked($,H,()=>Mc.positionWithinBounds(_e,$,G,se())),Pt.setValue($,A.some({mode:"position",config:G,getBounds:se}))},h=($,H,G)=>{k($,H,G,A.none)},k=($,H,G,se)=>{const _e=$I(t,$,H,G,se);Eo.open($,_e),Pt.setValue($,A.some({mode:"menu",menu:_e}))},_=$=>{Eo.isOpen($)&&(Pt.setValue($,A.none()),Eo.close($))},E=$=>Eo.getState($),O=$=>{Eo.isOpen($)&&Pt.getValue($).each(H=>{switch(H.mode){case"menu":Eo.getState($).each(oh.repositionMenus);break;case"position":const G=t.lazySink($).getOrDie();Mc.positionWithinBounds(G,$,H.config,H.getBounds());break}})},M={setContent:l,showAt:d,showWithinBounds:g,showMenuAt:h,showMenuWithinBounds:k,hide:_,getContent:E,reposition:O,isOpen:Eo.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Wr(t.inlineBehaviours,[Eo.config({isPartOf:($,H,G)=>lg(H,G)||a($,G),getAttachPoint:$=>t.lazySink($).getOrDie(),onOpen:$=>{t.onShow($)},onClose:$=>{t.onHide($)}}),Pt.config({store:{mode:"memory",initialValue:A.none()}}),Ol.config({channels:{...h1({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map($=>({fireEventInstead:{event:$.event}})).getOr({})}),...py({...t.fireRepositionEventInstead.map($=>({fireEventInstead:{event:$.event}})).getOr({}),doReposition:O})}})]),eventOrder:t.eventOrder,apis:M}},ta=ea({name:"InlineView",configFields:[Pe("lazySink"),lo("onShow"),lo("onHide"),vd("onEscape"),_r("inlineBehaviours",[Eo,Pt,Ol]),Tr("fireDismissalEventInstead",[we("event",Cf())]),Tr("fireRepositionEventInstead",[we("event",Zv())]),we("getRelated",A.none),we("isExtraPart",st),we("eventOrder",A.none)],factory:II,apis:{showAt:(t,s,a,l)=>{t.showAt(s,a,l)},showWithinBounds:(t,s,a,l,d)=>{t.showWithinBounds(s,a,l,d)},showMenuAt:(t,s,a,l)=>{t.showMenuAt(s,a,l)},showMenuWithinBounds:(t,s,a,l,d)=>{t.showMenuWithinBounds(s,a,l,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var oC=tinymce.util.Tools.resolve("tinymce.util.Delay");const na=ea({name:"Button",factory:t=>{const s=tC(t.action),a=t.dom.tag,l=g=>it(t.dom,"attributes").bind(h=>it(h,g)),d=()=>{if(a==="button"){const g=l("type").getOr("button"),h=l("role").map(k=>({role:k})).getOr({});return{type:g,...h}}else return{role:t.role.getOr(l("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:ql.augment(t.buttonBehaviours,[wn.config({}),mn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[we("uid",void 0),Pe("dom"),we("components",[]),ql.field("buttonBehaviours",[wn,mn]),jo("action"),jo("role"),we("eventOrder",{})]}),hs=t=>{const s=Yp(t)&&Ir(t,"uid")?t.uid:Sd("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Yu=tinymce.util.Tools.resolve("tinymce.util.I18n");const Dy={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},LE="temporary-placeholder",HE=t=>()=>it(t,LE).getOr("!not found!"),Rm=(t,s)=>{const a=t.toLowerCase();if(Yu.isRtl()){const l=ks(a,"-rtl");return po(s,l)?l:a}else return a},iD=(t,s)=>it(s,Rm(t,s)),uD=(t,s)=>{const a=s();return iD(t,a).getOrThunk(HE(a))},Ju=(t,s,a)=>{const l=s();return iD(t,l).or(a).getOrThunk(HE(l))},dD=t=>Yu.isRtl()?po(Dy,t):!1,sC=()=>Wn("add-focusable",[Xs(t=>{$b(t.element,"svg").each(s=>Mn(s,"focusable","false"))})]),VE=(t,s,a,l)=>{var d,g;const h=dD(s)?["tox-icon--flip"]:[],k=it(a,Rm(s,a)).or(l).getOrThunk(HE(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(h),innerHtml:k},behaviours:bt([...(g=t.behaviours)!==null&&g!==void 0?g:[],sC()])}},Ud=(t,s,a,l=A.none())=>VE(s,t,a(),l),UE=(t,s,a)=>{const l=a(),d=Ae(t,g=>po(l,Rm(g,l)));return VE(s,d.getOr(LE),l,A.none())},FI={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},jE=ea({name:"Notification",factory:t=>{const s=hs({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:bt([Dn.config({})])}),a=H=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${H}%`}}}),l=H=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${H}%`}}),d=hs({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(0)]},l(0)],behaviours:bt([Dn.config({})])}),k={updateProgress:(H,G)=>{H.getSystem().isConnected()&&d.getOpt(H).each(se=>{Dn.set(se,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(G)]},l(G)])})},updateText:(H,G)=>{if(H.getSystem().isConnected()){const se=s.get(H);Dn.set(se,[Ur(G)])}}},_=Re([t.icon.toArray(),t.level.toArray(),t.level.bind(H=>A.from(FI[H])).toArray()]),E=hs(na.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Ud("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:H=>{t.onAction(H)}})),O=UE(_,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),M={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:bt([Dn.config({})])},$=[O,M];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(H=>["tox-notification","tox-notification--in",`tox-notification--${H}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:bt([wn.config({}),Wn("notification-events",[et(lu(),H=>{E.getOpt(H).each(wn.focus)})])]),components:$.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[E.asSpec()]:[]),apis:k}},configFields:[jo("level"),Pe("progress"),jo("icon"),Pe("onAction"),Pe("text"),Pe("iconProvider"),Pe("translationProvider"),tc("closeButton",!0)],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var rC=(t,s,a)=>{const l=s.backstage.shared,d=()=>{const _=R(fe.fromDom(t.getContentAreaContainer())),E=ft(),O=Al(E.x,_.x,_.right),M=Al(E.y,_.y,_.bottom),$=Math.max(_.right,E.right),H=Math.max(_.bottom,E.bottom);return A.some(T(O,M,$-O,H-M))};return{open:(_,E)=>{const O=()=>{E(),ta.hide($)},M=va(jE.sketch({text:_.text,level:Gn(["success","error","warning","warn","info"],_.type)?_.type:void 0,progress:_.progressBar===!0,icon:_.icon,closeButton:_.closeButton,onAction:O,iconProvider:l.providers.icons,translationProvider:l.providers.translate})),$=va(ta.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:l.getSink,fireDismissalEventInstead:{},...l.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));a.add($),Ao(_.timeout)&&_.timeout>0&&oC.setEditorTimeout(t,()=>{O()},_.timeout);const G={close:O,reposition:()=>{const se=Pi(M),_e={maxHeightFunction:Pp()},ve=t.notificationManager.getNotifications();if(ve[0]===G){const me={...l.anchors.banner(),overrides:_e};ta.showWithinBounds($,se,{anchor:me},d)}else He(ve,G).each(me=>{const Ue=ve[me-1].getEl(),Ge={type:"node",root:Oo(),node:A.some(fe.fromDom(Ue)),overrides:_e,layouts:{onRtl:()=>[jr],onLtr:()=>[jr]}};ta.showWithinBounds($,se,{anchor:Ge},d)})},text:se=>{jE.updateText(M,se)},settings:_,getEl:()=>M.element.dom,progressBar:{value:se=>{jE.updateProgress(M,se)}}};return G},close:_=>{_.close()},getArgs:_=>_.settings}},Ry=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fD=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ny=tinymce.util.Tools.resolve("tinymce.Env"),wu;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(wu||(wu={}));var Ok;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Ok||(Ok={}));const $s=t=>s=>s.options.get(t),Dk=t=>s=>A.from(t(s)),aC=t=>{const s=Ny.deviceType.isPhone(),a=Ny.deviceType.isTablet()||s,l=t.options.register,d=h=>yt(h)||h===!1,g=h=>yt(h)||Ao(h);l("skin",{processor:h=>yt(h)||h===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),l("width",{processor:g,default:Ry.DOM.getStyle(t.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:h=>yt(h)||Zo(h),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:h=>Zo(h)||yt(h)||no(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),at(9,h=>{l("toolbar"+(h+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Ok.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:t.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:h=>h==="both"||Zo(h),default:!Ny.deviceType.isTouch()}),l("sidebar_show",{processor:"string"})},mD=$s("readonly"),My=$s("height"),H1=$s("width"),cC=Dk($s("min_width")),lC=Dk($s("min_height")),iC=Dk($s("max_width")),WE=Dk($s("max_height")),gD=Dk($s("style_formats")),pD=$s("style_formats_merge"),uC=$s("style_formats_autohide"),ZE=$s("content_langs"),qE=$s("removed_menuitems"),sh=$s("toolbar_mode"),hD=$s("toolbar_groups"),dC=$s("toolbar_location"),LI=$s("fixed_toolbar_container"),HI=$s("fixed_toolbar_container_target"),yD=$s("toolbar_persist"),GE=$s("toolbar_sticky_offset"),bD=$s("menubar"),fC=$s("toolbar"),mC=$s("file_picker_callback"),KE=$s("file_picker_validator_handler"),XE=$s("font_size_input_default_unit"),vD=$s("file_picker_types"),gC=$s("typeahead_urls"),kD=$s("anchor_top"),wD=$s("anchor_bottom"),_D=$s("draggable_modal"),CD=$s("statusbar"),SD=$s("elementpath"),YE=$s("branding"),pC=$s("resize"),xD=$s("paste_as_text"),Rk=$s("sidebar_show"),TD=$s("promotion"),JE=t=>t.options.get("skin")===!1,hC=t=>t.options.get("menubar")!==!1,ED=t=>{const s=t.options.get("skin_url");if(JE(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return fD.baseURL+"/skins/ui/"+a}},AD=t=>t.options.get("line_height_formats").split(" "),yC=t=>{const s=fC(t),a=yt(s),l=no(s)&&s.length>0;return!Nk(t)&&(l||a||s===!0)},bC=t=>{const s=at(9,l=>t.options.get("toolbar"+(l+1))),a=je(s,yt);return yn(a.length>0,a)},Nk=t=>bC(t).fold(()=>{const s=fC(t);return vt(s,yt)&&s.length>0},$e),QE=t=>dC(t)===Ok.bottom,vC=t=>{var s;if(!t.inline)return A.none();const a=(s=LI(t))!==null&&s!==void 0?s:"";if(a.length>0)return Qr(Oo(),a);const l=HI(t);return mo(l)?A.some(fe.fromDom(l)):A.none()},jd=t=>t.inline&&vC(t).isSome(),eA=t=>vC(t).getOrThunk(()=>Oe(ge(fe.fromDom(t.getElement())))),tA=t=>t.inline&&!hC(t)&&!yC(t)&&!Nk(t),By=t=>(t.options.get("toolbar_sticky")||t.inline)&&!jd(t)&&!tA(t),rh=t=>!jd(t)&&t.options.get("ui_mode")==="split",nA=t=>{const s=t.options.get("menu");return Kn(s,a=>({...a,items:a.items}))};var VI=Object.freeze({__proto__:null,get ToolbarMode(){return wu},get ToolbarLocation(){return Ok},register:aC,getSkinUrl:ED,isReadOnly:mD,isSkinDisabled:JE,getHeightOption:My,getWidthOption:H1,getMinWidthOption:cC,getMinHeightOption:lC,getMaxWidthOption:iC,getMaxHeightOption:WE,getUserStyleFormats:gD,shouldMergeStyleFormats:pD,shouldAutoHideStyleFormats:uC,getLineHeightFormats:AD,getContentLanguages:ZE,getRemovedMenuItems:qE,isMenubarEnabled:hC,isMultipleToolbars:Nk,isToolbarEnabled:yC,isToolbarPersist:yD,getMultipleToolbarsOption:bC,getUiContainer:eA,useFixedContainer:jd,isSplitUiMode:rh,getToolbarMode:sh,isDraggableModal:_D,isDistractionFree:tA,isStickyToolbar:By,getStickyToolbarOffset:GE,getToolbarLocation:dC,isToolbarLocationBottom:QE,getToolbarGroups:hD,getMenus:nA,getMenubar:bD,getToolbar:fC,getFilePickerCallback:mC,getFilePickerTypes:vD,useTypeaheadUrls:gC,getAnchorTop:kD,getAnchorBottom:wD,getFilePickerValidatorHandler:KE,getFontSizeInputDefaultUnit:XE,useStatusBar:CD,useElementPath:SD,promotionEnabled:TD,useBranding:YE,getResize:pC,getPasteAsText:xD,getSidebarShow:Rk});const oA="[data-mce-autocompleter]",sA=t=>Wl(t,oA),rA=t=>Qr(t,oA),zD={setup:(t,s)=>{const a=(d,g)=>{an(d,ul(),{raw:g})},l=()=>t.getMenu().bind(Lo.getHighlighted);s.on("keydown",d=>{const g=d.which;t.isActive()&&(t.isMenuOpen()?g===13?(l().each(dm),d.preventDefault()):g===40?(l().fold(()=>{t.getMenu().each(Lo.highlightFirst)},h=>{a(h,d)}),d.preventDefault(),d.stopImmediatePropagation()):(g===37||g===38||g===39)&&l().each(h=>{a(h,d),d.preventDefault(),d.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",d=>{t.isActive()&&!t.isProcessingAction()&&sA(fe.fromDom(d.element)).isNone()&&t.cancelIfNecessary()})}};var aA;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(aA||(aA={}));var ji=aA;const cA="tox-menu-nav__js",kC="tox-collection__item",Mk="tox-swatch",lA={normal:cA,color:Mk},OD="tox-collection__item--enabled",DD="tox-collection__group-heading",RD="tox-collection__item-icon",iA="tox-collection__item-label",uA="tox-collection__item-accessory",ND="tox-collection__item-caret",UI="tox-collection__item-checkmark",Bk="tox-collection__item--active",MD="tox-collection__item-container",jI="tox-collection__item-container--column",BD="tox-collection__item-container--row",WI="tox-collection__item-container--align-right",ZI="tox-collection__item-container--align-left",qI="tox-collection__item-container--valign-top",GI="tox-collection__item-container--valign-middle",KI="tox-collection__item-container--valign-bottom",PD=t=>it(lA,t).getOr(cA),dA=t=>t==="color"?"tox-swatches":"tox-menu",fA=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:dA(t),tieredMenu:"tox-tiered-menu"}),Py=t=>{const s=fA(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:PD(t)}},XI=(t,s,a)=>{const l=fA(a);return{tag:"div",classes:Re([[l.menu,`tox-menu-${s}-column`],t?[l.hasIcons]:[]])}},$D=[Dm.parts.items({})],wC=(t,s,a)=>{const l=fA(a);return{dom:{tag:"div",classes:Re([[l.tieredMenu]])},markers:Py(a)}},ID=Y([jo("data"),we("inputAttributes",{}),we("inputStyles",{}),we("tag","input"),we("inputClasses",[]),lo("onSetValue"),we("styles",{}),we("eventOrder",{}),_r("inputBehaviours",[Pt,wn]),we("selectOnFocus",!0)]),FD=t=>bt([wn.config({onFocus:t.selectOnFocus?s=>{const a=s.element,l=Tl(a);a.dom.setSelectionRange(0,l.length)}:re})]),YI=t=>({...FD(t),...Wr(t.inputBehaviours,[Pt.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Tl(s.element),setValue:(s,a)=>{Tl(s.element)!==a&&El(s.element,a)}},onSetValue:t.onSetValue})])}),LD=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),JI=(t,s)=>({uid:t.uid,dom:LD(t),components:[],behaviours:YI(t),eventOrder:t.eventOrder}),Mg=ea({name:"Input",configFields:ID(),factory:JI}),HD=Vt("refetch-trigger-event"),VD=Vt("redirect-menu-item-interaction"),UD="tox-menu__searcher",_C=t=>Qr(t.element,`.${UD}`).bind(s=>t.getSystem().getByDom(s).toOptional()),jD=_C,QI=(t,s)=>{Pt.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},WD=t=>{const s=Pt.getValue(t),a=t.element.dom.selectionStart,l=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:l}},eF=(t,s)=>{pr(s.element,"id").each(a=>Mn(t.element,"aria-activedescendant",a))},tF=t=>{const s=(d,g)=>(g.cut(),A.none()),a=(d,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return an(d,VD,h),A.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[kC]},components:[Mg.sketch({inputClasses:[UD,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:bt([Wn(l,[et(lm(),d=>{es(d,HD)}),et(ul(),(d,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),mn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[l,mn.name()]}})]}},CC="tox-collection--results__js",ZD=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Vt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},mA=(t,s)=>a=>{const l=Zt(a,s);return Ee(l,d=>({dom:t,components:d}))},nF=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Dm.parts.items({preprocess:t!=="auto"?mA({tag:"div",classes:["tox-swatches__row"]},t):gn})]}]}),SC=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Dm.parts.items({preprocess:mA({tag:"div",classes:["tox-collection__group"]},t)})]}),qD=(t,s)=>{const a=[];let l=[];return Je(t,(d,g)=>{s(d,g)?(l.length>0&&a.push(l),l=[],(po(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&a.push(l),Ee(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},Pk=(t,s,a)=>Dm.parts.items({preprocess:l=>{const d=Ee(l,a);return t!=="auto"&&t>1?mA({tag:"div",classes:["tox-collection__group"]},t)(d):qD(d,(g,h)=>s[h].type==="separator")}}),GD=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Pk(t,s,gn)]}),oF=(t,s,a=!0)=>{const l=Vt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",CC].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:l}},components:[Pk(t,s,ZD)]}},sF=(t,s,a)=>{const l=Vt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[tF({i18n:Yu.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],CC],attributes:{id:l}},components:[Pk(t,s,ZD)]}]}},rF=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Dm.parts.items({preprocess:a=>qD(a,(l,d)=>t[d].type==="separator")})]}),xC=t=>is(t,s=>"icon"in s&&s.icon!==void 0),Nm=t=>(console.error(cm(t)),console.log(t),A.none()),aF=(t,s,a,l,d)=>{const g=rF(a);return{value:t,dom:g.dom,components:g.components,items:a}},$k=(t,s,a,l,d)=>{const g=()=>d.menuType!=="searchable"?GD(l,a):d.searchMode.searchMode==="search-with-field"?sF(l,a,d.searchMode):oF(l,a);if(d.menuType==="color"){const h=nF(l);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"&&l==="auto"){const h=GD(l,a);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const h=g();return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="listpreview"&&l!=="auto"){const h=SC(l);return{value:t,dom:h.dom,components:h.components,items:a}}else return{value:t,dom:XI(s,l,d.menuType),components:$D,items:a}},Br=Yr("type"),TC=Yr("name"),Ik=Yr("label"),Wd=Yr("text"),gA=Yr("title"),Bf=Yr("icon"),$y=Yr("value"),cF=Sl("fetch"),lF=Sl("getSubmenuItems"),V1=Sl("onAction"),iF=Sl("onItemAction"),Zd=kr("onSetup",()=>re),uF=Qa("name"),ah=Qa("text"),_u=Qa("icon"),Fk=Qa("tooltip"),Lk=Qa("label"),dF=Qa("shortcut"),pA=vd("select"),U1=tc("active",!1),fF=tc("borderless",!1),Qu=tc("enabled",!0),Hk=tc("primary",!1),KD=t=>we("columns",t),hA=we("meta",{}),yA=kr("onAction",re),Iy=t=>Oc("type",t),bA=t=>ha("name","name",Ac(()=>Vt(`${t}-name`)),ur),mF=t=>ha("value","value",Ac(()=>Vt(`${t}-value`)),_l()),vA=dn([Br,ah]),XD=t=>gs("separatormenuitem",vA,t),gF=dn([Iy("autocompleteitem"),U1,Qu,hA,$y,ah,_u]),YD=t=>gs("Autocompleter.Separator",vA,t),JD=t=>gs("Autocompleter.Item",gF,t),Bg=[Qu,Fk,_u,ah,Zd],QD=dn([Br,V1].concat(Bg)),eR=t=>gs("toolbarbutton",QD,t),kA=[U1].concat(Bg),tR=dn(kA.concat([Br,V1])),nR=t=>gs("ToggleButton",tR,t),oR=[kr("predicate",st),Dc("scope","node",["node","editor"]),Dc("position","selection",["node","selection","line"])],sR=Bg.concat([Iy("contextformbutton"),Hk,V1,zc("original",gn)]),rR=kA.concat([Iy("contextformbutton"),Hk,V1,zc("original",gn)]),aR=Bg.concat([Iy("contextformbutton")]),cR=kA.concat([Iy("contextformtogglebutton")]),pF=Rr("type",{contextformbutton:sR,contextformtogglebutton:rR}),hF=dn([Iy("contextform"),kr("initValue",Y("")),Lk,il("commands",pF),cu("launch",Rr("type",{contextformbutton:aR,contextformtogglebutton:cR}))].concat(oR)),lR=t=>gs("ContextForm",hF,t),wA=dn([Iy("contexttoolbar"),Yr("items")].concat(oR)),_A=t=>gs("ContextToolbar",wA,t),iR=[Br,Yr("src"),Qa("alt"),yf("classes",[],ur)],uR=dn(iR),dR=[Br,Wd,uF,yf("classes",["tox-collection__item-label"],ur)],yF=dn(dR),EC=op(()=>ll("type",{cardimage:uR,cardtext:yF,cardcontainer:bF})),bF=dn([Br,Oc("direction","horizontal"),Oc("align","left"),Oc("valign","middle"),il("items",EC)]),Fy=[Qu,ah,dF,mF("menuitem"),hA],fR=dn([Br,Lk,il("items",EC),Zd,yA].concat(Fy)),Ly=t=>gs("cardmenuitem",fR,t),vF=dn([Br,U1,_u].concat(Fy)),CA=t=>gs("choicemenuitem",vF,t),Vk=[Br,Yr("fancytype"),yA],kF=[we("initData",{})].concat(Vk),mR=[vd("select"),kd("initData",{},[tc("allowCustomColors",!0),Oc("storageKey","default"),Iu("colors",_l())])].concat(Vk),gR=Rr("fancytype",{inserttable:kF,colorswatch:mR}),pR=t=>gs("fancymenuitem",gR,t),SA=dn([Br,Zd,yA,_u].concat(Fy)),hR=t=>gs("menuitem",SA,t),wF=dn([Br,lF,Zd,_u].concat(Fy)),yR=t=>gs("nestedmenuitem",wF,t),bR=dn([Br,_u,U1,Zd,V1].concat(Fy)),vR=t=>gs("togglemenuitem",bR,t),AC=(t,s,a)=>{const l=fl(t.element,"."+a);if(l.length>0){const d=nt(l,g=>{const h=g.dom.getBoundingClientRect().top,k=l[0].dom.getBoundingClientRect().top;return Math.abs(h-k)>s}).getOr(l.length);return A.some({numColumns:d,numRows:Math.ceil(l.length/d)})}else return A.none()},kR=(t,s)=>bt([Wn(t,s)]),Uk={namedEvents:kR,unnamedEvents:t=>kR(Vt("unnamed-events"),t)},wR=Vt("tooltip.exclusive"),jk=Vt("tooltip.show"),Wk=Vt("tooltip.hide"),xA=(t,s,a)=>{t.getSystem().broadcastOn([wR],{})};var _R=Object.freeze({__proto__:null,hideAllExclusive:xA,setComponents:(t,s,a,l)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Dn.set(d,l)})}}),CF=Object.freeze({__proto__:null,events:(t,s)=>{const a=d=>{s.getTooltip().each(g=>{Id(g),t.onHide(d,g),s.clearTooltip()}),s.clearTimer()},l=d=>{if(!s.isShowing()){xA(d);const g=t.lazySink(d).getOrDie(),h=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ks(t.mode==="normal"?[et(Hu(),k=>{es(d,jk)}),et(La(),k=>{es(d,Wk)})]:[]),behaviours:bt([Dn.config({})])});s.setTooltip(h),$d(g,h),t.onShow(d,h),Mc.position(g,h,{anchor:t.anchor(d)})}};return Ks(Re([[et(jk,d=>{s.resetTimer(()=>{l(d)},t.delay)}),et(Wk,d=>{s.resetTimer(()=>{a(d)},t.delay)}),et(Uu(),(d,g)=>{const h=g;h.universal||Gn(h.channels,wR)&&a(d)}),iu(d=>{a(d)})],t.mode==="normal"?[et(lu(),d=>{es(d,jk)}),et(up(),d=>{es(d,Wk)}),et(Hu(),d=>{es(d,jk)}),et(La(),d=>{es(d,Wk)})]:[et(o_(),(d,g)=>{es(d,jk)}),et(wb(),d=>{es(d,Wk)})]]))}}),SF=[Pe("lazySink"),Pe("tooltipDom"),we("exclusive",!0),we("tooltipComponents",[]),we("delay",300),Dc("mode","normal",["normal","follow-highlight"]),we("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:Y([jr,hr,Va,zl,ka,Jc]),onRtl:Y([jr,hr,Va,zl,ka,Jc])}})),lo("onHide"),lo("onShow")],xF=Object.freeze({__proto__:null,init:()=>{const t=Os(),s=Os(),a=()=>{t.on(clearTimeout)},l=(g,h)=>{a(),t.set(setTimeout(g,h))},d=Y("not-implemented");return Xc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:a,resetTimer:l,readState:d})}});const Zk=rc({fields:SF,name:"tooltipping",active:CF,state:xF,apis:_R}),TF=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),TA="silver.readonly",EF=dn([sp("readonly")]),qk=(t,s)=>{const l=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&Je(d,g=>{g.broadcastOn([Of()],{target:l})}),Je(d,g=>{g.broadcastOn([TA],{readonly:s})})},EA=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&qk(s,!0)}),t.on("SwitchMode",()=>qk(s,t.mode.isReadOnly())),mD(t)&&t.mode.set("readonly")},Wa=()=>Ol.config({channels:{[TA]:{schema:EF,onReceive:(t,s)=>{vn.set(t,s.readonly)}}}}),qd={item:t=>vn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>vn.config({disabled:t}),splitButton:t=>vn.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>vn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},OC=(t,s)=>{const a=t.getApi(s);return l=>{l(a)}},ch=(t,s)=>Xs(a=>{OC(t,a)(d=>{const g=t.onSetup(d);_t(g)&&s.set(g)})}),lh=(t,s)=>iu(a=>OC(t,a)(s.get())),CR=(t,s)=>ju((a,l)=>{OC(t,a)(t.onAction),!t.triggersSubmenu&&s===ji.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&es(a,im()),l.stop())}),SR={[ri()]:["disabling","alloy.base.behaviour","toggling","item-events"]},j1=uc,W1=(t,s,a,l)=>{const d=hn(re);return{type:"item",dom:s.dom,components:j1(s.optComponents),data:t.data,eventOrder:SR,hasSubmenu:t.triggersSubmenu,itemBehaviours:bt([Wn("item-events",[CR(t,a),ch(t,d),lh(t,d)]),qd.item(()=>!t.enabled||l.isDisabled()),Wa(),Dn.config({})].concat(t.itemBehaviours))}},Z1=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),RF=t=>{const s=Ny.os.isMacOS()||Ny.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),h=Ee(g,k=>{const _=k.toLowerCase().trim();return po(d,_)?d[_]:k});return s?h.join(""):h.join("+")},AA=(t,s,a=[RD])=>Ud(t,{tag:"div",classes:a},s),zA=t=>({dom:{tag:"div",classes:[iA]},components:[Ur(Yu.translate(t))]}),xR=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),NF=(t,s)=>({dom:{tag:"div",classes:[iA]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ur(Yu.translate(s))]}]}),OA=t=>({dom:{tag:"div",classes:[uA]},components:[Ur(RF(t))]}),DA=t=>AA("checkmark",t,[UI]),MF=t=>AA("chevron-right",t,[ND]),BF=t=>AA("chevron-down",t,[ND]),TR=(t,s)=>{const a=t.direction==="vertical"?jI:BD,l=t.align==="left"?ZI:WI;return{dom:{tag:"div",classes:[MD,a,l,(()=>{switch(t.valign){case"top":return qI;case"middle":return GI;case"bottom":return KI}})()]},components:s}},PF=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),$F=(t,s,a)=>{const l="custom",d="remove",g=t.ariaLabel,h=t.value,k=t.iconContent.map(E=>Ju(E,s.icons,a));return{dom:(()=>{const E=Mk,O=k.getOr(""),$={tag:"div",attributes:g.map(H=>({title:s.translate(H)})).getOr({}),classes:[E]};return h===l?{...$,tag:"button",classes:[...$.classes,"tox-swatches__picker-btn"],innerHtml:O}:h===d?{...$,classes:[...$.classes,"tox-swatch--remove"],innerHtml:O}:mo(h)?{...$,attributes:{...$.attributes,"data-mce-color":h},styles:{"background-color":h},innerHtml:O}:$})(),optComponents:[]}},RA=t=>{const s=t.map(a=>({attributes:{title:Yu.translate(a),id:Vt("menu-item")}})).getOr({});return{tag:"div",classes:[cA,kC],...s}},ER=(t,s,a,l)=>{const d={tag:"div",classes:[RD]},g=$=>Ud($,d,s.icons,l),h=()=>A.some({dom:d}),k=a?t.iconContent.map(g).orThunk(h):A.none(),_=t.checkMark,E=A.from(t.meta).fold(()=>zA,$=>po($,"style")?nn(NF,$.style):zA),O=t.htmlContent.fold(()=>t.textContent.map(E),$=>A.some(xR($,[iA])));return{dom:RA(t.ariaLabel),optComponents:[k,O,t.shortcutContent.map(OA),_,t.caret]}},q1=(t,s,a,l=A.none())=>t.presets==="color"?$F(t,s,l):ER(t,s,a,l),AR=(t,s)=>it(t,"tooltipWorker").map(a=>[Zk.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:l=>({type:"submenu",item:l,overrides:{maxHeightFunction:Pp}}),mode:"follow-highlight",onShow:(l,d)=>{a(g=>{Zk.setComponents(l,[Pb({element:fe.fromDom(g)})])})}})]).getOr([]),IF=t=>Ry.DOM.encode(t),zR=(t,s)=>{const a=Yu.translate(t),l=IF(a);if(s.length>0){const d=new RegExp(TF(s),"gi");return l.replace(d,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return l},FF=(t,s,a,l,d,g,h,k=!0)=>{const _=q1({presets:l,textContent:A.none(),htmlContent:a?t.text.map(E=>zR(E,s)):A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:t.value},h.providers,k,t.icon);return W1({data:Z1(t),enabled:t.enabled,getApi:Y({}),onAction:E=>d(t.value,t.meta),onSetup:Y(re),triggersSubmenu:!1,itemBehaviours:AR(t.meta,h)},_,g,h.providers)},OR=(t,s)=>Ee(t,a=>{switch(a.type){case"cardcontainer":return TR(a,OR(a.items,s));case"cardimage":return PF(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(g=>Gn(s.cardText.highlightOn,g))?A.from(s.cardText.matchText).getOr(""):"";return xR(zR(a.text,d),a.classes)}}),Hy=(t,s,a,l)=>{const d=h=>({isEnabled:()=>!vn.isDisabled(h),setEnabled:k=>{vn.set(h,!k),Je(fl(h.element,"*"),_=>{h.getSystem().getByDom(_).each(E=>{E.hasConfigured(vn)&&vn.set(E,!k)})})}}),g={dom:RA(t.label),optComponents:[A.some({dom:{tag:"div",classes:[MD,BD]},components:OR(t.items,l)})]};return W1({data:Z1({text:A.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(l.itemBehaviours).getOr([])},g,s,a.providers)},NA=(t,s,a,l,d,g,h,k=!0)=>{const _=O=>({setActive:M=>{Qn.set(O,M)},isActive:()=>Qn.isOn(O),isEnabled:()=>!vn.isDisabled(O),setEnabled:M=>vn.set(O,!M)}),E=q1({presets:a,textContent:s?t.text:A.none(),htmlContent:A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:A.none(),checkMark:s?A.some(DA(h.icons)):A.none(),caret:A.none(),value:t.value},h,k);return Ms(W1({data:Z1(t),enabled:t.enabled,getApi:_,onAction:O=>l(t.value),onSetup:O=>(O.setActive(d),re),triggersSubmenu:!1,itemBehaviours:[]},E,g,h),{toggling:{toggleClass:OD,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},DR=ak(BE(),Oy()),Gk=t=>({value:MR(t)}),Gd=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,RR=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,NR=t=>Gd.test(t)||RR.test(t),MR=t=>$c(t,"#").toUpperCase(),MA=t=>NR(t)?A.some({value:MR(t)}):A.none(),LF=t=>({value:t.value.replace(Gd,(a,l,d,g)=>l+l+d+d+g+g)}),HF=t=>{const s=LF(t),a=RR.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},DC=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Kk=t=>{const s=DC(t.red)+DC(t.green)+DC(t.blue);return Gk(s)},BR=Math.min,PR=Math.max,Dl=Math.round,Mm=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,VF=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Pg=(t,s,a,l)=>({red:t,green:s,blue:a,alpha:l}),G1=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},RC=t=>{let s,a,l;const d=(t.hue||0)%360;let g=t.saturation/100,h=t.value/100;if(g=PR(0,BR(g,1)),h=PR(0,BR(h,1)),g===0)return s=a=l=Dl(255*h),Pg(s,a,l,1);const k=d/60,_=h*g,E=_*(1-Math.abs(k%2-1)),O=h-_;switch(Math.floor(k)){case 0:s=_,a=E,l=0;break;case 1:s=E,a=_,l=0;break;case 2:s=0,a=_,l=E;break;case 3:s=0,a=E,l=_;break;case 4:s=E,a=0,l=_;break;case 5:s=_,a=0,l=E;break;default:s=a=l=0}return s=Dl(255*(s+O)),a=Dl(255*(a+O)),l=Dl(255*(l+O)),Pg(s,a,l,1)},Xk=t=>{const s=HF(t),a=parseInt(s[1],16),l=parseInt(s[2],16),d=parseInt(s[3],16);return Pg(a,l,d,1)},$R=(t,s,a,l)=>{const d=parseInt(t,10),g=parseInt(s,10),h=parseInt(a,10),k=parseFloat(l);return Pg(d,g,h,k)},Vy=t=>{if(t==="transparent")return A.some(Pg(0,0,0,0));const s=Mm.exec(t);if(s!==null)return A.some($R(s[1],s[2],s[3],"1"));const a=VF.exec(t);return a!==null?A.some($R(a[1],a[2],a[3],a[4])):A.none()},Yk=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,IR=Pg(255,0,0,1),ih=t=>{t.dispatch("SkinLoaded")},UF=(t,s)=>{t.dispatch("SkinLoadError",s)},jF=t=>{t.dispatch("ResizeEditor")},Yl=(t,s)=>{t.dispatch("ResizeContent",s)},BA=(t,s)=>{t.dispatch("ScrollContent",s)},Kd=(t,s)=>{t.dispatch("TextColorChange",s)},WF=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},Is=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),Uy=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},K1=(t,s)=>()=>{t(),s()},pl=t=>jy(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),PA=(t,s)=>a=>{const l=mu(),d=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);l.set(g)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),l.clear()}},X1=(t,s)=>a=>{const l=pl(t)(a),d=PA(t,s)(a);return()=>{l(),d()}},jy=(t,s,a)=>l=>{const d=()=>a(l),g=()=>{a(l),t.on(s,d)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,d)}},NC=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Wi=(t,s)=>()=>t.execCommand(s);var uh=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const $A={},IA=(t,s=10)=>{const a=uh.getItem(t),l=yt(a)?JSON.parse(a):[],g=(E=>s-E.length<0?E.slice(0,s):E)(l),h=E=>{He(g,E).each(k),g.unshift(E),g.length>s&&g.pop(),uh.setItem(t,JSON.stringify(g))},k=E=>{g.splice(E,1)};return{add:h,state:()=>g.slice(0)}},FA=t=>it($A,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=uh.getItem(s);if(qo(a)){const d=uh.getItem("tinymce-custom-colors");uh.setItem(s,mo(d)?d:"[]")}const l=IA(s,10);return $A[t]=l,l}),MC=t=>Ee(FA(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),FR=(t,s)=>{FA(t).add(s)},Jk=(t,s,a)=>({hue:t,saturation:s,value:a}),LA=t=>{let s=0,a=0,l=0;const d=t.red/255,g=t.green/255,h=t.blue/255,k=Math.min(d,Math.min(g,h)),_=Math.max(d,Math.max(g,h));if(k===_)return l=k,Jk(0,0,l*100);const E=d===k?g-h:h===k?d-g:h-d;return s=d===k?3:h===k?1:5,s=60*(s-E/(_-k)),a=(_-k)/_,l=_,Jk(Math.round(s),Math.round(a*100),Math.round(l*100))},ZF=t=>LA(Xk(t)),LR=t=>Kk(RC(t)),qF=t=>MA(t).orThunk(()=>Vy(t).map(Kk)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const l=a.getImageData(0,0,1,1).data,d=l[0],g=l[1],h=l[2],k=l[3];return Kk(Pg(d,g,h,k))}),HA="forecolor",VA="hilitecolor",UA=5,HR=t=>Math.max(UA,Math.ceil(Math.sqrt(t))),jA=(t,s)=>{const a=HR(s),l=Pf("color_cols")(t);return UA===a?l:a},GF=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+qF(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},Pf=t=>s=>s.options.get(t),WA="#000000",KF=t=>{const s=t.options.register,a=l=>vt(l,yt)?{value:GF(l),valid:!0}:{valid:!1,message:"Must be an array of strings."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:"number",default:HR(Qk(t,"default").length)}),s("color_cols_foreground",{processor:"number",default:jA(t,Qk(t,HA).length)}),s("color_cols_background",{processor:"number",default:jA(t,Qk(t,VA).length)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:WA}),s("color_default_background",{processor:"string",default:WA})},XF=(t,s)=>s===HA?Pf("color_cols_foreground")(t):s===VA?Pf("color_cols_background")(t):Pf("color_cols")(t),VR=(t,s)=>{const a=XF(t,s);return a>0?a:UA},UR=Pf("custom_colors"),Qk=(t,s)=>s===HA&&t.options.isSet("color_map_foreground")?Pf("color_map_foreground")(t):s===VA&&t.options.isSet("color_map_background")?Pf("color_map_background")(t):Pf("color_map")(t),jR=Pf("color_default_foreground"),$f=Pf("color_default_background"),YF="rgba(0, 0, 0, 0)",ZA=t=>Vy(t).exists(s=>s.alpha!==0),WR=t=>nc(t,s=>{if($o(s)){const a=Qe(s,"background-color");return yn(ZA(a),a)}else return A.none()}).getOr(YF),qA=(t,s)=>{const a=fe.fromDom(t.selection.getStart()),l=s==="hilitecolor"?WR(a):Qe(a,"color");return Vy(l).map(d=>"#"+Kk(d).value)},ZR=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},qR=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},GR=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{ZR(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{qR(t,s)})},KR=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},GA=(t,s,a,l)=>{a==="custom"?QR(t)(g=>{g.each(h=>{FR(s,h),t.execCommand("mceApplyTextcolor",s,h),l(h)})},qA(t,s).getOr(WA)):a==="remove"?(l(""),t.execCommand("mceRemoveTextcolor",s)):(l(a),t.execCommand("mceApplyTextcolor",s,a))},XR=(t,s,a)=>t.concat(MC(s).concat(KR(a))),YR=(t,s,a)=>l=>{l(XR(t,s,a))},BC=(t,s,a)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(l,a)},KA=(t,s)=>a=>{const l=qA(t,s);return Fr(l,a.toUpperCase())},XA=(t,s,a,l,d)=>{t.ui.registry.addSplitButton(s,{tooltip:l,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:KA(t,a),columns:VR(t,a),fetch:YR(Qk(t,a),a,UR(t)),onAction:g=>{GA(t,a,d.get(),re)},onItemAction:(g,h)=>{GA(t,a,h,k=>{d.set(k),Kd(t,{name:s,color:k})})},onSetup:g=>{BC(g,s,d.get());const h=k=>{k.name===s&&BC(g,k.name,k.color)};return t.on("TextColorChange",h),K1(pl(t)(g),()=>{t.off("TextColorChange",h)})}})},JR=(t,s,a,l,d)=>{t.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(BC(g,s,d.get()),pl(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:KA(t,a),initData:{storageKey:a},onAction:g=>{GA(t,a,g.value,h=>{d.set(h),Kd(t,{name:s,color:h})})}}]})},QR=t=>(s,a)=>{let l=!1;const d=k=>{const E=k.getData().colorpicker;l?(s(A.from(E)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",E]))},g=(k,_)=>{_.name==="hex-valid"&&(l=_.value)},h={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:g,onSubmit:d,onClose:re,onCancel:()=>{s(A.none())}})},JF=t=>{GR(t);const s=jR(t),a=$f(t),l=hn(s),d=hn(a);XA(t,"forecolor","forecolor","Text color",l),XA(t,"backcolor","hilitecolor","Background color",d),JR(t,"forecolor","forecolor","Text color",l),JR(t,"backcolor","hilitecolor","Background color",d)},dh=(t,s,a,l,d,g,h,k)=>{const _=xC(s),O=QF(s,a,l,d!=="color"?"normal":"color",g,h,k);return $k(t,_,O,l,{menuType:d})},QF=(t,s,a,l,d,g,h)=>uc(Ee(t,k=>k.type==="choiceitem"?CA(k).fold(Nm,_=>A.some(NA(_,a===1,l,s,g(_.value),d,h,xC(t)))):A.none())),ew=(t,s)=>{const a=Py(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?Qr(d.element,"[aria-checked=true]"):A.none()}},eN=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${Mk}`:`.${kC}`}},tN=(t,s)=>{const a=YA(t,s),l=s.colorinput.getColorCols(t.initData.storageKey),d="color",h={...dh(Vt("menu-value"),a,k=>{t.onAction({value:k})},l,d,ji.CLOSE_ON_EXECUTE,t.select.getOr(st),s.shared.providers),markers:Py(d),movement:ew(l,d)};return{type:"widget",data:{value:Vt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[DR.widget(Dm.sketch(h))]}},YA=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>XR(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),l=>l.concat(KR(a)))},PC=Vt("cell-over"),$C=Vt("cell-execute"),nN=(t,s,a)=>{const l=h=>an(h,PC,{row:t,col:s}),d=h=>an(h,$C,{row:t,col:s}),g=(h,k)=>{k.stop(),d(h)};return va({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:a}},behaviours:bt([Wn("insert-table-picker-cell",[et(Hu(),wn.focus),et(ri(),d),et(Mi(),g),et(Bh(),g)]),Qn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),wn.config({onFocus:l})])})},e6=(t,s,a)=>{const l=[];for(let d=0;d<s;d++){const g=[];for(let h=0;h<a;h++)g.push(nN(d,h,t));l.push(g)}return l},oN=(t,s,a,l,d)=>{for(let g=0;g<l;g++)for(let h=0;h<d;h++)Qn.set(t[g][h],g<=s&&h<=a)},t6=t=>he(t,s=>Ee(s,Pi)),sN=(t,s)=>Ur(`${s}x${t}`),rN={inserttable:t=>{const l=Vt("size-label"),d=e6(l,10,10),g=sN(0,0),h=hs({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:l}},components:[g],behaviours:bt([Dn.config({})])});return{type:"widget",data:{value:Vt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[DR.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:t6(d).concat(h.asSpec()),behaviours:bt([Wn("insert-table-picker",[Xs(k=>{Dn.set(h.get(k),[g])}),Kv(PC,(k,_,E)=>{const{row:O,col:M}=E.event;oN(d,O,M,10,10),Dn.set(h.get(k),[sN(O+1,M+1)])}),Kv($C,(k,_,E)=>{const{row:O,col:M}=E.event;t.onAction({numRows:O+1,numColumns:M+1}),es(k,im())})]),mn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:tN},aN=(t,s)=>it(rN,t.fancytype).map(a=>a(t,s)),cN=(t,s,a,l=!0,d=!1)=>{const g=d?BF(a.icons):MF(a.icons),h=_=>({isEnabled:()=>!vn.isDisabled(_),setEnabled:E=>vn.set(_,!E),setIconFill:(E,O)=>{Qr(_.element,`svg path[class="${E}"], rect[class="${E}"]`).each(M=>{Mn(M,"fill",O)})}}),k=q1({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.some(g),checkMark:A.none(),shortcutContent:t.shortcut},a,l);return W1({data:Z1(t),getApi:h,enabled:t.enabled,onAction:re,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,s,a)},n6=(t,s,a,l=!0)=>{const d=h=>({isEnabled:()=>!vn.isDisabled(h),setEnabled:k=>vn.set(h,!k)}),g=q1({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.none(),checkMark:A.none(),shortcutContent:t.shortcut},a,l);return W1({data:Z1(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},o6=t=>({type:"separator",dom:{tag:"div",classes:[kC,DD]},components:t.text.map(Ur).toArray()}),s6=(t,s,a,l=!0)=>{const d=h=>({setActive:k=>{Qn.set(h,k)},isActive:()=>Qn.isOn(h),isEnabled:()=>!vn.isDisabled(h),setEnabled:k=>vn.set(h,!k)}),g=q1({iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,checkMark:A.some(DA(a.icons)),caret:A.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,l);return Ms(W1({data:Z1(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:OD,toggleOnExecute:!1,selected:t.active}})},r6=FF,lN=o6,a6=n6,c6=cN,l6=s6,i6=aN,u6=Hy;var f6=Object.freeze({__proto__:null,getCoupled:(t,s,a,l)=>a.getOrCreate(t,s,l),getExistingCoupled:(t,s,a,l)=>a.getExisting(t,s,l)}),m6=[Gc("others",rr(Yt.value,_l()))],g6=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,h)=>{if(_o(g.others).length===0)throw new Error("Cannot find any known coupled components");return it(t,h)},a=(g,h,k)=>s(h,k).getOrThunk(()=>{const E=it(h.others,k).getOrDie("No information found for coupled component: "+k)(g),O=g.getSystem().build(E);return t[k]=O,O}),l=(g,h,k)=>s(h,k).orThunk(()=>(it(h.others,k).getOrDie("No information found for coupled component: "+k),A.none())),d=Y({});return Xc({readState:d,getExisting:l,getOrCreate:a})}});const Pr=rc({fields:m6,name:"coupling",apis:f6,state:g6}),Y1=t=>{let s=A.none(),a=[];const l=E=>Y1(O=>{d(M=>{O(E(M))})}),d=E=>{h()?_(E):a.push(E)},g=E=>{h()||(s=A.some(E),k(a),a=[])},h=()=>s.isSome(),k=E=>{Je(E,_)},_=E=>{s.each(O=>{setTimeout(()=>{E(O)},0)})};return t(g),{get:d,map:l,isReady:h}},h6={nu:Y1,pure:t=>Y1(s=>{s(t)})},y6=t=>{setTimeout(()=>{throw t},0)},J1=t=>{const s=_=>{t().then(_,y6)};return{map:_=>J1(()=>t().then(_)),bind:_=>J1(()=>t().then(E=>_(E).toPromise())),anonBind:_=>J1(()=>t().then(()=>_.toPromise())),toLazy:()=>h6.nu(s),toCached:()=>{let _=null;return J1(()=>(_===null&&(_=t()),_))},toPromise:t,get:s}},nl={nu:t=>J1(()=>new Promise(t)),pure:t=>J1(()=>Promise.resolve(t))},IC=Y("sink"),JA=Y(Hi({name:IC(),overrides:Y({dom:{tag:"div"},behaviours:bt([Mc.config({useFixed:$e})]),events:Ks([Cd(ul()),Cd(oo()),Cd(Mi())])})})),QA=(t,s)=>{const a=t.getHotspot(s).getOr(s),l="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:l,hotspot:a,overrides:d}),g=>({type:l,hotspot:a,overrides:d,layouts:g}))},b6=(t,s,a)=>{const l=t.fetch;return l(a).map(s)},iN=(t,s,a,l,d,g,h)=>{const k=b6(t,s,l),_=uN(l,t);return k.map(E=>E.bind(O=>A.from(oh.sketch({...g.menu(),uid:Sd(""),data:O,highlightOnOpen:h,onOpenMenu:(M,$)=>{const H=_().getOrDie();Mc.position(H,$,{anchor:a}),Eo.decloak(d)},onOpenSubmenu:(M,$,H)=>{const G=_().getOrDie();Mc.position(G,H,{anchor:{type:"submenu",item:$}}),Eo.decloak(d)},onRepositionMenu:(M,$,H)=>{const G=_().getOrDie();Mc.position(G,$,{anchor:a}),Je(H,se=>{Mc.position(G,se.triggeredMenu,{anchor:{type:"submenu",item:se.triggeringItem}})})},onEscape:()=>(wn.focus(l),Eo.close(d),A.some(!0))}))))},FC=(t,s,a,l,d,g,h)=>{const k=QA(t,a);return iN(t,s,k,a,l,d,h).map(E=>(E.fold(()=>{Eo.isOpen(l)&&Eo.close(l)},O=>{Eo.cloak(l),Eo.open(l,O),g(l)}),l))},v6=(t,s,a,l,d,g,h)=>(Eo.close(l),nl.pure(l)),e4=(t,s,a,l,d,g)=>{const h=Pr.getCoupled(a,"sandbox");return(Eo.isOpen(h)?v6:FC)(t,s,a,h,l,d,g)},k6=(t,s,a)=>{const l=ro.getCurrent(s).getOr(s),d=Gr(t.element);a?xt(l.element,"min-width",d+"px"):Ns(l.element,d)},uN=(t,s)=>t.getSystem().getByUid(s.uid+"-"+IC()).map(a=>()=>Yt.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Yt.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),dN=t=>{Eo.getState(t).each(s=>{oh.repositionMenus(s)})},t4=(t,s,a)=>{const l=__(),d=(k,_)=>{const E=QA(t,s);l.link(s.element),t.matchWidth&&k6(E.hotspot,_,t.useMinWidth),t.onOpen(E,k,_),a!==void 0&&a.onOpen!==void 0&&a.onOpen(k,_)},g=(k,_)=>{l.unlink(s.element),a!==void 0&&a.onClose!==void 0&&a.onClose(k,_)},h=uN(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:ql.augment(t.sandboxBehaviours,[Pt.config({store:{mode:"memory",initialValue:s}}),Eo.config({onOpen:d,onClose:g,isPartOf:(k,_,E)=>lg(_,E)||lg(s,E),getAttachPoint:()=>h().getOrDie()}),ro.config({find:k=>Eo.getState(k).bind(_=>ro.getCurrent(_))}),Ol.config({channels:{...h1({isExtraPart:st}),...py({doReposition:dN})}})])}},fN=t=>{const s=Pr.getCoupled(t,"sandbox");dN(s)},n4=()=>[we("sandboxClasses",[]),ql.field("sandboxBehaviours",[ro,Ol,Eo,Pt])],w6=Y([Pe("dom"),Pe("fetch"),lo("onOpen"),sc("onExecute"),we("getHotspot",A.some),we("getAnchorOverrides",Y({})),Ef(),_r("dropdownBehaviours",[Qn,Pr,mn,wn]),Pe("toggleClass"),we("eventOrder",{}),jo("lazySink"),we("matchWidth",!1),we("useMinWidth",!1),jo("role")].concat(n4())),LC=Y([bu({schema:[Od(),we("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),JA()]),o4=(t,s,a,l)=>{const d=O=>it(t.dom,"attributes").bind(M=>it(M,O)),g=O=>{Eo.getState(O).each(M=>{oh.highlightPrimary(M)})},h=(O,M,$)=>e4(t,gn,O,l,M,$),k=O=>{h(O,g,Xl.HighlightMenuAndItem).get(re)},_={expand:O=>{Qn.isOn(O)||h(O,re,Xl.HighlightNone).get(re)},open:O=>{Qn.isOn(O)||h(O,re,Xl.HighlightMenuAndItem).get(re)},refetch:O=>Pr.getExistingCoupled(O,"sandbox").fold(()=>h(O,re,Xl.HighlightMenuAndItem).map(re),$=>FC(t,gn,O,$,l,re,Xl.HighlightMenuAndItem).map(re)),isOpen:Qn.isOn,close:O=>{Qn.isOn(O)&&h(O,re,Xl.HighlightMenuAndItem).get(re)},repositionMenus:O=>{Qn.isOn(O)&&fN(O)}},E=(O,M)=>(dm(O),A.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Wr(t.dropdownBehaviours,[Qn.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Pr.config({others:{sandbox:O=>t4(t,O,{onOpen:()=>Qn.on(O),onClose:()=>Qn.off(O)})}}),mn.config({mode:"special",onSpace:E,onEnter:E,onDown:(O,M)=>{if(Zi.isOpen(O)){const $=Pr.getCoupled(O,"sandbox");g($)}else Zi.open(O);return A.some(!0)},onEscape:(O,M)=>Zi.isOpen(O)?(Zi.close(O),A.some(!0)):A.none()}),wn.config({})]),events:tC(A.some(k)),eventOrder:{...t.eventOrder,[ri()]:["disabling","toggling","alloy.base.behaviour"]},apis:_,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),O=>({role:O})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},Zi=_a({name:"Dropdown",configFields:w6(),partFields:LC(),factory:o4,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),mN=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},_6=t=>{const s=Pt.getValue(t),a=_C(t).map(WD);Zi.refetch(s).get(()=>{const l=Pr.getCoupled(s,"sandbox");a.each(d=>_C(l).each(g=>QI(g,d)))})},C6=(t,s)=>{s4(t).each(a=>{s_(t,a.element,s.event.eventType,s.event.interactionEvent)})},s4=t=>Eo.getState(t).bind(Lo.getHighlighted).bind(Lo.getHighlighted),r4=t=>Ys(t.element,CC)?A.some(t.element):Qr(t.element,"."+CC),tw=(t,s,a)=>{jD(t).each(l=>{eF(l,a),r4(s).each(g=>{pr(g,"id").each(h=>Mn(l.element,"aria-controls",h))})}),Mn(a.element,"aria-selected","true")},gN=(t,s,a)=>{Mn(a.element,"aria-selected","false")},S6=t=>{jD(t).each(s=>wn.focus(s))},x6=t=>Pr.getExistingCoupled(t,"sandbox").bind(_C).map(WD).map(a=>a.fetchPattern).getOr("");var HC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(HC||(HC={}));const T6=(t,s,a,l,d)=>{const g=a.shared.providers,h=k=>d?{...k,shortcut:A.none(),icon:k.text.isSome()?A.none():k.icon}:k;switch(t.type){case"menuitem":return hR(t).fold(Nm,k=>A.some(a6(h(k),s,g,l)));case"nestedmenuitem":return yR(t).fold(Nm,k=>A.some(c6(h(k),s,g,l,d)));case"togglemenuitem":return vR(t).fold(Nm,k=>A.some(l6(h(k),s,g,l)));case"separator":return XD(t).fold(Nm,k=>A.some(lN(k)));case"fancymenuitem":return pR(t).fold(Nm,k=>i6(k,a));default:return console.error("Unknown item in general menu",t),A.none()}},E6=(t,s,a,l,d,g,h)=>{const k=l===1,_=!k||xC(t);return uc(Ee(t,E=>{switch(E.type){case"separator":return YD(E).fold(Nm,O=>A.some(lN(O)));case"cardmenuitem":return Ly(E).fold(Nm,O=>A.some(u6({...O,onAction:M=>{O.onAction(M),a(O.value,O.meta)}},d,g,{itemBehaviours:AR(O.meta,g),cardText:{matchText:s,highlightOn:h}})));case"autocompleteitem":default:return JD(E).fold(Nm,O=>A.some(r6(O,s,k,"normal",a,d,g,_)))}}))},pN=(t,s,a,l,d,g)=>{const h=xC(s),k=uc(Ee(s,O=>{const M=H=>d?!po(H,"text"):h,$=H=>T6(H,a,l,M(H),d);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?$({...O,enabled:!1}):$(O)})),_=mN(g);return(d?aF:$k)(t,h,k,1,_)},a4=t=>oh.singleData(t.value,t),A6=(t,s,a,l)=>{const d=ew(s,l),g=Py(l);return{data:a4({...t,movement:d,menuBehaviours:Uk.unnamedEvents(s!=="auto"?[]:[Xs((h,k)=>{AC(h,4,g.item).each(({numColumns:_,numRows:E})=>{mn.setGridSize(h,E,_)})})])}),menu:{markers:Py(l),fakeFocus:a===HC.ContentFocus}}},z6=(t,s)=>sA(fe.fromDom(s.startContainer)).map(a=>{const l=t.createRng();return l.selectNode(a.dom),l}),O6={register:(t,s)=>{const a=hn(!1),l=hn(!1),d=va(ta.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:bt([Wn("dismissAutocompleter",[et(Cf(),()=>E())])]),lazySink:s.getSink})),g=()=>ta.isOpen(d),h=l.get,k=()=>{g()&&ta.hide(d)},_=()=>ta.getContent(d).bind(G=>Un(G.components(),0)),E=()=>t.execCommand("mceAutocompleterClose"),O=G=>{const se=Ko(G,_e=>A.from(_e.columns)).getOr(1);return he(G,_e=>{const ve=_e.items;return E6(ve,_e.matchText,(me,Ue)=>{const Ge=t.selection.getRng();z6(t.dom,Ge).each(St=>{const ot={hide:()=>E(),reload:zt=>{k(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:zt})}};a.set(!0),_e.onAction(ot,St,me,Ue),a.set(!1)})},se,ji.BUBBLE_TO_SANDBOX,s,_e.highlightOn)})},M=(G,se)=>{rA(fe.fromDom(t.getBody())).each(_e=>{const ve=Ko(G,me=>A.from(me.columns)).getOr(1);ta.showMenuAt(d,{anchor:{type:"node",root:fe.fromDom(t.getBody()),node:A.from(_e)}},A6($k("autocompleter-value",!0,se,ve,{menuType:"normal"}),ve,HC.ContentFocus,"normal"))}),_().each(Lo.highlightFirst)},$=G=>{const se=O(G);se.length>0?M(G,se):k()};t.on("AutocompleterStart",({lookupData:G})=>{l.set(!0),a.set(!1),$(G)}),t.on("AutocompleterUpdate",({lookupData:G})=>$(G)),t.on("AutocompleterEnd",()=>{k(),l.set(!1),a.set(!1)});const H={cancelIfNecessary:E,isMenuOpen:g,isActive:h,isProcessingAction:a.get,getMenu:_};zD.setup(H,t)}},D6=["visible","hidden"],hN=t=>{if(vl(t)){const s=Qe(t,"overflow");return _s(s).length>0&&!Gn(D6,s)}else return!1},yN=t=>{const s=ry(t,hN),a=s.length===0?ln(t).map(os).map(l=>ry(l,hN)).getOr([]):s;return Go(a).map(l=>({element:l,others:a.slice(1)}))},nw=(t,s)=>rh(t)?yN(s):A.none(),VC=t=>{const s=[...Ee(t.others,R),ft()];return de(R(t.element),s)},Cu=(t,s,a)=>Wl(t,s,a).isSome(),bN=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},vN=5,c4=400,Ca=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?A.none():A.some(s.touches[0])},R6=(t,s)=>{const a=Math.abs(t.clientX-s.x),l=Math.abs(t.clientY-s.y);return a>vN||l>vN},N6=t=>{const s=Os(),a=hn(!1),l=bN(E=>{t.triggerEvent(ya(),E),a.set(!0)},c4),d=E=>(Ca(E).each(O=>{l.cancel();const M={x:O.clientX,y:O.clientY,target:E.target};l.schedule(E),a.set(!1),s.set(M)}),A.none()),g=E=>(l.cancel(),Ca(E).each(O=>{s.on(M=>{R6(O,M)&&s.clear()})}),A.none()),h=E=>{l.cancel();const O=M=>ds(M.target,E.target);return s.get().filter(O).map(M=>a.get()?(E.prevent(),!1):t.triggerEvent(Bh(),E))},k=Ot([{key:jl(),value:d},{key:Lu(),value:g},{key:kf(),value:h}]);return{fireIfReady:(E,O)=>it(k,O).bind(M=>M(E))}},M6=t=>t.raw.which===W2[0]&&!Gn(["input","textarea"],Lr(t.target))&&!Cu(t.target,'[contenteditable="true"]'),B6=(t,s)=>{const a={stopBackspace:!0,...s},l=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=N6(a),g=Ee(l.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),H=>Nc(t,H,G=>{d.fireIfReady(G,H).each(_e=>{_e&&G.kill()}),a.triggerEvent(H,G)&&G.kill()})),h=Os(),k=Nc(t,"paste",H=>{d.fireIfReady(H,"paste").each(se=>{se&&H.kill()}),a.triggerEvent("paste",H)&&H.kill(),h.set(setTimeout(()=>{a.triggerEvent(Vu(),H)},0))}),_=Nc(t,"keydown",H=>{a.triggerEvent("keydown",H)?H.kill():a.stopBackspace&&M6(H)&&H.prevent()}),E=Nc(t,"focusin",H=>{a.triggerEvent("focusin",H)&&H.kill()}),O=Os(),M=Nc(t,"focusout",H=>{a.triggerEvent("focusout",H)&&H.kill(),O.set(setTimeout(()=>{a.triggerEvent(up(),H)},0))});return{unbind:()=>{Je(g,H=>{H.unbind()}),_.unbind(),E.unbind(),M.unbind(),k.unbind(),h.on(clearTimeout),O.on(clearTimeout)}}},kN=(t,s)=>{const a=it(t,"target").getOr(s);return hn(a)},P6=(t,s)=>{const a=hn(!1),l=hn(!1);return{stop:()=>{a.set(!0)},cut:()=>{l.set(!0)},isStopped:a.get,isCut:l.get,event:t,setSource:s.set,getSource:s.get}},$6=t=>{const s=hn(!1);return{stop:()=>{s.set(!0)},cut:re,isStopped:s.get,isCut:st,event:t,setSource:ie("Cannot set source of a broadcasted event"),getSource:ie("Cannot get source of a broadcasted event")}},ow=w.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),wN=(t,s,a,l,d,g)=>{const h=t(s,l),k=P6(a,d);return h.fold(()=>(g.logEventNoHandlers(s,l),ow.complete()),_=>{const E=_.descHandler;return Uh(E)(k),k.isStopped()?(g.logEventStopped(s,_.element,E.purpose),ow.stopped()):k.isCut()?(g.logEventCut(s,_.element,E.purpose),ow.complete()):Pa(_.element).fold(()=>(g.logNoParent(s,_.element,E.purpose),ow.complete()),M=>(g.logEventResponse(s,_.element,E.purpose),ow.resume(M)))})},_N=(t,s,a,l,d,g)=>wN(t,s,a,l,d,g).fold($e,h=>_N(t,s,a,h,d,g),st),I6=(t,s,a,l,d)=>{const g=kN(a,l);return wN(t,s,a,l,g,d)},F6=(t,s,a)=>{const l=$6(s);return Je(t,d=>{const g=d.descHandler;Uh(g)(l)}),l.isStopped()},L6=(t,s,a,l)=>CN(t,s,a,a.target,l),CN=(t,s,a,l,d)=>{const g=kN(a,l);return _N(t,s,a,l,g,d)},H6=(t,s)=>({element:t,descHandler:s}),V6=(t,s)=>({id:t,descHandler:s}),U6=()=>{const t={},s=(h,k,_)=>{co(_,(E,O)=>{const M=t[O]!==void 0?t[O]:{};M[k]=_p(E,h),t[O]=M})},a=(h,k)=>uu(k).bind(_=>it(h,_)).map(_=>H6(k,_));return{registerId:s,unregisterId:h=>{co(t,(k,_)=>{po(k,h)&&delete k[h]})},filterByType:h=>it(t,h).map(k=>Sc(k,(_,E)=>V6(E,_))).getOr([]),find:(h,k,_)=>it(t,k).bind(E=>nc(_,O=>a(E,O),h))}},j6=()=>{const t=U6(),s={},a=E=>{const O=E.element;return uu(O).getOrThunk(()=>$x("uid-",E.element))},l=(E,O)=>{const M=s[O];if(M===E)g(E);else throw new Error('The tagId "'+O+'" is already used by: '+cg(M.element)+`
Cannot use it for: `+cg(E.element)+`
The conflicting element is`+(Io(M.element)?" ":" not ")+"already in the DOM")},d=E=>{const O=a(E);Ir(s,O)&&l(E,O);const M=[E];t.registerId(M,O,E.events),s[O]=E},g=E=>{uu(E.element).each(O=>{delete s[O],t.unregisterId(O)})};return{find:(E,O,M)=>t.find(E,O,M),filter:E=>t.filterByType(E),register:d,unregister:g,getById:E=>it(s,E)}},If=ea({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:Xp(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[we("components",[]),_r("containerBehaviours",[]),we("events",{}),we("domModification",{}),we("eventOrder",{})]}),l4=t=>{const s=ve=>Pa(t.element).fold($e,me=>ds(ve,me)),a=j6(),l=(ve,me)=>a.find(s,ve,me),d=B6(t.element,{triggerEvent:(ve,me)=>ig(ve,me.target,Ue=>L6(l,ve,me,Ue))}),g={debugInfo:Y("real"),triggerEvent:(ve,me,Ue)=>{ig(ve,me,Ge=>CN(l,ve,Ue,me,Ge))},triggerFocus:(ve,me)=>{uu(ve).fold(()=>{$i(ve)},Ue=>{ig(_d(),ve,Ge=>(I6(l,_d(),{originator:me,kill:re,prevent:re,target:ve},ve,Ge),!1))})},triggerEscape:(ve,me)=>{g.triggerEvent("keydown",ve.element,me.event)},getByUid:ve=>se(ve),getByDom:ve=>_e(ve),build:va,buildOrPatch:wm,addToGui:ve=>{_(ve)},removeFromGui:ve=>{E(ve)},addToWorld:ve=>{h(ve)},removeFromWorld:ve=>{k(ve)},broadcast:ve=>{$(ve)},broadcastOn:(ve,me)=>{H(ve,me)},broadcastEvent:(ve,me)=>{G(ve,me)},isConnected:$e},h=ve=>{ve.connect(g),Ea(ve.element)||(a.register(ve),Je(ve.components(),h),g.triggerEvent(og(),ve.element,{target:ve.element}))},k=ve=>{Ea(ve.element)||(Je(ve.components(),k),a.unregister(ve)),ve.disconnect()},_=ve=>{$d(t,ve)},E=ve=>{Id(ve)},O=()=>{d.unbind(),Wc(t.element)},M=ve=>{const me=a.filter(Uu());Je(me,Ue=>{const Ge=Ue.descHandler;Uh(Ge)(ve)})},$=ve=>{M({universal:!0,data:ve})},H=(ve,me)=>{M({universal:!1,channels:ve,data:me})},G=(ve,me)=>{const Ue=a.filter(ve);return F6(Ue,me)},se=ve=>a.getById(ve).fold(()=>Yt.error(new Error('Could not find component with uid: "'+ve+'" in system.')),Yt.value),_e=ve=>{const me=uu(ve).getOr("not found");return se(me)};return h(t),{root:t,element:t.element,destroy:O,add:_,remove:E,getByUid:se,getByDom:_e,addToWorld:h,removeFromWorld:k,broadcast:$,broadcastOn:H,broadcastEvent:G}},W6=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ee(t.items,s.interpreter)}),Z6=Y([we("prefix","form-field"),_r("fieldBehaviours",[ro,Pt])]),q6=Y([Hi({schema:[Pe("dom")],name:"label"}),Hi({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Pe("text")],name:"aria-descriptor"}),Zr({factory:{sketch:t=>{const s=Me(t,["factory"]);return t.factory.sketch(s)}},schema:[Pe("factory")],name:"field"})]),G6=(t,s,a,l)=>{const d=Wr(t.fieldBehaviours,[ro.config({find:k=>Ps(k,t,"field")}),Pt.config({store:{mode:"manual",getValue:k=>ro.getCurrent(k).bind(Pt.getValue),setValue:(k,_)=>{ro.getCurrent(k).each(E=>{Pt.setValue(E,_)})}}})]),g=Ks([Xs((k,_)=>{const E=M2(k,t,["label","field","aria-descriptor"]);E.field().each(O=>{const M=Vt(t.prefix);E.label().each($=>{Mn($.element,"for",M),Mn(O.element,"id",M)}),E["aria-descriptor"]().each($=>{const H=Vt(t.prefix);Mn($.element,"id",H),Mn(O.element,"aria-describedby",H)})})})]),h={getField:k=>Ps(k,t,"field"),getLabel:k=>Ps(k,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:g,apis:h}},as=_a({name:"FormField",configFields:Z6(),partFields:q6(),factory:G6,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var K6=Object.freeze({__proto__:null,exhibit:(t,s)=>ai({attributes:Ot([{key:s.tabAttr,value:"true"}])})}),X6=[we("tabAttr","data-alloy-tabstop")];const Cr=rc({fields:X6,name:"tabstopping",active:K6});var Y6=tinymce.util.Tools.resolve("tinymce.html.Entities");const sw=(t,s,a,l)=>{const d=SN(t,s,a,l);return as.sketch(d)},J6=(t,s)=>sw(t,s,[],[]),SN=(t,s,a,l)=>({dom:xN(a),components:t.toArray().concat([s]),fieldBehaviours:bt(l)}),Q6=()=>xN([]),xN=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),fh=(t,s)=>as.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ur(s.translate(t))]}),qi=Vt("form-component-change"),Q1=Vt("form-close"),Wy=Vt("form-cancel"),Ff=Vt("form-action"),rw=Vt("form-submit"),UC=Vt("form-block"),i4=Vt("form-unblock"),TN=Vt("form-tabchange"),EN=Vt("form-resize"),eL=(t,s,a)=>{const l=t.label.map(M=>fh(M,s)),d=M=>($,H)=>{Wl(H.event.target,"[data-collection-item-value]").each(G=>{M($,H,G,fa(G,"data-collection-item-value"))})},g=(M,$)=>{const H=Ee($,_e=>{const ve=Yu.translate(_e.text),me=t.columns===1?`<div class="tox-collection__item-label">${ve}</div>`:"",Ue=`<div class="tox-collection__item-icon">${_e.icon}</div>`,Ge={_:" "," - ":" ","-":" "},St=ve.replace(/\_| \- |\-/g,zt=>Ge[zt]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${Y6.encodeAllRaw(_e.value)}" title="${St}" aria-label="${St}">${Ue}${me}</div>`}),G=t.columns!=="auto"&&t.columns>1?Zt(H,t.columns):[H],se=Ee(G,_e=>`<div class="tox-collection__group">${_e.join("")}</div>`);mm(M.element,se.join(""))},h=d((M,$,H,G)=>{$.stop(),s.isDisabled()||an(M,Ff,{name:t.name,value:G})}),k=[et(Hu(),d((M,$,H)=>{$i(H)})),et(Mi(),h),et(Bh(),h),et(lu(),d((M,$,H)=>{Qr(M.element,"."+Bk).each(G=>{xs(G,Bk)}),ba(H,Bk)})),et(Ni(),d(M=>{Qr(M.element,"."+Bk).each($=>{xs($,Bk)})})),ju(d((M,$,H,G)=>{an(M,Ff,{name:t.name,value:G})}))],_=(M,$)=>Ee(fl(M.element,".tox-collection__item"),$),E=as.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:gn},behaviours:bt([vn.config({disabled:s.isDisabled,onDisabled:M=>{_(M,$=>{ba($,"tox-collection__item--state-disabled"),Mn($,"aria-disabled",!0)})},onEnabled:M=>{_(M,$=>{xs($,"tox-collection__item--state-disabled"),W($,"aria-disabled")})}}),Wa(),Dn.config({}),Pt.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(M,$)=>{g(M,$),t.columns==="auto"&&AC(M,5,"tox-collection__item").each(({numRows:H,numColumns:G})=>{mn.setGridSize(M,H,G)}),es(M,EN)}}),Cr.config({}),mn.config(eN(t.columns,"normal")),Wn("collection-events",k)]),eventOrder:{[ri()]:["disabling","alloy.base.behaviour","collection-events"]}});return sw(l,E,["tox-form__group--collection"],[])},tL=["input","textarea"],AN=t=>{const s=Lr(t);return Gn(tL,s)},zN=(t,s)=>{const a=s.getRoot(t).getOr(t.element);xs(a,s.invalidClass),s.notify.each(l=>{AN(t.element)&&Mn(t.element,"aria-invalid",!1),l.getContainer(t).each(d=>{mm(d,l.validHtml)}),l.onValid(t)})},ON=(t,s,a,l)=>{const d=s.getRoot(t).getOr(t.element);ba(d,s.invalidClass),s.notify.each(g=>{AN(t.element)&&Mn(t.element,"aria-invalid",!0),g.getContainer(t).each(h=>{mm(h,l)}),g.onInvalid(t,l)})},DN=(t,s,a)=>s.validator.fold(()=>nl.pure(Yt.value(!0)),l=>l.validate(t)),u4=(t,s,a)=>(s.notify.each(l=>{l.onValidate(t)}),DN(t,s).map(l=>t.getSystem().isConnected()?l.fold(d=>(ON(t,s,a,d),Yt.error(d)),d=>(zN(t,s),Yt.value(d))):Yt.error("No longer in system")));var nL=Object.freeze({__proto__:null,markValid:zN,markInvalid:ON,query:DN,run:u4,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return Ys(a,s.invalidClass)}}),sL=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Ks([et(a.onEvent,l=>{u4(l,t,s).get(gn)})].concat(a.validateOnLoad?[Xs(l=>{u4(l,t,s).get(re)})]:[]))).getOr({})}),rL=[Pe("invalidClass"),we("getRoot",A.none),Tr("notify",[we("aria","alert"),we("getContainer",A.none),we("validHtml",""),lo("onValid"),lo("onInvalid"),lo("onValidate")]),Tr("validator",[Pe("validate"),we("onEvent","input"),we("validateOnLoad",!0)])];const Bm=rc({fields:rL,name:"invalidating",active:sL,apis:nL,extra:{validation:t=>s=>{const a=Pt.getValue(s);return nl.pure(t(a))}}});var d4=Object.freeze({__proto__:null,events:()=>Ks([Fh(Uv(),$e)]),exhibit:()=>ai({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const aw=rc({fields:[],name:"unselecting",active:d4}),aL=(t,s)=>Zi.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:bt([qd.button(s.providers.isDisabled),Wa(),aw.config({}),Cr.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>nl.nu(l=>t.fetch(l)).map(l=>A.from(a4(Ms(dh(Vt("menu-value"),l,d=>{t.onItemAction(a,d)},t.columns,t.presets,ji.CLOSE_ON_EXECUTE,st,s.providers),{movement:ew(t.columns,t.presets)})))),parts:{menu:wC(!1,1,t.presets)}}),RN=Vt("color-input-change"),f4=Vt("color-swatch-change"),m4=Vt("color-picker-cancel"),cL=(t,s,a,l)=>{const d=as.parts.field({factory:Mg,inputClasses:["tox-textfield"],data:l,onSetValue:E=>Bm.run(E).get(re),inputBehaviours:bt([vn.config({disabled:s.providers.isDisabled}),Wa(),Cr.config({}),Bm.config({invalidClass:"tox-textbox-field-invalid",getRoot:E=>za(E.element),notify:{onValid:E=>{const O=Pt.getValue(E);an(E,RN,{color:O})}},validator:{validateOnLoad:!1,validate:E=>{const O=Pt.getValue(E);if(O.length===0)return nl.pure(Yt.value(!0));{const M=fe.fromTag("span");xt(M,"background-color",O);const $=Ss(M,"background-color").fold(()=>Yt.error("blah"),H=>Yt.value(O));return nl.pure($)}}}})]),selectOnFocus:!1}),g=t.label.map(E=>fh(E,s.providers)),h=(E,O)=>{an(E,f4,{value:O})},k=(E,O)=>{_.getOpt(E).each(M=>{O==="custom"?a.colorPicker($=>{$.fold(()=>es(M,m4),H=>{h(M,H),FR(t.storageKey,H)})},"#ffffff"):O==="remove"?h(M,""):h(M,O)})},_=hs(aL({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ka,Va,jr],onLtr:()=>[Va,ka,jr]},components:[],fetch:YR(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:k},s));return as.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,_.asSpec()]}]),fieldBehaviours:bt([Wn("form-field-events",[et(RN,(E,O)=>{_.getOpt(E).each(M=>{xt(M.element,"background-color",O.event.color)}),an(E,qi,{name:t.name})}),et(f4,(E,O)=>{as.getField(E).each(M=>{Pt.setValue(M,O.event.value),ro.getCurrent(E).each(wn.focus)})}),et(m4,(E,O)=>{as.getField(E).each(M=>{ro.getCurrent(E).each(wn.focus)})})])])})},lL=Hi({schema:[Pe("dom")],name:"label"}),$g=t=>Hi({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),l=>({events:Ks([rg(jl(),(d,g,h)=>l(d,h),[s]),rg(oo(),(d,g,h)=>l(d,h),[s]),rg(Gs(),(d,g,h)=>{h.mouseIsDown.get()&&l(d,h)},[s])])}))}),iL=$g("top-left"),uL=$g("top"),dL=$g("top-right"),fL=$g("right"),mL=$g("bottom-right"),gL=$g("bottom"),jC=$g("bottom-left"),pL=$g("left"),WC=Zr({name:"thumb",defaults:Y({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Ks([fm(jl(),t,"spectrum"),fm(Lu(),t,"spectrum"),fm(kf(),t,"spectrum"),fm(oo(),t,"spectrum"),fm(Gs(),t,"spectrum"),fm(wr(),t,"spectrum")])})}),hL=Zr({schema:[zc("mouseIsDown",()=>hn(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,l=(d,g)=>a.getValueFromEvent(g).map(h=>a.setValueFrom(d,t,h));return{behaviours:bt([mn.config({mode:"special",onLeft:d=>a.onLeft(d,t),onRight:d=>a.onRight(d,t),onUp:d=>a.onUp(d,t),onDown:d=>a.onDown(d,t)}),wn.config({})]),events:Ks([et(jl(),l),et(Lu(),l),et(oo(),l),et(Gs(),(d,g)=>{t.mouseIsDown.get()&&l(d,g)})])}}});var yL=[lL,pL,fL,uL,gL,iL,dL,jC,mL,WC,hL];const cw=Y("slider.change.value"),fW=t=>t.type.indexOf("touch")!==-1,ev=t=>{const s=t.event.raw;if(fW(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?A.some(a.touches[0]).map(l=>Zs(l.clientX,l.clientY)):A.none()}else{const a=s;return a.clientX!==void 0?A.some(a).map(l=>Zs(l.clientX,l.clientY)):A.none()}},tv="top",NN="right",MN="bottom",bL="left",Zy=t=>t.model.minX,qy=t=>t.model.minY,ZC=t=>t.model.minX-1,qC=t=>t.model.minY-1,Gy=t=>t.model.maxX,Ky=t=>t.model.maxY,GC=t=>t.model.maxX+1,KC=t=>t.model.maxY+1,BN=(t,s,a)=>s(t)-a(t),g4=t=>BN(t,Gy,Zy),XC=t=>BN(t,Ky,qy),Xy=t=>g4(t)/2,mh=t=>XC(t)/2,nv=t=>t.stepSize,p4=t=>t.snapToGrid,h4=t=>t.snapStart,lw=t=>t.rounded,YC=(t,s)=>t[s+"-edge"]!==void 0,ov=t=>YC(t,bL),sv=t=>YC(t,NN),PN=t=>YC(t,tv),$N=t=>YC(t,MN),Ig=t=>t.model.value.get(),gh=(t,s)=>({x:t,y:s}),Xd=(t,s)=>{an(t,cw(),{value:s})},vL=(t,s)=>{Xd(t,gh(ZC(s),qC(s)))},JC=(t,s)=>{Xd(t,qC(s))},kL=(t,s)=>{Xd(t,gh(Xy(s),qC(s)))},wL=(t,s)=>{Xd(t,gh(GC(s),qC(s)))},_L=(t,s)=>{Xd(t,GC(s))},IN=(t,s)=>{Xd(t,gh(GC(s),mh(s)))},CL=(t,s)=>{Xd(t,gh(GC(s),KC(s)))},SL=(t,s)=>{Xd(t,KC(s))},xL=(t,s)=>{Xd(t,gh(Xy(s),KC(s)))},FN=(t,s)=>{Xd(t,gh(ZC(s),KC(s)))},TL=(t,s)=>{Xd(t,ZC(s))},EL=(t,s)=>{Xd(t,gh(ZC(s),mh(s)))},y4=(t,s,a,l)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-l),b4=(t,s,a,l)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+l),LN=(t,s,a)=>Math.max(s,Math.min(a,t)),HN=(t,s,a,l,d)=>d.fold(()=>{const g=t-s,h=Math.round(g/l)*l;return LN(s+h,s-1,a+1)},g=>{const h=(t-g)%l,k=Math.round(h/l),_=Math.floor((t-g)/l),E=Math.floor((a-g)/l),O=Math.min(E,_+k),M=g+O*l;return Math.max(g,M)}),VN=(t,s,a)=>Math.min(a,Math.max(t,s))-s,UN=t=>{const{min:s,max:a,range:l,value:d,step:g,snap:h,snapStart:k,rounded:_,hasMinEdge:E,hasMaxEdge:O,minBound:M,maxBound:$,screenRange:H}=t,G=E?s-1:s,se=O?a+1:a;if(d<M)return G;if(d>$)return se;{const _e=VN(d,M,$),ve=LN(_e/H*l+s,G,se);return h&&ve>=s&&ve<=a?HN(ve,s,a,g,k):_?Math.round(ve):ve}},jN=t=>{const{min:s,max:a,range:l,value:d,hasMinEdge:g,hasMaxEdge:h,maxBound:k,maxOffset:_,centerMinEdge:E,centerMaxEdge:O}=t;return d<s?g?0:E:d>a?h?k:O:(d-s)/l*_},v4="top",WN="right",ZN="bottom",QC="left",rv="width",AL="height",Pm=t=>t.element.dom.getBoundingClientRect(),Yd=(t,s)=>t[s],Yy=t=>{const s=Pm(t);return Yd(s,QC)},Su=t=>{const s=Pm(t);return Yd(s,WN)},av=t=>{const s=Pm(t);return Yd(s,v4)},k4=t=>{const s=Pm(t);return Yd(s,ZN)},qN=t=>{const s=Pm(t);return Yd(s,rv)},GN=t=>{const s=Pm(t);return Yd(s,AL)},KN=(t,s,a)=>(t+s)/2-a,XN=(t,s)=>{const a=Pm(t),l=Pm(s),d=Yd(a,QC),g=Yd(a,WN),h=Yd(l,QC);return KN(d,g,h)},w4=(t,s)=>{const a=Pm(t),l=Pm(s),d=Yd(a,v4),g=Yd(a,ZN),h=Yd(l,v4);return KN(d,g,h)},iw=(t,s)=>{an(t,cw(),{value:s})},_4=(t,s,a)=>{const l={min:Zy(s),max:Gy(s),range:g4(s),value:a,step:nv(s),snap:p4(s),snapStart:h4(s),rounded:lw(s),hasMinEdge:ov(s),hasMaxEdge:sv(s),minBound:Yy(t),maxBound:Su(t),screenRange:qN(t)};return UN(l)},zL=(t,s,a)=>{const l=_4(t,s,a);return iw(t,l),l},YN=(t,s)=>{const a=Zy(s);iw(t,a)},OL=(t,s)=>{const a=Gy(s);iw(t,a)},JN=(t,s,a)=>{const d=(t>0?b4:y4)(Ig(a),Zy(a),Gy(a),nv(a));return iw(s,d),A.some(d)},C4=t=>(s,a)=>JN(t,s,a).map($e),QN=t=>ev(t).map(a=>a.left),DL=(t,s,a,l,d)=>{const h=qN(t),k=l.bind(O=>A.some(XN(O,t))).getOr(0),_=d.bind(O=>A.some(XN(O,t))).getOr(h),E={min:Zy(s),max:Gy(s),range:g4(s),value:a,hasMinEdge:ov(s),hasMaxEdge:sv(s),minBound:Yy(t),minOffset:0,maxBound:Su(t),maxOffset:h,centerMinEdge:k,centerMaxEdge:_};return jN(E)},S4=(t,s,a,l,d,g)=>{const h=DL(s,g,a,l,d);return Yy(s)-Yy(t)+h},RL=(t,s,a,l)=>{const d=Ig(a),g=S4(t,l.getSpectrum(t),d,l.getLeftEdge(t),l.getRightEdge(t),a),h=Gr(s.element)/2;xt(s.element,"left",g-h+"px")},NL=C4(-1),ML=C4(1),BL=A.none,x4=A.none,PL={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(_L),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(TL)};var eM=Object.freeze({__proto__:null,setValueFrom:zL,setToMin:YN,setToMax:OL,findValueOfOffset:_4,getValueFromEvent:QN,findPositionOfValue:S4,setPositionFromValue:RL,onLeft:NL,onRight:ML,onUp:BL,onDown:x4,edgeActions:PL});const eS=(t,s)=>{an(t,cw(),{value:s})},T4=(t,s,a)=>{const l={min:qy(s),max:Ky(s),range:XC(s),value:a,step:nv(s),snap:p4(s),snapStart:h4(s),rounded:lw(s),hasMinEdge:PN(s),hasMaxEdge:$N(s),minBound:av(t),maxBound:k4(t),screenRange:GN(t)};return UN(l)},$L=(t,s,a)=>{const l=T4(t,s,a);return eS(t,l),l},IL=(t,s)=>{const a=qy(s);eS(t,a)},FL=(t,s)=>{const a=Ky(s);eS(t,a)},LL=(t,s,a)=>{const d=(t>0?b4:y4)(Ig(a),qy(a),Ky(a),nv(a));return eS(s,d),A.some(d)},tM=t=>(s,a)=>LL(t,s,a).map($e),nM=t=>ev(t).map(a=>a.top),oM=(t,s,a,l,d)=>{const h=GN(t),k=l.bind(O=>A.some(w4(O,t))).getOr(0),_=d.bind(O=>A.some(w4(O,t))).getOr(h),E={min:qy(s),max:Ky(s),range:XC(s),value:a,hasMinEdge:PN(s),hasMaxEdge:$N(s),minBound:av(t),minOffset:0,maxBound:k4(t),maxOffset:h,centerMinEdge:k,centerMaxEdge:_};return jN(E)},E4=(t,s,a,l,d,g)=>{const h=oM(s,g,a,l,d);return av(s)-av(t)+h},HL=(t,s,a,l)=>{const d=Ig(a),g=E4(t,l.getSpectrum(t),d,l.getTopEdge(t),l.getBottomEdge(t),a),h=or(s.element)/2;xt(s.element,"top",g-h+"px")},VL=A.none,UL=A.none,jL=tM(-1),sM=tM(1),rM={"top-left":A.none(),top:A.some(JC),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(SL),"bottom-left":A.none(),left:A.none()};var aM=Object.freeze({__proto__:null,setValueFrom:$L,setToMin:IL,setToMax:FL,findValueOfOffset:T4,getValueFromEvent:nM,findPositionOfValue:E4,setPositionFromValue:HL,onLeft:VL,onRight:UL,onUp:jL,onDown:sM,edgeActions:rM});const cv=(t,s)=>{an(t,cw(),{value:s})},tS=(t,s)=>({x:t,y:s}),cM=(t,s,a)=>{const l=_4(t,s,a.left),d=T4(t,s,a.top),g=tS(l,d);return cv(t,g),g},WL=(t,s,a,l)=>{const d=t>0?b4:y4,g=s?Ig(l).x:d(Ig(l).x,Zy(l),Gy(l),nv(l)),h=s?d(Ig(l).y,qy(l),Ky(l),nv(l)):Ig(l).y;return cv(a,tS(g,h)),A.some(g)},nS=(t,s)=>(a,l)=>WL(t,s,a,l).map($e),ZL=(t,s)=>{const a=Zy(s),l=qy(s);cv(t,tS(a,l))},qL=(t,s)=>{const a=Gy(s),l=Ky(s);cv(t,tS(a,l))},A4=t=>ev(t),Fg=(t,s,a,l)=>{const d=Ig(a),g=S4(t,l.getSpectrum(t),d.x,l.getLeftEdge(t),l.getRightEdge(t),a),h=E4(t,l.getSpectrum(t),d.y,l.getTopEdge(t),l.getBottomEdge(t),a),k=Gr(s.element)/2,_=or(s.element)/2;xt(s.element,"left",g-k+"px"),xt(s.element,"top",h-_+"px")},GL=nS(-1,!1),uw=nS(1,!1),KL=nS(-1,!0),z4=nS(1,!0),XL={"top-left":A.some(vL),top:A.some(kL),"top-right":A.some(wL),right:A.some(IN),"bottom-right":A.some(CL),bottom:A.some(xL),"bottom-left":A.some(FN),left:A.some(EL)};var YL=Object.freeze({__proto__:null,setValueFrom:cM,setToMin:ZL,setToMax:qL,getValueFromEvent:A4,setPositionFromValue:Fg,onLeft:GL,onRight:uw,onUp:KL,onDown:z4,edgeActions:XL});const JL=[we("stepSize",1),we("onChange",re),we("onChoose",re),we("onInit",re),we("onDragStart",re),we("onDragEnd",re),we("snapToGrid",!1),we("rounded",!0),jo("snapStart"),Gc("model",Rr("mode",{x:[we("minX",0),we("maxX",100),zc("value",t=>hn(t.mode.minX)),Pe("getInitialValue"),Bs("manager",eM)],y:[we("minY",0),we("maxY",100),zc("value",t=>hn(t.mode.minY)),Pe("getInitialValue"),Bs("manager",aM)],xy:[we("minX",0),we("maxX",100),we("minY",0),we("maxY",100),zc("value",t=>hn({x:t.mode.minX,y:t.mode.minY})),Pe("getInitialValue"),Bs("manager",YL)]})),_r("sliderBehaviours",[mn,Pt]),zc("mouseIsDown",()=>hn(!1))],Jd=_a({name:"Slider",configFields:JL,partFields:yL,factory:(t,s,a,l)=>{const d=Ge=>Nf(Ge,t,"thumb"),g=Ge=>Nf(Ge,t,"spectrum"),h=Ge=>Ps(Ge,t,"left-edge"),k=Ge=>Ps(Ge,t,"right-edge"),_=Ge=>Ps(Ge,t,"top-edge"),E=Ge=>Ps(Ge,t,"bottom-edge"),O=t.model,M=O.manager,$=(Ge,St)=>{M.setPositionFromValue(Ge,St,t,{getLeftEdge:h,getRightEdge:k,getTopEdge:_,getBottomEdge:E,getSpectrum:g})},H=(Ge,St)=>{O.value.set(St);const ot=d(Ge);$(Ge,ot)},G=(Ge,St)=>{H(Ge,St);const ot=d(Ge);return t.onChange(Ge,ot,St),A.some(!0)},se=Ge=>{M.setToMin(Ge,t)},_e=Ge=>{M.setToMax(Ge,t)},ve=Ge=>{const St=()=>{Ps(Ge,t,"thumb").each(zt=>{const on=O.value.get();t.onChoose(Ge,zt,on)})},ot=t.mouseIsDown.get();t.mouseIsDown.set(!1),ot&&St()},me=(Ge,St)=>{St.stop(),t.mouseIsDown.set(!0),t.onDragStart(Ge,d(Ge))},Ue=(Ge,St)=>{St.stop(),t.onDragEnd(Ge,d(Ge)),ve(Ge)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Wr(t.sliderBehaviours,[mn.config({mode:"special",focusIn:Ge=>Ps(Ge,t,"spectrum").map(mn.focusIn).map($e)}),Pt.config({store:{mode:"manual",getValue:Ge=>O.value.get(),setValue:H}}),Ol.config({channels:{[p1()]:{onReceive:ve}}})]),events:Ks([et(cw(),(Ge,St)=>{G(Ge,St.event.value)}),Xs((Ge,St)=>{const ot=O.getInitialValue();O.value.set(ot);const zt=d(Ge);$(Ge,zt);const on=g(Ge);t.onInit(Ge,zt,on,O.value.get())}),et(jl(),me),et(kf(),Ue),et(oo(),me),et(wr(),Ue)]),apis:{resetToMin:se,resetToMax:_e,setValue:H,refresh:$},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),dw=Vt("rgb-hex-update"),oS=Vt("slider-update"),sS=Vt("palette-update"),e8=(t,s)=>{const a=Jd.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),l=Jd.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Jd.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:Y(0)},components:[a,l],sliderBehaviours:bt([wn.config({})]),onChange:(d,g,h)=>{an(d,oS,{value:h})}})},Gi="form",t8=[_r("formBehaviours",[Pt])],lM=t=>"<alloy.field."+t+">",iM=t=>{const s=(()=>{const g=[];return{field:(k,_)=>(g.push(k),E1(Gi,lM(k),_)),record:Y(g)}})(),a=t(s),l=s.record(),d=Ee(l,g=>Zr({name:g,pname:lM(g)}));return fk(Gi,t8,d,n8,a)},uM=(t,s)=>t.fold(()=>Yt.error(s),Yt.value),n8=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Wr(t.formBehaviours,[Pt.config({store:{mode:"manual",getValue:a=>{const l=B2(a,t);return Kn(l,(d,g)=>d().bind(h=>{const k=ro.getCurrent(h);return uM(k,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+cg(h.element)))}).map(Pt.getValue))},setValue:(a,l)=>{co(l,(d,g)=>{Ps(a,t,g).each(h=>{ro.getCurrent(h).each(k=>{Pt.setValue(k,d)})})})}}})]),apis:{getField:(a,l)=>Ps(a,t,l).bind(ro.getCurrent)}}),lv={getField:zb((t,s,a)=>t.getField(s,a)),sketch:iM},dM=Vt("valid-input"),fM=Vt("invalid-input"),mM=Vt("validating-input"),O4="colorcustom.rgb.",o8=(t,s,a,l)=>{const d=($,H)=>Bm.config({invalidClass:s("invalid"),notify:{onValidate:G=>{an(G,mM,{type:$})},onValid:G=>{an(G,dM,{type:$,value:Pt.getValue(G)})},onInvalid:G=>{an(G,fM,{type:$,value:Pt.getValue(G)})}},validator:{validate:G=>{const se=Pt.getValue(G),_e=H(se)?Yt.value(!0):Yt.error(t("aria.input.invalid"));return nl.pure(_e)},validateOnLoad:!1}}),g=($,H,G,se,_e)=>{const ve=t(O4+"range"),me=as.parts.label({dom:{tag:"label",attributes:{"aria-label":se}},components:[Ur(G)]}),Ue=as.parts.field({data:_e,factory:Mg,inputAttributes:{type:"text",...H==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:bt([d(H,$),Cr.config({})]),onSetValue:zt=>{Bm.isInvalid(zt)&&Bm.run(zt).get(re)}}),Ge=[me,Ue],St=H!=="hex"?[as.parts["aria-descriptor"]({text:ve})]:[],ot=Ge.concat(St);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ot}},h=($,H)=>{const G=Kk(H);return lv.getField($,"hex").each(se=>{wn.isFocused(se)||Pt.setValue($,{hex:G.value})}),G},k=($,H)=>{const G=H.red,se=H.green,_e=H.blue;Pt.setValue($,{red:G,green:se,blue:_e})},_=hs({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),E=($,H)=>{_.getOpt($).each(G=>{xt(G.element,"background-color","#"+H.value)})};return ea({factory:()=>{const $={red:hn(A.some(255)),green:hn(A.some(255)),blue:hn(A.some(255)),hex:hn(A.some("ffffff"))},H=(Zn,ko)=>{const On=Xk(ko);k(Zn,On),ve(On)},G=Zn=>$[Zn].get(),se=(Zn,ko)=>{$[Zn].set(ko)},_e=()=>G("red").bind(Zn=>G("green").bind(ko=>G("blue").map(On=>Pg(Zn,ko,On,1)))),ve=Zn=>{const ko=Zn.red,On=Zn.green,ys=Zn.blue;se("red",A.some(ko)),se("green",A.some(On)),se("blue",A.some(ys))},me=(Zn,ko)=>{const On=ko.event;On.type!=="hex"?se(On.type,A.none()):l(Zn)},Ue=(Zn,ko)=>{a(Zn);const On=Gk(ko);se("hex",A.some(On.value));const ys=Xk(On);k(Zn,ys),ve(ys),an(Zn,dw,{hex:On}),E(Zn,On)},Ge=(Zn,ko,On)=>{const ys=parseInt(On,10);se(ko,A.some(ys)),_e().each(Rt=>{const en=h(Zn,Rt);an(Zn,dw,{hex:en}),E(Zn,en)})},St=Zn=>Zn.type==="hex",ot=(Zn,ko)=>{const On=ko.event;St(On)?Ue(Zn,On.value):Ge(Zn,On.type,On.value)},zt=Zn=>({label:t(O4+Zn+".label"),description:t(O4+Zn+".description")}),on=zt("red"),bo=zt("green"),Jt=zt("blue"),fo=zt("hex");return Ms(lv.sketch(Zn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Zn.field("red",as.sketch(g(G1,"red",on.label,on.description,255))),Zn.field("green",as.sketch(g(G1,"green",bo.label,bo.description,255))),Zn.field("blue",as.sketch(g(G1,"blue",Jt.label,Jt.description,255))),Zn.field("hex",as.sketch(g(NR,"hex",fo.label,fo.description,"ffffff"))),_.asSpec()],formBehaviours:bt([Bm.config({invalidClass:s("form-invalid")}),Wn("rgb-form-events",[et(dM,ot),et(fM,me),et(mM,me)])])})),{apis:{updateHex:(Zn,ko)=>{Pt.setValue(Zn,{hex:ko.value}),H(Zn,ko),E(Zn,ko)}}})},name:"RgbForm",configFields:[],apis:{updateHex:($,H,G)=>{$.updateHex(H,G)}},extraApis:{}})},gM=(t,s)=>{const a=Jd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),l=Jd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(E,O)=>{const{width:M,height:$}=E,H=E.getContext("2d");if(H===null)return;H.fillStyle=O,H.fillRect(0,0,M,$);const G=H.createLinearGradient(0,0,M,0);G.addColorStop(0,"rgba(255,255,255,1)"),G.addColorStop(1,"rgba(255,255,255,0)"),H.fillStyle=G,H.fillRect(0,0,M,$);const se=H.createLinearGradient(0,0,0,$);se.addColorStop(0,"rgba(0,0,0,0)"),se.addColorStop(1,"rgba(0,0,0,1)"),H.fillStyle=se,H.fillRect(0,0,M,$)},g=(E,O)=>{const M=E.components()[0].element.dom,$=Jk(O,100,100),H=RC($);d(M,Yk(H))},h=(E,O)=>{const M=LA(Xk(O));Jd.setValue(E,{x:M.saturation,y:100-M.value})};return ea({factory:E=>{const O=Y({x:0,y:0}),M=(G,se,_e)=>{an(G,sS,{value:_e})},$=(G,se,_e,ve)=>{d(_e.element.dom,Yk(IR))},H=bt([ro.config({find:A.some}),wn.config({})]);return Jd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:O},rounded:!1,components:[a,l],onChange:M,onInit:$,sliderBehaviours:H})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(E,O,M)=>{g(O,M)},setThumb:(E,O,M)=>{h(O,M)}},extraApis:{}})},s8=(t,s)=>{const a=d=>{const g=o8(t,s,d.onValidHex,d.onInvalidHex),h=gM(t,s),k=ot=>(100-ot)/100*360,_=ot=>100-ot/360*100,E={paletteRgba:hn(IR),paletteHue:hn(0)},O=hs(e8(t,s)),M=hs(h.sketch({})),$=hs(g.sketch({})),H=(ot,zt,on)=>{M.getOpt(ot).each(bo=>{h.setHue(bo,on)})},G=(ot,zt)=>{$.getOpt(ot).each(on=>{g.updateHex(on,zt)})},se=(ot,zt,on)=>{O.getOpt(ot).each(bo=>{Jd.setValue(bo,_(on))})},_e=(ot,zt)=>{M.getOpt(ot).each(on=>{h.setThumb(on,zt)})},ve=(ot,zt)=>{const on=Xk(ot);E.paletteRgba.set(on),E.paletteHue.set(zt)},me=(ot,zt,on,bo)=>{ve(zt,on),Je(bo,Jt=>{Jt(ot,zt,on)})},Ue=()=>{const ot=[G];return(zt,on)=>{const bo=on.event.value,Jt=E.paletteHue.get(),fo=Jk(Jt,bo.x,100-bo.y),Zn=LR(fo);me(zt,Zn,Jt,ot)}},Ge=()=>{const ot=[H,G];return(zt,on)=>{const bo=k(on.event.value),Jt=E.paletteRgba.get(),fo=LA(Jt),Zn=Jk(bo,fo.saturation,fo.value),ko=LR(Zn);me(zt,ko,bo,ot)}},St=()=>{const ot=[H,se,_e];return(zt,on)=>{const bo=on.event.hex,Jt=ZF(bo);me(zt,bo,Jt.hue,ot)}};return{uid:d.uid,dom:d.dom,components:[M.asSpec(),O.asSpec(),$.asSpec()],behaviours:bt([Wn("colour-picker-events",[et(dw,St()),et(sS,Ue()),et(oS,Ge())]),ro.config({find:ot=>$.getOpt(ot)}),mn.config({mode:"acyclic"})])}};return ea({name:"ColourPicker",configFields:[Pe("dom"),we("onValidHex",re),we("onInvalidHex",re)],factory:a})},xu={self:()=>ro.config({find:A.some}),memento:t=>ro.config({find:t.getOpt}),childAt:t=>ro.config({find:s=>Fc(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},a8=dn([we("preprocess",gn),we("postprocess",gn)]),D4=(t,s)=>{const a=Ja("RepresentingConfigs.memento processors",a8,s);return Pt.config({store:{mode:"manual",getValue:l=>{const d=t.get(l),g=Pt.getValue(d);return a.postprocess(g)},setValue:(l,d)=>{const g=a.preprocess(d),h=t.get(l);Pt.setValue(h,g)}}})},Jy=(t,s,a)=>Pt.config({store:{mode:"manual",...t.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:a}}),rS=(t,s,a)=>Jy(t,l=>s(l.element),(l,d)=>a(l.element,d)),ed={memento:D4,withElement:rS,withComp:Jy,domValue:t=>rS(t,Tl,El),domHtml:t=>rS(t,hp,mm),memory:t=>Pt.config({store:{mode:"memory",initialValue:t}})},aS={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},i8=t=>s=>t.translate(aS[s]),u8=(t,s,a)=>{const l=_=>"tox-"+_,d=s8(i8(s),l),g=_=>{an(_,Ff,{name:"hex-valid",value:!0})},h=_=>{an(_,Ff,{name:"hex-valid",value:!1})},k=hs(d.sketch({dom:{tag:"div",classes:[l("color-picker-container")],attributes:{role:"presentation"}},onValidHex:g,onInvalidHex:h}));return{dom:{tag:"div"},components:[k.asSpec()],behaviours:bt([ed.withComp(a,_=>{const E=k.get(_);return ro.getCurrent(E).bind($=>Pt.getValue($).hex).map($=>"#"+$c($,"#")).getOr("")},(_,E)=>{const O=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,M=A.from(O.exec(E)).bind(G=>Un(G,1)),$=k.get(_);ro.getCurrent($).fold(()=>{console.log("Can not find form")},G=>{Pt.setValue(G,{hex:M.getOr("")}),lv.getField(G,"hex").each(se=>{es(se,lm())})})}),xu.self()])}};var pM=tinymce.util.Tools.resolve("tinymce.Resource");const hM=t=>po(t,"init"),R4=t=>{const s=Os(),a=hs({dom:{tag:t.tag}}),l=Os();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:bt([Wn("custom-editor-events",[Xs(d=>{a.getOpt(d).each(g=>{(hM(t)?t.init(g.element.dom):pM.load(t.scriptId,t.scriptUrl).then(h=>h(g.element.dom,t.settings))).then(h=>{l.on(k=>{h.setValue(k)}),l.clear(),s.set(h)})})})]),ed.withComp(A.none(),()=>s.get().fold(()=>l.get().getOr(""),d=>d.getValue()),(d,g)=>{s.get().fold(()=>l.set(g),h=>h.setValue(g))}),xu.self()]),components:[a.asSpec()]}};var $m=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jl=(t,s)=>{const a=$m.explode(s.getOption("images_file_types")),l=d=>is(a,g=>mr(d.name.toLowerCase(),`.${g.toLowerCase()}`));return je(ts(t),l)},yM=(t,s,a)=>{const l=($,H)=>{H.stop()},d=$=>(H,G)=>{Je($,se=>{se(H,G)})},g=($,H)=>{var G;if(!vn.isDisabled($)){const se=H.event.raw;k($,(G=se.dataTransfer)===null||G===void 0?void 0:G.files)}},h=($,H)=>{const G=H.event.raw.target;k($,G.files)},k=($,H)=>{H&&(Pt.setValue($,Jl(H,s)),an($,qi,{name:t.name}))},_=hs({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:bt([Wn("input-file-events",[Cd(Mi()),Cd(Bh())])])}),E=$=>({uid:$.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:bt([ed.memory(a.getOr([])),xu.self(),vn.config({}),Qn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Wn("dropzone-events",[et("dragenter",d([l,Qn.toggle])),et("dragleave",d([l,Qn.toggle])),et("dragover",l),et("drop",d([l,g])),et(ip(),h)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ur(s.translate("Drop an image here"))]},na.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ur(s.translate("Browse for an image")),_.asSpec()],action:H=>{_.get(H).element.dom.click()},buttonBehaviours:bt([Cr.config({}),qd.button(s.isDisabled),Wa()])})]}]}),O=t.label.map($=>fh($,s)),M=as.parts.field({factory:{sketch:E}});return sw(O,M,["tox-form__group--stretched"],[])},d8=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Ee(t.items,s.interpreter)}),N4=Vt("alloy-fake-before-tabstop"),cS=Vt("alloy-fake-after-tabstop"),bM=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:bt([wn.config({ignore:!0}),Cr.config({})])}),vM=t=>({dom:{tag:"div",classes:["tox-navobj"]},components:[bM([N4]),t,bM([cS])],behaviours:bt([xu.childAt(1)])}),kM=(t,s)=>{an(t,ul(),{raw:{which:9,shiftKey:s}})},wM=(t,s)=>{const a=s.element;Ys(a,N4)?kM(t,!0):Ys(a,cS)&&kM(t,!1)},Tu=t=>Cu(t,["."+N4,"."+cS].join(","),st),M4=t=>{const s=hn(t.getOr(""));return{getValue:a=>s.get(),setValue:(a,l)=>{s.get()!==l&&Mn(a.element,"srcdoc",l),s.set(l)}}},_M=(t,s,a)=>{const l=t.sandboxed,d=t.transparent,g="tox-dialog__iframe",h={...t.label.map(M=>({title:M})).getOr({}),...a.map(M=>({srcdoc:M})).getOr({}),...l?{sandbox:"allow-scripts allow-same-origin"}:{}},k=M4(a),_=t.label.map(M=>fh(M,s)),E=M=>vM({uid:M.uid,dom:{tag:"iframe",attributes:h,classes:d?[g]:[g,`${g}--opaque`]},behaviours:bt([Cr.config({}),wn.config({}),ed.withComp(a,k.getValue,k.setValue)])}),O=as.parts.field({factory:{sketch:E}});return sw(_,O,["tox-form__group--stretched"],[])},lS=t=>new Promise((s,a)=>{const l=()=>{g(),s(t)},d=[Nc(t,"load",l),Nc(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>Je(d,h=>h.unbind());t.dom.complete&&l()}),B4=(t,s,a,l,d)=>{const g=a*d,h=l*d,k=Math.max(0,t/2-g/2),_=Math.max(0,s/2-h/2);return{left:k.toString()+"px",top:_.toString()+"px",width:g.toString()+"px",height:h.toString()+"px"}},f8=(t,s,a)=>{const l=Gr(t),d=or(t);return Math.min(l/s,d/a,1)},m8=(t,s)=>{const a=hn(s.getOr({url:""})),l=hs({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(_=>({src:_.url})).getOr({})}}),d=hs({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[l.asSpec()]}),g=(_,E)=>{const O={url:E.url};E.zoom.each($=>O.zoom=$),E.cachedWidth.each($=>O.cachedWidth=$),E.cachedHeight.each($=>O.cachedHeight=$),a.set(O);const M=()=>{const{cachedWidth:$,cachedHeight:H,zoom:G}=O;if(!Fn($)&&!Fn(H)){if(Fn(G)){const _e=f8(_.element,$,H);O.zoom=_e}const se=B4(Gr(_.element),or(_.element),$,H,O.zoom);d.getOpt(_).each(_e=>{ms(_e.element,se)})}};l.getOpt(_).each($=>{const H=$.element;E.url!==fa(H,"src")&&(Mn(H,"src",E.url),xs(_.element,"tox-imagepreview__loaded")),M(),lS(H).then(G=>{_.getSystem().isConnected()&&(ba(_.element,"tox-imagepreview__loaded"),O.cachedWidth=G.dom.naturalWidth,O.cachedHeight=G.dom.naturalHeight,M())})})},h={};t.height.each(_=>h.height=_);const k=s.map(_=>({url:_.url,zoom:A.from(_.zoom),cachedWidth:A.from(_.cachedWidth),cachedHeight:A.from(_.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:h,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:bt([xu.self(),ed.withComp(k,()=>a.get(),g)])}},g8=(t,s)=>{const a={dom:{tag:"label",classes:["tox-label"]},components:[Ur(s.providers.translate(t.label))]},l=Ee(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[a,...l],behaviours:bt([xu.self(),Dn.config({}),ed.domHtml(A.none()),mn.config({mode:"acyclic"})])}},CM=Vt("toolbar.button.execute"),p8=t=>ju((s,a)=>{OC(t,s)(l=>{an(s,CM,{buttonApi:l}),t.onAction(l)})}),Qy=Vt("common-button-display-events"),SM={[ri()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[xl()]:["toolbar-button-events",Qy],[oo()]:["focusing","alloy.base.behaviour",Qy]},iS=t=>xt(t.element,"width",Qe(t.element,"width")),xM=(t,s,a)=>Ud(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),Qd=(t,s)=>xM(t,s,[]),Lf=(t,s)=>xM(t,s,[Dn.config({})]),TM=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ur(a.translate(t))],behaviours:bt([Dn.config({})])}),td=Vt("update-menu-text"),ph=Vt("update-menu-icon"),uS=(t,s,a)=>{const l=hn(re),d=t.text.map($=>hs(TM($,s,a.providers))),g=t.icon.map($=>hs(Lf($,a.providers.icons))),h=($,H)=>{const G=Pt.getValue($);return wn.focus(G),an(G,"keydown",{raw:H.event.raw}),Zi.close(G),A.some(!0)},k=t.role.fold(()=>({}),$=>({role:$})),_=t.tooltip.fold(()=>({}),$=>{const H=a.providers.translate($);return{title:H,"aria-label":H}}),E=Ud("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),O=Vt("common-button-display-events");return hs(Zi.sketch({...t.uid?{uid:t.uid}:{},...k,dom:{tag:"button",classes:[s,`${s}--select`].concat(Ee(t.classes,$=>`${s}--${$}`)),attributes:{..._}},components:j1([g.map($=>$.asSpec()),d.map($=>$.asSpec()),A.some(E)]),matchWidth:!0,useMinWidth:!0,onOpen:($,H,G)=>{t.searchable&&S6(G)},dropdownBehaviours:bt([...t.dropdownBehaviours,qd.button(()=>t.disabled||a.providers.isDisabled()),Wa(),aw.config({}),Dn.config({}),Wn("dropdown-events",[ch(t,l),lh(t,l)]),Wn(O,[Xs(($,H)=>iS($))]),Wn("menubutton-update-display-text",[et(td,($,H)=>{d.bind(G=>G.getOpt($)).each(G=>{Dn.set(G,[Ur(a.providers.translate(H.event.text))])})}),et(ph,($,H)=>{g.bind(G=>G.getOpt($)).each(G=>{Dn.set(G,[Lf(H.event.icon,a.providers.icons)])})})])]),eventOrder:Ms(SM,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[xl()]:["toolbar-button-events","dropdown-events",O]}),sandboxBehaviours:bt([mn.config({mode:"special",onLeft:h,onRight:h}),Wn("dropdown-sandbox-events",[et(HD,($,H)=>{_6($),H.stop()}),et(VD,($,H)=>{C6($,H),H.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...wC(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:tw,onCollapseMenu:($,H,G)=>{Lo.getHighlighted(G).each(se=>{tw($,G,se)})},onDehighlightItem:gN}},fetch:$=>nl.nu(nn(t.fetch,$))})).asSpec()},P4=t=>yt(t),fw=t=>t.type==="separator",mw=t=>po(t,"getSubmenuItems"),gw={type:"separator"},EM=(t,s)=>{const a=ct(t,(l,d)=>P4(d)?d===""?l:d==="|"?l.length>0&&!fw(l[l.length-1])?l.concat([gw]):l:po(s,d.toLowerCase())?l.concat([s[d.toLowerCase()]]):l:l.concat([d]),[]);return a.length>0&&fw(a[a.length-1])&&a.pop(),a},AM=(t,s)=>{const a=t.getSubmenuItems(),l=zM(a,s),d=Ms(l.menus,{[t.value]:l.items}),g=Ms(l.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:g}},h8=t=>{const s=it(t,"value").getOrThunk(()=>Vt("generated-menu-item"));return Ms({value:s},t)},zM=(t,s)=>{const a=EM(yt(t)?t.split(" "):t,s);return Mt(a,(l,d)=>{if(mw(d)){const g=h8(d),h=AM(g,s);return{menus:Ms(l.menus,h.menus),items:[h.item,...l.items],expansions:Ms(l.expansions,h.expansions)}}else return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},y8=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),b8=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),iv=(t,s,a,l)=>{const d=Vt("primary-menu"),g=zM(t,a.shared.providers.menuItems());if(g.items.length===0)return A.none();const h=y8(l),k=pN(d,g.items,s,a,l.isHorizontalMenu,h),_=b8(l),E=Kn(g.menus,(M,$)=>pN($,M,s,a,!1,_)),O=Ms(E,ut(d,k));return A.from(oh.tieredData(d,O,g.expansions))},$4=t=>!po(t,"items"),OM="data-value",I4=(t,s,a,l)=>Ee(a,d=>$4(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===l,onAction:()=>{Pt.setValue(t,d.value),an(t,qi,{name:s}),wn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:()=>I4(t,s,d.items,l)}),dS=(t,s)=>Ko(t,a=>$4(a)?yn(a.value===s,a):dS(a.items,s)),v8=(t,s,a)=>{const l=s.shared.providers,d=a.bind(_=>dS(t.items,_)).orThunk(()=>Go(t.items).filter($4)),g=t.label.map(_=>fh(_,l)),h=as.parts.field({dom:{},factory:{sketch:_=>uS({uid:_.uid,text:d.map(E=>E.text),icon:A.none(),tooltip:t.label,role:A.none(),fetch:(E,O)=>{const M=I4(E,t.name,t.items,Pt.getValue(E));O(iv(M,ji.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:A.none()}))},onSetup:Y(re),getApi:Y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Cr.config({}),ed.withComp(d.map(E=>E.value),E=>fa(E.element,OM),(E,O)=>{dS(t.items,O).each(M=>{Mn(E.element,OM,M.value),an(E,td,{text:M.text})})})]},"tox-listbox",s.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[h]};return as.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Re([g.toArray(),[k]]),fieldBehaviours:bt([vn.config({disabled:Y(!t.enabled),onDisabled:_=>{as.getField(_).each(vn.disable)},onEnabled:_=>{as.getField(_).each(vn.enable)}})])})},DM=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Ee(t.items,s.shared.interpreter)}),k8=(t,s)=>{const a=Ee(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=t.data.map(d=>ut("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:Wr(t.selectBehaviours,[wn.config({}),Pt.config({store:{mode:"manual",getValue:d=>Tl(d.element),setValue:(d,g)=>{const h=Go(t.options);Ae(t.options,_=>_.value===g).isSome()?El(d.element,g):d.element.dom.selectedIndex===-1&&g===""&&h.each(_=>El(d.element,_.value))},...l}})])}},RM=ea({name:"HtmlSelect",configFields:[Pe("options"),_r("selectBehaviours",[wn,Pt]),we("selectClasses",[]),we("selectAttributes",{}),jo("data")],factory:k8}),pw=(t,s,a)=>{const l=Ee(t.items,_=>({text:s.translate(_.text),value:_.value})),d=t.label.map(_=>fh(_,s)),g=as.parts.field({dom:{},...a.map(_=>({data:_})).getOr({}),selectAttributes:{size:t.size},options:l,factory:RM,selectBehaviours:bt([vn.config({disabled:()=>!t.enabled||s.isDisabled()}),Cr.config({}),Wn("selectbox-change",[et(ip(),(_,E)=>{an(_,qi,{name:t.name})})])])}),h=t.size>1?A.none():A.some(Ud("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),k={dom:{tag:"div",classes:["tox-selectfield"]},components:Re([[g],h.toArray()])};return as.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Re([d.toArray(),[k]]),fieldBehaviours:bt([vn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{as.getField(_).each(vn.disable)},onEnabled:_=>{as.getField(_).each(vn.enable)}}),Wa()])})},w8=Y([we("field1Name","field1"),we("field2Name","field2"),Cm("onLockedChange"),Rp(["lockClass"]),we("locked",!1),ql.field("coupledFieldBehaviours",[ro,Pt])]),NM=(t,s,a)=>Ps(t,s,a).bind(ro.getCurrent),MM=(t,s)=>Zr({factory:as,name:t,overrides:a=>({fieldBehaviours:bt([Wn("coupled-input-behaviour",[et(lm(),l=>{NM(l,a,s).each(d=>{Ps(l,a,"lock").each(g=>{Qn.isOn(g)&&a.onLockedChange(l,d,g)})})})])])})}),_8=Y([MM("field1","field2"),MM("field2","field1"),Zr({factory:na,schema:[Pe("dom")],name:"lock",overrides:t=>({buttonBehaviours:bt([Qn.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),C8=(t,s,a,l)=>({uid:t.uid,dom:t.dom,components:s,behaviours:ql.augment(t.coupledFieldBehaviours,[ro.config({find:A.some}),Pt.config({store:{mode:"manual",getValue:d=>{const g=ik(d,t,["field1","field2"]);return{[t.field1Name]:Pt.getValue(g.field1()),[t.field2Name]:Pt.getValue(g.field2())}},setValue:(d,g)=>{const h=ik(d,t,["field1","field2"]);Ir(g,t.field1Name)&&Pt.setValue(h.field1(),g[t.field1Name]),Ir(g,t.field2Name)&&Pt.setValue(h.field2(),g[t.field2Name])}}})]),apis:{getField1:d=>Ps(d,t,"field1"),getField2:d=>Ps(d,t,"field2"),getLock:d=>Ps(d,t,"lock")}}),Eu=_a({name:"FormCoupledInputs",configFields:w8(),partFields:_8(),factory:C8,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),BM=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let l=t.value.toFixed(a(t.unit));return l.indexOf(".")!==-1&&(l=l.replace(/\.?0*$/,"")),l+t.unit},F4=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const l=parseFloat(a[1]),d=a[2];return Yt.value({value:l,unit:d})}else return Yt.error(t)},L4=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>po(a,d);return t.unit===s?A.some(t.value):l(t.unit)&&l(s)?a[t.unit]===a[s]?A.some(t.value):A.some(t.value/a[t.unit]*a[s]):A.none()},hw=t=>A.none(),Lg=(t,s)=>a=>L4(a,s).map(l=>({value:l*t,unit:s})),H4=(t,s)=>{const a=F4(t).toOptional(),l=F4(s).toOptional();return xc(a,l,(d,g)=>L4(d,g.unit).map(h=>g.value/h).map(h=>Lg(h,g.unit)).getOr(hw)).getOr(hw)},PM=(t,s)=>{let a=hw;const l=Vt("ratio-event"),d=M=>Ud(M,{tag:"span",classes:["tox-icon","tox-lock-icon__"+M]},s.icons),g=Eu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:bt([vn.config({disabled:()=>!t.enabled||s.isDisabled()}),Wa(),Cr.config({})])}),h=M=>({dom:{tag:"div",classes:["tox-form__group"]},components:M}),k=M=>as.parts.field({factory:Mg,inputClasses:["tox-textfield"],inputBehaviours:bt([vn.config({disabled:()=>!t.enabled||s.isDisabled()}),Wa(),Cr.config({}),Wn("size-input-events",[et(lu(),($,H)=>{an($,l,{isField1:M})}),et(ip(),($,H)=>{an($,qi,{name:t.name})})])]),selectOnFocus:!1}),_=M=>({dom:{tag:"label",classes:["tox-label"]},components:[Ur(s.translate(M))]}),E=Eu.parts.field1(h([as.parts.label(_("Width")),k(!0)])),O=Eu.parts.field2(h([as.parts.label(_("Height")),k(!1)]));return Eu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[E,O,h([_(Qb),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(M,$,H)=>{F4(Pt.getValue(M)).each(G=>{a(G).each(se=>{Pt.setValue($,BM(se))})})},coupledFieldBehaviours:bt([vn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:M=>{Eu.getField1(M).bind(as.getField).each(vn.disable),Eu.getField2(M).bind(as.getField).each(vn.disable),Eu.getLock(M).each(vn.disable)},onEnabled:M=>{Eu.getField1(M).bind(as.getField).each(vn.enable),Eu.getField2(M).bind(as.getField).each(vn.enable),Eu.getLock(M).each(vn.enable)}}),Wa(),Wn("size-input-events2",[et(l,(M,$)=>{const H=$.event.isField1,G=H?Eu.getField1(M):Eu.getField2(M),se=H?Eu.getField2(M):Eu.getField1(M),_e=G.map(Pt.getValue).getOr(""),ve=se.map(Pt.getValue).getOr("");a=H4(_e,ve)})])])})},$M=(t,s,a)=>{const l=Jd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ur(s.translate(t.label))]}),d=Jd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Jd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:Y(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[l,d,g],sliderBehaviours:bt([xu.self(),wn.config({})]),onChoose:(h,k,_)=>{an(h,qi,{name:t.name,value:_})}})},V4=(t,s)=>{const a=k=>({dom:{tag:"th",innerHtml:s.translate(k)}}),l=k=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ee(k,a)}]}),d=k=>({dom:{tag:"td",innerHtml:s.translate(k)}}),g=k=>({dom:{tag:"tr"},components:Ee(k,d)}),h=k=>({dom:{tag:"tbody"},components:Ee(k,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[l(t.header),h(t.cells)],behaviours:bt([Cr.config({}),wn.config({})])}},U4=(t,s)=>{const a=t.label.map(H=>fh(H,s)),l=[vn.config({disabled:()=>t.disabled||s.isDisabled()}),Wa(),mn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:H=>(es(H,rw),A.some(!0))}),Wn("textfield-change",[et(lm(),(H,G)=>{an(H,qi,{name:t.name})}),et(Vu(),(H,G)=>{an(H,qi,{name:t.name})})]),Cr.config({})],d=t.validation.map(H=>Bm.config({getRoot:G=>za(G.element),invalidClass:"tox-invalid",validator:{validate:G=>{const se=Pt.getValue(G),_e=H.validator(se);return nl.pure(_e===!0?Yt.value(se):Yt.error(_e))},validateOnLoad:H.validateOnLoad}})).toArray(),g=t.placeholder.fold(Y({}),H=>({placeholder:s.translate(H)})),h=t.inputMode.fold(Y({}),H=>({inputmode:H})),k={...g,...h},_=as.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(H=>({data:H})).getOr({}),inputAttributes:k,inputClasses:[t.classname],inputBehaviours:bt(Re([l,d])),selectOnFocus:!1,factory:Mg}),E=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[_]}:_,M=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),$=[vn.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:H=>{as.getField(H).each(vn.disable)},onEnabled:H=>{as.getField(H).each(vn.enable)}}),Wa()];return sw(a,E,M,$)},fS=(t,s,a)=>U4({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:A.none(),maximized:t.maximized,data:a},s),IM=(t,s,a)=>U4({name:t.name,multiline:!0,label:t.label,inputMode:A.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:A.none(),maximized:t.maximized,data:a},s),uv=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Hg=t=>t.dimension.property,eb=(t,s)=>t.dimension.getDimension(s),mS=(t,s)=>{const a=uv(t,s);ci(a,[s.shrinkingClass,s.growingClass])},j4=(t,s)=>{xs(t.element,s.openClass),ba(t.element,s.closedClass),xt(t.element,Hg(s),"0px"),ti(t.element)},W4=(t,s)=>{xs(t.element,s.closedClass),ba(t.element,s.openClass),vo(t.element,Hg(s))},Z4=(t,s,a,l)=>{a.setCollapsed(),xt(t.element,Hg(s),eb(s,t.element)),mS(t,s),j4(t,s),s.onStartShrink(t),s.onShrunk(t)},FM=(t,s,a,l)=>{const d=l.getOrThunk(()=>eb(s,t.element));a.setCollapsed(),xt(t.element,Hg(s),d),ti(t.element);const g=uv(t,s);xs(g,s.growingClass),ba(g,s.shrinkingClass),j4(t,s),s.onStartShrink(t)},LM=(t,s,a)=>{const l=eb(s,t.element);(l==="0px"?Z4:FM)(t,s,a,A.some(l))},HM=(t,s,a)=>{const l=uv(t,s),d=Ys(l,s.shrinkingClass),g=eb(s,t.element);W4(t,s);const h=eb(s,t.element);(d?()=>{xt(t.element,Hg(s),g),ti(t.element)}:()=>{j4(t,s)})(),xs(l,s.shrinkingClass),ba(l,s.growingClass),W4(t,s),xt(t.element,Hg(s),h),a.setExpanded(),s.onStartGrow(t)},S8=(t,s,a)=>{if(a.isExpanded()){vo(t.element,Hg(s));const l=eb(s,t.element);xt(t.element,Hg(s),l)}},gS=(t,s,a)=>{a.isExpanded()||HM(t,s,a)},x8=(t,s,a)=>{a.isExpanded()&&LM(t,s,a)},T8=(t,s,a)=>{a.isExpanded()&&Z4(t,s,a)},VM=(t,s,a)=>a.isExpanded(),UM=(t,s,a)=>a.isCollapsed(),jM=(t,s,a)=>{const l=uv(t,s);return Ys(l,s.growingClass)===!0},WM=(t,s,a)=>{const l=uv(t,s);return Ys(l,s.shrinkingClass)===!0};var A8=Object.freeze({__proto__:null,refresh:S8,grow:gS,shrink:x8,immediateShrink:T8,hasGrown:VM,hasShrunk:UM,isGrowing:jM,isShrinking:WM,isTransitioning:(t,s,a)=>jM(t,s)||WM(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?LM:HM)(t,s,a)},disableTransitions:mS,immediateGrow:(t,s,a)=>{a.isExpanded()||(W4(t,s),xt(t.element,Hg(s),eb(s,t.element)),mS(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),qM=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const l=s.expanded;return ai(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:ut(s.dimension.property,"0px")})},events:(t,s)=>Ks([pp(Mh(),(a,l)=>{l.event.raw.propertyName===t.dimension.property&&(mS(a,t),s.isExpanded()&&vo(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),GM=[Pe("closedClass"),Pe("openClass"),Pe("shrinkingClass"),Pe("growingClass"),jo("getAnimationRoot"),lo("onShrunk"),lo("onStartShrink"),lo("onGrown"),lo("onStartGrow"),we("expanded",!1),Gc("dimension",Rr("property",{width:[Bs("property","width"),Bs("getDimension",t=>Gr(t)+"px")],height:[Bs("property","height"),Bs("getDimension",t=>or(t)+"px")]}))],z8=Object.freeze({__proto__:null,init:t=>{const s=hn(t.expanded),a=()=>"expanded: "+s.get();return Xc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:nn(s.set,!1),setExpanded:nn(s.set,!0),readState:a})}});const Ki=rc({fields:GM,name:"sliding",active:qM,apis:A8,state:z8}),KM=t=>({isEnabled:()=>!vn.isDisabled(t),setEnabled:s=>vn.set(t,!s),setActive:s=>{const a=t.element;s?(ba(a,"tox-tbtn--enabled"),Mn(a,"aria-pressed",!0)):(xs(a,"tox-tbtn--enabled"),W(a,"aria-pressed"))},isActive:()=>Ys(t.element,"tox-tbtn--enabled"),setText:s=>{an(t,td,{text:s})},setIcon:s=>an(t,ph,{icon:s})}),dv=(t,s,a,l,d=!0)=>uS({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:l,fetch:(g,h)=>{const k={pattern:t.search.isSome()?x6(g):""};t.fetch(_=>{h(iv(_,ji.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},k,KM(g))},onSetup:t.onSetup,getApi:KM,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[Cr.config({})]:[]]},s,a.shared),O8=(t,s,a)=>{const l=g=>h=>{const k=!h.isActive();h.setActive(k),g.storage.set(k),a.shared.getSink().each(_=>{s().getOpt(_).each(E=>{$i(E.element),an(E,Ff,{name:g.name,value:g.storage.get()})})})},d=g=>h=>{h.setActive(g.storage.get())};return g=>{g(Ee(t,h=>{const k=h.text.fold(()=>({}),_=>({text:_}));return{type:h.type,active:!1,...k,onAction:l(h),onSetup:d(h)}}))}},q4=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Ur(t)]}),XM=Vt("leaf-label-event-id"),G4=({leaf:t,onLeafAction:s,visible:a,treeId:l,selectedId:d,backstage:g})=>{const h=t.menu.map(_=>dv(_,"tox-mbtn",g,A.none(),a)),k=[q4(t.title)];return h.each(_=>k.push(_)),na.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:_=>{s(t.id),_.getSystem().broadcastOn([`update-active-item-${l}`],{value:t.id})},eventOrder:{[ul()]:[XM,"keying"]},buttonBehaviours:bt([...a?[Cr.config({})]:[],Qn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ol.config({channels:{[`update-active-item-${l}`]:{onReceive:(_,E)=>{(E.value===t.id?Qn.on:Qn.off)(_)}}}}),Wn(XM,[Xs((_,E)=>{d.each(O=>{(O===t.id?Qn.on:Qn.off)(_)})}),et(ul(),(_,E)=>{const O=E.event.raw.code==="ArrowLeft",M=E.event.raw.code==="ArrowRight";O?(zd(_.element,".tox-tree--directory").each($=>{_.getSystem().getByDom($).each(H=>{$b($,".tox-tree--directory__label").each(G=>{H.getSystem().getByDom(G).each(wn.focus)})})}),E.stop()):M&&E.stop()})])])})},D8=(t,s,a)=>Ud(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),R8=(t,s)=>D8(t,s,[]),YM=Vt("directory-label-event-id"),N8=({directory:t,visible:s,noChildren:a,backstage:l})=>{const d=t.menu.map(k=>dv(k,"tox-mbtn",l,A.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[R8("chevron-right",l.shared.providers.icons)]},q4(t.title)];d.each(k=>{g.push(k)});const h=k=>{zd(k.element,".tox-tree--directory").each(_=>{k.getSystem().getByDom(_).each(E=>{const O=!Qn.isOn(E);Qn.toggle(E),an(k,"expand-tree-node",{expanded:O,node:t.id})})})};return na.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:h,eventOrder:{[ul()]:[YM,"keying"]},buttonBehaviours:bt([...s?[Cr.config({})]:[],Wn(YM,[et(ul(),(k,_)=>{const E=_.event.raw.code==="ArrowRight",O=_.event.raw.code==="ArrowLeft";E&&a&&_.stop(),(E||O)&&zd(k.element,".tox-tree--directory").each(M=>{k.getSystem().getByDom(M).each($=>{!Qn.isOn($)&&E||Qn.isOn($)&&O?(h(k),_.stop()):O&&!Qn.isOn($)&&(zd($.element,".tox-tree--directory").each(H=>{$b(H,".tox-tree--directory__label").each(G=>{$.getSystem().getByDom(G).each(wn.focus)})}),_.stop())})})})])])})},M8=({children:t,onLeafAction:s,visible:a,treeId:l,expandedIds:d,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(k=>k.type==="leaf"?G4({leaf:k,selectedId:g,onLeafAction:s,visible:a,treeId:l,backstage:h}):K4({directory:k,expandedIds:d,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:l,backstage:h})),behaviours:bt([Ki.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Dn.config({})])}),B8=Vt("directory-event-id"),K4=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:l,backstage:d,expandedIds:g,selectedId:h})=>{const{children:k}=t,_=hn(g),E=M=>k.map($=>$.type==="leaf"?G4({leaf:$,selectedId:h,onLeafAction:s,visible:M,treeId:l,backstage:d}):K4({directory:$,expandedIds:_.get(),selectedId:h,onLeafAction:s,labelTabstopping:M,treeId:l,backstage:d})),O=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[N8({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),M8({children:k,expandedIds:g,selectedId:h,onLeafAction:s,visible:O,treeId:l,backstage:d})],behaviours:bt([Wn(B8,[Xs((M,$)=>{Qn.set(M,O)}),et("expand-tree-node",(M,$)=>{const{expanded:H,node:G}=$.event;_.set(H?[..._.get(),G]:_.get().filter(se=>se!==G))})]),Qn.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,$)=>{const H=M.components()[1],G=E($);$?Ki.grow(H):Ki.shrink(H),Dn.set(H,G)}})])}},X4=Vt("tree-event-id"),P8=(t,s)=>{const a=t.onLeafAction.getOr(re),l=t.onToggleExpand.getOr(re),d=t.defaultExpandedIds,g=hn(d),h=hn(t.defaultSelectedId),k=Vt("tree-id"),_=(E,O)=>t.items.map(M=>M.type==="leaf"?G4({leaf:M,selectedId:E,onLeafAction:a,visible:!0,treeId:k,backstage:s}):K4({directory:M,selectedId:E,onLeafAction:a,expandedIds:O,labelTabstopping:!0,treeId:k,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:_(h.get(),g.get()),behaviours:bt([mn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Wn(X4,[et("expand-tree-node",(E,O)=>{const{expanded:M,node:$}=O.event;g.set(M?[...g.get(),$]:g.get().filter(H=>H!==$)),l(g.get(),{expanded:M,node:$})})]),Ol.config({channels:{[`update-active-item-${k}`]:{onReceive:(E,O)=>{h.set(A.some(O.value)),Dn.set(E,_(A.some(O.value),g.get()))}}}}),Dn.config({})])}};var $8=Object.freeze({__proto__:null,events:(t,s)=>{const l=t.stream.streams.setup(t,s);return Ks([et(t.event,l),iu(()=>s.cancel())].concat(t.cancelEvent.map(d=>[et(d,()=>s.cancel())]).getOr([])))}});const yw=(t,s)=>{let a=null;return{cancel:()=>{ls(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{ls(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},bw=(t,s)=>{let a=null;const l=()=>{ls(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...g)=>{l(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},JM=t=>{const s=hn(null);return Xc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var Y4=Object.freeze({__proto__:null,throttle:JM,init:t=>t.stream.streams.state(t)});const I8=(t,s)=>{const a=t.stream,l=bw(t.onStream,a.delay);return s.setTimer(l),(d,g)=>{l.throttle(d,g),a.stopEvent&&g.stop()}};var J4=[Gc("stream",Rr("mode",{throttle:[Pe("delay"),we("stopEvent",!0),Bs("streams",{setup:I8,state:JM})]})),we("event","input"),jo("cancelEvent"),Cm("onStream")];const pS=rc({fields:J4,name:"streaming",active:$8,state:Y4}),hS=(t,s,a)=>{const l=Pt.getValue(a);Pt.setValue(s,l),Q4(s)},QM=(t,s)=>{const a=t.element,l=Tl(a),d=a.dom;fa(a,"type")!=="number"&&s(d,l)},Q4=t=>{QM(t,(s,a)=>s.setSelectionRange(a.length,a.length))},eB=(t,s)=>{QM(t,(a,l)=>a.setSelectionRange(s,l.length))},F8=(t,s,a)=>{if(t.selectsOver){const l=Pt.getValue(s),d=t.getDisplayText(l),g=Pt.getValue(a);return t.getDisplayText(g).indexOf(d)===0?A.some(()=>{hS(t,s,a),eB(s,d.length)}):A.none()}else return A.none()},yS=Y("alloy.typeahead.itemexecute"),tB=(t,s,a,l)=>{const d=(M,$,H)=>{t.previewing.set(!1);const G=Pr.getCoupled(M,"sandbox");if(Eo.isOpen(G))ro.getCurrent(G).each(se=>{Lo.getHighlighted(se).fold(()=>{H(se)},()=>{Gv(G,se.element,"keydown",$)})});else{const se=_e=>{ro.getCurrent(_e).each(H)};FC(t,h(M),M,G,l,se,Xl.HighlightMenuAndItem).get(re)}},g=FD(t),h=M=>$=>$.map(H=>{const G=Ml(H.menus),se=he(G,ve=>je(ve.items,me=>me.type==="item"));return Pt.getState(M).update(Ee(se,ve=>ve.data)),H}),k=M=>ro.getCurrent(M),_="typeaheadevents",E=[wn.config({}),Pt.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:M=>Tl(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,$)=>{El(M.element,t.model.getDisplayText($))},...t.initialData.map(M=>ut("initialValue",M)).getOr({})}}),pS.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(M,$)=>{const H=Pr.getCoupled(M,"sandbox");if(wn.isFocused(M)&&Tl(M.element).length>=t.minChars){const se=k(H).bind(ve=>Lo.getHighlighted(ve).map(Pt.getValue));t.previewing.set(!0);const _e=ve=>{k(H).each(me=>{se.fold(()=>{t.model.selectsOver&&Lo.highlightFirst(me)},Ue=>{Lo.highlightBy(me,Ge=>Pt.getValue(Ge).value===Ue.value),Lo.getHighlighted(me).orThunk(()=>(Lo.highlightFirst(me),A.none()))})})};FC(t,h(M),M,H,l,_e,Xl.HighlightJustMenu).get(re)}},cancelEvent:jv()}),mn.config({mode:"special",onDown:(M,$)=>(d(M,$,Lo.highlightFirst),A.some(!0)),onEscape:M=>{const $=Pr.getCoupled(M,"sandbox");return Eo.isOpen($)?(Eo.close($),A.some(!0)):A.none()},onUp:(M,$)=>(d(M,$,Lo.highlightLast),A.some(!0)),onEnter:M=>{const $=Pr.getCoupled(M,"sandbox"),H=Eo.isOpen($);if(H&&!t.previewing.get())return k($).bind(G=>Lo.getHighlighted(G)).map(G=>(an(M,yS(),{item:G}),!0));{const G=Pt.getValue(M);return es(M,jv()),t.onExecute($,M,G),H&&Eo.close($),A.some(!0)}}}),Qn.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Pr.config({others:{sandbox:M=>t4(t,M,{onOpen:()=>Qn.on(M),onClose:()=>{t.lazyTypeaheadComp.get().each($=>W($.element,"aria-activedescendant")),Qn.off(M)}})}}),Wn(_,[Xs(M=>{t.lazyTypeaheadComp.set(A.some(M))}),iu(M=>{t.lazyTypeaheadComp.set(A.none())}),ju(M=>{const $=re;e4(t,h(M),M,l,$,Xl.HighlightMenuAndItem).get(re)}),et(yS(),(M,$)=>{const H=Pr.getCoupled(M,"sandbox");hS(t.model,M,$.event.item),es(M,jv()),t.onItemExecute(M,H,$.event.item,Pt.getValue(M)),Eo.close(H),Q4(M)})].concat(t.dismissOnBlur?[et(up(),M=>{const $=Pr.getCoupled(M,"sandbox");fu($.element).isNone()&&Eo.close($)})]:[]))],O={[_f()]:[Pt.name(),pS.name(),_],...t.eventOrder};return{uid:t.uid,dom:LD(Ms(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...Wr(t.typeaheadBehaviours,E)},eventOrder:O}},L8=Y([jo("lazySink"),Pe("fetch"),we("minChars",5),we("responseTime",1e3),lo("onOpen"),we("getHotspot",A.some),we("getAnchorOverrides",Y({})),we("layouts",A.none()),we("eventOrder",{}),kd("model",{},[we("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),we("selectsOver",!0),we("populateFromBrowse",!0)]),lo("onSetValue"),sc("onExecute"),lo("onItemExecute"),we("inputClasses",[]),we("inputAttributes",{}),we("inputStyles",{}),we("matchWidth",!0),we("useMinWidth",!1),we("dismissOnBlur",!0),Rp(["openClass"]),jo("initialData"),_r("typeaheadBehaviours",[wn,Pt,pS,mn,Qn,Pr]),zc("lazyTypeaheadComp",()=>hn(A.none)),zc("previewing",()=>hn(!0))].concat(ID()).concat(n4())),nB=Y([bu({schema:[Od()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,l)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{F8(t.model,d,l).fold(()=>{t.model.selectsOver?(Lo.dehighlight(a,l),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&hS(t.model,d,l),pr(l.element,"id").each(g=>Mn(d.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(l=>(an(l,yS(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(l=>{t.model.populateFromBrowse&&hS(t.model,l,a)})}})})]),oB=_a({name:"Typeahead",configFields:L8(),partFields:nB(),factory:tB}),nd=t=>({...t,toCached:()=>nd(t.toCached()),bindFuture:_=>nd(t.bind(E=>E.fold(O=>nl.pure(Yt.error(O)),O=>_(O)))),bindResult:_=>nd(t.map(E=>E.bind(_))),mapResult:_=>nd(t.map(E=>E.map(_))),mapError:_=>nd(t.map(E=>E.mapError(_))),foldResult:(_,E)=>t.map(O=>O.fold(_,E)),withTimeout:(_,E)=>nd(nl.nu(O=>{let M=!1;const $=setTimeout(()=>{M=!0,O(Yt.error(E()))},_);t.get(H=>{M||(clearTimeout($),O(H))})}))}),sB=t=>nd(nl.nu(t)),rB=t=>nd(nl.pure(Yt.value(t))),U8={nu:sB,wrap:nd,pure:rB,value:rB,error:t=>nd(nl.pure(Yt.error(t))),fromResult:t=>nd(nl.pure(t)),fromFuture:t=>nd(t.map(Yt.value)),fromPromise:t=>sB(s=>{t.then(a=>{s(Yt.value(a))},a=>{s(Yt.error(a))})})},bS=(t,s,a=[],l,d,g)=>{const h=s.fold(()=>({}),E=>({action:E})),k={buttonBehaviours:bt([qd.button(()=>!t.enabled||g.isDisabled()),Wa(),Cr.config({}),Wn("button press",[gp("click"),gp("mousedown")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...h},_=Ms(k,{dom:l});return Ms(_,{components:d})},e3=(t,s,a,l=[])=>{const d=t.tooltip.map(_=>({"aria-label":a.translate(_),title:a.translate(_)})).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},h=t.icon.map(_=>Qd(_,a.icons)),k=j1([h]);return bS(t,s,l,g,k,a)},t3=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},aB=(t,s,a,l=[],d=[])=>{const g=a.translate(t.text),h=t.icon.map($=>Qd($,a.icons)),k=[h.getOrThunk(()=>Ur(g))],_=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),M={tag:"button",classes:[...t3(_),...h.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{title:g}};return bS(t,s,l,M,k,a)},cB=(t,s,a,l=[],d=[])=>{const g=aB(t,A.some(s),a,l,d);return na.sketch(g)},n3=(t,s)=>a=>{s==="custom"?an(a,Ff,{name:t,value:{}}):s==="submit"?es(a,rw):s==="cancel"?es(a,Wy):console.error("Unknown button type: ",s)},j8=(t,s)=>s==="menu",lB=(t,s)=>s==="custom"||s==="cancel"||s==="submit",W8=(t,s)=>s==="togglebutton",iB=(t,s)=>{var a,l;const d=t.icon.map(me=>Lf(me,s.icons)).map(hs),g=me=>{an(me,Ff,{name:t.name,value:{setIcon:Ue=>{d.map(Ge=>Ge.getOpt(me).each(St=>{Dn.set(St,[Lf(Ue,s.icons)])}))}}})},h=t.buttonType.getOr(t.primary?"primary":"secondary"),k={...t,name:(a=t.name)!==null&&a!==void 0?a:"",primary:h==="primary",tooltip:A.from(t.tooltip),enabled:(l=t.enabled)!==null&&l!==void 0?l:!1,borderless:!1},_=k.tooltip.map(me=>({"aria-label":s.translate(me),title:s.translate(me)})).getOr({}),E=t3(h??"secondary"),O=t.icon.isSome()&&t.text.isSome(),M={tag:"button",classes:[...E.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...O?["tox-button--icon-and-text"]:[]],attributes:_},$=[],H=s.translate(t.text.getOr("")),G=Ur(H),_e=[...j1([d.map(me=>me.asSpec())]),...t.text.isSome()?[G]:[]],ve=bS(k,A.some(g),$,M,_e,s);return na.sketch(ve)},vS=(t,s,a)=>{if(j8(t,s)){const l=()=>h,d=t,g={...t,type:"menubutton",search:A.none(),onSetup:k=>(k.setEnabled(t.enabled),re),fetch:O8(d.items,l,a)},h=hs(dv(g,"tox-tbtn",a,A.none()));return h.asSpec()}else if(lB(t,s)){const l=n3(t.name,s),d={...t,borderless:!1};return cB(d,l,a.shared.providers,[])}else{if(W8(t,s))return iB(t,a.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},Z8=(t,s)=>{const a=n3(t.name,"custom");return J6(A.none(),as.parts.field({factory:na,...aB(t,A.some(a),s,[ed.memory(""),xu.self()])}))},q8={type:"separator"},G8=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:re}),kS=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:re}),K8=t=>Ee(t,G8),X8=(t,s)=>je(s,a=>a.type===t),o3=(t,s)=>K8(X8(t,s)),Y8=t=>o3("header",t.targets),J8=t=>o3("anchor",t.targets),Q8=t=>A.from(t.anchorTop).map(s=>kS("<top>",s)).toArray(),uB=t=>A.from(t.anchorBottom).map(s=>kS("<bottom>",s)).toArray(),e7=t=>Ee(t,s=>kS(s,s)),t7=t=>ct(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(q8,a),[]),s3=(t,s)=>{const a=t.toLowerCase();return je(s,l=>{var d;const g=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,h=(d=l.value)!==null&&d!==void 0?d:"";return fr(g.toLowerCase(),a)||fr(h.toLowerCase(),a)})},dB=(t,s,a)=>{var l,d;const g=Pt.getValue(s),h=(d=(l=g==null?void 0:g.meta)===null||l===void 0?void 0:l.text)!==null&&d!==void 0?d:g.value;return a.getLinkInformation().fold(()=>[],_=>{const E=s3(h,e7(a.getHistory(t)));return t==="file"?t7([E,s3(h,Y8(_)),s3(h,Re([Q8(_),J8(_),uB(_)]))]):E})},r3=Vt("aria-invalid"),fB=(t,s,a,l)=>{const d=s.shared.providers,g=me=>{const Ue=Pt.getValue(me);a.addToHistory(Ue.value,t.filetype)},h={...l.map(me=>({initialData:me})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":r3,type:"url"},minChars:0,responseTime:0,fetch:me=>{const Ue=dB(t.filetype,me,a),Ge=iv(Ue,ji.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:A.none()});return nl.pure(Ge)},getHotspot:me=>G.getOpt(me),onSetValue:(me,Ue)=>{me.hasConfigured(Bm)&&Bm.run(me).get(re)},typeaheadBehaviours:bt([...a.getValidationHandler().map(me=>Bm.config({getRoot:Ue=>za(Ue.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ue,Ge)=>{O.getOpt(Ue).each(St=>{Mn(St.element,"title",d.translate(Ge))})}},validator:{validate:Ue=>{const Ge=Pt.getValue(Ue);return U8.nu(St=>{me({type:t.filetype,url:Ge.value},ot=>{if(ot.status==="invalid"){const zt=Yt.error(ot.message);St(zt)}else{const zt=Yt.value(ot.message);St(zt)}})})},validateOnLoad:!1}})).toArray(),vn.config({disabled:()=>!t.enabled||d.isDisabled()}),Cr.config({}),Wn("urlinput-events",[et(lm(),me=>{const Ue=Tl(me.element),Ge=Ue.trim();Ge!==Ue&&El(me.element,Ge),t.filetype==="file"&&an(me,qi,{name:t.name})}),et(ip(),me=>{an(me,qi,{name:t.name}),g(me)}),et(Vu(),me=>{an(me,qi,{name:t.name}),g(me)})])]),eventOrder:{[lm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:me=>me.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:wC(!1,1,"normal")},onExecute:(me,Ue,Ge)=>{an(Ue,rw,{})},onItemExecute:(me,Ue,Ge,St)=>{g(me),an(me,qi,{name:t.name})}},k=as.parts.field({...h,factory:oB}),_=t.label.map(me=>fh(me,d)),O=hs(((me,Ue,Ge=me,St=me)=>Ud(Ge,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+me],attributes:{title:d.translate(St),"aria-live":"polite",...Ue.fold(()=>({}),ot=>({id:ot}))}},d.icons))("invalid",A.some(r3),"warning")),M=hs({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),$=a.getUrlPicker(t.filetype),H=Vt("browser.url.event"),G=hs({dom:{tag:"div",classes:["tox-control-wrap"]},components:[k,M.asSpec()],behaviours:bt([vn.config({disabled:()=>!t.enabled||d.isDisabled()})])}),se=hs(cB({name:t.name,icon:A.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:A.none(),borderless:!0},me=>es(me,H),d,[],["tox-browse-url"])),_e=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Re([[G.asSpec()],$.map(()=>se.asSpec()).toArray()])}),ve=me=>{ro.getCurrent(me).each(Ue=>{const Ge=Pt.getValue(Ue),St={fieldname:t.name,...Ge};$.each(ot=>{ot(St).get(zt=>{Pt.setValue(Ue,zt),an(me,qi,{name:t.name})})})})};return as.sketch({dom:Q6(),components:_.toArray().concat([_e()]),fieldBehaviours:bt([vn.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:me=>{as.getField(me).each(vn.disable),se.getOpt(me).each(vn.disable)},onEnabled:me=>{as.getField(me).each(vn.enable),se.getOpt(me).each(vn.enable)}}),Wa(),Wn("url-input-events",[et(H,ve)])])})},wS=(t,s)=>If.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[na.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:uD(t.icon,s.icons),attributes:{title:s.translate(t.iconTooltip)}},action:a=>{an(a,Ff,{name:"alert-banner",value:t.url})},buttonBehaviours:bt([sC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]}),n7=(t,s)=>{t.dom.checked=s},o7=t=>t.dom.checked,s7=(t,s,a)=>{const l=_=>(_.element.dom.click(),A.some(!0)),d=as.parts.field({factory:{sketch:gn},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:bt([xu.self(),vn.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{za(_.element).each(E=>ba(E,"tox-checkbox--disabled"))},onEnabled:_=>{za(_.element).each(E=>xs(E,"tox-checkbox--disabled"))}}),Cr.config({}),wn.config({}),ed.withElement(a,o7,n7),mn.config({mode:"special",onEnter:l,onSpace:l,stopSpaceKeyup:!0}),Wn("checkbox-events",[et(ip(),(_,E)=>{an(_,qi,{name:t.name})})])])}),g=as.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ur(s.translate(t.label))],behaviours:bt([aw.config({})])}),h=_=>Ud(_==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+_]},s.icons),k=hs({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return as.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,k.asSpec(),g],fieldBehaviours:bt([vn.config({disabled:()=>!t.enabled||s.isDisabled()}),Wa()])})},r7=t=>t.presets==="presentation"?If.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):If.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:bt([Cr.config({}),wn.config({})])}),Na=t=>(s,a,l,d)=>it(a,"name").fold(()=>t(a,d,A.none()),g=>s.field(g,t(a,d,it(l,g)))),mB=t=>(s,a,l,d)=>{const g=Ms(a,{source:"dynamic"});return Na(t)(s,g,l,d)},a7={bar:Na((t,s)=>W6(t,s.shared)),collection:Na((t,s,a)=>eL(t,s.shared.providers,a)),alertbanner:Na((t,s)=>wS(t,s.shared.providers)),input:Na((t,s,a)=>fS(t,s.shared.providers,a)),textarea:Na((t,s,a)=>IM(t,s.shared.providers,a)),label:Na((t,s)=>g8(t,s.shared)),iframe:mB((t,s,a)=>_M(t,s.shared.providers,a)),button:Na((t,s)=>Z8(t,s.shared.providers)),checkbox:Na((t,s,a)=>s7(t,s.shared.providers,a)),colorinput:Na((t,s,a)=>cL(t,s.shared,s.colorinput,a)),colorpicker:Na((t,s,a)=>u8(t,s.shared.providers,a)),dropzone:Na((t,s,a)=>yM(t,s.shared.providers,a)),grid:Na((t,s)=>d8(t,s.shared)),listbox:Na((t,s,a)=>v8(t,s,a)),selectbox:Na((t,s,a)=>pw(t,s.shared.providers,a)),sizeinput:Na((t,s)=>PM(t,s.shared.providers)),slider:Na((t,s,a)=>$M(t,s.shared.providers,a)),urlinput:Na((t,s,a)=>fB(t,s,s.urlinput,a)),customeditor:Na(R4),htmlpanel:Na(r7),imagepreview:Na((t,s,a)=>m8(t,a)),table:Na((t,s)=>V4(t,s.shared.providers)),tree:Na((t,s)=>P8(t,s)),panel:Na((t,s)=>DM(t,s))},c7={field:(t,s)=>s,record:Y([])},a3=(t,s,a,l)=>{const d=Ms(l,{shared:{interpreter:g=>c3(t,g,a,d)}});return c3(t,s,a,d)},c3=(t,s,a,l)=>it(a7,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),d=>d(t,s,a,l)),gB=(t,s,a)=>c3(c7,t,s,a),In="layout-inset",tb=t=>t.x,l3=(t,s)=>t.x+t.width/2-s.width/2,_S=(t,s)=>t.x+t.width-s.width,CS=t=>t.y,SS=(t,s)=>t.y+t.height-s.height,i3=(t,s)=>t.y+t.height/2-s.height/2,u3=(t,s,a)=>Ha(_S(t,s),SS(t,s),a.insetSouthwest(),Fb(),"southwest",Us(t,{right:0,bottom:3}),In),hh=(t,s,a)=>Ha(tb(t),SS(t,s),a.insetSoutheast(),xf(),"southeast",Us(t,{left:1,bottom:3}),In),vw=(t,s,a)=>Ha(_S(t,s),CS(t),a.insetNorthwest(),f0(),"northwest",Us(t,{right:0,top:2}),In),fv=(t,s,a)=>Ha(tb(t),CS(t),a.insetNortheast(),Np(),"northeast",Us(t,{left:1,top:2}),In),Im=(t,s,a)=>Ha(l3(t,s),CS(t),a.insetNorth(),Lb(),"north",Us(t,{top:2}),In),kw=(t,s,a)=>Ha(l3(t,s),SS(t,s),a.insetSouth(),m0(),"south",Us(t,{bottom:3}),In),pB=(t,s,a)=>Ha(_S(t,s),i3(t,s),a.insetEast(),D_(),"east",Us(t,{right:0}),In),d3=(t,s,a)=>Ha(tb(t),i3(t,s),a.insetWest(),g0(),"west",Us(t,{left:1}),In),f3=t=>{switch(t){case"north":return Im;case"northeast":return fv;case"northwest":return vw;case"south":return kw;case"southeast":return hh;case"southwest":return u3;case"east":return pB;case"west":return d3}},m3=(t,s,a,l,d)=>Z_(l).map(f3).getOr(Im)(t,s,a,l,d),l7=t=>{switch(t){case"north":return kw;case"northeast":return hh;case"northwest":return u3;case"south":return Im;case"southeast":return fv;case"southwest":return vw;case"east":return d3;case"west":return pB}},i7=(t,s,a,l,d)=>Z_(l).map(l7).getOr(Im)(t,s,a,l,d),hB={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},u7=(t,s,a)=>{const d={maxHeightFunction:Pp()},g=()=>({type:"node",root:Oe(ge(t())),node:A.from(t()),bubble:$p(12,12,hB),layouts:{onRtl:()=>[fv],onLtr:()=>[vw]},overrides:d}),h=()=>({type:"hotspot",hotspot:s(),bubble:$p(-12,12,hB),layouts:{onRtl:()=>[Va,ka,jr],onLtr:()=>[ka,Va,jr]},overrides:d});return()=>a()?g():h()},d7=(t,s,a)=>{const l=()=>({type:"node",root:Oe(ge(t())),node:A.from(t()),layouts:{onRtl:()=>[Im],onLtr:()=>[Im]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[jr],onLtr:()=>[jr]}});return()=>a()?l():d()},yB=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),l=t.model.table.getSelectedCells();if(l.length>1){const d=l[0],g=l[l.length-1],h={firstCell:fe.fromDom(d),lastCell:fe.fromDom(g)};return A.some(h)}return A.some(sy.range(fe.fromDom(a.startContainer),a.startOffset,fe.fromDom(a.endContainer),a.endOffset))}}),f7=t=>s=>({type:"node",root:t(),node:s}),m7=(t,s,a)=>{const l=jd(t),d=()=>fe.fromDom(t.getBody()),g=()=>fe.fromDom(t.getContentAreaContainer()),h=()=>l||!a();return{inlineDialog:u7(g,s,h),banner:d7(g,s,h),cursor:yB(t,d),node:f7(d)}},g7=t=>(s,a)=>{QR(t)(s,a)},p7=t=>()=>UR(t),h7=t=>s=>Qk(t,s),y7=t=>s=>VR(t,s),b7=t=>({colorPicker:g7(t),hasCustomColors:p7(t),getColors:h7(t),getColorCols:y7(t)}),v7=t=>()=>_D(t),k7=t=>({isDraggableModal:v7(t)}),w7=t=>{const s=hn(QE(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},bB=t=>Ir(t,"items"),g3=t=>Ir(t,"format"),vB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],_7=t=>po(t,"items"),C7=t=>po(t,"block"),S7=t=>po(t,"inline"),x7=t=>po(t,"selector"),kB=t=>ct(t,(s,a)=>{if(_7(a)){const l=kB(a.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:a.title,items:l.formats}])}}else if(S7(a)||C7(a)||x7(a)){const d=`custom-${yt(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),wB=(t,s)=>{const a=kB(s),l=d=>{Je(d,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?l(a.customFormats):t.on("init",()=>{l(a.customFormats)}),a.formats},_B=t=>gD(t).map(s=>{const a=wB(t,s);return pD(t)?vB.concat(a):a}).getOr(vB),CB=t=>{const s=_o(t);return s.length===1&&Gn(s,"title")},SB=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),p3=(t,s,a,l)=>{const d=_=>SB(_,a,l),g=_=>{const E=k(_.items);return{..._,type:"submenu",getStyleItems:Y(E)}},h=_=>{const E=yt(_.name)?_.name:Vt(_.title),O=`custom-${E}`,M={..._,type:"formatter",format:O,isSelected:a(O),getStylePreview:l(O)};return t.formatter.register(E,M),M},k=_=>Ee(_,E=>bB(E)?g(E):g3(E)?d(E):CB(E)?{...E,type:"separator"}:h(E));return k(s)},xB=t=>{const s=k=>()=>t.formatter.match(k),a=k=>()=>{const _=t.formatter.get(k);return _!==void 0?A.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(k))}):A.none()},l=hn([]),d=hn([]),g=hn(!1);return t.on("PreInit",k=>{const _=_B(t),E=p3(t,_,s,a);l.set(E)}),t.on("addStyleModifications",k=>{const _=p3(t,k.items,s,a);d.set(_),g.set(k.replace)}),{getData:()=>{const k=g.get()?[]:l.get(),_=d.get();return k.concat(_)}}},TB=t=>mo(t)&&t.nodeType===1,T7=$m.trim,h3=t=>s=>!!(TB(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),EB=h3("true"),E7=h3("false"),y3=(t,s,a,l,d)=>({type:t,title:s,url:a,level:l,attach:d}),A7=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return EB(s)}return!1},z7=(t,s)=>Ee(fl(fe.fromDom(s),t),a=>a.dom),ef=t=>t.innerText||t.textContent,xS=t=>t.id?t.id:Vt("h"),TS=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,O7=t=>TS(t)&&AB(t),ES=t=>t&&/^(H[1-6])$/.test(t.nodeName),AB=t=>A7(t)&&!E7(t),b3=t=>ES(t)&&AB(t),zB=t=>ES(t)?parseInt(t.nodeName.substr(1),10):0,v3=t=>{var s;const a=xS(t),l=()=>{t.id=a};return y3("header",(s=ef(t))!==null&&s!==void 0?s:"","#"+a,zB(t),l)},D7=t=>{const s=t.id||t.name,a=ef(t);return y3("anchor",a||"#"+s,"#"+s,0,re)},OB=t=>Ee(je(t,b3),v3),DB=t=>Ee(je(t,O7),D7),k3=t=>z7("h1,h2,h3,h4,h5,h6,a:not([href])",t),R7=t=>T7(t.title).length>0,RB={find:t=>{const s=k3(t);return je(OB(s).concat(DB(s)),R7)}},AS="tinymce-url-history",NB=5,w3=t=>yt(t)&&/^https?/.test(t),MB=t=>no(t)&&t.length<=NB&&Ye(t,w3),BB=t=>Yn(t)&&Xo(t,s=>!MB(s)).isNone(),PB=()=>{const t=uh.getItem(AS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+AS+" was not valid JSON",a),{};throw a}return BB(s)?s:(console.log("Local storage "+AS+" was not valid format",s),{})},N7=t=>{if(!BB(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));uh.setItem(AS,JSON.stringify(t))},M7=t=>{const s=PB();return it(s,t).getOr([])},$B=(t,s)=>{if(!w3(t))return;const a=PB(),l=it(a,s).getOr([]),d=je(l,g=>g!==t);a[s]=[t].concat(d).slice(0,NB),N7(a)},tf=t=>!!t,_3=t=>Kn($m.makeMap(t,/[, ]/),tf),C3=t=>A.from(mC(t)),B7=t=>{const s=A.from(vD(t)).filter(tf).map(_3);return C3(t).fold(st,a=>s.fold($e,l=>_o(l).length>0?l:!1))},P7=(t,s)=>{const a=B7(t);return Zo(a)?a?C3(t):A.none():a[s]?C3(t):A.none()},$7=(t,s)=>P7(t,s).map(a=>l=>nl.nu(d=>{const g=(k,_)=>{if(!yt(k))throw new Error("Expected value to be string");if(_!==void 0&&!Yn(_))throw new Error("Expected meta to be a object");d({value:k,meta:_})},h={filetype:s,fieldname:l.fieldname,...A.from(l.meta).getOr({})};a.call(t,g,l.value,h)})),IB=t=>A.from(t).filter(yt).getOrUndefined(),FB=t=>gC(t)?A.some({targets:RB.find(t.getBody()),anchorTop:IB(kD(t)),anchorBottom:IB(wD(t))}):A.none(),LB=t=>A.from(KE(t)),xW=t=>({getHistory:M7,addToHistory:$B,getLinkInformation:()=>FB(t),getValidationHandler:()=>LB(t),getUrlPicker:s=>$7(t,s)}),TW=(t,s,a)=>{const l=hn(!1),d=w7(s),g={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Yu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},h=xW(s),k=xB(s),_=b7(s),E=k7(s),O=()=>l.get(),M=se=>l.set(se),$={shared:{providers:g,anchors:m7(s,a,d.isPositionedAtTop),header:d},urlinput:h,styles:k,colorinput:_,dialog:E,isContextMenuOpen:O,setContextMenuState:M},H={...$,shared:{...$.shared,interpreter:se=>gB(se,{},H),getSink:t.popup}},G={...$,shared:{...$.shared,interpreter:se=>gB(se,{},G),getSink:t.dialog}};return{popup:H,dialog:G}},ol=(t,s,a)=>{const l=(ot,zt)=>{Je([s,...a],on=>{on.broadcastEvent(ot,zt)})},d=(ot,zt)=>{Je([s,...a],on=>{on.broadcastOn([ot],zt)})},g=ot=>d(Of(),{target:ot.target}),h=Gm(),k=Nc(h,"touchstart",g),_=Nc(h,"touchmove",ot=>l(fp(),ot)),E=Nc(h,"touchend",ot=>l(Wv(),ot)),O=Nc(h,"mousedown",g),M=Nc(h,"mouseup",ot=>{ot.raw.button===0&&d(p1(),{target:ot.target})}),$=ot=>d(Of(),{target:fe.fromDom(ot.target)}),H=ot=>{ot.button===0&&d(p1(),{target:fe.fromDom(ot.target)})},G=()=>{Je(t.editorManager.get(),ot=>{t!==ot&&ot.dispatch("DismissPopups",{relatedTarget:t})})},se=ot=>l(sg(),Tf(ot)),_e=ot=>{d(Zp(),{}),l(wf(),Tf(ot))},ve=ge(fe.fromDom(t.getElement())),me=A0(ve,"scroll",ot=>{requestAnimationFrame(()=>{const zt=t.getContainer();if(zt!=null){const bo=nw(t,s.element).map(Jt=>[Jt.element,...Jt.others]).getOr([]);is(bo,Jt=>ds(Jt,ot.target))&&(t.dispatch("ElementScroll",{target:ot.target.dom}),l($h(),ot))}})}),Ue=()=>d(Zp(),{}),Ge=ot=>{ot.state&&d(Of(),{target:fe.fromDom(t.getContainer())})},St=ot=>{d(Of(),{target:fe.fromDom(ot.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",$),t.on("tap",$),t.on("mouseup",H),t.on("mousedown",G),t.on("ScrollWindow",se),t.on("ResizeWindow",_e),t.on("ResizeEditor",Ue),t.on("AfterProgressState",Ge),t.on("DismissPopups",St)}),t.on("remove",()=>{t.off("click",$),t.off("tap",$),t.off("mouseup",H),t.off("mousedown",G),t.off("ScrollWindow",se),t.off("ResizeWindow",_e),t.off("ResizeEditor",Ue),t.off("AfterProgressState",Ge),t.off("DismissPopups",St),O.unbind(),k.unbind(),_.unbind(),E.unbind(),M.unbind(),me.unbind()}),t.on("detach",()=>{Je([s,...a],b2),Je([s,...a],ot=>ot.destroy())})},Ma=I2,Fm=R2,zS=Y([we("shell",!1),Pe("makeItem"),we("setupItem",re),ql.field("listBehaviours",[Dn])]),I7=Hi({name:"items",overrides:()=>({behaviours:bt([Dn.config({})])})}),F7=Y([I7]),L7=Y("CustomList"),H7=(t,s,a,l)=>{const d=(k,_)=>{h(k).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const O=Dn.contents(E),M=_.length,$=M-O.length,H=$>0?at($,()=>t.makeItem()):[],G=O.slice(M);Je(G,_e=>Dn.remove(E,_e)),Je(H,_e=>Dn.append(E,_e));const se=Dn.contents(E);Je(se,(_e,ve)=>{t.setupItem(k,_e,_[ve],ve)})})},g=t.shell?{behaviours:[Dn.config({})],components:[]}:{behaviours:[],components:s},h=k=>t.shell?A.some(k):Ps(k,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:Wr(t.listBehaviours,g.behaviours),apis:{setItems:d}}},HB=_a({name:L7(),configFields:zS(),partFields:F7(),factory:H7,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),mv=Y([Pe("dom"),we("shell",!0),_r("toolbarBehaviours",[Dn])]),VB=Y([Hi({name:"groups",overrides:()=>({behaviours:bt([Dn.config({})])})})]),OS=(t,s,a,l)=>{const d=(k,_)=>{g(k).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Dn.set(E,_)})},g=k=>t.shell?A.some(k):Ps(k,t,"groups"),h=t.shell?{behaviours:[Dn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:Wr(t.toolbarBehaviours,h.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},Hf=_a({name:"Toolbar",configFields:mv(),partFields:VB(),factory:OS,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),UB=re,V7=st,S3=Y([]);var U7=Object.freeze({__proto__:null,setup:UB,isDocked:V7,getBehaviours:S3});const x3=t=>(Fr(Ss(t,"position"),"fixed")?A.none():Qi(t)).orThunk(()=>{const l=fe.fromTag("span");return Pa(t).bind(d=>{jc(d,l);const g=Qi(l);return Wc(l),g})}),T3=t=>x3(t).map(gc).getOrThunk(()=>Zs(0,0)),zW=(t,s)=>{const a=t.element;ba(a,s.transitionClass),xs(a,s.fadeOutClass),ba(a,s.fadeInClass),s.onShow(t)},OW=(t,s)=>{const a=t.element;ba(a,s.transitionClass),xs(a,s.fadeInClass),ba(a,s.fadeOutClass),s.onHide(t)},j7=(t,s)=>t.y<s.bottom&&t.bottom>s.y,jB=(t,s)=>t.y>=s.y,WB=(t,s)=>t.bottom<=s.bottom,DS=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),ww=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),E3=t=>t.box.x-t.win.x,W7=(t,s,a)=>{const l=s.win,d=s.box,g=E3(s);return Ko(t,h=>{switch(h){case"bottom":return WB(d,a.bounds)?A.none():A.some(ww(l,g,a));case"top":return jB(d,a.bounds)?A.none():A.some(DS(l,g,a));default:return A.none()}}).getOr({location:"no-dock"})},ZB=(t,s,a)=>Ye(t,l=>{switch(l){case"bottom":return WB(s,a.bounds);case"top":return jB(s,a.bounds)}}),Z7=(t,s)=>{const a=s.optScrollEnv.fold(Y(t.bounds.y),l=>l.scrollElmTop+(t.bounds.y-l.currentScrollTop));return Zs(t.bounds.x,a)},q7=(t,s)=>{const a=s.optScrollEnv.fold(Y(t.y),l=>t.y+l.currentScrollTop-l.scrollElmTop);return Zs(t.x,a)},A3=(t,s,a)=>a.getInitialPos().map(l=>{const d=Z7(l,s);return{box:T(d.left,d.top,Gr(t),or(t)),location:l.location}}),qB=(t,s,a,l,d)=>{const g=q7(s,a),h=T(g.left,g.top,s.width,s.height);l.setInitialPos({style:Dr(t),position:Qe(t,"position")||"static",bounds:h,location:d.location})},z3=(t,s,a,l,d)=>{l.getInitialPos().fold(()=>qB(t,s,a,l,d),()=>re)},O3=(t,s,a)=>a.getInitialPos().bind(l=>{var d;switch(a.clearInitialPos(),l.position){case"static":return A.some({morph:"static"});case"absolute":const g=x3(t).getOr(Oo()),h=R(g),k=(d=g.dom.scrollTop)!==null&&d!==void 0?d:0;return A.some({morph:"absolute",positionCss:Zl("absolute",it(l.style,"left").map(_=>s.x-h.x),it(l.style,"top").map(_=>s.y-h.y+k),it(l.style,"right").map(_=>h.right-s.right),it(l.style,"bottom").map(_=>h.bottom-s.bottom))});default:return A.none()}}),G7=(t,s,a)=>A3(t,s,a).filter(({box:l})=>ZB(a.getModes(),l,s)).bind(({box:l})=>O3(t,l,a)),D3=t=>{switch(t.location){case"top":return A.some({morph:"fixed",positionCss:Zl("fixed",A.some(t.leftX),A.some(t.topY),A.none(),A.none())});case"bottom":return A.some({morph:"fixed",positionCss:Zl("fixed",A.some(t.leftX),A.none(),A.none(),A.some(t.bottomY))});default:return A.none()}},K7=(t,s,a)=>{const l=R(t),d=ft(),g=W7(a.getModes(),{win:d,box:l},s);return g.location==="top"||g.location==="bottom"?(qB(t,l,s,a,g),D3(g)):A.none()},X7=(t,s,a)=>G7(t,s,a).orThunk(()=>s.optScrollEnv.bind(l=>A3(t,s,a)).bind(({box:l,location:d})=>{const g=ft(),h=E3({win:g,box:l}),k=d==="top"?DS(g,h,s):ww(g,h,s);return D3(k)})),GB=(t,s,a)=>{const l=t.element;return Fr(Ss(l,"position"),"fixed")?X7(l,s,a):K7(l,s,a)},Y7=(t,s,a)=>{const l=t.element;return A3(l,s,a).bind(({box:d})=>O3(l,d,a))},RS=(t,s,a,l)=>{const d=R(t),g=ft(),h=E3({win:g,box:d}),k=l(g,h,s);return k.location==="bottom"||k.location==="top"?(z3(t,d,s,a,k),D3(k)):A.none()},KB=(t,s,a)=>{a.setDocked(!1),Je(["left","right","top","bottom","position"],l=>vo(t.element,l)),s.onUndocked(t)},gv=(t,s,a,l)=>{const d=l.position==="fixed";a.setDocked(d),_0(t.element,l),(d?s.onDocked:s.onUndocked)(t)},XB=(t,s,a,l,d=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(h=>{const k=j7(h,l.bounds);k!==a.isVisible()&&(a.setVisible(k),d&&!k?(Td(t.element,[g.fadeOutClass]),g.onHide(t)):(k?zW:OW)(t,g))})})},NS=(t,s,a,l,d)=>{XB(t,s,a,l,!0),gv(t,s,a,d.positionCss)},_w=(t,s,a,l,d)=>{switch(d.morph){case"static":return KB(t,s,a);case"absolute":return gv(t,s,a,d.positionCss);case"fixed":return NS(t,s,a,l,d)}},YB=(t,s,a)=>{const l=s.lazyViewport(t);XB(t,s,a,l),GB(t,l,a).each(d=>{_w(t,s,a,l,d)})},J7=(t,s,a)=>{const l=t.element;a.setDocked(!1);const d=s.lazyViewport(t);Y7(t,d,a).each(g=>{switch(g.morph){case"static":{KB(t,s,a);break}case"absolute":{gv(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{ci(l,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),Cw(t,s,a)},Cw=(t,s,a)=>{t.getSystem().isConnected()&&YB(t,s,a)},R3=(t,s,a)=>{a.isDocked()&&J7(t,s,a)},N3=t=>(s,a,l)=>{const d=a.lazyViewport(s);RS(s.element,d,l,t).each(h=>{NS(s,a,l,d,h)})},Q7=N3(DS),M3=N3(ww);var pv=Object.freeze({__proto__:null,refresh:Cw,reset:R3,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,l)=>a.setModes(l),forceDockToTop:Q7,forceDockToBottom:M3}),tH=Object.freeze({__proto__:null,events:(t,s)=>Ks([pp(Mh(),(a,l)=>{t.contextual.each(d=>{Ys(a.element,d.transitionClass)&&(ci(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),l.stop()})}),et(sg(),(a,l)=>{Cw(a,t,s)}),et($h(),(a,l)=>{Cw(a,t,s)}),et(wf(),(a,l)=>{R3(a,t,s)})])}),JB=[Tr("contextual",[Yr("fadeInClass"),Yr("fadeOutClass"),Yr("transitionClass"),Sl("lazyContext"),lo("onShow"),lo("onShown"),lo("onHide"),lo("onHidden")]),kr("lazyViewport",()=>({bounds:ft(),optScrollEnv:A.none()})),yf("modes",["top","bottom"],ur),lo("onDocked"),lo("onUndocked")],P3=Object.freeze({__proto__:null,init:t=>{const s=hn(!1),a=hn(!0),l=Os(),d=hn(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return Xc({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:g})}});const Ba=rc({fields:JB,name:"docking",active:tH,apis:pv,state:P3}),$3=Y(Vt("toolbar-height-change")),Lm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},MS="tox-tinymce--toolbar-sticky-on",eP="tox-tinymce--toolbar-sticky-off",nH=(t,s)=>{const a=Aa(s),d=Ga(s).dom.innerHeight,g=yc(a),h=fe.fromDom(t.elm),k=V(h),_=or(h),E=k.y,O=E+_,M=gc(s),$=or(s),H=M.top,G=H+$,se=Math.abs(H-g.top)<2,_e=Math.abs(G-(g.top+d))<2;if(se&&E<G)qm(g.left,E-$,a);else if(_e&&O>H){const ve=E-d+_+$;qm(g.left,ve,a)}},BS=(t,s)=>Gn(Ba.getModes(t),s),I3=t=>{const s=l=>Ci(l)+(parseInt(Qe(l,"margin-top"),10)||0)+(parseInt(Qe(l,"margin-bottom"),10)||0),a=t.element;za(a).each(l=>{const d="padding-"+Ba.getModes(t)[0];if(Ba.isDocked(t)){const g=Gr(l);xt(a,"width",g+"px"),xt(l,d,s(a)+"px")}else vo(a,"width"),vo(l,d)})},tP=(t,s)=>{s?(xs(t,Lm.fadeOutClass),Td(t,[Lm.transitionClass,Lm.fadeInClass])):(xs(t,Lm.fadeInClass),Td(t,[Lm.fadeOutClass,Lm.transitionClass]))},nP=(t,s)=>{const a=fe.fromDom(t.getContainer());s?(ba(a,MS),xs(a,eP)):(ba(a,eP),xs(a,MS))},oH=(t,s)=>{const a=Aa(s);Nd(a).filter(l=>!ds(s,l)).filter(l=>ds(l,fe.fromDom(a.dom.body))||Hr(t,l)).each(()=>$i(s))},oP=(t,s)=>fu(t).orThunk(()=>s().toOptional().bind(a=>fu(a.element))),sH=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Ba.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(I3)}),t.on("SkinLoaded",()=>{a().each(l=>{Ba.isDocked(l)?Ba.reset(l):Ba.refresh(l)})}),t.on("FullscreenStateChanged",()=>{a().each(Ba.reset)})),t.on("AfterScrollIntoView",l=>{a().each(d=>{Ba.refresh(d);const g=d.element;Mr(g)&&nH(l,g)})}),t.on("PostRender",()=>{nP(t,!1)})},Sw=t=>t().map(Ba.isDocked).getOr(!1),rH=()=>[Ol.config({channels:{[$3()]:{onReceive:I3}}})],sP=(t,s)=>{const a=Os(),l=s.getSink,d=k=>{l().each(_=>k(_.element))},g=k=>{t.inline||I3(k),nP(t,Ba.isDocked(k)),k.getSystem().broadcastOn([Zp()],{}),l().each(_=>_.getSystem().broadcastOn([Zp()],{}))},h=t.inline?[]:rH();return[wn.config({}),Ba.config({contextual:{lazyContext:k=>{const _=Ci(k.element),E=t.inline?t.getContentAreaContainer():t.getContainer();return A.from(E).map(O=>{const M=R(fe.fromDom(O));return nw(t,k.element).fold(()=>{const H=M.height-_,G=M.y+(BS(k,"top")?0:_);return T(M.x,G,M.width,H)},H=>{const G=ce(M,VC(H)),se=BS(k,"top")?G.y:G.y+_;return T(G.x,se,G.width,G.height-_)})})},onShow:()=>{d(k=>tP(k,!0))},onShown:k=>{d(_=>ci(_,[Lm.transitionClass,Lm.fadeInClass])),a.get().each(_=>{oH(k.element,_),a.clear()})},onHide:k=>{oP(k.element,l).fold(a.clear,a.set),d(_=>tP(_,!1))},onHidden:()=>{d(k=>ci(k,[Lm.transitionClass]))},...Lm},lazyViewport:k=>nw(t,k.element).fold(()=>{const E=ft(),O=GE(t),M=E.y+(BS(k,"top")?O:0),$=E.height-(BS(k,"bottom")?O:0);return{bounds:T(E.x,M,E.width,$),optScrollEnv:A.none()}},E=>({bounds:VC(E),optScrollEnv:A.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:gc(E.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var F3=Object.freeze({__proto__:null,setup:sH,isDocked:Sw,getBehaviours:sP});const rP=t=>{const s=t.editor,a=t.sticky?sP:S3;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:bt(a(s,t.sharedBackstage))}},aH=dn([Br,Gc("items",nm([Qm([TC,il("items",ur)]),ur]))].concat(Bg)),cH=t=>gs("GroupToolbarButton",aH,t),lH=[Qa("text"),Qa("tooltip"),Qa("icon"),ec("search",!1,nm([rm,dn([Qa("placeholder")])],t=>Zo(t)?t?A.some({placeholder:A.none()}):A.none():A.some(t))),Sl("fetch"),kr("onSetup",()=>re)],aP=dn([Br,...lH]),cP=t=>gs("menubutton",aP,t),iH=dn([Br,Fk,_u,ah,pA,cF,Zd,Dc("presets","normal",["normal","color","listpreview"]),KD(1),V1,iF]),uH=t=>gs("SplitButton",iH,t);var L3=ea({factory:(t,s)=>{const a=(d,g)=>{const h=Ee(g,k=>{const _={type:"menubutton",text:k.text,fetch:O=>{O(k.getItems())}},E=cP(_).mapError(O=>cm(O)).getOrDie();return dv(E,"tox-mbtn",s.backstage,A.some("menuitem"))});Dn.set(d,h)},l={focus:mn.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:bt([Dn.config({}),Wn("menubar-events",[Xs(d=>{t.onSetup(d)}),et(Hu(),(d,g)=>{Qr(d.element,".tox-mbtn--active").each(h=>{Wl(g.event.target,".tox-mbtn").each(k=>{ds(h,k)||d.getSystem().getByDom(h).each(_=>{d.getSystem().getByDom(k).each(E=>{Zi.expand(E),Zi.close(_),wn.focus(E)})})})})}),et(n_(),(d,g)=>{g.event.prevFocus.bind(h=>d.getSystem().getByDom(h).toOptional()).each(h=>{g.event.newFocus.bind(k=>d.getSystem().getByDom(k).toOptional()).each(k=>{Zi.isOpen(h)&&(Zi.expand(k),Zi.close(h))})})})]),mn.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),A.some(!0))}),Cr.config({})]),apis:l,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Pe("dom"),Pe("uid"),Pe("onEscape"),Pe("backstage"),we("onSetup",re)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const lP="⚡️Upgrade",PS="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",$S=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:PS,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:lP}}]}),iP="container",dH=[_r("slotBehaviours",[])],uP=t=>"<alloy.field."+t+">",fH=t=>{const s=(()=>{const g=[];return{slot:(k,_)=>(g.push(k),E1(iP,uP(k),_)),record:Y(g)}})(),a=t(s),l=s.record(),d=Ee(l,g=>Zr({name:g,pname:uP(g)}));return fk(iP,dH,d,hv,a)},hv=(t,s)=>{const a=se=>P2(t),l=(se,_e)=>Ps(se,t,_e),d=(se,_e)=>(ve,me)=>Ps(ve,t,me).map(Ue=>se(Ue,me)).getOr(_e),g=se=>(_e,ve)=>{Je(ve,me=>se(_e,me))},h=(se,_e)=>fa(se.element,"aria-hidden")!=="true",k=(se,_e)=>{if(!h(se)){const ve=se.element;vo(ve,"display"),W(ve,"aria-hidden"),an(se,Ph(),{name:_e,visible:!0})}},_=(se,_e)=>{if(h(se)){const ve=se.element;xt(ve,"display","none"),Mn(ve,"aria-hidden","true"),an(se,Ph(),{name:_e,visible:!1})}},E=d(h,!1),O=d(_),M=g(O),$=se=>M(se,a()),H=d(k),G={getSlotNames:a,getSlot:l,isShowing:E,hideSlot:O,hideAllSlots:$,showSlot:H};return{uid:t.uid,dom:t.dom,components:s,behaviours:Xp(t.slotBehaviours),apis:G}},Bc={...Kn({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>zb(t)),sketch:fH},mH=dn([_u,Fk,kr("onShow",re),kr("onHide",re),Zd]),gH=t=>gs("sidebar",mH,t),pH=t=>{const{sidebars:s}=t.ui.registry.getAll();Je(_o(s),a=>{const l=s[a],d=()=>Fr(A.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:l.icon,tooltip:l.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(d())},onSetup:g=>{g.setActive(d());const h=()=>g.setActive(d());return t.on("ToggleSidebar",h),()=>{t.off("ToggleSidebar",h)}}})})},hH=t=>({element:()=>t.element.dom}),yH=(t,s)=>{const a=Ee(_o(s),l=>{const d=s[l],g=Qo(gH(d));return{name:l,getApi:hH,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ee(a,l=>{const d=hn(re);return t.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Uk.unnamedEvents([ch(l,d),lh(l,d),et(Ph(),(g,h)=>{const k=h.event;Ae(a,E=>E.name===k.name).each(E=>{(k.visible?E.onShow:E.onHide)(E.getApi(g))})})])})})},bH=t=>Bc.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:yH(s,t),slotBehaviours:Uk.unnamedEvents([Xs(a=>Bc.hideAllSlots(a))])})),vH=(t,s,a)=>{ro.getCurrent(t).each(d=>{Dn.set(d,[bH(s)]);const g=a==null?void 0:a.toLowerCase();yt(g)&&po(s,g)&&ro.getCurrent(d).each(h=>{Bc.showSlot(h,g),Ki.immediateGrow(d),vo(d.element,"width"),IS(t.element,"region")})})},IS=(t,s)=>{Mn(t,"role",s)},dP=(t,s)=>{ro.getCurrent(t).each(l=>{ro.getCurrent(l).each(g=>{Ki.hasGrown(l)?Bc.isShowing(g,s)?(Ki.shrink(l),IS(t.element,"presentation")):(Bc.hideAllSlots(g),Bc.showSlot(g,s),IS(t.element,"region")):(Bc.hideAllSlots(g),Bc.showSlot(g,s),Ki.grow(l),IS(t.element,"region"))})})},fP=t=>ro.getCurrent(t).bind(a=>Ki.isGrowing(a)||Ki.hasGrown(a)?ro.getCurrent(a).bind(g=>Ae(Bc.getSlotNames(g),h=>Bc.isShowing(g,h))):A.none()),V3=Vt("FixSizeEvent"),U3=Vt("AutoSizeEvent"),FS=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:bt([Cr.config({}),wn.config({}),Ki.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{ro.getCurrent(s).each(Bc.hideAllSlots),es(s,U3)},onGrown:s=>{es(s,U3)},onStartGrow:s=>{an(s,V3,{width:Ss(s.element,"width").getOr("")})},onStartShrink:s=>{an(s,V3,{width:Gr(s.element)+"px"})}}),Dn.config({}),ro.config({find:s=>{const a=Dn.contents(s);return Go(a)}})])}],behaviours:bt([xu.childAt(0),Wn("sidebar-sliding-events",[et(V3,(s,a)=>{xt(s.element,"width",a.event.width)}),et(U3,(s,a)=>{vo(s.element,"width")})])])});var kH=Object.freeze({__proto__:null,block:(t,s,a,l)=>{Mn(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),g=bt([mn.config({mode:"special",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),wn.config({})]),h=l(d,g),k=d.getSystem().build(h);Dn.append(d,Pi(k)),k.hasConfigured(mn)&&s.focus&&mn.focusIn(k),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Dn.remove(d,k))},unblock:(t,s,a)=>{W(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()}}),wH=[kr("getRoot",A.none),tc("focus",!0),lo("onBlock"),lo("onUnblock")],W3=Object.freeze({__proto__:null,init:()=>{const t=E0(),s=a=>{t.set({destroy:a})};return Xc({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Vf=rc({fields:wH,name:"blocking",apis:kH,state:W3}),Z3=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return ct(s,(a,l)=>l.name==="class"?a:{...a,[l.name]:l.value},{})},_H=t=>Array.prototype.slice.call(t.dom.classList,0),Hm=t=>{const s=fe.fromHtml(t),a=$a(s),l=Z3(s),d=_H(s),g=a.length===0?{}:{innerHtml:hp(s)};return{tag:Lr(s),classes:d,attributes:l,...g}},CH=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Hm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),mP=t=>ro.getCurrent(t).each(s=>$i(s.element)),SH=(t,s)=>{const a="tabindex",l=`data-mce-${a}`;A.from(t.iframeElement).map(fe.fromDom).each(d=>{s?(pr(d,a).each(g=>Mn(d,l,g)),Mn(d,a,-1)):(W(d,a),pr(d,l).each(g=>{Mn(d,a,g),W(d,l)}))})},xw=(t,s,a,l)=>{const d=s.element;if(SH(t,a),a)Vf.block(s,CH(l)),vo(d,"display"),W(d,"aria-hidden"),t.hasFocus()&&mP(s);else{const g=ro.getCurrent(s).exists(h=>Rd(h.element));Vf.unblock(s),xt(d,"display","none"),Mn(d,"aria-hidden","true"),g&&t.focus()}},xH=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:bt([Dn.config({}),Vf.config({focus:!1}),ro.config({find:s=>Go(s.components())})]),components:[]}),TH=t=>t.type==="focusin",EH=t=>TH(t)?(t.composed?Go(t.composedPath()):A.from(t.target)).map(fe.fromDom).filter($o).exists(a=>Ys(a,"mce-pastebin")):!1,PW=(t,s,a)=>{const l=hn(!1),d=Os(),g=k=>{l.get()&&!EH(k)&&(k.preventDefault(),mP(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&g(k)})});const h=k=>{k!==l.get()&&(l.set(k),xw(t,s(),k,a.providers),WF(t,k))};t.on("ProgressState",k=>{if(d.on(clearTimeout),Ao(k.time)){const _=oC.setEditorTimeout(t,()=>h(k.state),k.time);d.set(_)}else h(k.state),d.clear()})},$W=(t,s)=>ct(t,(d,g)=>s(g,d.len).fold(Y(d),k=>({len:k.finish,list:d.list.concat([k])})),{len:0,list:[]}).list,LS=(t,s,a)=>({within:t,extra:s,withinWidth:a}),gP=(t,s,a)=>{const l=$W(t,(k,_)=>{const E=a(k);return A.some({element:k,start:_,finish:_+E,width:E})}),d=je(l,k=>k.finish<=s),g=Mt(d,(k,_)=>k+_.width,0),h=l.slice(d.length);return{within:d,extra:h,withinWidth:g}},Tw=t=>Ee(t,s=>s.element),AH=(t,s,a)=>{const l=Tw(t.concat(s));return LS(l,[],a)},zH=(t,s,a,l)=>{const d=Tw(t).concat([a]);return LS(d,Tw(s),l)},OH=(t,s,a)=>LS(Tw(t),[],a),DH=(t,s,a)=>{const l=gP(s,t,a);return l.extra.length===0?A.some(l):A.none()},RH=(t,s,a,l)=>{const d=DH(t,s,a).getOrThunk(()=>gP(s,t-a(l),a)),g=d.within,h=d.extra,k=d.withinWidth;return h.length===1&&h[0].width<=a(l)?AH(g,h,k):h.length>=1?zH(g,h,l,k):OH(g,h,k)},q3=(t,s)=>{const a=Ee(s,l=>Pi(l));Hf.setGroups(t,a)},NH=t=>Ko(t,s=>fu(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),pP=(t,s,a)=>{const l=s.builtGroups.get();if(l.length===0)return;const d=Nf(t,s,"primary"),g=Pr.getCoupled(t,"overflowGroup");xt(d.element,"visibility","hidden");const h=l.concat([g]),k=NH(h);a([]),q3(d,h);const _=Gr(d.element),E=RH(_,s.builtGroups.get(),O=>Gr(O.element),g);E.extra.length===0?(Dn.remove(d,g),a([])):(q3(d,E.within),a(E.extra)),vo(d.element,"visibility"),ti(d.element),k.each(wn.focus)},hP=Y([_r("splitToolbarBehaviours",[Pr]),zc("builtGroups",()=>hn([]))]),IW=Y([Rp(["overflowToggledClass"]),vd("getOverflowBounds"),Pe("lazySink"),zc("overflowGroups",()=>hn([])),lo("onOpened"),lo("onClosed")].concat(hP())),FW=Y([Zr({factory:Hf,schema:mv(),name:"primary"}),bu({schema:mv(),name:"overflow"}),bu({name:"overflow-button"}),bu({name:"overflow-group"})]),HS=Y((t,s)=>{lf(t,Math.floor(s))}),yP=Y([Rp(["toggledClass"]),Pe("lazySink"),Sl("fetch"),vd("getBounds"),Tr("fireDismissalEventInstead",[we("event",Cf())]),Ef(),lo("onToggled")]),MH=Y([bu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:bt([Qn.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),bu({factory:Hf,schema:mv(),name:"toolbar",overrides:t=>({toolbarBehaviours:bt([mn.config({mode:"cyclic",onEscape:s=>(Ps(s,t,"button").each(wn.focus),A.none())})])})})]),VS=Os(),Au=(t,s)=>{VS.set(!0),G3(t,s),VS.clear()},G3=(t,s)=>{const a=Pr.getCoupled(t,"toolbarSandbox");Eo.isOpen(a)?Eo.close(a):Eo.open(a,s.toolbar())},US=(t,s,a,l)=>{const d=a.getBounds.map(h=>h()),g=a.lazySink(t).getOrDie();Mc.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:l,overrides:{maxWidthFunction:HS()}}},d)},K3=(t,s,a,l,d)=>{Hf.setGroups(s,d),US(t,s,a,l),Qn.on(t)},BH=(t,s,a)=>{const l=__(),d=(h,k)=>{const _=VS.get().getOr(!1);a.fetch().get(E=>{K3(t,k,a,s.layouts,E),l.link(t.element),_||mn.focusIn(k)})},g=()=>{Qn.off(t),VS.get().getOr(!1)||wn.focus(t),l.unlink(t.element)};return{dom:{tag:"div",attributes:{id:l.id}},behaviours:bt([mn.config({mode:"special",onEscape:h=>(Eo.close(h),A.some(!0))}),Eo.config({onOpen:d,onClose:g,isPartOf:(h,k,_)=>lg(k,_)||lg(t,_),getAttachPoint:()=>a.lazySink(t).getOrDie()}),Ol.config({channels:{...h1({isExtraPart:st,...a.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...py({doReposition:()=>{Eo.getState(Pr.getCoupled(t,"toolbarSandbox")).each(h=>{US(t,h,a,s.layouts)})}})}})])}},yh=_a({name:"FloatingToolbarButton",factory:(t,s,a,l)=>({...na.sketch({...l.button(),action:d=>{G3(d,l)},buttonBehaviours:ql.augment({dump:l.button().buttonBehaviours},[Pr.config({others:{toolbarSandbox:d=>BH(d,a,t)}})])}),apis:{setGroups:(d,g)=>{Eo.getState(Pr.getCoupled(d,"toolbarSandbox")).each(h=>{K3(d,h,t,a.layouts,g)})},reposition:d=>{Eo.getState(Pr.getCoupled(d,"toolbarSandbox")).each(g=>{US(d,g,t,a.layouts)})},toggle:d=>{G3(d,l)},toggleWithoutFocusing:d=>{Au(d,l)},getToolbar:d=>Eo.getState(Pr.getCoupled(d,"toolbarSandbox")),isOpen:d=>Eo.isOpen(Pr.getCoupled(d,"toolbarSandbox"))}}),configFields:yP(),partFields:MH(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),WS=Y([Pe("items"),Rp(["itemSelector"]),_r("tgroupBehaviours",[mn])]),PH=Y([x1({name:"items",unit:"item"})]),ZS=(t,s,a,l)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Wr(t.tgroupBehaviours,[mn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),qS=_a({name:"ToolbarGroup",configFields:WS(),partFields:PH(),factory:ZS}),bP=t=>Ee(t,s=>Pi(s)),zu=(t,s,a)=>{pP(t,a,l=>{a.overflowGroups.set(l),s.getOpt(t).each(d=>{yh.setGroups(d,bP(l))})})},$H=(t,s,a,l)=>{const d=hs(yh.sketch({fetch:()=>nl.nu(g=>{g(bP(t.overflowGroups.get()))}),layouts:{onLtr:()=>[ka,Va],onRtl:()=>[Va,ka],onBottomLtr:()=>[Jc,zl],onBottomRtl:()=>[zl,Jc]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(g,h)=>t[h?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Wr(t.splitToolbarBehaviours,[Pr.config({others:{overflowGroup:()=>qS.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(g,h)=>{t.builtGroups.set(Ee(h,g.getSystem().build)),zu(g,d,t)},refresh:g=>zu(g,d,t),toggle:g=>{d.getOpt(g).each(h=>{yh.toggle(h)})},toggleWithoutFocusing:g=>{d.getOpt(g).each(yh.toggleWithoutFocusing)},isOpen:g=>d.getOpt(g).map(yh.isOpen).getOr(!1),reposition:g=>{d.getOpt(g).each(h=>{yh.reposition(h)})},getOverflow:g=>d.getOpt(g).bind(yh.getToolbar)},domModification:{attributes:{role:"group"}}}},Ew=_a({name:"SplitFloatingToolbar",configFields:IW(),partFields:FW(),factory:$H,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),vP=Y([Rp(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),lo("onOpened"),lo("onClosed")].concat(hP())),kP=Y([Zr({factory:Hf,schema:mv(),name:"primary"}),Zr({factory:Hf,schema:mv(),name:"overflow",overrides:t=>({toolbarBehaviours:bt([Ki.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{Ps(s,t,"overflow-button").each(a=>{Qn.off(a),wn.focus(a)}),t.onClosed(s)},onGrown:s=>{mn.focusIn(s),t.onOpened(s)},onStartGrow:s=>{Ps(s,t,"overflow-button").each(Qn.on)}}),mn.config({mode:"acyclic",onEscape:s=>(Ps(s,t,"overflow-button").each(wn.focus),A.some(!0))})])})}),bu({name:"overflow-button",overrides:t=>({buttonBehaviours:bt([Qn.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),bu({name:"overflow-group"})]),IH=(t,s)=>Ps(t,s,"overflow").map(Ki.hasGrown).getOr(!1),X3=(t,s)=>{Ps(t,s,"overflow-button").bind(()=>Ps(t,s,"overflow")).each(a=>{Y3(t,s),Ki.toggleGrow(a)})},Y3=(t,s)=>{Ps(t,s,"overflow").each(a=>{pP(t,s,l=>{const d=Ee(l,g=>Pi(g));Hf.setGroups(a,d)}),Ps(t,s,"overflow-button").each(l=>{Ki.hasGrown(a)&&Qn.on(l)}),Ki.refresh(a)})},FH=(t,s,a,l)=>{const d="alloy.toolbar.toggle",g=(h,k)=>{const _=Ee(k,h.getSystem().build);t.builtGroups.set(_)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Wr(t.splitToolbarBehaviours,[Pr.config({others:{overflowGroup:h=>qS.sketch({...l["overflow-group"](),items:[na.sketch({...l["overflow-button"](),action:k=>{es(h,d)}})]})}}),Wn("toolbar-toggle-events",[et(d,h=>{X3(h,t)})])]),apis:{setGroups:(h,k)=>{g(h,k),Y3(h,t)},refresh:h=>Y3(h,t),toggle:h=>X3(h,t),isOpen:h=>IH(h,t)},domModification:{attributes:{role:"group"}}}},J3=_a({name:"SplitSlidingToolbar",configFields:vP(),partFields:kP(),factory:FH,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),wP=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[qS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:bt([Cr.config({}),wn.config({})])}},GS=t=>qS.sketch(wP(t)),_P=(t,s)=>{const a=Xs(l=>{const d=Ee(t.initGroups,GS);Hf.setGroups(l,d)});return bt([qd.toolbarButton(t.providers.isDisabled),Wa(),mn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Wn("toolbar-events",[a])])},CP=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":wP({title:A.none(),items:[]}),"overflow-button":e3({name:"more",icon:A.some("more-drawer"),enabled:!0,tooltip:A.some("More..."),primary:!1,buttonType:A.none(),borderless:!1},A.none(),t.providers)},splitToolbarBehaviours:_P(t,s)}},SP=t=>{const s=CP(t),a=4,l=Ew.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Ew.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,g=V(d),h=vi(d),k=V(h),_=Math.max(h.dom.scrollHeight,k.height);return T(g.x+a,k.y,g.width-a*2,_)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[l],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},xP=t=>{const s=J3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=J3.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=CP(t);return J3.sketch({...l,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([$3()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([$3()],{type:"closed"}),t.onToggled(d,!1)}})},Aw=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Hf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===wu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Hf.parts.groups({})],toolbarBehaviours:_P(t,s)})},TP=[ah,_u,Qa("tooltip"),Dc("buttonType","secondary",["primary","secondary"]),tc("borderless",!1),Sl("onAction")],EP=[...TP,Wd,si("type",["button"])],LH=[...TP,tc("active",!1),si("type",["togglebutton"])],AP={button:EP,togglebutton:LH},HH=[si("type",["group"]),yf("buttons",[],Rr("type",AP))],VH=Rr("type",{...AP,group:HH}),UH=dn([yf("buttons",[],VH),Sl("onShow"),Sl("onHide")]),jH=t=>gs("view",UH,t),WH=(t,s)=>{var a,l;const d=t.type==="togglebutton",g=t.icon.map(Ue=>Lf(Ue,s.icons)).map(hs),k=(()=>Ue=>{const Ge=zt=>{g.map(on=>on.getOpt(Ue).each(bo=>{Dn.set(bo,[Lf(zt,s.icons)])}))},St=zt=>{const on=Ue.element;zt?(ba(on,"tox-button--enabled"),Mn(on,"aria-pressed",!0)):(xs(on,"tox-button--enabled"),W(on,"aria-pressed"))},ot=()=>Ys(Ue.element,"tox-button--enabled");if(d)return t.onAction({setIcon:Ge,setActive:St,isActive:ot});if(t.type==="button")return t.onAction({setIcon:Ge})})(),_={...t,name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:A.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},E=t3((l=t.buttonType)!==null&&l!==void 0?l:"secondary"),O=d?t.text.map(s.translate):A.some(s.translate(t.text)),M=O.map(Ur),$=_.tooltip.or(O).map(Ue=>({"aria-label":s.translate(Ue),title:s.translate(Ue)})).getOr({}),H=g.map(Ue=>Ue.asSpec()),G=j1([H,M]),se=t.icon.isSome()&&M.isSome(),_e={tag:"button",classes:E.concat(...t.icon.isSome()&&!se?["tox-button--icon"]:[]).concat(...se?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:$},ve=[],me=bS(_,A.some(k),ve,_e,G,s);return na.sketch(me)},zP=(t,s)=>WH(t,s),ZH=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ee(t.buttons,a=>zP(a,s))}),OP=Da().deviceType,qH=OP.isPhone(),GH=OP.isTablet(),KH=t=>{let s=!1;const a=Ee(t.buttons,l=>l.type==="group"?(s=!0,ZH(l,t.providers)):zP(l,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...qH||GH?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:bt([wn.config({}),mn.config({mode:"flow",selector:"button, .tox-button",focusInside:Og.OnEnterOrSpaceMode})]),components:s?a:[If.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),If.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},DP=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),XH=(t,s,a,l)=>{const d={getPane:g=>Ma.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:d}};var yv=_a({name:"silver.View",configFields:[Pe("viewConfig")],partFields:[Hi({factory:{sketch:KH},schema:[Pe("buttons"),Pe("providers")],name:"header"}),Hi({factory:{sketch:DP},schema:[],name:"pane"})],factory:XH,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const Q3=(t,s,a)=>Sc(s,(l,d)=>{const g=Qo(jH(l));return t.slot(d,yv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[yv.parts.header({buttons:g.buttons,providers:a})]:[],yv.parts.pane({})]}))}),YH=(t,s)=>Bc.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Q3(a,t,s),slotBehaviours:Uk.unnamedEvents([Xs(l=>Bc.hideAllSlots(l))])})),zw=t=>Ae(Bc.getSlotNames(t),s=>Bc.isShowing(t,s)),JH=t=>{const s=t.element;xt(s,"display","none"),Mn(s,"aria-hidden","true")},RP=t=>{const s=t.element;vo(s,"display"),W(s,"aria-hidden")},QH=t=>({getContainer:Y(t)}),NP=(t,s,a)=>{Bc.getSlot(t,s).each(l=>{yv.getPane(l).each(d=>{a(l)(QH(d.element.dom))})})},LW=(t,s)=>NP(t,s,yv.getOnShow),e9=(t,s)=>NP(t,s,yv.getOnHide);var bv=ea({factory:(t,s)=>{const g={setViews:(h,k)=>{Dn.set(h,[YH(k,s.backstage.shared.providers)])},whichView:h=>ro.getCurrent(h).bind(zw),toggleView:(h,k,_,E)=>ro.getCurrent(h).exists(O=>{const M=zw(O),$=M.exists(G=>E===G),H=Bc.getSlot(O,E).isSome();return H&&(Bc.hideAllSlots(O),$?(JH(h),k()):(_(),RP(h),Bc.showSlot(O,E),LW(O,E)),M.each(G=>e9(O,G))),H})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:bt([Dn.config({}),ro.config({find:h=>{const k=Dn.contents(h);return Go(k)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[Pe("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,l,d)=>t.toggleView(s,a,l,d),whichView:(t,s)=>t.whichView(s)}});const t9=(t,s,a)=>{let l=!1;const d={getSocket:g=>Ma.getPart(g,t,"socket"),setSidebar:(g,h,k)=>{Ma.getPart(g,t,"sidebar").each(_=>vH(_,h,k))},toggleSidebar:(g,h)=>{Ma.getPart(g,t,"sidebar").each(k=>dP(k,h))},whichSidebar:g=>Ma.getPart(g,t,"sidebar").bind(fP).getOrNull(),getHeader:g=>Ma.getPart(g,t,"header"),getToolbar:g=>Ma.getPart(g,t,"toolbar"),setToolbar:(g,h)=>{Ma.getPart(g,t,"toolbar").each(k=>{const _=Ee(h,GS);k.getApis().setGroups(k,_)})},setToolbars:(g,h)=>{Ma.getPart(g,t,"multiple-toolbar").each(k=>{const _=Ee(h,E=>Ee(E,GS));HB.setItems(k,_)})},refreshToolbar:g=>{Ma.getPart(g,t,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:g=>{Ma.getPart(g,t,"toolbar").each(h=>{Vo(h.getApis().toggle,k=>k(h))})},toggleToolbarDrawerWithoutFocusing:g=>{Ma.getPart(g,t,"toolbar").each(h=>{Vo(h.getApis().toggleWithoutFocusing,k=>k(h))})},isToolbarDrawerToggled:g=>Ma.getPart(g,t,"toolbar").bind(h=>A.from(h.getApis().isOpen).map(k=>k(h))).getOr(!1),getThrobber:g=>Ma.getPart(g,t,"throbber"),focusToolbar:g=>{Ma.getPart(g,t,"toolbar").orThunk(()=>Ma.getPart(g,t,"multiple-toolbar")).each(k=>{mn.focusIn(k)})},setMenubar:(g,h)=>{Ma.getPart(g,t,"menubar").each(k=>{L3.setMenus(k,h)})},focusMenubar:g=>{Ma.getPart(g,t,"menubar").each(h=>{L3.focus(h)})},setViews:(g,h)=>{Ma.getPart(g,t,"viewWrapper").each(k=>{bv.setViews(k,h)})},toggleView:(g,h)=>Ma.getPart(g,t,"viewWrapper").exists(k=>bv.toggleView(k,()=>d.showMainView(g),()=>d.hideMainView(g),h)),whichView:g=>Ma.getPart(g,t,"viewWrapper").bind(bv.whichView).getOrNull(),hideMainView:g=>{l=d.isToolbarDrawerToggled(g),l&&d.toggleToolbarDrawer(g),Ma.getPart(g,t,"editorContainer").each(h=>{const k=h.element;xt(k,"display","none"),Mn(k,"aria-hidden","true")})},showMainView:g=>{l&&d.toggleToolbarDrawer(g),Ma.getPart(g,t,"editorContainer").each(h=>{const k=h.element;vo(k,"display"),W(k,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:d,behaviours:t.behaviours}},KS=Fm.optional({factory:L3,name:"menubar",schema:[Pe("backstage")]}),MP=t=>t.type===wu.sliding?xP:t.type===wu.floating?SP:Aw,BP=Fm.optional({factory:{sketch:t=>HB.sketch({uid:t.uid,dom:t.dom,listBehaviours:bt([mn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Aw({type:t.type,uid:Vt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),A.some(!0))}),setupItem:(s,a,l,d)=>{Hf.setGroups(a,l)},shell:!0})},name:"multiple-toolbar",schema:[Pe("dom"),Pe("onEscape")]}),ez=Fm.optional({factory:{sketch:t=>{const s=MP(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),A.some(!0)),onToggled:(l,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[Pe("dom"),Pe("onEscape"),Pe("getSink")]}),n9=Fm.optional({factory:{sketch:rP},name:"header",schema:[Pe("dom")]}),PP=Fm.optional({factory:{sketch:$S},name:"promotion",schema:[Pe("dom")]}),vv=Fm.optional({name:"socket",schema:[Pe("dom")]}),$P=Fm.optional({factory:{sketch:FS},name:"sidebar",schema:[Pe("dom")]}),o9=Fm.optional({factory:{sketch:xH},name:"throbber",schema:[Pe("dom")]}),s9=Fm.optional({factory:bv,name:"viewWrapper",schema:[Pe("backstage")]}),r9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),tz=Fm.optional({factory:{sketch:r9},name:"editorContainer",schema:[]});var Ls=_a({name:"OuterContainer",factory:t9,configFields:[Pe("dom"),Pe("behaviours")],partFields:[n9,KS,ez,BP,vv,$P,PP,o9,s9,tz],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,l)=>{t.setSidebar(s,a,l)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const a9="file edit view insert format tools table help",nz={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},IP=(t,s,a)=>{const l=qE(a).split(/[ ,]/);return{text:t.title,getItems:()=>he(t.items,d=>{const g=d.toLowerCase();return g.trim().length===0?[]:is(l,h=>h===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},kv=t=>t.split(" "),XS=(t,s)=>{const a={...nz,...s.menus},l=_o(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?kv(a9):kv(s.menubar===!1?"":s.menubar),g=je(d,k=>{const _=po(nz,k);return l?_||it(s.menus,k).exists(E=>po(E,"items")):_}),h=Ee(g,k=>{const _=a[k];return IP({title:_.title,items:kv(_.items)},s,t)});return je(h,k=>{const _=E=>yt(E)||E.type!=="separator";return k.getItems().length>0&&is(k.getItems(),_)})},FP=t=>{const s=()=>{t._skinLoaded=!0,ih(t)};return()=>{t.initialized?s():t.on("init",s)}},c9=(t,s)=>()=>UF(t,{message:s}),oz=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),l9=(t,s)=>{const a=s+"/skin.min.css";return oz(t,a,t.ui.styleSheetLoader)},i9=(t,s)=>{if(ht(fe.fromDom(t.getElement()))){const l=s+"/skin.shadowdom.min.css";return oz(t,l,Ry.DOM.styleSheetLoader)}else return Promise.resolve()},LP=(t,s)=>{const a=ED(s);return a&&s.contentCSS.push(a+(t?"/content.inline":"/content")+".min.css"),!JE(s)&&yt(a)?Promise.all([l9(s,a),i9(s,a)]).then(FP(s),c9(s,"Skin could not be loaded")):Promise.resolve(FP(s)())},HP=nn(LP,!1),u9=nn(LP,!0),d9=(t,s,a)=>{const l=(k,_,E,O)=>{const M=s.shared.providers.translate(k.title);if(k.type==="separator")return A.some({type:"separator",text:M});if(k.type==="submenu"){const $=he(k.getStyleItems(),H=>d(H,_,O));return _===0&&$.length<=0?A.none():A.some({type:"nestedmenuitem",text:M,enabled:$.length>0,getSubmenuItems:()=>he(k.getStyleItems(),H=>d(H,_,O))})}else return A.some({type:"togglemenuitem",text:M,icon:k.icon,active:k.isSelected(O),enabled:!E,onAction:a.onAction(k),...k.getStylePreview().fold(()=>({}),$=>({meta:{style:$}}))})},d=(k,_,E)=>{const O=k.type==="formatter"&&a.isInvalid(k);return _===0?O?[]:l(k,_,!1,E).toArray():l(k,_,O,E).toArray()},g=k=>{const _=a.getCurrentValue(),E=a.shouldHide?0:1;return he(k,O=>d(O,E,_))};return{validateItems:g,getFetch:(k,_)=>(E,O)=>{const M=_(),$=g(M),H=iv($,ji.CLOSE_ON_EXECUTE,k,{isHorizontalMenu:!1,search:A.none()});O(H)}}},bh=(t,s,a)=>{const l=a.dataset,d=l.type==="basic"?()=>Ee(l.data,g=>SB(g,a.isSelectedFor,a.getPreviewFor)):l.getData;return{items:d9(t,s,a),getStyleItems:d}},Ow=(t,s,a)=>{const{items:l,getStyleItems:d}=bh(t,s,a),g=k=>({getComponent:Y(k)}),h=jy(t,"NodeChange",k=>{const _=k.getComponent();a.updateText(_),vn.set(k.getComponent(),!t.selection.isEditable())});return uS({text:a.icon.isSome()?A.none():a.text,icon:a.icon,tooltip:A.from(a.tooltip),role:A.none(),fetch:l.getFetch(s,d),onSetup:h,getApi:g,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},f9=t=>Ee(t,s=>{let a=s,l=s;const d=s.split("=");return d.length>1&&(a=d[0],l=d[1]),{title:a,format:l}}),VP=t=>({type:"basic",data:t});var wv;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(wv||(wv={}));const UP=(t,s)=>s===wv.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),sz=(t,s,a)=>{const l=t.options.get(s);return{type:"basic",data:f9(UP(l,a))}},YS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],jP=t=>{const s=()=>Ae(YS,k=>t.formatter.match(k.format)),a=k=>()=>t.formatter.match(k),l=k=>A.none,d=k=>{const E=s().fold(Y("left"),O=>O.title.toLowerCase());an(k,ph,{icon:`align-${E}`})},g=VP(YS),h=k=>()=>Ae(YS,_=>_.format===k.format).each(_=>t.execCommand(_.command));return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:a,getCurrentValue:A.none,getPreviewFor:l,onAction:h,updateText:d,dataset:g,shouldHide:!1,isInvalid:k=>!t.formatter.canApply(k.format)}},m9=(t,s)=>Ow(t,s,jP(t)),g9=(t,s)=>{const a=bh(t,s,jP(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:pl(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},rz=(t,s)=>{const a=s(),l=Ee(a,d=>d.format);return A.from(t.formatter.closest(l)).bind(d=>Ae(a,g=>g.format===d)).orThunk(()=>yn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},WP=t=>{const s="Paragraph",a=h=>()=>t.formatter.match(h),l=h=>()=>{const k=t.formatter.get(h);return k?A.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):A.none()},d=h=>{const _=rz(t,()=>g.data).fold(Y(s),E=>E.title);an(h,td,{text:_})},g=sz(t,"block_formats",wv.SemiColon);return{tooltip:"Blocks",text:A.some(s),icon:A.none(),isSelectedFor:a,getCurrentValue:A.none,getPreviewFor:l,onAction:NC(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:h=>!t.formatter.canApply(h.format)}},p9=(t,s)=>Ow(t,s,WP(t)),h9=(t,s)=>{const a=bh(t,s,WP(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:pl(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},az=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],JS=t=>{const s=t.split(/\s*,\s*/);return Ee(s,a=>a.replace(/^['"]+|['"]+$/g,""))},y9=t=>{const s=()=>{const a=JS(t.toLowerCase());return Ye(az,l=>a.indexOf(l.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},ZP=t=>{const s="System Font",a=()=>{const E=G=>G?JS(G)[0]:"",O=t.queryCommandValue("FontName"),M=_.data,$=O?O.toLowerCase():"";return{matchOpt:Ae(M,G=>{const se=G.format;return se.toLowerCase()===$||E(se).toLowerCase()===E($).toLowerCase()}).orThunk(()=>yn(y9($),{title:s,format:$})),font:O}},l=E=>O=>O.exists(M=>M.format===E),d=()=>{const{matchOpt:E}=a();return E},g=E=>()=>A.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}}),h=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,E.format)})},k=E=>{const{matchOpt:O,font:M}=a(),$=O.fold(Y(M),H=>H.title);an(E,td,{text:$})},_=sz(t,"font_family_formats",wv.SemiColon);return{tooltip:"Fonts",text:A.some(s),icon:A.none(),isSelectedFor:l,getCurrentValue:d,getPreviewFor:g,onAction:h,updateText:k,dataset:_,shouldHide:!1,isInvalid:st}},b9=(t,s)=>Ow(t,s,ZP(t)),v9=(t,s)=>{const a=bh(t,s,ZP(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:pl(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},k9={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},w9=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),l="\\.",d=k=>`(?:${k})?`,h=`[+-]?(?:${["Infinity",t+l+d(t)+d(a),l+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${h})(.*)$`)})(),_9=(t,s)=>is(s,a=>is(k9[a],l=>t===l)),QS=(t,s)=>A.from(w9.exec(t)).bind(l=>{const d=Number(l[1]),g=l[2];return _9(g,s)?A.some({value:d,unit:g}):A.none()}),C9=(t,s)=>QS(t,s).map(({value:a,unit:l})=>a+l),cz={tab:Y(9),escape:Y(27),enter:Y(13),backspace:Y(8),delete:Y(46),left:Y(37),up:Y(38),right:Y(39),down:Y(40),space:Y(32),home:Y(36),end:Y(35),pageUp:Y(33),pageDown:Y(34)},ex=(t,s,a)=>{let l=A.none();const d=me=>me.map(Ue=>Pt.getValue(Ue)).getOr(""),g=jy(t,"NodeChange",me=>{const Ue=me.getComponent();l=A.some(Ue),a.updateInputValue(Ue),vn.set(Ue,!t.selection.isEditable())}),h=me=>({getComponent:Y(me)}),k=hn(re),_=Vt("custom-number-input-events"),E=(me,Ue,Ge)=>{const St=d(l),ot=a.getNewValue(St,me),zt=St.length-`${ot}`.length,on=l.map(Jt=>Jt.element.dom.selectionStart-zt),bo=l.map(Jt=>Jt.element.dom.selectionEnd-zt);a.onAction(ot,Ge),l.each(Jt=>{Pt.setValue(Jt,ot),Ue&&(on.each(fo=>Jt.element.dom.selectionStart=fo),bo.each(fo=>Jt.element.dom.selectionEnd=fo))})},O=(me,Ue)=>E((Ge,St)=>Ge-St,me,Ue),M=(me,Ue)=>E((Ge,St)=>Ge+St,me,Ue),$=me=>za(me.element).fold(A.none,Ue=>($i(Ue),A.some(!0))),H=me=>Rd(me.element)?(Ru(me.element).each(Ue=>$i(Ue)),A.some(!0)):A.none(),G=(me,Ue,Ge,St)=>{const ot=s.shared.providers.translate(Ge),zt=Vt("altExecuting"),on=jy(t,"NodeChange",Jt=>{vn.set(Jt.getComponent(),!t.selection.isEditable())}),bo=Jt=>{vn.isDisabled(Jt)||me(!0)};return na.sketch({dom:{tag:"button",attributes:{title:ot,"aria-label":ot},classes:St.concat(Ue)},components:[Qd(Ue,s.shared.providers.icons)],buttonBehaviours:bt([vn.config({}),Wn(zt,[ch({onSetup:on,getApi:h},k),lh({getApi:h},k),et(ul(),(Jt,fo)=>{(fo.event.raw.keyCode===cz.space()||fo.event.raw.keyCode===cz.enter())&&(vn.isDisabled(Jt)||me(!1))}),et(Mi(),bo),et(kf(),bo)])]),eventOrder:{[ul()]:[zt,"keying"],[Mi()]:[zt,"alloy.base.behaviour"],[kf()]:[zt,"alloy.base.behaviour"]}})},se=hs(G(me=>O(!1,me),"minus","Decrease font size",["highlight-on-focus"])),_e=hs(G(me=>M(!1,me),"plus","Increase font size",["highlight-on-focus"])),ve=hs({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Mg.sketch({inputBehaviours:bt([vn.config({}),Wn(_,[ch({onSetup:g,getApi:h},k),lh({getApi:h},k)]),Wn("input-update-display-text",[et(td,(me,Ue)=>{Pt.setValue(me,Ue.event.text)}),et(Ni(),me=>{a.onAction(Pt.getValue(me))}),et(ip(),me=>{a.onAction(Pt.getValue(me))})]),mn.config({mode:"special",onEnter:me=>(E(gn,!0,!0),A.some(!0)),onEscape:$,onUp:me=>(M(!0,!1),A.some(!0)),onDown:me=>(O(!0,!1),A.some(!0)),onLeft:(me,Ue)=>(Ue.cut(),A.none()),onRight:(me,Ue)=>(Ue.cut(),A.none())})])})],behaviours:bt([wn.config({}),mn.config({mode:"special",onEnter:H,onSpace:H,onEscape:$}),Wn("input-wrapper-events",[et(Hu(),me=>{Je([se,_e],Ue=>{const Ge=fe.fromDom(Ue.get(me).element.dom);Rd(Ge)&&Rc(Ge)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[se.asSpec(),ve.asSpec(),_e.asSpec()],behaviours:bt([wn.config({}),mn.config({mode:"flow",focusInside:Og.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:me=>Rd(me.element)?A.none():($i(me.element),A.some(!0))})])}},lz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},qP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},vh=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},GP=(t,s)=>/[0-9.]+px$/.test(t)?vh(parseInt(t,10)*72/96,s||0)+"pt":it(qP,t).getOr(t),S9=t=>it(lz,t).getOr(""),KP=t=>{const s=()=>{let _=A.none();const E=k.data,O=t.queryCommandValue("FontSize");if(O)for(let M=3;_.isNone()&&M>=0;M--){const $=GP(O,M),H=S9($);_=Ae(E,G=>G.format===O||G.format===$||G.format===H)}return{matchOpt:_,size:O}},a=_=>E=>E.exists(O=>O.format===_),l=()=>{const{matchOpt:_}=s();return _},d=Y(A.none),g=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,_.format)})},h=_=>{const{matchOpt:E,size:O}=s(),M=E.fold(Y(O),$=>$.title);an(_,td,{text:M})},k=sz(t,"font_size_formats",wv.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:l,onAction:g,updateText:h,dataset:k,shouldHide:!1,isInvalid:st}},x9=(t,s)=>Ow(t,s,KP(t)),T9=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},E9=16,A9=t=>t>=0,z9=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:l=>an(l,td,{text:s()}),onAction:(l,d)=>t.execCommand("FontSize",!1,l,{skip_focus:!d}),getNewValue:(l,d)=>{QS(l,["unsupportedLength","empty"]);const g=QS(l,["unsupportedLength","empty"]).or(QS(s(),["unsupportedLength","empty"])),h=g.map(O=>O.value).getOr(E9),k=XE(t),_=g.map(O=>O.unit).filter(O=>O!=="").getOr(k),E=d(h,T9(_).step);return`${A9(E)?E:h}${_}`}}},XP=(t,s)=>ex(t,s,z9(t)),O9=(t,s)=>{const a=bh(t,s,KP(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:pl(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},YP=(t,s)=>{const a="Paragraph",l=h=>()=>t.formatter.match(h),d=h=>()=>{const k=t.formatter.get(h);return k!==void 0?A.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):A.none()},g=h=>{const k=M=>bB(M)?he(M.items,k):g3(M)?[{title:M.title,format:M.format}]:[],_=he(_B(t),k),O=rz(t,Y(_)).fold(Y(a),M=>M.title);an(h,td,{text:O})};return{tooltip:"Formats",text:A.some(a),icon:A.none(),isSelectedFor:l,getCurrentValue:A.none,getPreviewFor:d,onAction:NC(t),updateText:g,shouldHide:uC(t),isInvalid:h=>!t.formatter.canApply(h.format),dataset:s}},iz=(t,s)=>{const a={type:"advanced",...s.styles};return Ow(t,s,YP(t,a))},D9=(t,s)=>{const a={type:"advanced",...s.styles},l=bh(t,s,YP(t,a));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:pl(t),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},R9=Y([Pe("toggleClass"),Pe("fetch"),Cm("onExecute"),we("getHotspot",A.some),we("getAnchorOverrides",Y({})),Ef(),Cm("onItemExecute"),jo("lazySink"),Pe("dom"),lo("onOpen"),_r("splitDropdownBehaviours",[Pr,mn,wn]),we("matchWidth",!1),we("useMinWidth",!1),we("eventOrder",{}),jo("role")].concat(n4())),N9=Zr({factory:na,schema:[Pe("dom")],name:"arrow",defaults:()=>({buttonBehaviours:bt([wn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(dm)},buttonBehaviours:bt([Qn.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),M9=Zr({factory:na,schema:[Pe("dom")],name:"button",defaults:()=>({buttonBehaviours:bt([wn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),B9=Y([N9,M9,Hi({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Pe("text")],name:"aria-descriptor"}),bu({schema:[Od()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(l=>{t.onItemExecute(l,s,a)})}})}),JA()]),P9=(t,s,a,l)=>{const d=O=>{ro.getCurrent(O).each(M=>{Lo.highlightFirst(M),mn.focusIn(M)})},g=O=>{e4(t,gn,O,l,d,Xl.HighlightMenuAndItem).get(re)},h=O=>(g(O),A.some(!0)),k=O=>{const M=Nf(O,t,"button");return dm(M),A.some(!0)},_={...Ks([Xs((O,M)=>{Ps(O,t,"aria-descriptor").each(H=>{const G=Vt("aria");Mn(H.element,"id",G),Mn(O.element,"aria-describedby",G)})})]),...tC(A.some(g))},E={repositionMenus:O=>{Qn.isOn(O)&&fN(O)}};return{uid:t.uid,dom:t.dom,components:s,apis:E,eventOrder:{...t.eventOrder,[ri()]:["disabling","toggling","alloy.base.behaviour"]},events:_,behaviours:Wr(t.splitDropdownBehaviours,[Pr.config({others:{sandbox:O=>{const M=Nf(O,t,"arrow");return t4(t,O,{onOpen:()=>{Qn.on(M),Qn.on(O)},onClose:()=>{Qn.off(M),Qn.off(O)}})}}}),mn.config({mode:"special",onSpace:k,onEnter:k,onDown:h}),wn.config({}),Qn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Dw=_a({name:"SplitDropdown",configFields:R9(),partFields:B9(),factory:P9,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),uz=t=>({isEnabled:()=>!vn.isDisabled(t),setEnabled:s=>vn.set(t,!s),setText:s=>an(t,td,{text:s}),setIcon:s=>an(t,ph,{icon:s})}),JP=t=>({setActive:s=>{Qn.set(t,s)},isActive:()=>Qn.isOn(t),isEnabled:()=>!vn.isDisabled(t),setEnabled:s=>vn.set(t,!s),setText:s=>an(t,td,{text:s}),setIcon:s=>an(t,ph,{icon:s})}),QP=(t,s)=>t.map(a=>({"aria-label":s.translate(a),title:s.translate(a)})).getOr({}),dz=Vt("focus-button"),fz=(t,s,a,l,d)=>{const g=s.map(k=>hs(TM(k,"tox-tbtn",d))),h=t.map(k=>hs(Lf(k,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:QP(a,d)},components:j1([h.map(k=>k.asSpec()),g.map(k=>k.asSpec())]),eventOrder:{[oo()]:["focusing","alloy.base.behaviour",Qy],[xl()]:[Qy,"toolbar-group-button-events"]},buttonBehaviours:bt([qd.toolbarButton(d.isDisabled),Wa(),Wn(Qy,[Xs((k,_)=>iS(k)),et(td,(k,_)=>{g.bind(E=>E.getOpt(k)).each(E=>{Dn.set(E,[Ur(d.translate(_.event.text))])})}),et(ph,(k,_)=>{h.bind(E=>E.getOpt(k)).each(E=>{Dn.set(E,[Lf(_.event.icon,d.icons)])})}),et(oo(),(k,_)=>{_.event.prevent(),es(k,dz)})])].concat(l.getOr([])))}},$9=(t,s,a,l)=>{const d=s.shared,g=hn(re),h={toolbarButtonBehaviours:[],getApi:uz,onSetup:t.onSetup},k=[Wn("toolbar-group-button-events",[ch(h,g),lh(h,g)])];return yh.sketch({lazySink:d.getSink,fetch:()=>nl.nu(_=>{_(Ee(a(t.items),GS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:fz(t.icon,t.text,t.tooltip,A.some(k),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:l}}}})},e5=(t,s,a)=>{var l;const d=hn(re),g=fz(t.icon,t.text,t.tooltip,A.none(),a);return na.sketch({dom:g.dom,components:g.components,eventOrder:SM,buttonBehaviours:{...bt([Wn("toolbar-button-events",[p8({onAction:t.onAction,getApi:s.getApi}),ch(s,d),lh(s,d)]),qd.toolbarButton(()=>!t.enabled||a.isDisabled()),Wa()].concat(s.toolbarButtonBehaviours)),[Qy]:(l=g.buttonBehaviours)===null||l===void 0?void 0:l[Qy]}})},t5=(t,s)=>n5(t,s,[]),n5=(t,s,a)=>e5(t,{toolbarButtonBehaviours:a.length>0?[Wn("toolbarButtonWith",a)]:[],getApi:uz,onSetup:t.onSetup},s),o5=(t,s)=>s5(t,s,[]),s5=(t,s,a)=>e5(t,{toolbarButtonBehaviours:[Dn.config({}),Qn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Wn("toolbarToggleButtonWith",a)]:[]),getApi:JP,onSetup:t.onSetup},s),I9=(t,s,a)=>l=>nl.nu(d=>s.fetch(d)).map(d=>A.from(a4(Ms(dh(Vt("menu-value"),d,g=>{s.onItemAction(t(l),g)},s.columns,s.presets,ji.CLOSE_ON_EXECUTE,s.select.getOr(st),a),{movement:ew(s.columns,s.presets),menuBehaviours:Uk.unnamedEvents(s.columns!=="auto"?[]:[Xs((g,h)=>{AC(g,4,PD(s.presets)).each(({numRows:k,numColumns:_})=>{mn.setGridSize(g,k,_)})})])})))),F9=(t,s)=>{const a=g=>({isEnabled:()=>!vn.isDisabled(g),setEnabled:h=>vn.set(g,!h),setIconFill:(h,k)=>{Qr(g.element,`svg path[class="${h}"], rect[class="${h}"]`).each(_=>{Mn(_,"fill",k)})},setActive:h=>{Mn(g.element,"aria-pressed",h),Qr(g.element,"span").each(k=>{g.getSystem().getByDom(k).each(_=>Qn.set(_,h))})},isActive:()=>Qr(g.element,"span").exists(h=>g.getSystem().getByDom(h).exists(Qn.isOn)),setText:h=>Qr(g.element,"span").each(k=>g.getSystem().getByDom(k).each(_=>an(_,td,{text:h}))),setIcon:h=>Qr(g.element,"span").each(k=>g.getSystem().getByDom(k).each(_=>an(_,ph,{icon:h})))}),l=hn(re),d={getApi:a,onSetup:t.onSetup};return Dw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...QP(t.tooltip,s.providers)}},onExecute:g=>{const h=a(g);h.isEnabled()&&t.onAction(h)},onItemExecute:(g,h,k)=>{},splitDropdownBehaviours:bt([qd.splitButton(s.providers.isDisabled),Wa(),Wn("split-dropdown-events",[Xs((g,h)=>iS(g)),et(dz,wn.focus),ch(d,l),lh(d,l)]),aw.config({})]),eventOrder:{[xl()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:I9(a,t,s.providers),parts:{menu:wC(!1,t.columns,t.presets)},components:[Dw.parts.button(fz(t.icon,t.text,A.none(),A.some([Qn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Dw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:uD("chevron-down",s.providers.icons)},buttonBehaviours:bt([qd.splitButton(s.providers.isDisabled),Wa(),sC()])}),Dw.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},L9=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Rw=(t,s)=>(a,l,d)=>{const g=t(a).mapError(h=>cm(h)).getOrDie();return s(g,l,d)},H9={button:Rw(eR,(t,s)=>t5(t,s.shared.providers)),togglebutton:Rw(nR,(t,s)=>o5(t,s.shared.providers)),menubutton:Rw(cP,(t,s)=>dv(t,"tox-tbtn",s,A.none(),!1)),splitbutton:Rw(uH,(t,s)=>F9(t,s.shared)),grouptoolbarbutton:Rw(cH,(t,s,a)=>{const l=a.ui.registry.getAll().buttons,d=h=>Nw(a,{buttons:l,toolbar:h,allowToolbarGroups:!1},s,A.none()),g={[dg]:s.shared.header.isPositionedAtTop()?Md.TopToBottom:Md.BottomToTop};switch(sh(a)){case wu.floating:return $9(t,s,d,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},r5=(t,s,a)=>it(H9,t.type).fold(()=>(console.error("skipping button defined by",t),A.none()),l=>A.some(l(t,s,a))),a5={styles:iz,fontsize:x9,fontsizeinput:XP,fontfamily:b9,blocks:p9,align:m9},V9=t=>{const s=Ee(L9,a=>{const l=je(a.items,d=>po(t,d)||po(a5,d));return{name:a.name,items:l}});return je(s,a=>a.items.length>0)},U9=t=>{const s=t.split("|");return Ee(s,a=>({items:a.trim().split(" ")}))},j9=t=>vt(t,s=>po(s,"name")&&po(s,"items")),W9=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?V9(a):yt(s)?U9(s):j9(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},c5=(t,s,a,l,d,g)=>it(s,a.toLowerCase()).orThunk(()=>g.bind(h=>Ko(h,k=>it(s,k+a.toLowerCase())))).fold(()=>it(a5,a.toLowerCase()).map(h=>h(t,d)),h=>h.type==="grouptoolbarbutton"&&!l?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none()):r5(h,d,t)),Nw=(t,s,a,l)=>{const d=W9(s),g=Ee(d,h=>{const k=he(h.items,_=>_.trim().length===0?[]:c5(t,s.buttons,_,s.allowToolbarGroups,a,l).toArray());return{title:A.from(t.translate(h.name)),items:k}});return je(g,h=>h.items.length>0)},mz=(t,s,a,l)=>{const d=s.mainUi.outerContainer,g=a.toolbar,h=a.buttons;if(vt(g,yt)){const k=g.map(_=>{const E={toolbar:_,buttons:h,allowToolbarGroups:a.allowToolbarGroups};return Nw(t,E,l,A.none())});Ls.setToolbars(d,k)}else Ls.setToolbar(d,Nw(t,a,l,A.none()))},gz=Da(),Z9=gz.os.isiOS()&&gz.os.version.major<=12,l5=(t,s)=>{const{uiMotherships:a}=s,l=t.dom;let d=t.getWin();const g=t.getDoc().documentElement,h=hn(Zs(d.innerWidth,d.innerHeight)),k=hn(Zs(g.offsetWidth,g.offsetHeight)),_=()=>{const $=h.get();($.left!==d.innerWidth||$.top!==d.innerHeight)&&(h.set(Zs(d.innerWidth,d.innerHeight)),Yl(t))},E=()=>{const $=t.getDoc().documentElement,H=k.get();(H.left!==$.offsetWidth||H.top!==$.offsetHeight)&&(k.set(Zs($.offsetWidth,$.offsetHeight)),Yl(t))},O=$=>{BA(t,$)};l.bind(d,"resize",_),l.bind(d,"scroll",O);const M=A0(fe.fromDom(t.getBody()),"load",E);t.on("hide",()=>{Je(a,$=>{xt($.element,"display","none")})}),t.on("show",()=>{Je(a,$=>{vo($.element,"display")})}),t.on("NodeChange",E),t.on("remove",()=>{M.unbind(),l.unbind(d,"resize",_),l.unbind(d,"scroll",O),d=null})},q9=(t,s,a)=>{rh(t)&&bg(a.mainUi.mothership.element,a.popupUi.mothership),m1(s,a.dialogUi.mothership)};var K9=Object.freeze({__proto__:null,render:async(t,s,a,l,d)=>{const{mainUi:g,uiMotherships:h}=s,k=hn(0),_=g.outerContainer;await HP(t);const E=fe.fromDom(d.targetNode),O=Oe(ge(E));bg(E,g.mothership),q9(t,O,s),t.on("PostRender",()=>{Ls.setSidebar(_,a.sidebar,Rk(t)),mz(t,s,a,l),k.set(t.getWin().innerWidth),Ls.setMenubar(_,XS(t,a)),Ls.setViews(_,a.views),l5(t,s)});const M=Ls.getSocket(_).getOrDie("Could not find expected socket element");if(Z9){ms(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const se=yw(()=>{t.dispatch("ScrollContent")},20),_e=Nc(M.element,"scroll",se.throttle);t.on("remove",_e.unbind)}EA(t,s),t.addCommand("ToggleSidebar",(se,_e)=>{Ls.toggleSidebar(_,_e),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var se;return(se=Ls.whichSidebar(_))!==null&&se!==void 0?se:""}),t.addCommand("ToggleView",(se,_e)=>{if(Ls.toggleView(_,_e)){const ve=_.element;g.mothership.broadcastOn([Of()],{target:ve}),Je(h,me=>{me.broadcastOn([Of()],{target:ve})}),ls(Ls.whichView(_))&&(t.focus(),t.nodeChanged(),Ls.refreshToolbar(_))}}),t.addQueryValueHandler("ToggleView",()=>{var se;return(se=Ls.whichView(_))!==null&&se!==void 0?se:""});const $=sh(t),H=()=>{Ls.refreshToolbar(s.mainUi.outerContainer)};($===wu.sliding||$===wu.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const se=t.getWin().innerWidth;se!==k.get()&&(H(),k.set(se))});const G={setEnabled:se=>{qk(s,!se)},isEnabled:()=>!vn.isDisabled(_)};return{iframeContainer:M.element.dom,editorContainer:_.element.dom,api:G}}});const pz=t=>/^[0-9\.]+(|px)$/i.test(""+t)?A.some(parseInt(""+t,10)):A.none(),hz=t=>Ao(t)?t+"px":t,tx=(t,s,a)=>{const l=s.filter(g=>t<g),d=a.filter(g=>t>g);return l.or(d).getOr(t)},X9=t=>{const s=My(t),a=lC(t),l=WE(t);return pz(s).map(d=>tx(d,a,l))},Y9=t=>X9(t).getOr(My(t)),i5=t=>{const s=H1(t),a=cC(t),l=iC(t);return pz(s).map(d=>tx(d,a,l))},J9=t=>i5(t).getOr(H1(t)),{ToolbarLocation:Mw,ToolbarMode:yz}=VI,Q9=40,eV=(t,s,a,l,d)=>{const{mainUi:g,uiMotherships:h}=a,k=Ry.DOM,_=jd(t),E=By(t),O=iC(t).or(i5(t)),M=l.shared.header,$=M.isPositionedAtTop,H=sh(t),G=H===yz.sliding||H===yz.floating,se=hn(!1),_e=()=>se.get()&&!t.removed,ve=On=>G?On.fold(Y(0),ys=>ys.components().length>1?or(ys.components()[1].element):0):0,me=On=>{switch(dC(t)){case Mw.auto:const ys=Ls.getToolbar(g.outerContainer),Rt=ve(ys),en=or(On.element)-Rt,It=R(s);if(It.y>en)return"top";{const to=vi(s),So=Math.max(to.dom.scrollHeight,or(to));return It.bottom<So-en||ft().bottom<It.bottom-en?"bottom":"top"}case Mw.bottom:return"bottom";case Mw.top:default:return"top"}},Ue=On=>{d.on(ys=>{Ba.setModes(ys,[On]),M.setDockingMode(On);const Rt=$()?Md.TopToBottom:Md.BottomToTop;Mn(ys.element,dg,Rt)})},Ge=()=>{d.on(On=>{const ys=O.getOrThunk(()=>{const Rt=pz(Qe(Oo(),"margin-left")).getOr(0);return Gr(Oo())-gc(s).left+Rt});xt(On.element,"max-width",ys+"px")})},St=On=>{d.on(ys=>{const Rt=Ls.getToolbar(g.outerContainer),en=ve(Rt),It=R(s),{top:Sn,left:to}=ot(t,g.outerContainer.element).fold(()=>({top:$()?Math.max(It.y-or(ys.element)+en,0):It.bottom,left:It.x}),Wo=>{var Nl;const Ar=R(Wo),rd=(Nl=Wo.dom.scrollTop)!==null&&Nl!==void 0?Nl:0,rf=ds(Wo,Oo()),Wg=rf?Math.max(It.y-or(ys.element)+en,0):It.y-Ar.y+rd-or(ys.element)+en;return{top:$()?Wg:It.bottom,left:rf?It.x:It.x-Ar.x}}),So={position:"absolute",left:Math.round(to)+"px",top:Math.round(Sn)+"px"},aa=On.map(Wo=>{const Nl=yc(),Ar=150,rd=window.innerWidth-(to-Nl.left);return{width:Math.max(Math.min(Wo,rd),Ar)+"px"}}).getOr({});ms(g.outerContainer.element,{...So,...aa})})},ot=(On,ys)=>rh(On)?x3(ys):A.none(),zt=()=>{Je(h,On=>{On.broadcastOn([Zp()],{})})},on=()=>{if(_)return A.none();if(gc(g.outerContainer.element).left+Ia(g.outerContainer.element)>=window.innerWidth-Q9||Ss(g.outerContainer.element,"width").isSome()){xt(g.outerContainer.element,"position","absolute"),xt(g.outerContainer.element,"left","0px"),vo(g.outerContainer.element,"width");const ys=Ia(g.outerContainer.element);return A.some(ys)}else return A.none()},bo=On=>{if(!_e())return;_||Ge();const ys=_?A.none():on();G&&Ls.refreshToolbar(g.outerContainer),_||St(ys),E&&d.on(On),zt()},Jt=()=>_||!E||!_e()?!1:d.get().exists(On=>{const ys=M.getDockingMode(),Rt=me(On);return Rt!==ys?(Ue(Rt),!0):!1});return{isVisible:_e,isPositionedAtTop:$,show:()=>{se.set(!0),xt(g.outerContainer.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),Je(h,On=>{vo(On.element,"display")}),Jt(),rh(t)?bo(On=>Ba.isDocked(On)?Ba.reset(On):Ba.refresh(On)):bo(Ba.refresh)},hide:()=>{se.set(!1),xt(g.outerContainer.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus"),Je(h,On=>{xt(On.element,"display","none")})},update:bo,updateMode:()=>{Jt()&&bo(Ba.reset)},repositionPopups:zt}},u5=(t,s)=>{const a=R(t);return{pos:s?a.y:a.bottom,bounds:a}},tV=(t,s,a,l)=>{const d=hn(u5(s,a.isPositionedAtTop())),g=E=>{const{pos:O,bounds:M}=u5(s,a.isPositionedAtTop()),{pos:$,bounds:H}=d.get(),G=M.height!==H.height||M.width!==H.width;d.set({pos:O,bounds:M}),G&&Yl(t,E),a.isVisible()&&($!==O?a.update(Ba.reset):G&&(a.updateMode(),a.repositionPopups()))};l||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Ba.reset)),t.on("NodeChange keydown",E=>{requestAnimationFrame(()=>g(E))});let h=0;const k=bw(()=>a.update(Ba.refresh),33);t.on("ScrollWindow",()=>{const E=yc().left;E!==h&&(h=E,k.throttle()),a.updateMode()}),rh(t)&&t.on("ElementScroll",E=>{a.update(Ba.refresh)});const _=mu();_.set(A0(fe.fromDom(t.getBody()),"load",E=>g(E.raw))),t.on("remove",()=>{_.clear()})};var d5=Object.freeze({__proto__:null,render:async(t,s,a,l,d)=>{const{mainUi:g}=s,h=Os(),k=fe.fromDom(d.targetNode),_=eV(t,k,s,l,h),E=yD(t);await u9(t);const O=()=>{if(h.isSet()){_.show();return}h.set(Ls.getHeader(g.outerContainer).getOrDie());const $=eA(t);rh(t)?(bg(k,g.mothership),bg(k,s.popupUi.mothership)):m1($,g.mothership),m1($,s.dialogUi.mothership),mz(t,s,a,l),Ls.setMenubar(g.outerContainer,XS(t,a)),_.show(),tV(t,k,_,E),t.nodeChanged()};t.on("show",O),t.on("hide",_.hide),E||(t.on("focus",O),t.on("blur",_.hide)),t.on("init",()=>{(t.hasFocus()||E)&&O()}),EA(t,s);const M={show:O,hide:_.hide,setEnabled:$=>{qk(s,!$)},isEnabled:()=>!vn.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:M}}});const nV=()=>{const t=Os(),s=Os(),a=Os();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(k=>k.mothership),h=s.get().map(k=>k.mothership);return g.fold(()=>h.toArray(),k=>h.fold(()=>[k],_=>ds(k.element,_.element)?[k]:[k,_]))},lazyGetInOuterOrDie:(g,h)=>()=>a.get().bind(k=>h(k.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},oV="contexttoolbar-show",bz="contexttoolbar-hide",sV=t=>({hide:()=>es(t,im()),getValue:()=>Pt.getValue(t)}),vz=(t,s)=>et(CM,(a,l)=>{const d=t.get(a),g=sV(d);s.onAction(g,l.event.buttonApi)}),f5=(t,s,a)=>{const{primary:l,...d}=s.original,g=Qo(eR({...d,type:"button",onAction:re}));return n5(g,a,[vz(t,s)])},rV=(t,s,a)=>{const{primary:l,...d}=s.original,g=Qo(nR({...d,type:"togglebutton",onAction:re}));return s5(g,a,[vz(t,s)])},aV=t=>t.type==="contextformtogglebutton",cV=(t,s,a)=>aV(s)?rV(t,s,a):f5(t,s,a),_v=(t,s,a)=>{const l=Ee(s,h=>hs(cV(t,h,a)));return{asSpecs:()=>Ee(l,h=>h.asSpec()),findPrimary:h=>Ko(s,(k,_)=>k.primary?A.from(l[_]).bind(E=>E.getOpt(h)).filter(Le(vn.isDisabled)):A.none())}},m5=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),l=hs(Mg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:bt([mn.config({mode:"special",onEnter:g=>d.findPrimary(g).map(h=>(dm(h),!0)),onLeft:(g,h)=>(h.cut(),A.none()),onRight:(g,h)=>(h.cut(),A.none())})])})),d=_v(l,t.commands,s);return[{title:A.none(),items:[l.asSpec()]},{title:A.none(),items:d.asSpecs()}]},lV={renderContextForm:(t,s,a)=>Aw({type:t,uid:Vt("context-toolbar"),initGroups:m5(s,a),onEscape:A.none,cyclicKeying:!0,providers:a}),buildInitGroups:m5},g5=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,iV=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=wi(fe.fromDom(t.startContainer),t.startOffset).element;return(Ea(a)?Pa(a):A.some(a)).filter($o).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},kz=t=>{const s=t.selection.getRng(),a=iV(s);if(t.inline){const l=yc();return T(l.left+a.left,l.top+a.top,a.width,a.height)}else{const l=V(fe.fromDom(t.getBody()));return T(l.x+a.left,l.y+a.top,a.width,a.height)}},uV=(t,s)=>s.filter(a=>Io(a)&&vl(a)).map(V).getOrThunk(()=>kz(t)),dV=(t,s,a)=>{const l=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:l,width:d-l}},wz=(t,s,a,l,d,g)=>{const h=fe.fromDom(t.getContainer()),k=Qr(h,".tox-editor-header").getOr(h),_=R(k),E=_.y>=s.bottom,O=l&&!E;if(t.inline&&O)return{y:Math.max(_.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!O)return{y:a.y,bottom:Math.min(_.y-g,a.bottom)};const M=d==="line"?R(h):s;return O?{y:Math.max(_.bottom+g,a.y),bottom:Math.min(M.bottom-g,a.bottom)}:{y:Math.max(M.y+g,a.y),bottom:Math.min(_.y-g,a.bottom)}},p5=(t,s,a,l=0)=>{const d=mf(window),g=R(fe.fromDom(t.getContentAreaContainer())),h=hC(t)||yC(t)||Nk(t),{x:k,width:_}=dV(g,d,l);if(t.inline&&!h)return T(k,d.y,_,d.height);{const E=s.header.isPositionedAtTop(),{y:O,bottom:M}=wz(t,g,d,E,a,l);return T(k,O,_,M-O)}},nx=12,_z={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Cz={maxHeightFunction:Pp(),maxWidthFunction:HS()},fV=(t,s)=>{const a=t.selection.getRng(),l=wi(fe.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&ds(l.element,s)},mV=(t,s,a)=>{const l=Ss(t,"position");xt(t,"position",s);const d=a(t);return l.each(g=>xt(t,"position",g)),d},h5=t=>t==="node",gV=(t,s,a,l,d)=>{const g=kz(t),h=l.lastElement().exists(k=>ds(a,k));if(fV(t,a))return h?m3:Im;if(h)return mV(s,l.getMode(),()=>g5(g,R(s),-20)&&!l.isReposition()?i7:m3);{const k=l.getMode()==="fixed"?d.y+yc().top:d.y,_=or(s)+nx;return k+_<=g.y?Im:kw}},pV=(t,s,a,l)=>{const d=_=>(E,O,M,$,H)=>{const G=gV(t,$,_,a,H),se={...E,y:H.y,height:H.height};return{...G(se,O,M,$,H),alwaysFit:!0}},g=_=>h5(l)?[d(_)]:[];return s?{onLtr:_=>[jr,Va,ka,zl,Jc,hr].concat(g(_)),onRtl:_=>[jr,ka,Va,Jc,zl,hr].concat(g(_))}:{onLtr:_=>[hr,jr,zl,Va,Jc,ka].concat(g(_)),onRtl:_=>[hr,jr,Jc,ka,zl,Va].concat(g(_))}},hV=(t,s,a,l)=>s==="line"?{bubble:$p(nx,0,_z),layouts:{onLtr:()=>[M_],onRtl:()=>[Qc]},overrides:Cz}:{bubble:$p(0,nx,_z,1/nx),layouts:pV(t,a,l,s),overrides:Cz},ox=(t,s)=>{const a=je(s,g=>g.predicate(t.dom)),{pass:l,fail:d}=dt(a,g=>g.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},yV=t=>{if(t.length<=1)return t;{const s=g=>is(t,h=>h.position===g),a=g=>je(t,h=>h.position===g),l=s("selection"),d=s("node");if(l||d)if(d&&l){const g=a("node"),h=Ee(a("selection"),k=>({...k,position:"node"}));return g.concat(h)}else return a(l?"selection":"node");else return a("line")}},bV=t=>{if(t.length<=1)return t;{const s=l=>Ae(t,d=>d.position===l);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(l=>l.position).fold(()=>[],l=>je(t,d=>d.position===l))}},vV=(t,s,a)=>{const l=ox(t,s);if(l.contextForms.length>0)return A.some({elem:t,toolbars:[l.contextForms[0]]});{const d=ox(t,a);if(d.contextForms.length>0)return A.some({elem:t,toolbars:[d.contextForms[0]]});if(l.contextToolbars.length>0||d.contextToolbars.length>0){const g=yV(l.contextToolbars.concat(d.contextToolbars));return A.some({elem:t,toolbars:g})}else return A.none()}},kV=(t,s,a)=>t(s)?A.none():qs(s,l=>{if($o(l)){const{contextToolbars:d,contextForms:g}=ox(l,a.inNodeScope),h=g.length>0?g:bV(d);return h.length>0?A.some({elem:l,toolbars:h}):A.none()}else return A.none()},t),sx=(t,s)=>{const a=fe.fromDom(s.getBody()),l=h=>ds(h,a),d=h=>!l(h)&&!Hr(a,h),g=fe.fromDom(s.selection.getNode());return d(g)?A.none():vV(g,t.inNodeScope,t.inEditorScope).orThunk(()=>kV(l,g,t))},wV=(t,s)=>{const a={},l=[],d=[],g={},h={},k=(O,M)=>{const $=Qo(lR(M));a[O]=$,$.launch.map(H=>{g["form:"+O]={...M.launch,type:H.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s($)}}}),$.scope==="editor"?d.push($):l.push($),h[O]=$},_=(O,M)=>{_A(M).each($=>{M.scope==="editor"?d.push($):l.push($),h[O]=$})},E=_o(t);return Je(E,O=>{const M=t[O];M.type==="contextform"?k(O,M):M.type==="contexttoolbar"&&_(O,M)}),{forms:a,inNodeScope:l,inEditorScope:d,lookupTable:h,formNavigators:g}},Bw=Vt("forward-slide"),Pw=Vt("backward-slide"),rx=Vt("change-slide-event"),Sz="tox-pop--resizing",_V=t=>{const s=hn([]);return ta.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),ta.getContent(a).each(l=>{vo(l.element,"visibility")}),xs(a.element,Sz),vo(a.element,"width")},inlineBehaviours:bt([Wn("context-toolbar-events",[pp(Mh(),(a,l)=>{l.event.raw.propertyName==="width"&&(xs(a.element,Sz),vo(a.element,"width"))}),et(rx,(a,l)=>{const d=a.element;vo(d,"width");const g=Gr(d);ta.setContent(a,l.event.contents),ba(d,Sz);const h=Gr(d);xt(d,"width",g+"px"),ta.getContent(a).each(k=>{l.event.focus.bind(_=>($i(_),fu(d))).orThunk(()=>(mn.focusIn(k),Nd(ge(d))))}),setTimeout(()=>{xt(a.element,"width",h+"px")},0)}),et(Bw,(a,l)=>{ta.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:Nd(ge(a.element))}]))}),an(a,rx,{contents:l.event.forwardContents,focus:A.none()})}),et(Pw,(a,l)=>{zr(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),an(a,rx,{contents:Pi(d.bar),focus:d.focus})})})]),mn.config({mode:"special",onEscape:a=>zr(s.get()).fold(()=>t.onEscape(),l=>(es(a,Pw),A.some(!0)))})]),lazySink:()=>Yt.value(t.sink)})},xz="tox-pop--transition",CV=(t,s,a,l)=>{const d=l.backstage,g=d.shared,h=Da().deviceType.isTouch,k=Os(),_=Os(),E=Os(),O=va(_V({sink:a,onEscape:()=>(t.focus(),A.some(!0))})),M=()=>{const Jt=E.get().getOr("node"),fo=h5(Jt)?1:0;return p5(t,g,Jt,fo)},$=()=>!t.removed&&!(h()&&d.isContextMenuOpen()),H=Jt=>Fr(xc(Jt,k.get(),ds),!0),G=()=>{if($()){const Jt=M(),fo=Fr(E.get(),"node")?uV(t,k.get()):kz(t);return Jt.height<=0||!g5(fo,Jt,.01)}else return!0},se=()=>{k.clear(),_.clear(),E.clear(),ta.hide(O)},_e=()=>{if(ta.isOpen(O)){const Jt=O.element;vo(Jt,"display"),G()?xt(Jt,"display","none"):(_.set(0),ta.reposition(O))}},ve=Jt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Jt],behaviours:bt([mn.config({mode:"acyclic"}),Wn("pop-dialog-wrap-events",[Xs(fo=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>mn.focusIn(fo))}),iu(fo=>{t.shortcuts.remove("ctrl+F9")})])])}),me=kl(()=>wV(s,Jt=>{const fo=St([Jt]);an(O,Bw,{forwardContents:ve(fo)})})),Ue=(Jt,fo)=>Nw(t,{buttons:Jt,toolbar:fo.items,allowToolbarGroups:!1},l.backstage,A.some(["form:"])),Ge=(Jt,fo)=>lV.buildInitGroups(Jt,fo),St=Jt=>{const{buttons:fo}=t.ui.registry.getAll(),Zn=me(),ko={...fo,...Zn.formNavigators},On=sh(t)===wu.scrolling?wu.scrolling:wu.default,ys=Re(Ee(Jt,Rt=>Rt.type==="contexttoolbar"?Ue(ko,Rt):Ge(Rt,g.providers)));return Aw({type:On,uid:Vt("context-toolbar"),initGroups:ys,onEscape:A.none,cyclicKeying:!0,providers:g.providers})},ot=(Jt,fo)=>{const Zn=Jt==="node"?g.anchors.node(fo):g.anchors.cursor(),ko=hV(t,Jt,h(),{lastElement:k.get,isReposition:()=>Fr(_.get(),0),getMode:()=>Mc.getMode(a)});return Ms(Zn,ko)},zt=(Jt,fo)=>{if(bo.cancel(),!$())return;const Zn=St(Jt),ko=Jt[0].position,On=ot(ko,fo);E.set(ko),_.set(1);const ys=O.element;vo(ys,"display"),H(fo)||(xs(ys,xz),Mc.reset(a,O)),ta.showWithinBounds(O,ve(Zn),{anchor:On,transition:{classes:[xz],mode:"placement"}},()=>A.some(M())),fo.fold(k.clear,k.set),G()&&xt(ys,"display","none")};let on=!1;const bo=bw(()=>{if(!(!t.hasFocus()||t.removed||on))if(Ys(O.element,xz))bo.throttle();else{const Jt=me();sx(Jt,t).fold(se,fo=>{zt(fo.toolbars,A.some(fo.elem))})}},17);t.on("init",()=>{t.on("remove",se),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",_e),t.on("click keyup focus SetContent",bo.throttle),t.on(bz,se),t.on(oV,Jt=>{const fo=me();it(fo.lookupTable,Jt.toolbarKey).each(Zn=>{zt([Zn],yn(Jt.target!==t,Jt.target)),ta.getContent(O).each(mn.focusIn)})}),t.on("focusout",Jt=>{oC.setEditorTimeout(t,()=>{fu(a.element).isNone()&&fu(O.element).isNone()&&se()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&se()}),t.on("AfterProgressState",Jt=>{Jt.state?se():t.hasFocus()&&bo.throttle()}),t.on("dragstart",()=>{on=!0}),t.on("dragend drop",()=>{on=!1}),t.on("NodeChange",Jt=>{fu(O.element).fold(bo.throttle,re)})})},SV=t=>{Je([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Wi(t,a.cmd),onSetup:X1(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:pl(t),onAction:Wi(t,"JustifyNone")})},$w=(t,s)=>{const a=()=>{const l=s.getOptions(t),d=s.getCurrent(t).map(s.hash),g=Os();return Ee(l,h=>({type:"togglemenuitem",text:s.display(h),onSetup:k=>{const _=O=>{O&&(g.on(M=>M.setActive(!1)),g.set(k)),k.setActive(O)};_(Fr(d,s.hash(h)));const E=s.watcher(t,h,_);return()=>{g.clear(),E()}},onAction:()=>s.setCurrent(t,h)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},y5=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:AD,hash:s=>C9(s,["fixed","relative","empty"]).getOr(s),display:gn,watcher:(s,a,l)=>s.formatter.formatChanged("lineheight",l,!1,{value:a}).unbind,getCurrent:s=>A.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:pl(t),onMenuSetup:pl(t)}),b5=t=>A.from(ZE(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:Y(a),hash:l=>Fn(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,g)=>{var h;return l.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:(h=d.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:l=>{const d=fe.fromDom(l.selection.getNode());return nc(d,g=>A.some(g).filter($o).bind(h=>pr(h,"lang").map(_=>{const E=pr(h,"data-mce-lang").getOrUndefined();return{code:_,customCode:E,title:""}})))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=mu();return l.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",l.setActive,!0)),K1(d.clear,pl(t)(l))},onMenuSetup:pl(t)})),v5=t=>{$w(t,y5(t)),b5(t).each(s=>$w(t,s))},k5=(t,s)=>{g9(t,s),v9(t,s),D9(t,s),h9(t,s),O9(t,s)},xV=t=>jy(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),w5=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xV(t),onAction:Wi(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:pl(t),onAction:Wi(t,"indent")})},TV=t=>{w5(t)},_5=(t,s)=>a=>{a.setActive(s.get());const l=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",l),K1(()=>t.off("PastePlainTextToggle",l),pl(t)(a))},EV=t=>{const s=hn(xD(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:_5(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:_5(t,s)})},Tz=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},AV=t=>{$m.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:X1(t,s.name),onAction:Tz(t,s.name)})});for(let s=1;s<=6;s++){const a="h"+s;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:X1(t,a),onAction:Tz(t,a)})}},Iw=t=>{$m.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Wi(t,s.action)})}),$m.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:pl(t),onAction:Wi(t,s.action)})})},zV=t=>{$m.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Wi(t,s.action),onSetup:X1(t,s.name)})})},OV=t=>{AV(t),Iw(t),zV(t)},DV=t=>{$m.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Wi(t,s.action)})}),$m.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:pl(t),onAction:Wi(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:pl(t),onAction:Tz(t,"code")})},C5=t=>{OV(t),DV(t)},ax=(t,s)=>jy(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),S5=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:ax(t,"hasUndo"),onAction:Wi(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:ax(t,"hasRedo"),onAction:Wi(t,"redo")})},RV=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:ax(t,"hasUndo"),onAction:Wi(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:ax(t,"hasRedo"),onAction:Wi(t,"redo")})},NV=t=>{S5(t),RV(t)},MV=t=>jy(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),BV=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:MV(t),onAction:Wi(t,"mceToggleVisualAid")})},PV=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Wi(t,"mceToggleVisualAid")})},Fw=t=>{PV(t),BV(t)},x5=(t,s)=>{SV(t),C5(t),k5(t,s),NV(t),JF(t),Fw(t),TV(t),v5(t),EV(t)},$V=t=>yt(t)?t.split(/[ ,]/):t,T5=t=>s=>s.options.get(t),E5=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:yt(a)||vt(a,yt)?{value:$V(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},cx=T5("contextmenu_never_use_native"),A5=T5("contextmenu_avoid_overlap"),z5=t=>O5(t).length===0,O5=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:je(a,l=>po(s,l))},Vm=(t,s)=>({type:"makeshift",x:t,y:s}),lx=(t,s,a)=>Vm(t.x+s,t.y+a),ix=t=>t.type==="longpress"||t.type.indexOf("touch")===0,D5=t=>{if(ix(t)){const s=t.touches[0];return Vm(s.pageX,s.pageY)}else return Vm(t.pageX,t.pageY)},R5=t=>{if(ix(t)){const s=t.touches[0];return Vm(s.clientX,s.clientY)}else return Vm(t.clientX,t.clientY)},IV=(t,s)=>{const a=Ry.DOM.getPos(t);return lx(s,a.x,a.y)},N5=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?D5(s):IV(t.getContentAreaContainer(),R5(s)):M5(t),M5=t=>({type:"selection",root:fe.fromDom(t.selection.getNode())}),FV=t=>({type:"node",node:A.some(fe.fromDom(t.selection.getNode())),root:fe.fromDom(t.getBody())}),B5=(t,s,a)=>{switch(a){case"node":return FV(t);case"point":return N5(t,s);case"selection":return M5(t)}},LV=(t,s,a,l,d,g)=>{const h=a(),k=B5(t,s,g);iv(h,ji.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:A.none()}).map(_=>{s.preventDefault(),ta.showMenuAt(d,{anchor:k},{menu:{markers:Py("normal")},data:_})})},HV={onLtr:()=>[jr,Va,ka,zl,Jc,hr,Im,kw,fv,hh,vw,u3],onRtl:()=>[jr,ka,Va,Jc,zl,hr,Im,kw,vw,u3,fv,hh]},P5=12,ux={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},$5=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const l=s.touches[0],d=a.getRng();return n1(t.getWin(),sy.domRange(d)).exists(h=>h.left<=l.clientX&&h.right>=l.clientX&&h.top<=l.clientY&&h.bottom>=l.clientY)}},I5=t=>{const s=t.selection.getRng(),a=()=>{oC.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const l=h=>{h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",l,!0);const d=()=>g();t.once("longpresscancel",d);const g=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",l)}},Ez=(t,s,a)=>{const l=B5(t,s,a);return{bubble:$p(0,a==="point"?P5:0,ux),layouts:HV,overrides:{maxWidthFunction:HS(),maxHeightFunction:Pp()},...l}},VV=(t,s,a,l,d,g,h)=>{const k=Ez(t,s,g);iv(a,ji.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!0,search:A.none()}).map(_=>{s.preventDefault();const E=h?Xl.HighlightMenuAndItem:Xl.HighlightNone;ta.showMenuWithinBounds(d,{anchor:k},{menu:{markers:Py("normal"),highlightOnOpen:E},data:_,type:"horizontal"},()=>A.some(p5(t,l.shared,g==="node"?"node":"selection"))),t.dispatch(bz)})},F5=(t,s,a,l,d,g)=>{const h=Da(),k=h.os.isiOS(),_=h.os.isMacOS(),E=h.os.isAndroid(),O=h.deviceType.isTouch(),M=()=>!(E||k||_&&O),$=()=>{const H=a();VV(t,s,H,l,d,g,M())};if((_||k)&&g!=="node"){const H=()=>{I5(t),$()};$5(t,s)?H():(t.once("selectionchange",H),t.once("touchend",()=>t.off("selectionchange",H)))}else $()},L5=t=>yt(t)?t==="|":t.type==="separator",Az={type:"separator"},Lw=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(yt(t))return t;switch(t.type){case"separator":return Az;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const l=t.getSubmenuItems();return yt(l)?l:Ee(l,Lw)}};default:const a=t;return{type:"menuitem",...s(a),onAction:sn(a.onAction)}}},zz=(t,s)=>{if(s.length===0)return t;const l=zr(t).filter(d=>!L5(d)).fold(()=>[],d=>[Az]);return t.concat(l).concat(s).concat([Az])},UV=(t,s,a)=>{const l=ct(s,(d,g)=>it(t,g.toLowerCase()).map(h=>{const k=h.update(a);if(yt(k))return zz(d,k.split(" "));if(k.length>0){const _=Ee(k,Lw);return zz(d,_)}else return d}).getOrThunk(()=>d.concat([g])),[]);return l.length>0&&L5(l[l.length-1])&&l.pop(),l},jV=(t,s)=>s.ctrlKey&&!cx(t),WV=t=>t.type==="longpress"||po(t,"touches"),H5=(t,s)=>!WV(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),V5=(t,s)=>H5(t,s)?t.selection.getStart(!0):s.target,U5=(t,s)=>{const a=A5(t),l=H5(t,s)?"selection":"point";if(ua(a)){const d=V5(t,s);return Cu(fe.fromDom(d),a)?"node":l}else return l},j5=(t,s,a)=>{const d=Da().deviceType.isTouch,g=va(ta.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:bt([Wn("dismissContextMenu",[et(Cf(),(_,E)=>{Eo.close(_),t.focus()})])])})),h=()=>ta.hide(g),k=_=>{if(cx(t)&&_.preventDefault(),jV(t,_)||z5(t))return;const E=U5(t,_),O=()=>{const $=V5(t,_),H=t.ui.registry.getAll(),G=O5(t);return UV(H.contextMenus,G,$)};(d()?F5:LV)(t,_,O,a,g,E)};t.on("init",()=>{const _="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(_,h),t.on("longpress contextmenu",k)})},Oz=w.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),dx=t=>s=>s.translate(-t.left,-t.top),Hw=t=>s=>s.translate(t.left,t.top),Vg=t=>(s,a)=>ct(t,(l,d)=>d(l),Zs(s,a)),fx=(t,s,a)=>t.fold(Vg([Hw(a),dx(s)]),Vg([dx(s)]),Vg([])),Cv=(t,s,a)=>t.fold(Vg([Hw(a)]),Vg([]),Vg([Hw(s)])),W5=(t,s,a)=>t.fold(Vg([]),Vg([dx(a)]),Vg([Hw(s),dx(a)])),ZV=(t,s,a,l,d,g)=>{const h=Cv(t,d,g),k=Cv(s,d,g);return Math.abs(h.left-k.left)<=a&&Math.abs(h.top-k.top)<=l},Dz=(t,s,a,l,d,g)=>{const h=Cv(t,d,g),k=Cv(s,d,g),_=Math.abs(h.left-k.left),E=Math.abs(h.top-k.top);return Zs(_,E)},Z5=(t,s,a)=>{const l=t.fold((d,g)=>({position:A.some("absolute"),left:A.some(d+"px"),top:A.some(g+"px")}),(d,g)=>({position:A.some("absolute"),left:A.some(d-a.left+"px"),top:A.some(g-a.top+"px")}),(d,g)=>({position:A.some("fixed"),left:A.some(d+"px"),top:A.some(g+"px")}));return{right:A.none(),bottom:A.none(),...l}},qV=(t,s,a)=>t.fold((l,d)=>Uw(l+s,d+a),(l,d)=>Ug(l+s,d+a),(l,d)=>nb(l+s,d+a)),Vw=(t,s,a,l)=>{const d=(g,h)=>(k,_)=>{const E=g(s,a,l);return h(k.getOr(E.left),_.getOr(E.top))};return t.fold(d(W5,Uw),d(Cv,Ug),d(fx,nb))},Uw=Oz.offset,Ug=Oz.absolute,nb=Oz.fixed,q5=(t,s)=>{const a=fa(t,s);return Fn(a)?NaN:parseInt(a,10)},GV=(t,s)=>{const a=t.element,l=q5(a,s.leftAttr),d=q5(a,s.topAttr);return isNaN(l)||isNaN(d)?A.none():A.some(Zs(l,d))},KV=(t,s,a)=>{const l=t.element;Mn(l,s.leftAttr,a.left+"px"),Mn(l,s.topAttr,a.top+"px")},XV=(t,s)=>{const a=t.element;W(a,s.leftAttr),W(a,s.topAttr)},G5=(t,s,a,l)=>GV(t,s).fold(()=>a,d=>nb(d.left+l.left,d.top+l.top)),YV=(t,s,a,l,d,g)=>{const h=G5(t,s,a,l),k=s.mustSnap?JV(t,s,h,d,g):Rz(t,s,h,d,g),_=fx(h,d,g);return KV(t,s,_),k.fold(()=>({coord:nb(_.left,_.top),extra:A.none()}),E=>({coord:E.output,extra:E.extra}))},K5=(t,s)=>{XV(t,s)},X5=(t,s,a,l)=>Ko(t,d=>{const g=d.sensor;return ZV(s,g,d.range.left,d.range.top,a,l)?A.some({output:Vw(d.output,s,a,l),extra:d.extra}):A.none()}),JV=(t,s,a,l,d)=>{const g=s.getSnapPoints(t);return X5(g,a,l,d).orThunk(()=>ct(g,(_,E)=>{const O=E.sensor,M=Dz(a,O,E.range.left,E.range.top,l,d);return _.deltas.fold(()=>({deltas:A.some(M),snap:A.some(E)}),$=>{const H=(M.left+M.top)/2,G=($.left+$.top)/2;return H<=G?{deltas:A.some(M),snap:A.some(E)}:_})},{deltas:A.none(),snap:A.none()}).snap.map(_=>({output:Vw(_.output,a,l,d),extra:_.extra})))},Rz=(t,s,a,l,d)=>{const g=s.getSnapPoints(t);return X5(g,a,l,d)},Y5=(t,s,a)=>({coord:Vw(t.output,t.output,s,a),extra:t.extra});var QV=Object.freeze({__proto__:null,snapTo:(t,s,a,l)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=Aa(t.element),h=yc(g),k=T3(d),_=Y5(l,h,k),E=Z5(_.coord,h,k);nr(d,E)}}});const jw="data-initial-z-index",eU=t=>{Pa(t.element).filter($o).each(s=>{pr(s,jw).fold(()=>vo(s,"z-index"),a=>xt(s,"z-index",a)),W(s,jw)})},tU=t=>{Pa(t.element).filter($o).each(s=>{Ss(s,"z-index").each(a=>{Mn(s,jw,a)}),xt(s,"z-index",Qe(t.element,"z-index"))})},J5=(t,s)=>{t.getSystem().addToGui(s),tU(s)},nU=t=>{eU(t),t.getSystem().removeFromGui(t)},Q5=(t,s,a)=>t.getSystem().build(If.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var e$=Tr("snaps",[Pe("getSnapPoints"),lo("onSensor"),Pe("leftAttr"),Pe("topAttr"),we("lazyViewport",ft),we("mustSnap",!1)]);const Nz=[we("useFixed",st),Pe("blockerClass"),we("getTarget",gn),we("onDrag",re),we("repositionTarget",!0),we("onDrop",re),kr("getBounds",ft),e$],oU=t=>ia(Ss(t,"left"),Ss(t,"top"),Ss(t,"position"),(s,a,l)=>(l==="fixed"?nb:Uw)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=gc(t);return Ug(s.left,s.top)}),sU=(t,s,a,l,d)=>{const g=d.bounds,h=Cv(s,a,l),k=Al(h.left,g.x,g.x+g.width-d.width),_=Al(h.top,g.y,g.y+g.height-d.height),E=Ug(k,_);return s.fold(()=>{const O=W5(E,a,l);return Uw(O.left,O.top)},Y(E),()=>{const O=fx(E,a,l);return nb(O.left,O.top)})},rU=(t,s,a,l,d,g,h)=>{const k=s.fold(()=>{const _=qV(a,g.left,g.top),E=fx(_,l,d);return nb(E.left,E.top)},_=>{const E=YV(t,_,a,g,l,d);return E.extra.each(O=>{_.onSensor(t,O)}),E.coord});return sU(t,k,l,d,h)},aU=(t,s,a,l)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=Aa(t.element),h=yc(g),k=T3(d),_=oU(d),E=rU(t,s.snaps,_,h,k,l,a),O=Z5(E,h,k);nr(d,O)}s.onDrag(t,d,l)},t$=(t,s)=>({bounds:t.getBounds(),height:Ci(s.element),width:Ia(s.element)}),Mz=(t,s,a,l,d)=>{const g=a.update(l,d),h=a.getStartData().getOrThunk(()=>t$(s,t));g.each(k=>{aU(t,s,h,k)})},n$=(t,s,a,l)=>{s.each(nU),a.snaps.each(g=>{K5(t,g)});const d=a.getTarget(t.element);l.reset(),a.onDrop(t,d)},mx=t=>(s,a)=>{const l=d=>{a.setStartData(t$(s,d))};return Ks([et(sg(),d=>{a.getStartData().each(()=>l(d))}),...t(s,a,l)])},cU=t=>Ks([et(oo(),t.forceDrop),et(wr(),t.drop),et(Gs(),(s,a)=>{t.move(a.event)}),et(La(),t.delayDrop)]);var iU=Object.freeze({__proto__:null,getData:t=>A.from(Zs(t.x,t.y)),getDelta:(t,s)=>Zs(s.left-t.left,s.top-t.top)});const o$=(t,s,a)=>[et(oo(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const h=()=>n$(l,A.some(E),t,s),k=bN(h,200),_={drop:h,delayDrop:k.schedule,forceDrop:h,move:M=>{k.cancel(),Mz(l,t,s,iU,M)}},E=Q5(l,t.blockerClass,cU(_));(()=>{a(l),J5(l,E)})()})],ob=[...Nz,Bs("dragger",{handlers:mx(o$)})],s$=t=>Ks([et(jl(),t.forceDrop),et(kf(),t.drop),et(kb(),t.drop),et(Lu(),(s,a)=>{t.move(a.event)})]),uU=t=>{const s=t[0];return A.some(Zs(s.clientX,s.clientY))};var r$=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?uU(a):A.none()},getDelta:(t,s)=>Zs(s.left-t.left,s.top-t.top)});const Bz=(t,s,a)=>{const l=Os(),d=g=>{n$(g,l.get(),t,s),l.clear()};return[et(jl(),(g,h)=>{h.stop();const k=()=>d(g),_={drop:k,delayDrop:re,forceDrop:k,move:M=>{Mz(g,t,s,r$,M)}},E=Q5(g,t.blockerClass,s$(_));l.set(E),(()=>{a(g),J5(g,E)})()}),et(Lu(),(g,h)=>{h.stop(),Mz(g,t,s,r$,h.event)}),et(kf(),(g,h)=>{h.stop(),d(g)}),et(kb(),d)]},dU=[...Nz,Bs("dragger",{handlers:mx(Bz)})],fU=(t,s,a)=>[...o$(t,s,a),...Bz(t,s,a)],mU=[...Nz,Bs("dragger",{handlers:mx(fU)})];var gU=Object.freeze({__proto__:null,mouse:ob,touch:dU,mouseOrTouch:mU}),pU=Object.freeze({__proto__:null,init:()=>{let t=A.none(),s=A.none();const a=()=>{t=A.none(),s=A.none()},l=(_,E)=>{const O=t.map(M=>_.getDelta(M,E));return t=A.some(E),O},d=(_,E)=>_.getData(E).bind(O=>l(_,O)),g=_=>{s=A.some(_)},h=()=>s,k=Y({});return Xc({readState:k,reset:a,update:d,getStartData:h,setStartData:g})}});const sb=F_({branchKey:"mode",branches:gU,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:A.from(t.extra)})},state:pU,apis:QV}),gx=40,Ww=gx/2,a$=(t,s,a,l,d,g)=>t.fold(()=>sb.snap({sensor:Ug(a-Ww,l-Ww),range:Zs(d,g),output:Ug(A.some(a),A.some(l)),extra:{td:s}}),h=>{const k=a-Ww,_=l-Ww,E=gx,O=gx,M=h.element.dom.getBoundingClientRect();return sb.snap({sensor:Ug(k,_),range:Zs(E,O),output:Ug(A.some(a-M.width/2),A.some(l-M.height/2)),extra:{td:s}})}),Sv=(t,s,a)=>{const l=(d,g)=>d.exists(h=>ds(h,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,g)=>{const h=g.td;l(s.get(),h)||(s.set(h),a(h))},mustSnap:!0}},c$=t=>hs(na.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:bt([sb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),aw.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),hU=(t,s)=>{const a=hn([]),l=hn([]),d=hn(!1),g=Os(),h=Os(),k=zt=>{const on=V(zt);return a$(H.getOpt(s),zt,on.x,on.y,on.width,on.height)},_=()=>Ee(a.get(),zt=>k(zt)),E=zt=>{const on=V(zt);return a$(G.getOpt(s),zt,on.right,on.bottom,on.width,on.height)},O=()=>Ee(l.get(),zt=>E(zt)),M=Sv(_,g,zt=>{h.get().each(on=>{t.dispatch("TableSelectorChange",{start:zt,finish:on})})}),$=Sv(O,h,zt=>{g.get().each(on=>{t.dispatch("TableSelectorChange",{start:on,finish:zt})})}),H=c$(M),G=c$($),se=va(H.asSpec()),_e=va(G.asSpec()),ve=(zt,on,bo,Jt)=>{const fo=on.dom.getBoundingClientRect();vo(zt.element,"display");const Zn=Ga(fe.fromDom(t.getBody())).dom.innerHeight,ko=bo(fo),On=Jt(fo,Zn);(ko||On)&&xt(zt.element,"display","none")},me=(zt,on,bo,Jt)=>{const fo=bo(on);sb.snapTo(zt,fo),ve(zt,on,On=>On[Jt]<0,(On,ys)=>On[Jt]>ys)},Ue=zt=>me(se,zt,k,"top"),Ge=()=>g.get().each(Ue),St=zt=>me(_e,zt,E,"bottom"),ot=()=>h.get().each(St);Da().deviceType.isTouch()&&(t.on("TableSelectionChange",zt=>{d.get()||($d(s,se),$d(s,_e),d.set(!0)),g.set(zt.start),h.set(zt.finish),zt.otherCells.each(on=>{a.set(on.upOrLeftCells),l.set(on.downOrRightCells),Ue(zt.start),St(zt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{Ge(),ot()}),t.on("TableSelectionClear",()=>{d.get()&&(Id(se),Id(_e),d.set(!1)),g.clear(),h.clear()}))};var Pz=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const yU=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",bU=(t,s,a)=>{var l;const d=(l=s.delimiter)!==null&&l!==void 0?l:"›",g=(E,O,M)=>na.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":M,"aria-level":M+1}},components:[Ur(E)],action:$=>{t.focus(),t.selection.select(O),t.nodeChanged()},buttonBehaviours:bt([qd.button(a.isDisabled),Wa()])}),h=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ur(` ${d} `)]}),k=E=>ct(E,(O,M,$)=>{const H=g(M.name,M.element,$);return $===0?O.concat([H]):O.concat([h(),H])},[]),_=E=>{const O=[];let M=E.length;for(;M-- >0;){const $=E[M];if($.nodeType===1&&!yU($)){const H=Is(t,$);if(H.isDefaultPrevented()||O.push({name:H.name,element:$}),H.isPropagationStopped())break}}return O};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:bt([mn.config({mode:"flow",selector:"div[role=button]"}),vn.config({disabled:a.isDisabled}),Wa(),Cr.config({}),Dn.config({}),Wn("elementPathEvents",[Xs((E,O)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>mn.focusIn(E)),t.on("NodeChange",M=>{const $=_(M.parents),H=$.length>0?k($):[];Dn.set(E,H)})})])]),components:[]}};var kh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(kh||(kh={}));const vU=(t,s,a,l,d)=>{const g={height:tx(l+s.top,lC(t),WE(t))};return a===kh.Both&&(g.width=tx(d+s.left,cC(t),iC(t))),g},l$=(t,s,a)=>{const l=fe.fromDom(t.getContainer()),d=vU(t,s,a,or(l),Gr(l));co(d,(g,h)=>{Ao(g)&&xt(l,h,hz(g))}),jF(t)},kU=t=>{const s=pC(t);return s===!1?kh.None:s==="both"?kh.Both:kh.Vertical},px=(t,s,a,l)=>{const g=Zs(a*20,l*20);return l$(t,g,s),A.some(!0)},wU=(t,s)=>{const a=kU(t);if(a===kh.None)return A.none();const l=a===kh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return A.some(Ud("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(l)},behaviours:[sb.config({mode:"mouse",repositionTarget:!1,onDrag:(d,g,h)=>l$(t,h,a),blockerClass:"tox-blocker"}),mn.config({mode:"special",onLeft:()=>px(t,a,-1,0),onRight:()=>px(t,a,1,0),onUp:()=>px(t,a,0,-1),onDown:()=>px(t,a,0,1)}),Cr.config({}),wn.config({})]},s.icons))},_U=(t,s)=>{const a=(l,d,g)=>Dn.set(l,[Ur(s.translate(["{0} "+g,d[g]]))]);return na.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:bt([qd.button(s.isDisabled),Wa(),Cr.config({}),Dn.config({}),Pt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Wn("wordcount-events",[ju(l=>{const d=Pt.getValue(l),g=d.mode==="words"?"characters":"words";Pt.setValue(l,{mode:g,count:d.count}),a(l,d.count,g)}),Xs(l=>{t.on("wordCountUpdate",d=>{const{mode:g}=Pt.getValue(l);Pt.setValue(l,{mode:g,count:d.wordCount}),a(l,d.wordCount,g)})})])]),eventOrder:{[ri()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},CU=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Yu.translate(["Powered by {0}","Tiny"])},innerHtml:Pz.trim()},behaviours:bt([wn.config({})])}]}),l=()=>{const g=[];return SD(t)&&g.push(bU(t,{},s)),t.hasPlugin("wordcount")&&g.push(_U(t,s)),YE(t)&&g.push(a()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const g=l(),h=wU(t,s);return g.concat(h.toArray())})()}},i$=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),SU=(t,s)=>{const a=t.inline,l=a?d5:K9,d=By(t)?F3:U7,g=nV(),h=Os(),k=Os(),_=Os(),$=Da().deviceType.isTouch()?["tox-platform-touch"]:[],H=QE(t),G=sh(t),se=hs({dom:{tag:"div",classes:["tox-anchorbar"]}}),_e=()=>g.mainUi.get().map(It=>It.outerContainer).bind(Ls.getHeader),ve=()=>Yt.fromOption(g.dialogUi.get().map(It=>It.sink),"UI has not been rendered"),me=()=>Yt.fromOption(g.popupUi.get().map(It=>It.sink),"(popup) UI has not been rendered"),Ue=g.lazyGetInOuterOrDie("anchor bar",se.getOpt),Ge=g.lazyGetInOuterOrDie("toolbar",Ls.getToolbar),St=g.lazyGetInOuterOrDie("throbber",Ls.getThrobber),ot=TW({popup:me,dialog:ve},t,Ue),zt=()=>{const It={attributes:{[dg]:H?Md.BottomToTop:Md.TopToBottom}},Sn=Ls.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ot.popup,onEscape:()=>{t.focus()}}),to=Ls.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ot.popup.shared.getSink,providers:ot.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Tx=>{Uy(t,Tx)},type:G,lazyToolbar:Ge,lazyHeader:()=>_e().getOrDie("Could not find header element"),...It}),So=Ls.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ot.popup.shared.providers,onEscape:()=>{t.focus()},type:G}),aa=Nk(t),Wo=yC(t),Nl=hC(t),Ar=TD(t),rd=on(),rf=aa||Wo||Nl,Wg=()=>aa?[So]:Wo?[to]:[],Kw=Ar?[rd,Sn]:[Sn];return Ls.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(rf?[]:["tox-editor-header--empty"]),...It},components:Re([Nl?Kw:[],Wg(),jd(t)?[]:[se.asSpec()]]),sticky:By(t),editor:t,sharedBackstage:ot.popup.shared})},on=()=>Ls.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),bo=()=>{const It=Ls.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Sn=Ls.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[It,Sn]}},Jt=()=>{const It=eA(t),Sn=ds(Oo(),It)&&Qe(It,"display")==="grid",to={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat($),attributes:{...Yu.isRtl()?{dir:"rtl"}:{}}},behaviours:bt([Mc.config({useFixed:()=>d.isDocked(_e)})])},So={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ks([et(wf(),Nl=>{xt(Nl.element,"width",document.body.clientWidth+"px")})])},aa=va(Ms(to,Sn?So:{})),Wo=l4(aa);return k.set(Wo),{sink:aa,mothership:Wo}},fo=()=>{const It={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat($),attributes:{...Yu.isRtl()?{dir:"rtl"}:{}}},behaviours:bt([Mc.config({useFixed:()=>d.isDocked(_e),getBounds:()=>s.getPopupSinkBounds()})])},Sn=va(It),to=l4(Sn);return _.set(to),{sink:Sn,mothership:to}},Zn=()=>{const It=zt(),Sn=bo(),to=Ls.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ot.popup}),So=Ls.parts.viewWrapper({backstage:ot.popup}),aa=CD(t)&&!a?A.some(CU(t,ot.popup.shared.providers)):A.none(),Wo=Re([H?[]:[It],a?[]:[Sn],H?[It]:[]]),Nl=Ls.parts.editorContainer({components:Re([Wo,a?[]:aa.toArray()])}),Ar=tA(t),rd={role:"application",...Yu.isRtl()?{dir:"rtl"}:{},...Ar?{"aria-hidden":"true"}:{}},rf=va(Ls.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(H?["tox-tinymce--toolbar-bottom"]:[]).concat($),styles:{visibility:"hidden",...Ar?{opacity:"0",border:"0"}:{}},attributes:rd},components:[Nl,...a?[]:[So],to],behaviours:bt([Wa(),vn.config({disableClass:"tox-tinymce--disabled"}),mn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Wg=l4(rf);return h.set(Wg),{mothership:Wg,outerContainer:rf}},ko=It=>{const Sn=hz(Y9(t)),to=hz(J9(t));return t.inline||(cd("div","width",to)&&xt(It.element,"width",to),cd("div","height",Sn)?xt(It.element,"height",Sn):xt(It.element,"height","400px")),Sn},On=It=>{t.addShortcut("alt+F9","focus menubar",()=>{Ls.focusMenubar(It)}),t.addShortcut("alt+F10","focus toolbar",()=>{Ls.focusToolbar(It)}),t.addCommand("ToggleToolbarDrawer",(Sn,to)=>{to!=null&&to.skipFocus?Ls.toggleToolbarDrawerWithoutFocusing(It):Ls.toggleToolbarDrawer(It)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Ls.isToolbarDrawerToggled(It))},ys=It=>{const{mainUi:Sn,popupUi:to,uiMotherships:So}=It;Kn(hD(t),(mb,Qz)=>{t.ui.registry.addGroupToolbarButton(Qz,mb)});const{buttons:aa,menuItems:Wo,contextToolbars:Nl,sidebars:Ar,views:rd}=t.ui.registry.getAll(),rf=bC(t),Wg={menuItems:Wo,menus:nA(t),menubar:bD(t),toolbar:rf.getOrThunk(()=>fC(t)),allowToolbarGroups:G===wu.floating,buttons:aa,sidebar:Ar,views:rd};On(Sn.outerContainer),ol(t,Sn.mothership,So),d.setup(t,ot.popup.shared,_e),x5(t,ot.popup),j5(t,ot.popup.shared.getSink,ot.popup),pH(t),PW(t,St,ot.popup.shared),CV(t,Nl,to.sink,{backstage:ot.popup}),hU(t,to.sink);const Kw=t.getElement(),Tx=ko(Sn.outerContainer),Rv={targetNode:Kw,height:Tx};return l.render(t,It,Wg,ot.popup,Rv)},Rt=It=>(_.set(It.mothership),It),en=()=>{const It=Zn(),Sn=Jt(),to=rh(t)?fo():Rt(Sn);g.dialogUi.set(Sn),g.popupUi.set(to),g.mainUi.set(It);const So={popupUi:to,dialogUi:Sn,mainUi:It,uiMotherships:g.getUiMotherships()};return ys(So)};return{popups:{backstage:ot.popup,getMothership:()=>i$("popups",_)},dialogs:{backstage:ot.dialog,getMothership:()=>i$("dialogs",k)},renderUI:en}},xU=(t,s)=>{const a=pr(t,"id").fold(()=>{const l=Vt("dialog-label");return Mn(s,"id",l),l},gn);Mn(t,"aria-labelledby",a)},TU=Y([Pe("lazySink"),jo("dragBlockClass"),kr("getBounds",ft),we("useTabstopAt",$e),we("firstTabstop",0),we("eventOrder",{}),_r("modalBehaviours",[mn]),sc("onExecute"),Ie("onEscape")]),$z={sketch:gn},EU=Y([Hi({name:"draghandle",overrides:(t,s)=>({behaviours:bt([sb.config({mode:"mouse",getTarget:a=>zd(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Zr({schema:[Pe("dom")],name:"title"}),Zr({factory:$z,schema:[Pe("dom")],name:"close"}),Zr({factory:$z,schema:[Pe("dom")],name:"body"}),Hi({factory:$z,schema:[Pe("dom")],name:"footer"}),bu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[we("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),we("components",[])],name:"blocker"})]),AU=(t,s,a,l)=>{const d=Os(),g=H=>{d.set(H);const G=t.lazySink(H).getOrDie(),se=l.blocker(),_e=G.getSystem().build({...se,components:se.components.concat([Pi(H)]),behaviours:bt([wn.config({}),Wn("dialog-blocker-events",[pp(lu(),()=>{mn.focusIn(H)})])])});$d(G,_e),mn.focusIn(H)},h=H=>{d.clear(),Pa(H.element).each(G=>{H.getSystem().getByDom(G).each(se=>{Id(se)})})},k=H=>Nf(H,t,"body"),_=H=>Nf(H,t,"footer"),E=(H,G)=>{Vf.block(H,G)},O=H=>{Vf.unblock(H)},M=Vt("modal-events"),$={...t.eventOrder,[xl()]:[M].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:h,getBody:k,getFooter:_,setIdle:O,setBusy:E},eventOrder:$,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Wr(t.modalBehaviours,[Dn.config({}),mn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Vf.config({getRoot:d.get}),Wn(M,[Xs(H=>{xU(H.element,Nf(H,t,"title").element)})])])}},oa=_a({name:"ModalDialog",configFields:TU(),partFields:EU(),factory:AU,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),zU=dn([Br,TC].concat(Fy)),OU=rm,Iz=[bA("button"),_u,Dc("align","end",["start","end"]),Hk,Qu,rp("buttonType",["primary","secondary"])],u$=[...Iz,Wd],Fz=[si("type",["submit","cancel","custom"]),...u$],DU=[si("type",["menu"]),ah,Fk,_u,il("items",zU),...Iz],d$=[...Iz,si("type",["togglebutton"]),Yr("tooltip"),_u,ah,tc("active",!1)],RU=Rr("type",{submit:Fz,cancel:Fz,custom:Fz,menu:DU,togglebutton:d$}),NU=[Br,Wd,si("level",["info","warn","error","success"]),Bf,we("url","")],MU=dn(NU),BU=t=>[Br,t],PU=[Br,Wd,Qu,bA("button"),_u,fF,rp("buttonType",["primary","secondary","toolbar"]),Hk],Lz=dn(PU),rb=[Br,TC],Uf=rb.concat([Lk]),$U=rb.concat([Ik,Qu]),IU=dn($U),FU=rm,LU=Uf.concat([KD("auto")]),HU=dn(LU),VU=Qm([$y,Wd,Bf]),UU=Uf.concat([Oc("storageKey","default")]),jU=dn(UU),WU=ur,ZU=dn(Uf),qU=ur,GU=rb.concat([Oc("tag","textarea"),Yr("scriptId"),Yr("scriptUrl"),cp("settings",void 0)]),KU=rb.concat([Oc("tag","textarea"),Sl("init")]),XU=yd(t=>gs("customeditor.old",Ya(KU),t).orThunk(()=>gs("customeditor.new",Ya(GU),t))),YU=ur,JU=dn(Uf),QU=am(),ej=t=>[Br,vb("columns"),t],f$=[Br,Yr("html"),Dc("presets","presentation",["presentation","document"])],m$=dn(f$),ab=Uf.concat([tc("sandboxed",!0),tc("transparent",!0)]),tj=dn(ab),Hz=ur,hx=dn(rb.concat([Qa("height")])),nj=dn([Yr("url"),tg("zoom"),tg("cachedWidth"),tg("cachedHeight")]),oj=Uf.concat([Qa("inputMode"),Qa("placeholder"),tc("maximized",!1),Qu]),sj=dn(oj),rj=ur,aj=t=>[Br,Ik,t],cb=[Wd,$y],g$=[Wd,il("items",hf("items",()=>p$))],p$=nm([dn(cb),dn(g$)]),cj=Uf.concat([il("items",p$),Qu]),lj=dn(cj),ij=ur,uj=Uf.concat([Nh("items",[Wd,$y]),ng("size",1),Qu]),dj=dn(uj),fj=ur,mj=Uf.concat([tc("constrain",!0),Qu]),Vz=dn(mj),xv=dn([Yr("width"),Yr("height")]),Uz=rb.concat([Ik,ng("min",0),ng("max",0)]),yx=dn(Uz),lb=sm,bx=[Br,il("header",ur),il("cells",$t(ur))],gj=dn(bx),h$=Uf.concat([Qa("placeholder"),tc("maximized",!1),Qu]),y$=dn(h$),b$=ur,v$=[si("type",["directory","leaf"]),gA,Yr("id"),cu("menu",aP)],k$=dn(v$),w$=v$.concat([il("children",hf("children",()=>ll("type",{directory:jz,leaf:k$})))]),jz=dn(w$),Wz=ll("type",{directory:jz,leaf:k$}),pj=[Br,il("items",Wz),vd("onLeafAction"),vd("onToggleExpand"),yf("defaultExpandedIds",[],ur),Qa("defaultSelectedId")],hj=dn(pj),yj=Uf.concat([Dc("filetype","file",["image","media","file"]),Qu]),_$=dn(yj),bj=dn([$y,hA]),Zz=t=>ha("items","items",Uo(),$t(yd(s=>gs(`Checking item of ${t}`,qz,s).fold(a=>Yt.error(cm(a)),a=>Yt.value(a))))),qz=op(()=>ll("type",{alertbanner:MU,bar:dn(BU(Zz("bar"))),button:Lz,checkbox:IU,colorinput:jU,colorpicker:ZU,dropzone:JU,grid:dn(ej(Zz("grid"))),iframe:tj,input:sj,listbox:lj,selectbox:dj,sizeinput:Vz,slider:yx,textarea:y$,urlinput:_$,customeditor:XU,htmlpanel:m$,imagepreview:hx,collection:HU,label:dn(aj(Zz("label"))),table:gj,tree:hj,panel:vx})),Gz=[Br,we("classes",[]),il("items",qz)],vx=dn(Gz),vj=[bA("tab"),gA,il("items",qz)],C$=[Br,Nh("tabs",vj)],kj=dn(C$),wj=u$,S$=RU,_j=dn([Yr("title"),Gc("body",ll("type",{panel:vx,tabpanel:kj})),Oc("size","normal"),il("buttons",S$),we("initialData",{}),kr("onAction",re),kr("onChange",re),kr("onSubmit",re),kr("onClose",re),kr("onCancel",re),kr("onTabChange",re)]),Cj=t=>gs("dialog",_j,t),ib=dn([si("type",["cancel","custom"]),...wj]),x$=dn([Yr("title"),Yr("url"),tg("height"),tg("width"),Iu("buttons",ib),kr("onAction",re),kr("onCancel",re),kr("onClose",re),kr("onMessage",re)]),Sj=t=>gs("dialog",x$,t),Tv=t=>Yn(t)?[t].concat(he(Ml(t),Tv)):no(t)?he(t,Tv):[],Ev=t=>yt(t.type)&&yt(t.name),kx={checkbox:FU,colorinput:WU,colorpicker:qU,dropzone:QU,input:rj,iframe:Hz,imagepreview:nj,selectbox:fj,sizeinput:xv,slider:lb,listbox:ij,size:xv,textarea:b$,urlinput:bj,customeditor:YU,collection:VU,togglemenuitem:OU},T$=t=>A.from(kx[t.type]),wx=t=>je(Tv(t),Ev),mi=t=>{const s=wx(t),a=he(s,l=>T$(l).fold(()=>[],d=>[Gc(l.name,d)]));return dn(a)},Zw=t=>{var s;const a=Qo(Cj(t)),l=mi(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:l,initialData:d}},Av={open:(t,s)=>{const a=Zw(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=Qo(Sj(s));return t(a)},redial:t=>Zw(t)};var Tj=Object.freeze({__proto__:null,events:(t,s)=>{const a=(l,d)=>{t.updateState.each(g=>{const h=g(l,d);s.set(h)}),t.renderComponents.each(g=>{const h=g(d,s.get());(t.reuseDom?IO:$O)(l,h)})};return Ks([et(Uu(),(l,d)=>{const g=d;if(!g.universal){const h=t.channel;Gn(g.channels,h)&&a(l,g.data)}}),Xs((l,d)=>{t.initialData.each(g=>{a(l,g)})})])}}),wh=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),nZ=[Pe("channel"),jo("renderComponents"),jo("updateState"),jo("initialData"),tc("reuseDom",!0)],E$=Object.freeze({__proto__:null,init:()=>{const t=hn(A.none()),s=()=>t.set(A.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const hl=rc({fields:nZ,name:"reflecting",active:Tj,apis:wh,state:E$}),qw=t=>{const s=[],a={};return co(t,(l,d)=>{l.fold(()=>{s.push(d)},g=>{a[d]=g})}),s.length>0?Yt.error(s):Yt.value(a)},A$=(t,s,a)=>{const l=hs(lv.sketch(d=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ee(t.items,g=>a3(d,g,s,a))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:bt([mn.config({mode:"acyclic",useTabstopAt:Le(Tu)}),xu.memento(l),ed.memento(l,{postprocess:d=>qw(d).fold(g=>(console.error(g),{}),gn)})])}},Ej=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:tC(t.action),behaviours:Wr(t.tabButtonBehaviours,[wn.config({}),mn.config({mode:"execution",useSpace:!0,useEnter:!0}),Pt.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Aj=ea({name:"TabButton",configFields:[we("uid",void 0),Pe("value"),ha("dom","dom",gf(()=>({attributes:{role:"tab",id:Vt("aria"),"aria-selected":"false"}})),_l()),jo("action"),we("domModification",{}),_r("tabButtonBehaviours",[wn,mn,Pt]),Pe("view")],factory:Ej}),zj=Y([Pe("tabs"),Pe("dom"),we("clickToDismiss",!1),_r("tabbarBehaviours",[Lo,mn]),Rp(["tabClass","selectedClass"])]),Oj=x1({factory:Aj,name:"tabs",unit:"tab",overrides:t=>{const s=(l,d)=>{Lo.dehighlight(l,d),an(l,um(),{tabbar:l,button:d})},a=(l,d)=>{Lo.highlight(l,d),an(l,mp(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(t.uid).getOrDie(),g=Lo.isHighlighted(d,l);(()=>g&&t.clickToDismiss?s:g?re:a)()(d,l)},domModification:{classes:[t.markers.tabClass]}}}}),zv=Y([Oj]),sZ=(t,s,a,l)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Wr(t.tabbarBehaviours,[Lo.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,g)=>{Mn(g.element,"aria-selected","true")},onDehighlight:(d,g)=>{Mn(g.element,"aria-selected","false")}}),mn.config({mode:"flow",getInitial:d=>Lo.getHighlighted(d).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),z$=_a({name:"Tabbar",configFields:zj(),partFields:zv(),factory:sZ}),Dj=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Wr(t.tabviewBehaviours,[Dn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),rZ=ea({name:"Tabview",configFields:[_r("tabviewBehaviours",[Dn])],factory:Dj}),Rj=Y([we("selectFirst",!0),lo("onChangeTab"),lo("onDismissTab"),we("tabs",[]),_r("tabSectionBehaviours",[])]),Nj=Zr({factory:z$,schema:[Pe("dom"),bd("markers",[Pe("tabClass"),Pe("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Gw=Zr({factory:rZ,name:"tabview"}),Mj=Y([Nj,Gw]),Bj=(t,s,a,l)=>{const d=h=>{const k=Pt.getValue(h);Ps(h,t,"tabview").each(_=>{Ae(t.tabs,O=>O.value===k).each(O=>{const M=O.view();pr(h.element,"id").each($=>{Mn(_.element,"aria-labelledby",$)}),Dn.set(_,M),t.onChangeTab(_,h,M)})})},g=(h,k)=>{Ps(h,t,"tabbar").each(_=>{k(_).each(dm)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Xp(t.tabSectionBehaviours),events:Ks(Re([t.selectFirst?[Xs((h,k)=>{g(h,Lo.getFirst)})]:[],[et(mp(),(h,k)=>{const _=k.event.button;d(_)}),et(um(),(h,k)=>{const _=k.event.button;t.onDismissTab(h,_)})]])),apis:{getViewItems:h=>Ps(h,t,"tabview").map(k=>Dn.contents(k)).getOr([]),showTab:(h,k)=>{g(h,E=>{const O=Lo.getCandidates(E);return Ae(O,$=>Pt.getValue($)===k).filter($=>!Lo.isHighlighted(E,$))})}}}},ub=_a({name:"TabSection",configFields:Rj(),partFields:Mj(),factory:Bj,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),Pj=(t,s,a)=>Ee(t,(l,d)=>{Dn.set(a,t[d].view());const g=s.dom.getBoundingClientRect();return Dn.set(a,[]),g.height}),aZ=t=>Go(go(t,(s,a)=>s>a?-1:s<a?1:0)),e=(t,s,a)=>{const l=vi(t).dom,d=zd(t,".tox-dialog-wrap").getOr(t),g=Qe(d,"position")==="fixed";let h;g?h=Math.max(l.clientHeight,window.innerHeight):h=Math.max(l.offsetHeight,l.scrollHeight);const k=or(s),E=s.dom.offsetLeft>=a.dom.offsetLeft+Gr(a)?Math.max(or(a),k):k,O=parseInt(Qe(t,"margin-top"),10)||0,M=parseInt(Qe(t,"margin-bottom"),10)||0,H=or(t)+O+M-E;return h-H},n=(t,s)=>{Go(t).each(a=>ub.showTab(s,a.value))},o=(t,s)=>{xt(t,"height",s+"px"),xt(t,"flex-basis",s+"px")},r=(t,s,a)=>{zd(t,'[role="dialog"]').each(l=>{Qr(l,'[role="tablist"]').each(d=>{a.get().map(g=>(xt(s,"height","0"),xt(s,"flex-basis","0"),Math.min(g,e(l,s,d)))).each(g=>{o(s,g)})})})},c=t=>Qr(t,'[role="tabpanel"]'),u=t=>{const s=Os();return{extraEvents:[Xs(d=>{const g=d.element;c(g).each(h=>{xt(h,"visibility","hidden"),d.getSystem().getByDom(h).toOptional().each(k=>{const _=Pj(t,h,k);aZ(_).fold(s.clear,s.set)}),r(g,h,s),vo(h,"visibility"),n(t,d),requestAnimationFrame(()=>{r(g,h,s)})})}),et(wf(),d=>{const g=d.element;c(g).each(h=>{r(g,h,s)})}),et(EN,(d,g)=>{const h=d.element;c(h).each(k=>{const _=Nd(ge(k));xt(k,"visibility","hidden");const E=Ss(k,"height").map($=>parseInt($,10));vo(k,"height"),vo(k,"flex-basis");const O=k.dom.getBoundingClientRect().height;E.forall($=>O>$)?(s.set(O),r(h,k,s)):E.each($=>{o(k,$)}),vo(k,"visibility"),_.each($i)})})],selectFirst:!1}},m="send-data-to-section",y="send-data-to-view",v=(t,s,a)=>{const l=hn({}),d=E=>{const O=Pt.getValue(E),M=qw(O).getOr({}),$=l.get(),H=Ms($,M);l.set(H)},g=E=>{const O=l.get();Pt.setValue(E,O)},h=hn(null),k=Ee(t.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ur(a.shared.providers.translate(E.title))],view:()=>[lv.sketch(O=>({dom:{tag:"div",classes:["tox-form"]},components:Ee(E.items,M=>a3(O,M,s,a)),formBehaviours:bt([mn.config({mode:"acyclic",useTabstopAt:Le(Tu)}),Wn("TabView.form.events",[Xs(g),iu(d)]),Ol.config({channels:Ot([{key:m,value:{onReceive:d}},{key:y,value:{onReceive:g}}])})])}))]})),_=u(k);return ub.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,O,M)=>{const $=Pt.getValue(O);an(E,TN,{name:$,oldName:h.get()}),h.set($)},tabs:k,components:[ub.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[z$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:bt([Cr.config({})])}),ub.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:bt([Wn("tabpanel",_.extraEvents),mn.config({mode:"acyclic"}),ro.config({find:E=>Go(ub.getViewItems(E))}),ed.withComp(A.none(),E=>(E.getSystem().broadcastOn([m],{}),l.get()),(E,O)=>{l.set(O),E.getSystem().broadcastOn([y],{})})])})},x=Vt("update-dialog"),N=Vt("update-title"),D=Vt("update-body"),L=Vt("update-footer"),X=Vt("body-send-message"),Q=(t,s,a,l,d)=>{const g=_=>{const E=_.body;switch(E.type){case"tabpanel":return[v(E,_.initialData,l)];default:return[A$(E,_.initialData,l)]}},h=(_,E)=>A.some({isTabPanel:()=>E.body.type==="tabpanel"}),k={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(_=>({id:_})).getOr({}),...d?k:{}}},components:[],behaviours:bt([xu.childAt(0),hl.config({channel:`${D}-${s}`,updateState:h,renderComponents:g,initialData:t})])}},q=(t,s,a,l,d)=>Q(t,s,A.some(a),l,d),J=(t,s,a)=>{const l=Q(t,s,A.none(),a,!1);return oa.parts.body(l)},pe=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[vM({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:bt([Cr.config({}),wn.config({})])})]}],behaviours:bt([mn.config({mode:"acyclic",useTabstopAt:Le(Tu)})])};return oa.parts.body(s)};function ye(t){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ye(t)}function be(t,s){return be=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l},be(t,s)}function Ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tt(t,s,a){return Ce()?tt=Reflect.construct:tt=function(d,g,h){var k=[null];k.push.apply(k,g);var _=Function.bind.apply(d,k),E=new _;return h&&be(E,h.prototype),E},tt.apply(null,arguments)}function Ft(t){return lt(t)||De(t)||We(t)||Et()}function lt(t){if(Array.isArray(t))return Ct(t)}function De(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function We(t,s){if(t){if(typeof t=="string")return Ct(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ct(t,s)}}function Ct(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=t[a];return l}function Et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jt=Object.hasOwnProperty,Rn=Object.setPrototypeOf,Tn=Object.isFrozen,Bo=Object.getPrototypeOf,cs=Object.getOwnPropertyDescriptor,fs=Object.freeze,$r=Object.seal,Za=Object.create,kt=typeof Reflect<"u"&&Reflect,qt=kt.apply,No=kt.construct;qt||(qt=function(s,a,l){return s.apply(a,l)}),fs||(fs=function(s){return s}),$r||($r=function(s){return s}),No||(No=function(s,a){return tt(s,Ft(a))});var Mo=Hs(Array.prototype.forEach),Qt=Hs(Array.prototype.pop),Kt=Hs(Array.prototype.push),pt=Hs(String.prototype.toLowerCase),An=Hs(String.prototype.match),ao=Hs(String.prototype.replace),Ts=Hs(String.prototype.indexOf),ar=Hs(String.prototype.trim),pn=Hs(RegExp.prototype.test),Po=Vs(TypeError);function Hs(t){return function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return qt(t,s,l)}}function Vs(t){return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return No(t,a)}}function $n(t,s){Rn&&Rn(t,null);for(var a=s.length;a--;){var l=s[a];if(typeof l=="string"){var d=pt(l);d!==l&&(Tn(s)||(s[a]=d),l=d)}t[l]=!0}return t}function cr(t){var s=Za(null),a;for(a in t)qt(jt,t,[a])&&(s[a]=t[a]);return s}function Ws(t,s){for(;t!==null;){var a=cs(t,s);if(a){if(a.get)return Hs(a.get);if(typeof a.value=="function")return Hs(a.value)}t=Bo(t)}function l(d){return console.warn("fallback value for",d),null}return l}var sa=fs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xi=fs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_c=fs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jf=fs(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gi=fs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),db=fs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_h=fs(["#text"]),nf=fs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ou=fs(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Sa=fs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pi=fs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wf=$r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),od=$r(/<%[\w\W]*|[\w\W]*%>/gm),sd=$r(/^data-[\-\w.\u00B7-\uFFFF]/),Um=$r(/^aria-[\-\w]+$/),yl=$r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jg=$r(/^(?:\w+script|data):/i),jm=$r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),of=$r(/^html$/i),Ch=function(){return typeof window>"u"?null:window},_x=function(s,a){if(ye(s)!=="object"||typeof s.createPolicy!="function")return null;var l=null,d="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(d)&&(l=a.currentScript.getAttribute(d));var g="dompurify"+(l?"#"+l:"");try{return s.createPolicy(g,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function Cx(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ch(),s=function(Fe){return Cx(Fe)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var a=t.document,l=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,h=t.Node,k=t.Element,_=t.NodeFilter,E=t.NamedNodeMap,O=E===void 0?t.NamedNodeMap||t.MozNamedAttrMap:E,M=t.HTMLFormElement,$=t.DOMParser,H=t.trustedTypes,G=k.prototype,se=Ws(G,"cloneNode"),_e=Ws(G,"nextSibling"),ve=Ws(G,"childNodes"),me=Ws(G,"parentNode");if(typeof g=="function"){var Ue=l.createElement("template");Ue.content&&Ue.content.ownerDocument&&(l=Ue.content.ownerDocument)}var Ge=_x(H,a),St=Ge?Ge.createHTML(""):"",ot=l,zt=ot.implementation,on=ot.createNodeIterator,bo=ot.createDocumentFragment,Jt=ot.getElementsByTagName,fo=a.importNode,Zn={};try{Zn=cr(l).documentMode?l.documentMode:{}}catch{}var ko={};s.isSupported=typeof me=="function"&&zt&&typeof zt.createHTMLDocument<"u"&&Zn!==9;var On=Wf,ys=od,Rt=sd,en=Um,It=jg,Sn=jm,to=yl,So=null,aa=$n({},[].concat(Ft(sa),Ft(Xi),Ft(_c),Ft(gi),Ft(_h))),Wo=null,Nl=$n({},[].concat(Ft(nf),Ft(Ou),Ft(Sa),Ft(pi))),Ar=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),rd=null,rf=null,Wg=!0,Kw=!0,Tx=!1,Rv=!1,mb=!1,Qz=!1,Ij=!1,Ex=!1,M$=!1,B$=!1,uZ=!0,Fj=!0,eO=!1,Ax={},zx=null,dZ=$n({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),fZ=null,mZ=$n({},["audio","video","img","source","image","track"]),Lj=null,gZ=$n({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Hj="http://www.w3.org/1998/Math/MathML",Vj="http://www.w3.org/2000/svg",Nv="http://www.w3.org/1999/xhtml",P$=Nv,Uj=!1,Ox,HZ=["application/xhtml+xml","text/html"],VZ="text/html",Xw,Dx=null,UZ=l.createElement("form"),pZ=function(Fe){return Fe instanceof RegExp||Fe instanceof Function},jj=function(Fe){Dx&&Dx===Fe||((!Fe||ye(Fe)!=="object")&&(Fe={}),Fe=cr(Fe),So="ALLOWED_TAGS"in Fe?$n({},Fe.ALLOWED_TAGS):aa,Wo="ALLOWED_ATTR"in Fe?$n({},Fe.ALLOWED_ATTR):Nl,Lj="ADD_URI_SAFE_ATTR"in Fe?$n(cr(gZ),Fe.ADD_URI_SAFE_ATTR):gZ,fZ="ADD_DATA_URI_TAGS"in Fe?$n(cr(mZ),Fe.ADD_DATA_URI_TAGS):mZ,zx="FORBID_CONTENTS"in Fe?$n({},Fe.FORBID_CONTENTS):dZ,rd="FORBID_TAGS"in Fe?$n({},Fe.FORBID_TAGS):{},rf="FORBID_ATTR"in Fe?$n({},Fe.FORBID_ATTR):{},Ax="USE_PROFILES"in Fe?Fe.USE_PROFILES:!1,Wg=Fe.ALLOW_ARIA_ATTR!==!1,Kw=Fe.ALLOW_DATA_ATTR!==!1,Tx=Fe.ALLOW_UNKNOWN_PROTOCOLS||!1,Rv=Fe.SAFE_FOR_TEMPLATES||!1,mb=Fe.WHOLE_DOCUMENT||!1,Ex=Fe.RETURN_DOM||!1,M$=Fe.RETURN_DOM_FRAGMENT||!1,B$=Fe.RETURN_TRUSTED_TYPE||!1,Ij=Fe.FORCE_BODY||!1,uZ=Fe.SANITIZE_DOM!==!1,Fj=Fe.KEEP_CONTENT!==!1,eO=Fe.IN_PLACE||!1,to=Fe.ALLOWED_URI_REGEXP||to,P$=Fe.NAMESPACE||Nv,Fe.CUSTOM_ELEMENT_HANDLING&&pZ(Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ar.tagNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&pZ(Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ar.attributeNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&typeof Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ar.allowCustomizedBuiltInElements=Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ox=HZ.indexOf(Fe.PARSER_MEDIA_TYPE)===-1?Ox=VZ:Ox=Fe.PARSER_MEDIA_TYPE,Xw=Ox==="application/xhtml+xml"?function(tn){return tn}:pt,Rv&&(Kw=!1),M$&&(Ex=!0),Ax&&(So=$n({},Ft(_h)),Wo=[],Ax.html===!0&&($n(So,sa),$n(Wo,nf)),Ax.svg===!0&&($n(So,Xi),$n(Wo,Ou),$n(Wo,pi)),Ax.svgFilters===!0&&($n(So,_c),$n(Wo,Ou),$n(Wo,pi)),Ax.mathMl===!0&&($n(So,gi),$n(Wo,Sa),$n(Wo,pi))),Fe.ADD_TAGS&&(So===aa&&(So=cr(So)),$n(So,Fe.ADD_TAGS)),Fe.ADD_ATTR&&(Wo===Nl&&(Wo=cr(Wo)),$n(Wo,Fe.ADD_ATTR)),Fe.ADD_URI_SAFE_ATTR&&$n(Lj,Fe.ADD_URI_SAFE_ATTR),Fe.FORBID_CONTENTS&&(zx===dZ&&(zx=cr(zx)),$n(zx,Fe.FORBID_CONTENTS)),Fj&&(So["#text"]=!0),mb&&$n(So,["html","head","body"]),So.table&&($n(So,["tbody"]),delete rd.tbody),fs&&fs(Fe),Dx=Fe)},hZ=$n({},["mi","mo","mn","ms","mtext"]),yZ=$n({},["foreignobject","desc","title","annotation-xml"]),jZ=$n({},["title","style","font","a","script"]),$$=$n({},Xi);$n($$,_c),$n($$,jf);var Wj=$n({},gi);$n(Wj,db);var WZ=function(Fe){var tn=me(Fe);(!tn||!tn.tagName)&&(tn={namespaceURI:Nv,tagName:"template"});var qn=pt(Fe.tagName),xa=pt(tn.tagName);return Fe.namespaceURI===Vj?tn.namespaceURI===Nv?qn==="svg":tn.namespaceURI===Hj?qn==="svg"&&(xa==="annotation-xml"||hZ[xa]):!!$$[qn]:Fe.namespaceURI===Hj?tn.namespaceURI===Nv?qn==="math":tn.namespaceURI===Vj?qn==="math"&&yZ[xa]:!!Wj[qn]:Fe.namespaceURI===Nv?tn.namespaceURI===Vj&&!yZ[xa]||tn.namespaceURI===Hj&&!hZ[xa]?!1:!Wj[qn]&&(jZ[qn]||!$$[qn]):!1},gb=function(Fe){Kt(s.removed,{element:Fe});try{Fe.parentNode.removeChild(Fe)}catch{try{Fe.outerHTML=St}catch{Fe.remove()}}},I$=function(Fe,tn){try{Kt(s.removed,{attribute:tn.getAttributeNode(Fe),from:tn})}catch{Kt(s.removed,{attribute:null,from:tn})}if(tn.removeAttribute(Fe),Fe==="is"&&!Wo[Fe])if(Ex||M$)try{gb(tn)}catch{}else try{tn.setAttribute(Fe,"")}catch{}},bZ=function(Fe){var tn,qn;if(Ij)Fe="<remove></remove>"+Fe;else{var xa=An(Fe,/^[\r\n\t ]+/);qn=xa&&xa[0]}Ox==="application/xhtml+xml"&&(Fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Fe+"</body></html>");var af=Ge?Ge.createHTML(Fe):Fe;if(P$===Nv)try{tn=new $().parseFromString(af,Ox)}catch{}if(!tn||!tn.documentElement){tn=zt.createDocument(P$,"template",null);try{tn.documentElement.innerHTML=Uj?"":af}catch{}}var Du=tn.body||tn.documentElement;return Fe&&qn&&Du.insertBefore(l.createTextNode(qn),Du.childNodes[0]||null),P$===Nv?Jt.call(tn,mb?"html":"body")[0]:mb?tn.documentElement:Du},vZ=function(Fe){return on.call(Fe.ownerDocument||Fe,Fe,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},ZZ=function(Fe){return Fe instanceof M&&(typeof Fe.nodeName!="string"||typeof Fe.textContent!="string"||typeof Fe.removeChild!="function"||!(Fe.attributes instanceof O)||typeof Fe.removeAttribute!="function"||typeof Fe.setAttribute!="function"||typeof Fe.namespaceURI!="string"||typeof Fe.insertBefore!="function")},tO=function(Fe){return ye(h)==="object"?Fe instanceof h:Fe&&ye(Fe)==="object"&&typeof Fe.nodeType=="number"&&typeof Fe.nodeName=="string"},pb=function(Fe,tn,qn){ko[Fe]&&Mo(ko[Fe],function(xa){xa.call(s,tn,qn,Dx)})},kZ=function(Fe){var tn;if(pb("beforeSanitizeElements",Fe,null),ZZ(Fe)||pn(/[\u0080-\uFFFF]/,Fe.nodeName))return gb(Fe),!0;var qn=Xw(Fe.nodeName);if(pb("uponSanitizeElement",Fe,{tagName:qn,allowedTags:So}),Fe.hasChildNodes()&&!tO(Fe.firstElementChild)&&(!tO(Fe.content)||!tO(Fe.content.firstElementChild))&&pn(/<[/\w]/g,Fe.innerHTML)&&pn(/<[/\w]/g,Fe.textContent)||qn==="select"&&pn(/<template/i,Fe.innerHTML))return gb(Fe),!0;if(!So[qn]||rd[qn]){if(!rd[qn]&&_Z(qn)&&(Ar.tagNameCheck instanceof RegExp&&pn(Ar.tagNameCheck,qn)||Ar.tagNameCheck instanceof Function&&Ar.tagNameCheck(qn)))return!1;if(Fj&&!zx[qn]){var xa=me(Fe)||Fe.parentNode,af=ve(Fe)||Fe.childNodes;if(af&&xa)for(var Du=af.length,Yi=Du-1;Yi>=0;--Yi)xa.insertBefore(se(af[Yi],!0),_e(Fe))}return gb(Fe),!0}return Fe instanceof k&&!WZ(Fe)||(qn==="noscript"||qn==="noembed")&&pn(/<\/no(script|embed)/i,Fe.innerHTML)?(gb(Fe),!0):(Rv&&Fe.nodeType===3&&(tn=Fe.textContent,tn=ao(tn,On," "),tn=ao(tn,ys," "),Fe.textContent!==tn&&(Kt(s.removed,{element:Fe.cloneNode()}),Fe.textContent=tn)),pb("afterSanitizeElements",Fe,null),!1)},wZ=function(Fe,tn,qn){if(uZ&&(tn==="id"||tn==="name")&&(qn in l||qn in UZ))return!1;if(!(Kw&&!rf[tn]&&pn(Rt,tn))){if(!(Wg&&pn(en,tn))){if(!Wo[tn]||rf[tn]){if(!(_Z(Fe)&&(Ar.tagNameCheck instanceof RegExp&&pn(Ar.tagNameCheck,Fe)||Ar.tagNameCheck instanceof Function&&Ar.tagNameCheck(Fe))&&(Ar.attributeNameCheck instanceof RegExp&&pn(Ar.attributeNameCheck,tn)||Ar.attributeNameCheck instanceof Function&&Ar.attributeNameCheck(tn))||tn==="is"&&Ar.allowCustomizedBuiltInElements&&(Ar.tagNameCheck instanceof RegExp&&pn(Ar.tagNameCheck,qn)||Ar.tagNameCheck instanceof Function&&Ar.tagNameCheck(qn))))return!1}else if(!Lj[tn]){if(!pn(to,ao(qn,Sn,""))){if(!((tn==="src"||tn==="xlink:href"||tn==="href")&&Fe!=="script"&&Ts(qn,"data:")===0&&fZ[Fe])){if(!(Tx&&!pn(It,ao(qn,Sn,"")))){if(qn)return!1}}}}}}return!0},_Z=function(Fe){return Fe.indexOf("-")>0},CZ=function(Fe){var tn,qn,xa,af;pb("beforeSanitizeAttributes",Fe,null);var Du=Fe.attributes;if(Du){var Yi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Wo};for(af=Du.length;af--;){tn=Du[af];var F$=tn,Ji=F$.name,SZ=F$.namespaceURI;qn=Ji==="value"?tn.value:ar(tn.value),xa=Xw(Ji);var GZ=qn;if(Yi.attrName=xa,Yi.attrValue=qn,Yi.keepAttr=!0,Yi.forceKeepAttr=void 0,pb("uponSanitizeAttribute",Fe,Yi),qn=Yi.attrValue,!Yi.forceKeepAttr){if(!Yi.keepAttr){I$(Ji,Fe);continue}if(pn(/\/>/i,qn)){I$(Ji,Fe);continue}Rv&&(qn=ao(qn,On," "),qn=ao(qn,ys," "));var KZ=Xw(Fe.nodeName);if(!wZ(KZ,xa,qn)){I$(Ji,Fe);continue}if(qn!==GZ)try{SZ?Fe.setAttributeNS(SZ,Ji,qn):Fe.setAttribute(Ji,qn)}catch{I$(Ji,Fe)}}}pb("afterSanitizeAttributes",Fe,null)}},qZ=function wo(Fe){var tn,qn=vZ(Fe);for(pb("beforeSanitizeShadowDOM",Fe,null);tn=qn.nextNode();)pb("uponSanitizeShadowNode",tn,null),!kZ(tn)&&(tn.content instanceof d&&wo(tn.content),CZ(tn));pb("afterSanitizeShadowDOM",Fe,null)};return s.sanitize=function(wo,Fe){var tn,qn,xa,af,Du;if(Uj=!wo,Uj&&(wo="<!-->"),typeof wo!="string"&&!tO(wo)){if(typeof wo.toString!="function")throw Po("toString is not a function");if(wo=wo.toString(),typeof wo!="string")throw Po("dirty is not a string, aborting")}if(!s.isSupported){if(ye(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof wo=="string")return t.toStaticHTML(wo);if(tO(wo))return t.toStaticHTML(wo.outerHTML)}return wo}if(Qz||jj(Fe),s.removed=[],typeof wo=="string"&&(eO=!1),eO){if(wo.nodeName){var Yi=Xw(wo.nodeName);if(!So[Yi]||rd[Yi])throw Po("root node is forbidden and cannot be sanitized in-place")}}else if(wo instanceof h)tn=bZ("<!---->"),qn=tn.ownerDocument.importNode(wo,!0),qn.nodeType===1&&qn.nodeName==="BODY"||qn.nodeName==="HTML"?tn=qn:tn.appendChild(qn);else{if(!Ex&&!Rv&&!mb&&wo.indexOf("<")===-1)return Ge&&B$?Ge.createHTML(wo):wo;if(tn=bZ(wo),!tn)return Ex?null:B$?St:""}tn&&Ij&&gb(tn.firstChild);for(var F$=vZ(eO?wo:tn);xa=F$.nextNode();)xa.nodeType===3&&xa===af||kZ(xa)||(xa.content instanceof d&&qZ(xa.content),CZ(xa),af=xa);if(af=null,eO)return wo;if(Ex){if(M$)for(Du=bo.call(tn.ownerDocument);tn.firstChild;)Du.appendChild(tn.firstChild);else Du=tn;return Wo.shadowroot&&(Du=fo.call(a,Du,!0)),Du}var Ji=mb?tn.outerHTML:tn.innerHTML;return mb&&So["!doctype"]&&tn.ownerDocument&&tn.ownerDocument.doctype&&tn.ownerDocument.doctype.name&&pn(of,tn.ownerDocument.doctype.name)&&(Ji="<!DOCTYPE "+tn.ownerDocument.doctype.name+`>
`+Ji),Rv&&(Ji=ao(Ji,On," "),Ji=ao(Ji,ys," ")),Ge&&B$?Ge.createHTML(Ji):Ji},s.setConfig=function(wo){jj(wo),Qz=!0},s.clearConfig=function(){Dx=null,Qz=!1},s.isValidAttribute=function(wo,Fe,tn){Dx||jj({});var qn=Xw(wo),xa=Xw(Fe);return wZ(qn,xa,tn)},s.addHook=function(wo,Fe){typeof Fe=="function"&&(ko[wo]=ko[wo]||[],Kt(ko[wo],Fe))},s.removeHook=function(wo){if(ko[wo])return Qt(ko[wo])},s.removeHooks=function(wo){ko[wo]&&(ko[wo]=[])},s.removeAllHooks=function(){ko={}},s}var Sx=Cx();const Kz=t=>Sx().sanitize(t),Xz=Ny.deviceType.isTouch(),Yz=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),sf=(t,s)=>oa.parts.close(na.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:bt([Cr.config({})])})),fb=()=>oa.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),xe=(t,s)=>oa.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Hm(`<p>${Kz(s.translate(t))}</p>`)}]}]}),Te=t=>oa.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),wt=(t,s)=>[If.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),If.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],gt=t=>{const s="tox-dialog",a=s+"-wrap",l=a+"__backdrop",d=s+"__disable-scroll";return oa.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),A.some(!0)),useTabstopAt:g=>!Tu(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Hm(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Xz?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:a,modalBehaviours:bt([wn.config({}),Wn("dialog-events",t.dialogEvents.concat([pp(lu(),(g,h)=>{mn.focusIn(g)})])),Wn("scroll-lock",[Xs(()=>{ba(Oo(),d)}),iu(()=>{xs(Oo(),d)})]),...t.extraBehaviours]),eventOrder:{[ri()]:["dialog-events"],[xl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[_f()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},fn=t=>na.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:bt([Cr.config({})]),components:[Ud("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{es(s,Wy)}}),Do=(t,s,a,l)=>{const d=g=>[Ur(l.translate(g.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...a.map(g=>({id:g})).getOr({})}},components:[],behaviours:bt([hl.config({channel:`${N}-${s}`,initialData:t,renderComponents:d})])}},Js=()=>({dom:Hm('<div class="tox-dialog__draghandle"></div>')}),Cc=(t,s,a,l)=>If.sketch({dom:Hm('<div class="tox-dialog__header"></div>'),components:[Do(t,s,A.some(a),l),Js(),fn(l)],containerBehaviours:bt([sb.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>Wl(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Pc=(t,s,a)=>{const l=oa.parts.title(Do(t,s,A.none(),a)),d=oa.parts.draghandle(Js()),g=oa.parts.close(fn(a)),h=[l].concat(t.draggable?[d]:[]).concat([g]);return If.sketch({dom:Hm('<div class="tox-dialog__header"></div>'),components:h})},Ov=(t,s,a)=>Pc({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),Dv=(t,s,a)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:s,components:[{dom:Hm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Jz=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:l=>{oa.setBusy(t(),(d,g)=>Dv(l.message,g,s))},onUnblock:()=>{oa.setIdle(t())}}),O$=(t,s,a,l)=>{const d=(g,h)=>A.some(h);return va(gt({...t,firstTabstop:1,lazySink:l.shared.getSink,extraBehaviours:[hl.config({channel:`${x}-${t.id}`,updateState:d,initialData:s}),ed.memory({}),...t.extraBehaviours],onEscape:g=>{es(g,Wy)},dialogEvents:a,eventOrder:{[Uu()]:[hl.name(),Ol.name()],[xl()]:["scroll-lock",hl.name(),"messages","dialog-events","alloy.base.behaviour"],[_f()]:["alloy.base.behaviour","dialog-events","messages",hl.name(),"scroll-lock"]}}))},io=(t,s={})=>{const a=l=>{const d=Ee(l.items,g=>{const h=it(s,g.name).getOr(hn(!1));return{...g,storage:h}});return{...l,items:d}};return Ee(t,l=>l.type==="menu"?a(l):l)},Ne=t=>ct(t,(s,a)=>a.type==="menu"?ct(a.items,(d,g)=>(d[g.name]=g.storage,d),s):s,{}),Xt=(t,s)=>[Kv(lu(),wM),t(Q1,(a,l,d,g)=>{Nd(ge(g.element)).fold(re,Rc),s.onClose(),l.onClose()}),t(Wy,(a,l,d,g)=>{l.onCancel(a),es(g,Q1)}),et(i4,(a,l)=>s.onUnblock()),et(UC,(a,l)=>s.onBlock(l.event))],hi={initUrlDialog:(t,s)=>{const a=(d,g)=>et(d,(h,k)=>{l(h,(_,E)=>{g(t(),_,k.event,h)})}),l=(d,g)=>{hl.getState(d).get().each(h=>{g(h,d)})};return[...Xt(a,s),a(Ff,(d,g,h)=>{g.onAction(d,{name:h.name})})]},initDialog:(t,s,a)=>{const l=(g,h)=>et(g,(k,_)=>{d(k,(E,O)=>{h(t(),E,_.event,k)})}),d=(g,h)=>{hl.getState(g).get().each(k=>{h(k.internalDialog,g)})};return[...Xt(l,s),l(rw,(g,h)=>h.onSubmit(g)),l(qi,(g,h,k)=>{h.onChange(g,{name:k.name})}),l(Ff,(g,h,k,_)=>{const E=()=>mn.focusIn(_),O=H=>P(H,"disabled")||pr(H,"aria-disabled").exists(G=>G==="true"),M=ge(_.element),$=Nd(M);h.onAction(g,{name:k.name,value:k.value}),Nd(M).fold(E,H=>{O(H)||$.exists(G=>Hr(H,G)&&O(G))?E():a().toOptional().filter(G=>!Hr(G.element,H)).each(E)})}),l(TN,(g,h,k)=>{h.onTabChange(g,{newTabName:k.name,oldTabName:k.oldName})}),iu(g=>{const h=t();Pt.setValue(g,h.getData())})]}},yi=(t,s)=>vS(t,t.type,s),Ql=(t,s,a)=>Ae(s,l=>l.name===a).bind(l=>l.memento.getOpt(t)),xx=(t,s)=>{const a=s.map(k=>k.footerButtons).getOr([]),l=dt(a,k=>k.align==="start"),d=(k,_)=>If.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${k}`]},components:Ee(_,E=>E.memento.asSpec())}),g=d("start",l.pass),h=d("end",l.fail);return[g,h]},Rl=(t,s,a)=>{const l=(d,g)=>{const h=Ee(g.buttons,_=>{const E=hs(yi(_,a));return{name:_.name,align:_.align,memento:E}}),k=_=>Ql(d,h,_);return A.some({lookupByName:k,footerButtons:h})};return{dom:Hm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:bt([hl.config({channel:`${L}-${s}`,initialData:t,updateState:l,renderComponents:xx})])}},D$=(t,s,a)=>Rl(t,s,a),R$=(t,s,a)=>oa.parts.footer(Rl(t,s,a)),N$=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const l=ro.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return lv.getField(l,s).orThunk(()=>{const d=t.getFooter();return hl.getState(d).get().bind(h=>h.lookupByName(s))})}else return A.none()},cZ=(t,s)=>{const a=t.getRoot();return hl.getState(a).get().map(l=>Qo(gs("data",l.dataValidator,s))).getOr(s)},lZ=(t,s,a)=>{const l=G=>{const se=t.getRoot();se.getSystem().isConnected()&&G(se)},H={getData:()=>{const G=t.getRoot(),se=G.getSystem().isConnected()?t.getFormWrapper():G,_e=Pt.getValue(se),ve=Kn(a,me=>me.get());return{..._e,...ve}},setData:G=>{l(se=>{const _e=H.getData(),ve=Ms(_e,G),me=cZ(t,ve),Ue=t.getFormWrapper();Pt.setValue(Ue,me),co(a,(Ge,St)=>{po(ve,St)&&Ge.set(ve[St])})})},setEnabled:(G,se)=>{N$(t,G).each(se?vn.enable:vn.disable)},focus:G=>{N$(t,G).each(wn.focus)},block:G=>{if(!yt(G))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(se=>{an(se,UC,{message:G})})},unblock:()=>{l(G=>{es(G,i4)})},showTab:G=>{l(se=>{const _e=t.getBody();hl.getState(_e).get().exists(me=>me.isTabPanel())&&ro.getCurrent(_e).each(me=>{ub.showTab(me,G)})})},redial:G=>{l(se=>{const _e=t.getId(),ve=s(G),me=io(ve.internalDialog.buttons,a);se.getSystem().broadcastOn([`${x}-${_e}`],ve),se.getSystem().broadcastOn([`${N}-${_e}`],ve.internalDialog),se.getSystem().broadcastOn([`${D}-${_e}`],ve.internalDialog),se.getSystem().broadcastOn([`${L}-${_e}`],{...ve.internalDialog,buttons:me}),H.setData(ve.initialData)})},close:()=>{l(G=>{es(G,Q1)})},toggleFullscreen:t.toggleFullscreen};return H},xZ=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},TZ=(t,s,a)=>{const l=Vt("dialog"),d=t.internalDialog,g=Ov(d.title,l,a),h=J({body:d.body,initialData:d.initialData},l,a),k=io(d.buttons),_=Ne(k),E=R$({buttons:k},l,a),O=hi.initDialog(()=>se,Jz(()=>H,a.shared.providers,s),a.shared.getSink),M=xZ(d.size),$={id:l,header:g,body:h,footer:A.some(E),extraClasses:M,extraBehaviours:[],extraStyles:{}},H=O$($,t,O,a),G=(()=>{const _e=()=>{const me=oa.getBody(H);return ro.getCurrent(me).getOr(me)},ve=()=>{const me="tox-dialog--fullscreen",Ue=fe.fromDom(H.element.dom);Ys(Ue,me)?(xs(Ue,me),Td(Ue,M)):(ci(Ue,M),ba(Ue,me))};return{getId:Y(l),getRoot:Y(H),getBody:()=>oa.getBody(H),getFooter:()=>oa.getFooter(H),getFormWrapper:_e,toggleFullscreen:ve}})(),se=lZ(G,s.redial,_);return{dialog:H,instanceApi:se}},EZ=(t,s,a,l)=>{const d=Vt("dialog"),g=Vt("dialog-label"),h=Vt("dialog-content"),k=t.internalDialog,_=(Ue,Ge)=>A.some(Ge),E=hs(Cc({title:k.title,draggable:!0},d,g,a.shared.providers)),O=hs(q({body:k.body,initialData:k.initialData},d,h,a,l)),M=io(k.buttons),$=Ne(M),H=hs(D$({buttons:M},d,a)),G=hi.initDialog(()=>me,{onBlock:Ue=>{Vf.block(_e,(Ge,St)=>Dv(Ue.message,St,a.shared.providers))},onUnblock:()=>{Vf.unblock(_e)},onClose:()=>s.closeWindow()},a.shared.getSink),se="tox-dialog-inline",_e=va({dom:{tag:"div",classes:["tox-dialog",se],attributes:{role:"dialog",["aria-labelledby"]:g}},eventOrder:{[Uu()]:[hl.name(),Ol.name()],[ri()]:["execute-on-form"],[xl()]:["reflecting","execute-on-form"]},behaviours:bt([mn.config({mode:"cyclic",onEscape:Ue=>(es(Ue,Q1),A.some(!0)),useTabstopAt:Ue=>!Tu(Ue)&&(Lr(Ue)!=="button"||fa(Ue,"disabled")!=="disabled"),firstTabstop:1}),hl.config({channel:`${x}-${d}`,updateState:_,initialData:t}),wn.config({}),Wn("execute-on-form",G.concat([pp(lu(),(Ue,Ge)=>{mn.focusIn(Ue)})])),Vf.config({getRoot:()=>A.some(_e)}),Dn.config({}),ed.memory({})]),components:[E.asSpec(),O.asSpec(),H.asSpec()]}),ve=()=>{const Ue="tox-dialog--fullscreen",Ge=fe.fromDom(_e.element.dom);Bi(Ge,[Ue])?(ci(Ge,[Ue]),Td(Ge,[se])):(ci(Ge,[se]),Td(Ge,[Ue]))},me=lZ({getId:Y(d),getRoot:Y(_e),getFooter:()=>H.get(_e),getBody:()=>O.get(_e),getFormWrapper:()=>{const Ue=O.get(_e);return ro.getCurrent(Ue).getOr(Ue)},toggleFullscreen:ve},s.redial,$);return{dialog:_e,instanceApi:me}};var $j=tinymce.util.Tools.resolve("tinymce.util.URI");const AZ=t=>{const s=h=>{t.getSystem().isConnected()&&h(t)};return{block:h=>{if(!yt(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(k=>{an(k,UC,{message:h})})},unblock:()=>{s(h=>{es(h,i4)})},close:()=>{s(h=>{es(h,Q1)})},sendMessage:h=>{s(k=>{k.getSystem().broadcastOn([X],h)})}}},zZ=["insertContent","setContent","execCommand","close","block","unblock"],iZ=t=>Yn(t)&&zZ.indexOf(t.mceAction)!==-1,OZ=t=>!iZ(t)&&Yn(t)&&po(t,"mceAction"),DZ=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const l=Zo(a.ui)?a.ui:!1;t.execCommand(a.cmd,l,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},RZ=(t,s,a,l)=>{const d=Vt("dialog"),g=Ov(t.title,d,l),h=pe(t),k=t.buttons.bind(me=>me.length===0?A.none():A.some(R$({buttons:me},d,l))),_=hi.initUrlDialog(()=>ve,Jz(()=>_e,l.shared.providers,s)),E={...t.height.fold(()=>({}),me=>({height:me+"px","max-height":me+"px"})),...t.width.fold(()=>({}),me=>({width:me+"px","max-width":me+"px"}))},O=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],M=new $j(t.url,{base_uri:new $j(window.location.href)}),$=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,H=mu(),G=[Wn("messages",[Xs(()=>{const me=Nc(fe.fromDom(window),"message",Ue=>{if(M.isSameOrigin(new $j(Ue.raw.origin))){const Ge=Ue.raw.data;iZ(Ge)?DZ(a,ve,Ge):OZ(Ge)&&t.onMessage(ve,Ge)}});H.set(me)}),iu(H.clear)]),Ol.config({channels:{[X]:{onReceive:(me,Ue)=>{Qr(me.element,"iframe").each(Ge=>{const St=Ge.dom.contentWindow;mo(St)&&St.postMessage(Ue,$)})}}}})],_e=O$({id:d,header:g,body:h,footer:k,extraClasses:O,extraBehaviours:G,extraStyles:E},t,_,l),ve=AZ(_e);return{dialog:_e,instanceApi:ve}},NZ=t=>{const s=t.shared;return{open:(l,d)=>{const g=()=>{oa.hide(E),d()},h=hs(vS({name:"close-alert",text:"OK",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"cancel",t)),k=fb(),_=sf(g,s.providers),E=va(gt({lazySink:()=>s.getSink(),header:Yz(k,_),body:xe(l,s.providers),footer:A.some(Te(wt([],[h.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(Wy,g)],eventOrder:{}}));oa.show(E);const O=h.get(E);wn.focus(O)}}},MZ=t=>{const s=t.shared;return{open:(l,d)=>{const g=$=>{oa.hide(O),d($)},h=hs(vS({name:"yes",text:"Yes",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"submit",t)),k=vS({name:"no",text:"No",primary:!1,buttonType:A.some("secondary"),align:"end",enabled:!0,icon:A.none()},"cancel",t),_=fb(),E=sf(()=>g(!1),s.providers),O=va(gt({lazySink:()=>s.getSink(),header:Yz(_,E),body:xe(l,s.providers),footer:A.some(Te(wt([],[k,h.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[et(Wy,()=>g(!1)),et(rw,()=>g(!0))],eventOrder:{}}));oa.show(O);const M=h.get(O);wn.focus(M)}}},BZ=(t,s)=>Qo(gs("data",s,t)),PZ=t=>Cu(t,".tox-alert-dialog")||Cu(t,".tox-confirm-dialog"),$Z=(t,s,a)=>s&&a?[]:[Ba.config({contextual:{lazyContext:()=>A.some(R(fe.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>nw(t,l.element).map(g=>({bounds:VC(g),optScrollEnv:A.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:gc(g.element).top})})).getOrThunk(()=>({bounds:ft(),optScrollEnv:A.none()}))})],IZ=t=>{const s=t.editor,a=By(s),l=NZ(t.backstages.dialog),d=MZ(t.backstages.dialog),g=(H,G,se)=>G!==void 0&&G.inline==="toolbar"?E(H,t.backstages.popup.shared.anchors.inlineDialog(),se,G.ariaAttrs):G!==void 0&&G.inline==="cursor"?E(H,t.backstages.popup.shared.anchors.cursor(),se,G.ariaAttrs):_(H,se),h=(H,G)=>k(H,G),k=(H,G)=>{const se=_e=>{const ve=RZ(_e,{closeWindow:()=>{oa.hide(ve.dialog),G(ve.instanceApi)}},s,t.backstages.dialog);return oa.show(ve.dialog),ve.instanceApi};return Av.openUrl(se,H)},_=(H,G)=>{const se=(_e,ve,me)=>{const Ue=ve,St=TZ({dataValidator:me,initialData:Ue,internalDialog:_e},{redial:Av.redial,closeWindow:()=>{oa.hide(St.dialog),G(St.instanceApi)}},t.backstages.dialog);return oa.show(St.dialog),St.instanceApi.setData(Ue),St.instanceApi};return Av.open(se,H)},E=(H,G,se,_e=!1)=>{const ve=(me,Ue,Ge)=>{const St=BZ(Ue,Ge),ot=Os(),zt=t.backstages.popup.shared.header.isPositionedAtTop(),on={dataValidator:Ge,initialData:St,internalDialog:me},bo=()=>ot.on(ko=>{ta.reposition(ko),Ba.refresh(ko)}),Jt=EZ(on,{redial:Av.redial,closeWindow:()=>{ot.on(ta.hide),s.off("ResizeEditor",bo),ot.clear(),se(Jt.instanceApi)}},t.backstages.popup,_e),fo=va(ta.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...zt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:bt([Wn("window-manager-inline-events",[et(Cf(),(ko,On)=>{es(Jt.dialog,Wy)})]),...$Z(s,a,zt)]),isExtraPart:(ko,On)=>PZ(On)}));ot.set(fo);const Zn=()=>{const ko=s.inline?Oo():fe.fromDom(s.getContainer()),On=R(ko);return A.some(On)};return ta.showWithinBounds(fo,Pi(Jt.dialog),{anchor:G},Zn),(!a||!zt)&&(Ba.refresh(fo),s.on("ResizeEditor",bo)),Jt.instanceApi.setData(St),mn.focusIn(Jt.dialog),Jt.instanceApi};return Av.open(ve,H)};return{open:g,openUrl:h,alert:(H,G)=>{l.open(H,G)},close:H=>{H.close()},confirm:(H,G)=>{d.open(H,G)}}},FZ=t=>{aC(t),KF(t),E5(t)};var LZ=()=>{kn.add("silver",t=>{FZ(t);let s=()=>ft();const{dialogs:a,popups:l,renderUI:d}=SU(t,{getPopupSinkBounds:()=>s()}),g=async()=>{const _=await d();return nw(t,l.getMothership().element).each(O=>{s=()=>VC(O)}),_};O6.register(t,l.backstage.shared);const h=IZ({editor:t,backstages:{popup:l.backstage,dialog:a.backstage}}),k=()=>rC(t,{backstage:l.backstage},l.getMothership());return{renderUI:g,getWindowManagerImpl:Y(h),getNotificationManagerImpl:k}})};LZ()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=(T,R,V)=>{var ce;return V(T,R.prototype)?!0:((ce=T.constructor)===null||ce===void 0?void 0:ce.name)===R.name},Sr=T=>{const R=typeof T;return T===null?"null":R==="object"&&Array.isArray(T)?"array":R==="object"&&yr(T,String,(V,ce)=>ce.isPrototypeOf(V))?"string":R},bs=T=>R=>Sr(R)===T,Es=T=>R=>typeof R===T,Qs=bs("string"),xo=bs("object"),yt=bs("array"),Yn=Es("boolean"),Hn=T=>T==null,no=T=>!Hn(T),ls=Es("function"),Zo=Es("number"),Fn=()=>{},qo=T=>()=>T,mo=(T,R)=>T===R,_t=T=>R=>!T(R),Ao=qo(!1);class vt{constructor(R,V){this.tag=R,this.value=V}static some(R){return new vt(!0,R)}static none(){return vt.singletonNone}fold(R,V){return this.tag?V(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?vt.some(R(this.value)):vt.none()}bind(R){return this.tag?R(this.value):vt.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:vt.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return no(R)?vt.some(R):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vt.singletonNone=new vt(!1);const re=Array.prototype.slice,sn=Array.prototype.indexOf,dr=Array.prototype.push,Vn=(T,R)=>sn.call(T,R),Y=(T,R)=>Vn(T,R)>-1,gn=(T,R)=>{for(let V=0,ce=T.length;V<ce;V++){const de=T[V];if(R(de,V))return!0}return!1},Nn=(T,R)=>{const V=T.length,ce=new Array(V);for(let de=0;de<V;de++){const ft=T[de];ce[de]=R(ft,de)}return ce},nn=(T,R)=>{for(let V=0,ce=T.length;V<ce;V++){const de=T[V];R(de,V)}},Le=(T,R)=>{const V=[];for(let ce=0,de=T.length;ce<de;ce++){const ft=T[ce];R(ft,ce)&&V.push(ft)}return V},ie=(T,R)=>{if(T.length===0)return[];{let V=R(T[0]);const ce=[];let de=[];for(let ft=0,kn=T.length;ft<kn;ft++){const Bn=T[ft],Pn=R(Bn);Pn!==V&&(ce.push(de),de=[]),V=Pn,de.push(Bn)}return de.length!==0&&ce.push(de),ce}},Ho=(T,R,V)=>(nn(T,(ce,de)=>{V=R(V,ce,de)}),V),st=(T,R,V)=>{for(let ce=0,de=T.length;ce<de;ce++){const ft=T[ce];if(R(ft,ce))return vt.some(ft);if(V(ft,ce))break}return vt.none()},$e=(T,R)=>st(T,R,Ao),A=T=>{const R=[];for(let V=0,ce=T.length;V<ce;++V){if(!yt(T[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+T);dr.apply(R,T[V])}return R},cn=(T,R)=>A(Nn(T,R)),Ke=T=>{const R=re.call(T,0);return R.reverse(),R},_n=(T,R)=>R>=0&&R<T.length?vt.some(T[R]):vt.none(),Ht=T=>_n(T,0),He=T=>_n(T,T.length-1),Gn=(T,R)=>{const V=[],ce=ls(R)?de=>gn(V,ft=>R(ft,de)):de=>Y(V,de);for(let de=0,ft=T.length;de<ft;de++){const kn=T[de];ce(kn)||V.push(kn)}return V},is=(T,R,V=mo)=>T.exists(ce=>V(ce,R)),at=(T,R,V=mo)=>Zt(T,R,V).getOr(T.isNone()&&R.isNone()),Zt=(T,R,V)=>T.isSome()&&R.isSome()?vt.some(V(T.getOrDie(),R.getOrDie())):vt.none(),Ee=1,Je=(T,R)=>{const ce=(R||document).createElement("div");if(ce.innerHTML=T,!ce.hasChildNodes()||ce.childNodes.length>1){const de="HTML does not have a single root node";throw console.error(de,T),new Error(de)}return je(ce.childNodes[0])},I=(T,R)=>{const ce=(R||document).createElement(T);return je(ce)},dt=(T,R)=>{const ce=(R||document).createTextNode(T);return je(ce)},je=T=>{if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},ct={fromHtml:Je,fromTag:I,fromText:dt,fromDom:je,fromPoint:(T,R,V)=>vt.from(T.dom.elementFromPoint(R,V)).map(je)},zo=(T,R)=>{const V=T.dom;if(V.nodeType!==Ee)return!1;{const ce=V;if(ce.matches!==void 0)return ce.matches(R);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(R);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(R);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},Ae=(T,R)=>T.dom===R.dom,nt=(T,R)=>{const V=T.dom,ce=R.dom;return V===ce?!1:V.contains(ce)},Re=zo;var he=(T,R,V,ce,de)=>T(V,ce)?vt.some(V):ls(de)&&de(V)?vt.none():R(V,ce,de);typeof window<"u"||Function("return this;")();const Ye=T=>T.dom.nodeName.toLowerCase(),Ze=T=>T.dom.nodeType,un=(T=>R=>Ze(R)===T)(Ee),Bt=T=>R=>un(R)&&Ye(R)===T,go=T=>vt.from(T.dom.parentNode).map(ct.fromDom),Un=T=>vt.from(T.dom.parentElement).map(ct.fromDom),Go=T=>vt.from(T.dom.nextSibling).map(ct.fromDom),zr=T=>Nn(T.dom.childNodes,ct.fromDom),ts=(T,R)=>{const V=T.dom.childNodes;return vt.from(V[R]).map(ct.fromDom)},Ko=T=>ts(T,0),_o=T=>ts(T,T.dom.childNodes.length-1),Or=(T,R,V)=>{let ce=T.dom;const de=ls(V)?V:Ao;for(;ce.parentNode;){ce=ce.parentNode;const ft=ct.fromDom(ce);if(R(ft))return vt.some(ft);if(de(ft))break}return vt.none()},co=(T,R,V)=>he((de,ft)=>ft(de),Or,T,R,V),Kn=(T,R)=>{go(T).each(ce=>{ce.dom.insertBefore(R.dom,T.dom)})},ca=(T,R)=>{Go(T).fold(()=>{go(T).each(de=>{xn(de,R)})},ce=>{Kn(ce,R)})},xn=(T,R)=>{T.dom.appendChild(R.dom)},ns=(T,R)=>{nn(R,V=>{Kn(T,V)})},vs=(T,R)=>{nn(R,V=>{xn(T,V)})},la=T=>{T.dom.textContent="",nn(zr(T),R=>{Sc(R)})},Sc=T=>{const R=T.dom;R.parentNode!==null&&R.parentNode.removeChild(R)};var Xo=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ml=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),it=tinymce.util.Tools.resolve("tinymce.util.VK");const po=T=>Nn(T,ct.fromDom),Ir=Object.keys,Fr=(T,R)=>{const V=Ir(T);for(let ce=0,de=V.length;ce<de;ce++){const ft=V[ce],kn=T[ft];R(kn,ft)}},ic=T=>(R,V)=>{T[V]=R},uc=(T,R,V,ce)=>{Fr(T,(de,ft)=>{(R(de,ft)?V:ce)(de,ft)})},us=(T,R)=>{const V={};return uc(T,R,ic(V),Fn),V},xc=(T,R,V)=>{if(Qs(V)||Yn(V)||Zo(V))T.setAttribute(R,V+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",V,":: Element ",T),new Error("Attribute value was not simple")},ia=(T,R)=>{const V=T.dom;Fr(R,(ce,de)=>{xc(V,de,ce)})},Vo=T=>Ho(T.dom.attributes,(R,V)=>(R[V.name]=V.value,R),{}),yn=(T,R)=>ct.fromDom(T.dom.cloneNode(R)),br=T=>yn(T,!0),qa=(T,R)=>{const V=ct.fromTag(R),ce=Vo(T);return ia(V,ce),V},Tc=(T,R)=>{const V=qa(T,R);ca(T,V);const ce=zr(T);return vs(V,ce),Sc(T),V};var $c=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ks=tinymce.util.Tools.resolve("tinymce.util.Tools");const fr=T=>R=>no(R)&&R.nodeName.toLowerCase()===T,ws=T=>R=>no(R)&&T.test(R.nodeName),mr=T=>no(T)&&T.nodeType===3,dc=T=>no(T)&&T.nodeType===1,_s=ws(/^(OL|UL|DL)$/),ua=ws(/^(OL|UL)$/),ee=fr("ol"),te=ws(/^(LI|DT|DD)$/),ze=ws(/^(DT|DD)$/),Ve=ws(/^(TH|TD)$/),Gt=fr("br"),rn=T=>{var R;return((R=T.parentNode)===null||R===void 0?void 0:R.firstChild)===T},eo=(T,R)=>no(R)&&R.nodeName in T.schema.getTextBlockElements(),fe=(T,R)=>no(T)&&T.nodeName in R,jn=(T,R)=>no(R)&&R.nodeName in T.schema.getVoidElements(),Xn=(T,R)=>Gt(R)?T.isBlock(R.nextSibling)&&!Gt(R.previousSibling):!1,Fs=(T,R,V)=>{const ce=T.isEmpty(R);return V&&T.select("span[data-mce-type=bookmark]",R).length>0?!1:ce},er=(T,R)=>T.isChildOf(R,T.getRoot()),ho=T=>R=>R.options.get(T),Bl=T=>{const R=T.options.register;R("lists_indent_on_tab",{processor:"boolean",default:!0})},ei=ho("lists_indent_on_tab"),gr=ho("forced_root_block"),Ic=ho("forced_root_block_attrs"),yo=(T,R)=>{const V=T.dom,ce=T.schema.getBlockElements(),de=V.createFragment(),ft=gr(T),kn=Ic(T);let Bn,Pn,zn=!1;for(Pn=V.create(ft,kn),fe(R.firstChild,ce)||de.appendChild(Pn);Bn=R.firstChild;){const Yt=Bn.nodeName;!zn&&(Yt!=="SPAN"||Bn.getAttribute("data-mce-type")!=="bookmark")&&(zn=!0),fe(Bn,ce)?(de.appendChild(Bn),Pn=null):(Pn||(Pn=V.create(ft,kn),de.appendChild(Pn)),Pn.appendChild(Bn))}return!zn&&Pn&&Pn.appendChild(V.create("br",{"data-mce-bogus":"1"})),de},uo=$c.DOM,qr=(T,R,V)=>{const ce=zn=>{const Yt=zn.parentNode;Yt&&ks.each(de,sr=>{Yt.insertBefore(sr,V.parentNode)}),uo.remove(zn)},de=uo.select('span[data-mce-type="bookmark"]',R),ft=yo(T,V),kn=uo.createRng();kn.setStartAfter(V),kn.setEndAfter(R);const Bn=kn.extractContents();for(let zn=Bn.firstChild;zn;zn=zn.firstChild)if(zn.nodeName==="LI"&&T.dom.isEmpty(zn)){uo.remove(zn);break}T.dom.isEmpty(Bn)||uo.insertAfter(Bn,R),uo.insertAfter(ft,R);const Pn=V.parentElement;Pn&&Fs(T.dom,Pn)&&ce(Pn),uo.remove(V),Fs(T.dom,R)&&uo.remove(R)},Lr=Bt("dd"),fc=Bt("dt"),bl=(T,R)=>{Lr(R)?Tc(R,"dt"):fc(R)&&Un(R).each(V=>qr(T,V.dom,R.dom))},vl=T=>{fc(T)&&Tc(T,"dd")},$o=(T,R,V)=>{R==="Indent"?nn(V,vl):nn(V,ce=>bl(T,ce))},Ea=(T,R)=>{if(mr(T))return{container:T,offset:R};const V=Xo.getNode(T,R);return mr(V)?{container:V,offset:R>=T.childNodes.length?V.data.length:0}:V.previousSibling&&mr(V.previousSibling)?{container:V.previousSibling,offset:V.previousSibling.data.length}:V.nextSibling&&mr(V.nextSibling)?{container:V.nextSibling,offset:0}:{container:T,offset:R}},sl=T=>{const R=T.cloneRange(),V=Ea(T.startContainer,T.startOffset);R.setStart(V.container,V.offset);const ce=Ea(T.endContainer,T.endOffset);return R.setEnd(ce.container,ce.offset),R},Pl=["OL","UL","DL"],mc=Pl.join(","),lr=(T,R)=>{const V=R||T.selection.getStart(!0);return T.dom.getParent(V,mc,Ga(T,V))},Ds=(T,R)=>no(T)&&R.length===1&&R[0]===T,cf=T=>Le(T.querySelectorAll(mc),_s),bi=T=>{const R=lr(T),V=T.selection.getSelectedBlocks();return Ds(R,V)?cf(R):Le(V,ce=>_s(ce)&&R!==ce)},ds=(T,R)=>{const V=ks.map(R,ce=>{const de=T.dom.getParent(ce,"li,dd,dt",Ga(T,ce));return de||ce});return Gn(V)},Hr=T=>{const R=T.selection.getSelectedBlocks();return Le(ds(T,R),te)},Aa=T=>Le(Hr(T),ze),tr=(T,R)=>{const V=T.dom.getParents(R,"TD,TH");return V.length>0?V[0]:T.getBody()},vi=(T,R)=>!_s(R)&&!te(R)&&gn(Pl,V=>T.isValidChild(R.nodeName,V)),Ga=(T,R)=>{const V=T.dom.getParents(R,T.dom.isBlock);return $e(V,de=>vi(T.schema,de)).getOr(T.getBody())},Pa=(T,R)=>{const V=T.dom.getParents(R,"ol,ul",Ga(T,R));return He(V)},za=T=>{const R=Pa(T,T.selection.getStart()),V=Le(T.selection.getSelectedBlocks(),ua);return R.toArray().concat(V)},ad=T=>{const R=za(T);return Qi(T,R)},Qi=(T,R)=>{const V=Nn(R,ce=>Pa(T,ce).getOr(ce));return Gn(V)},ki=T=>/\btox\-/.test(T.className),$a=(T,R)=>st(T,_s,Ve).exists(V=>V.nodeName===R&&!ki(V)),Fc=(T,R)=>R!==null&&!T.dom.isEditable(R),Ru=T=>{const R=lr(T);return Fc(T,R)},Lc=(T,R)=>{const V=T.dom.getParent(R,"ol,ul,dl");return Fc(T,V)},wi=(T,R)=>{const V=T.selection.getNode();return R({parents:T.dom.getParents(V),element:V}),T.on("NodeChange",R),()=>T.off("NodeChange",R)},eu=(T,R)=>{const ce=(R||document).createDocumentFragment();return nn(T,de=>{ce.appendChild(de.dom)}),ct.fromDom(ce)},j=(T,R,V)=>T.dispatch("ListMutation",{action:R,element:V}),ge=(T=>R=>R.replace(T,""))(/^\s+|\s+$/g),Oe=T=>T.length>0,ht=T=>!Oe(T),ln=T=>T.style!==void 0&&ls(T.style.getPropertyValue),os=(T,R,V)=>{if(!Qs(V))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",V,":: Element ",T),new Error("CSS value must be a string: "+V);ln(T)&&T.style.setProperty(R,V)},Cs=(T,R,V)=>{const ce=T.dom;os(ce,R,V)},Yo=(T,R)=>{xn(T.item,R.list)},Io=T=>{for(let R=1;R<T.length;R++)Yo(T[R-1],T[R])},Oo=(T,R)=>{Zt(He(T),Ht(R),Yo)},da=(T,R)=>{const V={list:ct.fromTag(R,T),item:ct.fromTag("li",T)};return xn(V.list,V.item),V},rl=(T,R,V)=>{const ce=[];for(let de=0;de<V;de++)ce.push(da(T,R.listType));return ce},Mn=(T,R)=>{for(let V=0;V<T.length-1;V++)Cs(T[V].item,"list-style-type","none");He(T).each(V=>{ia(V.list,R.listAttributes),ia(V.item,R.itemAttributes),vs(V.item,R.content)})},To=(T,R)=>{Ye(T.list)!==R.listType&&(T.list=Tc(T.list,R.listType)),ia(T.list,R.listAttributes)},fa=(T,R,V)=>{const ce=ct.fromTag("li",T);return ia(ce,R),vs(ce,V),ce},pr=(T,R)=>{xn(T.list,R),T.item=R},P=(T,R,V)=>{const ce=R.slice(0,V.depth);return He(ce).each(de=>{const ft=fa(T,V.itemAttributes,V.content);pr(de,ft),To(de,V)}),ce},W=(T,R,V)=>{const ce=rl(T,V,V.depth-R.length);return Io(ce),Mn(ce,V),Oo(R,ce),R.concat(ce)},oe=(T,R)=>{const V=Ho(R,(ce,de)=>de.depth>ce.length?W(T,ce,de):P(T,ce,de),[]);return Ht(V).map(ce=>ce.list)},Se=T=>Re(T,"OL,UL"),Nt=T=>Ko(T).exists(Se),xt=T=>_o(T).exists(Se),ms=T=>T.depth>0,nr=T=>T.isSelected,Qe=T=>{const R=zr(T),V=xt(T)?R.slice(0,-1):R;return Nn(V,br)},Oa=(T,R,V)=>go(T).filter(un).map(ce=>({depth:R,dirty:!1,isSelected:V,content:Qe(T),itemAttributes:Vo(T),listAttributes:Vo(ce),listType:Ye(ce)})),Ss=(T,R)=>{switch(T){case"Indent":R.depth++;break;case"Outdent":R.depth--;break;case"Flatten":R.depth=0}R.dirty=!0},Dr=(T,R)=>{T.listType=R.listType,T.listAttributes={...R.listAttributes}},cd=T=>{T.listAttributes=us(T.listAttributes,(R,V)=>V!=="start")},vo=(T,R)=>{const V=T[R].depth,ce=ft=>ft.depth===V&&!ft.dirty,de=ft=>ft.depth<V;return st(Ke(T.slice(0,R)),ce,de).orThunk(()=>st(T.slice(R+1),ce,de))},ti=T=>(nn(T,(R,V)=>{vo(T,V).fold(()=>{R.dirty&&cd(R)},ce=>Dr(R,ce))}),T),_i=T=>{let R=T;return{get:()=>R,set:de=>{R=de}}},Rs=(T,R,V,ce)=>Ko(ce).filter(Se).fold(()=>{R.each(kn=>{Ae(kn.start,ce)&&V.set(!0)});const de=Oa(ce,T,V.get());R.each(kn=>{Ae(kn.end,ce)&&V.set(!1)});const ft=_o(ce).filter(Se).map(kn=>or(T,R,V,kn)).getOr([]);return de.toArray().concat(ft)},de=>or(T,R,V,de)),or=(T,R,V,ce)=>cn(zr(ce),de=>{const ft=Se(de)?or:Rs,kn=T+1;return ft(kn,R,V,de)}),Ci=(T,R)=>{const V=_i(!1),ce=0;return Nn(T,de=>({sourceList:de,entries:or(ce,R,V,de)}))},hb=(T,R)=>{const V=ti(R);return Nn(V,ce=>{const de=eu(ce.content);return ct.fromDom(yo(T,de.dom))})},Wm=(T,R)=>{const V=ti(R);return oe(T.contentDocument,V).toArray()},Zs=(T,R)=>cn(ie(R,ms),V=>Ht(V).exists(ms)?Wm(T,V):hb(T,V)),Hc=(T,R)=>{nn(Le(T,nr),V=>Ss(R,V))},Vc=T=>{const R=Nn(Hr(T),ct.fromDom);return Zt($e(R,_t(Nt)),$e(Ke(R),_t(Nt)),(V,ce)=>({start:V,end:ce}))},gc=(T,R,V)=>{const ce=Ci(R,Vc(T));nn(ce,de=>{Hc(de.entries,V);const ft=Zs(T,de.entries);nn(ft,kn=>{j(T,V==="Indent"?"IndentList":"OutdentList",kn.dom)}),ns(de.sourceList,ft),Sc(de.sourceList)})},Si=(T,R)=>{const V=po(ad(T)),ce=po(Aa(T));let de=!1;if(V.length||ce.length){const ft=T.selection.getBookmark();gc(T,V,R),$o(T,R,ce),T.selection.moveToBookmark(ft),T.selection.setRng(sl(T.selection.getRng())),T.nodeChanged(),de=!0}return de},xi=(T,R)=>!Ru(T)&&Si(T,R),Ns=T=>xi(T,"Indent"),Gr=T=>xi(T,"Outdent"),Ia=T=>xi(T,"Flatten"),lf="\uFEFF",kl=T=>T===lf;var As=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Kr=$c.DOM,$l=T=>{const R={},V=ce=>{let de=T[ce?"startContainer":"endContainer"],ft=T[ce?"startOffset":"endOffset"];if(dc(de)){const kn=Kr.create("span",{"data-mce-type":"bookmark"});de.hasChildNodes()?(ft=Math.min(ft,de.childNodes.length-1),ce?de.insertBefore(kn,de.childNodes[ft]):Kr.insertAfter(kn,de.childNodes[ft])):de.appendChild(kn),de=kn,ft=0}R[ce?"startContainer":"endContainer"]=de,R[ce?"startOffset":"endOffset"]=ft};return V(!0),T.collapsed||V(),R},ld=T=>{const R=ce=>{const de=Bn=>{var Pn;let zn=(Pn=Bn.parentNode)===null||Pn===void 0?void 0:Pn.firstChild,Yt=0;for(;zn;){if(zn===Bn)return Yt;(!dc(zn)||zn.getAttribute("data-mce-type")!=="bookmark")&&Yt++,zn=zn.nextSibling}return-1};let ft=T[ce?"startContainer":"endContainer"],kn=T[ce?"startOffset":"endOffset"];if(ft){if(dc(ft)&&ft.parentNode){const Bn=ft;kn=de(ft),ft=ft.parentNode,Kr.remove(Bn),!ft.hasChildNodes()&&Kr.isBlock(ft)&&ft.appendChild(Kr.create("br"))}T[ce?"startContainer":"endContainer"]=ft,T[ce?"startOffset":"endOffset"]=kn}};R(!0),R();const V=Kr.createRng();return V.setStart(T.startContainer,T.startOffset),T.endContainer&&V.setEnd(T.endContainer,T.endOffset),sl(V)},Ti=T=>{switch(T){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Il=(T,R,V)=>{const ce=V["list-style-type"]?V["list-style-type"]:null;T.setStyle(R,"list-style-type",ce)},vr=(T,R)=>{ks.each(R,(V,ce)=>{T.setAttribute(ce,V)})},Ka=(T,R,V)=>{vr(R,V["list-attributes"]),ks.each(T.select("li",R),ce=>{vr(ce,V["list-item-attributes"])})},ma=(T,R,V)=>{Il(T,R,V),Ka(T,R,V)},Fl=(T,R,V)=>{ks.each(V,ce=>T.setStyle(R,ce,""))},tu=(T,R)=>no(R)&&!fe(R,T.schema.getBlockElements()),Jo=(T,R,V,ce)=>{let de=R[V?"startContainer":"endContainer"];const ft=R[V?"startOffset":"endOffset"];dc(de)&&(de=de.childNodes[Math.min(ft,de.childNodes.length-1)]||de),!V&&Gt(de.nextSibling)&&(de=de.nextSibling);const kn=(Bn,Pn)=>{var zn;const Yt=new Ml(Bn,ce),sr=Pn?"next":"prev";let pa;for(;pa=Yt[sr]();)if(!(jn(T,pa)||kl(pa.textContent)||((zn=pa.textContent)===null||zn===void 0?void 0:zn.length)===0))return vt.some(pa);return vt.none()};if(V&&mr(de))if(kl(de.textContent))de=kn(de,!1).getOr(de);else for(de.parentNode!==null&&tu(T,de.parentNode)&&(de=de.parentNode);de.previousSibling!==null&&(tu(T,de.previousSibling)||mr(de.previousSibling));)de=de.previousSibling;if(!V&&mr(de))if(kl(de.textContent))de=kn(de,!0).getOr(de);else for(de.parentNode!==null&&tu(T,de.parentNode)&&(de=de.parentNode);de.nextSibling!==null&&(tu(T,de.nextSibling)||mr(de.nextSibling));)de=de.nextSibling;for(;de.parentNode!==ce;){const Bn=de.parentNode;if(eo(T,de)||/^(TD|TH)$/.test(Bn.nodeName))return de;de=Bn}return de},al=(T,R,V)=>{const ce=[],de=T.dom,ft=Jo(T,R,!0,V),kn=Jo(T,R,!1,V);let Bn;const Pn=[];for(let zn=ft;zn&&(Pn.push(zn),zn!==kn);zn=zn.nextSibling);return ks.each(Pn,zn=>{var Yt;if(eo(T,zn)){ce.push(zn),Bn=null;return}if(de.isBlock(zn)||Gt(zn)){Gt(zn)&&de.remove(zn),Bn=null;return}const sr=zn.nextSibling;if(As.isBookmarkNode(zn)&&(_s(sr)||eo(T,sr)||!sr&&zn.parentNode===V)){Bn=null;return}Bn||(Bn=de.create("p"),(Yt=zn.parentNode)===null||Yt===void 0||Yt.insertBefore(Bn,zn),ce.push(Bn)),Bn.appendChild(zn)}),ce},uf=(T,R,V)=>{const ce=T.getStyle(R,"list-style-type");let de=V?V["list-style-type"]:"";return de=de===null?"":de,ce===de},Ei=(T,R,V)=>{const ce=T.selection.getRng();let de="LI";const ft=Ga(T,T.selection.getStart(!0)),kn=T.dom;if(kn.getContentEditable(T.selection.getNode())==="false")return;R=R.toUpperCase(),R==="DL"&&(de="DT");const Bn=$l(ce),Pn=Le(al(T,ce,ft),T.dom.isEditable);ks.each(Pn,zn=>{let Yt;const sr=zn.previousSibling,pa=zn.parentNode;te(pa)||(sr&&_s(sr)&&sr.nodeName===R&&uf(kn,sr,V)?(Yt=sr,zn=kn.rename(zn,de),sr.appendChild(zn)):(Yt=kn.create(R),pa.insertBefore(Yt,zn),Yt.appendChild(zn),zn=kn.rename(zn,de)),Fl(kn,zn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ma(kn,Yt,V),Nu(T.dom,Yt))}),T.selection.setRng(ld(Bn))},id=(T,R)=>_s(T)&&T.nodeName===(R==null?void 0:R.nodeName),Zf=(T,R,V)=>{const ce=T.getStyle(R,"list-style-type",!0),de=T.getStyle(V,"list-style-type",!0);return ce===de},Ai=(T,R)=>T.className===R.className,Uc=(T,R,V)=>id(R,V)&&Zf(T,R,V)&&Ai(R,V),Nu=(T,R)=>{let V,ce=R.nextSibling;if(Uc(T,R,ce)){const de=ce;for(;V=de.firstChild;)R.appendChild(V);T.remove(de)}if(ce=R.previousSibling,Uc(T,R,ce)){const de=ce;for(;V=de.lastChild;)R.insertBefore(V,R.firstChild);T.remove(de)}},pc=(T,R,V,ce)=>{if(R.nodeName!==V){const de=T.dom.rename(R,V);ma(T.dom,de,ce),j(T,Ti(V),de)}else ma(T.dom,R,ce),j(T,Ti(V),R)},zi=(T,R,V,ce,de)=>{const ft=_s(R);if(ft&&R.nodeName===ce&&!ni(de))Ia(T);else{Ei(T,ce,de);const kn=$l(T.selection.getRng()),Bn=ft?[R,...V]:V;ks.each(Bn,Pn=>{pc(T,Pn,ce,de)}),T.selection.setRng(ld(kn))}},ni=T=>"list-style-type"in T,qf=(T,R,V,ce)=>{if(R!==T.getBody())if(R)if(R.nodeName===V&&!ni(ce)&&!ki(R))Ia(T);else{const de=$l(T.selection.getRng());ma(T.dom,R,ce);const ft=T.dom.rename(R,V);Nu(T.dom,ft),T.selection.setRng(ld(de)),Ei(T,V,ce),j(T,Ti(V),ft)}else Ei(T,V,ce),j(T,Ti(V),R)},Ll=(T,R,V)=>{const ce=lr(T);if(Lc(T,ce)||!T.hasEditableRoot())return;const de=bi(T),ft=xo(V)?V:{};de.length>0?zi(T,ce,de,R,ft):qf(T,ce,R,ft)},Gf=$c.DOM,df=(T,R)=>{const V=R.parentElement;if(V&&V.nodeName==="LI"&&V.firstChild===R){const ce=V.previousSibling;ce&&ce.nodeName==="LI"?(ce.appendChild(R),Fs(T,V)&&Gf.remove(V)):Gf.setStyle(V,"listStyleType","none")}if(_s(V)){const ce=V.previousSibling;ce&&ce.nodeName==="LI"&&ce.appendChild(R)}},nu=(T,R)=>{const V=ks.grep(T.select("ol,ul",R));ks.each(V,ce=>{df(T,ce)})},Kf=(T,R,V,ce)=>{let de=R.startContainer;const ft=R.startOffset;if(mr(de)&&(V?ft<de.data.length:ft>0))return de;const kn=T.schema.getNonEmptyElements();dc(de)&&(de=Xo.getNode(de,ft));const Bn=new Ml(de,ce);V&&Xn(T.dom,de)&&Bn.next();const Pn=V?Bn.next.bind(Bn):Bn.prev2.bind(Bn);for(;de=Pn();)if(de.nodeName==="LI"&&!de.hasChildNodes()||kn[de.nodeName]||mr(de)&&de.data.length>0)return de;return null},Xf=(T,R)=>{const V=R.childNodes;return V.length===1&&!_s(V[0])&&T.isBlock(V[0])},Mu=(T,R)=>{Xf(T,R)&&T.remove(R.firstChild,!0)},Zg=(T,R,V)=>{let ce;const de=Xf(T,V)?V.firstChild:V;if(Mu(T,R),!Fs(T,R,!0))for(;ce=R.firstChild;)de.appendChild(ce)},ne=(T,R,V)=>{let ce;const de=R.parentNode;if(!er(T,R)||!er(T,V))return;_s(V.lastChild)&&(ce=V.lastChild),de===V.lastChild&&Gt(de.previousSibling)&&T.remove(de.previousSibling);const ft=V.lastChild;ft&&Gt(ft)&&R.hasChildNodes()&&T.remove(ft),Fs(T,V,!0)&&la(ct.fromDom(V)),Zg(T,R,V),ce&&V.appendChild(ce);const Bn=nt(ct.fromDom(V),ct.fromDom(R))?T.getParents(R,_s,V):[];T.remove(R),nn(Bn,Pn=>{Fs(T,Pn)&&Pn!==T.getRoot()&&T.remove(Pn)})},Yf=(T,R,V)=>{la(ct.fromDom(V)),ne(T.dom,R,V),T.selection.setCursorLocation(V,0)},hc=(T,R,V,ce)=>{const de=T.dom;if(de.isEmpty(ce))Yf(T,V,ce);else{const ft=$l(R);ne(de,V,ce),T.selection.setRng(ld(ft))}},Zm=(T,R,V,ce)=>{const de=$l(R);ne(T.dom,V,ce);const ft=ld(de);T.selection.setRng(ft)},Sh=(T,R)=>{const V=T.dom,ce=T.selection,de=ce.getStart(),ft=tr(T,de),kn=V.getParent(ce.getStart(),"LI",ft);if(kn){const Bn=kn.parentElement;if(Bn===T.getBody()&&Fs(V,Bn))return!0;const Pn=sl(ce.getRng()),zn=V.getParent(Kf(T,Pn,R,ft),"LI",ft);if(zn&&zn!==kn)return T.undoManager.transact(()=>{R?hc(T,Pn,zn,kn):rn(kn)?Gr(T):Zm(T,Pn,kn,zn)}),!0;if(!zn&&!R&&Pn.startOffset===0&&Pn.endOffset===0)return T.undoManager.transact(()=>{Ia(T)}),!0}return!1},xh=(T,R,V)=>{const ce=T.getParent(R.parentNode,T.isBlock,V);T.remove(R),ce&&T.isEmpty(ce)&&T.remove(ce)},ss=(T,R)=>{const V=T.dom,ce=T.selection.getStart(),de=tr(T,ce),ft=V.getParent(ce,V.isBlock,de);if(ft&&V.isEmpty(ft)){const kn=sl(T.selection.getRng()),Bn=V.getParent(Kf(T,kn,R,de),"LI",de);if(Bn){const Pn=pa=>Y(["td","th","caption"],Ye(pa)),zn=pa=>pa.dom===de,Yt=co(ct.fromDom(Bn),Pn,zn),sr=co(ct.fromDom(kn.startContainer),Pn,zn);return at(Yt,sr,Ae)?(T.undoManager.transact(()=>{xh(V,ft,de),Nu(V,Bn.parentNode),T.selection.select(Bn,!0),T.selection.collapse(R)}),!0):!1}}return!1},cl=(T,R)=>Sh(T,R)||ss(T,R),Da=T=>{const R=T.selection.getStart(),V=tr(T,R);return T.dom.getParent(R,"LI,DT,DD",V)||Hr(T).length>0},Oi=T=>Da(T)?(T.undoManager.transact(()=>{T.execCommand("Delete"),nu(T.dom,T.getBody())}),!0):!1,ou=(T,R)=>{const V=T.selection;return!Lc(T,V.getNode())&&(V.isCollapsed()?cl(T,R):Oi(T))},ud=T=>{T.on("ExecCommand",R=>{const V=R.command.toLowerCase();(V==="delete"||V==="forwarddelete")&&Da(T)&&nu(T.dom,T.getBody())}),T.on("keydown",R=>{R.keyCode===it.BACKSPACE?ou(T,!1)&&R.preventDefault():R.keyCode===it.DELETE&&ou(T,!0)&&R.preventDefault()})},Ec=T=>({backspaceDelete:R=>{ou(T,R)}}),Jf=(T,R)=>{const V=lr(T);V===null||Lc(T,V)||T.undoManager.transact(()=>{xo(R.styles)&&T.dom.setStyles(V,R.styles),xo(R.attrs)&&Fr(R.attrs,(ce,de)=>T.dom.setAttrib(V,de,ce))})},ff=T=>{const R=Ke(ge(T).split("")),V=Nn(R,(ce,de)=>{const ft=ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,de)*ft});return Ho(V,(ce,de)=>ce+de,0)},Qf=T=>{if(T--,T<0)return"";{const R=T%26,V=Math.floor(T/26),ce=Qf(V),de=String.fromCharCode("A".charCodeAt(0)+R);return ce+de}},Hl=T=>/^[A-Z]+$/.test(T),Bu=T=>/^[a-z]+$/.test(T),qg=T=>/^[0-9]+$/.test(T),jc=T=>qg(T)?2:Hl(T)?0:Bu(T)?1:ht(T)?3:4,ga=T=>{switch(jc(T)){case 2:return vt.some({listStyleType:vt.none(),start:T});case 0:return vt.some({listStyleType:vt.some("upper-alpha"),start:ff(T).toString()});case 1:return vt.some({listStyleType:vt.some("lower-alpha"),start:ff(T).toString()});case 3:return vt.some({listStyleType:vt.none(),start:""});case 4:return vt.none()}},su=T=>{const R=parseInt(T.start,10);return is(T.listStyleType,"upper-alpha")?Qf(R):is(T.listStyleType,"lower-alpha")?Qf(R).toLowerCase():T.start},dd=T=>{const R=lr(T);!ee(R)||Lc(T,R)||T.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:su({start:T.dom.getAttrib(R,"start","1"),listStyleType:vt.from(T.dom.getStyle(R,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:V=>{const ce=V.getData();ga(ce.start).each(de=>{T.execCommand("mceListUpdate",!1,{attrs:{start:de.start==="1"?"":de.start},styles:{"list-style-type":de.listStyleType.getOr("")}})}),V.close()}})},Wc=(T,R)=>()=>{const V=lr(T);return no(V)&&V.nodeName===R},yc=T=>{T.addCommand("mceListProps",()=>{dd(T)})},qm=T=>{T.on("BeforeExecCommand",R=>{const V=R.command.toLowerCase();V==="indent"?Ns(T):V==="outdent"&&Gr(T)}),T.addCommand("InsertUnorderedList",(R,V)=>{Ll(T,"UL",V)}),T.addCommand("InsertOrderedList",(R,V)=>{Ll(T,"OL",V)}),T.addCommand("InsertDefinitionList",(R,V)=>{Ll(T,"DL",V)}),T.addCommand("RemoveList",()=>{Ia(T)}),yc(T),T.addCommand("mceListUpdate",(R,V)=>{xo(V)&&Jf(T,V)}),T.addQueryStateHandler("InsertUnorderedList",Wc(T,"UL")),T.addQueryStateHandler("InsertOrderedList",Wc(T,"OL")),T.addQueryStateHandler("InsertDefinitionList",Wc(T,"DL"))};var Gg=tinymce.util.Tools.resolve("tinymce.html.Node");const fd=T=>T.type===3,mf=T=>T.length===0,Gm=T=>{const R=(de,ft)=>{const kn=Gg.create("li");nn(de,Bn=>kn.append(Bn)),ft?T.insert(kn,ft,!0):T.append(kn)},V=(de,ft)=>fd(ft)?[...de,ft]:!mf(de)&&!fd(ft)?(R(de,ft),[]):de,ce=Ho(T.children(),V,[]);mf(ce)||R(ce)},oi=T=>{T.on("PreInit",()=>{const{parser:R}=T;R.addNodeFilter("ul,ol",V=>nn(V,Gm))})},em=T=>{T.on("keydown",R=>{R.keyCode!==it.TAB||it.metaKeyPressed(R)||T.undoManager.transact(()=>{(R.shiftKey?Gr(T):Ns(T))&&R.preventDefault()})})},Mv=T=>{ei(T)&&em(T),ud(T)},Th=(T,R)=>V=>{const ce=de=>{V.setActive($a(de.parents,R)),V.setEnabled(!Lc(T,de.element)&&T.selection.isEditable())};return V.setEnabled(T.selection.isEditable()),wi(T,ce)},Km=T=>{const R=V=>()=>T.execCommand(V);T.hasPlugin("advlist")||(T.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:R("InsertOrderedList"),onSetup:Th(T,"OL")}),T.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:R("InsertUnorderedList"),onSetup:Th(T,"UL")}))},md=(T,R)=>V=>wi(T,de=>V.setEnabled($a(de.parents,R)&&!Lc(T,de.element))),Kg=T=>{const R={text:"List properties...",icon:"ordered-list",onAction:()=>T.execCommand("mceListProps"),onSetup:md(T,"OL")};T.ui.registry.addMenuItem("listprops",R),T.ui.registry.addContextMenu("lists",{update:V=>{const ce=lr(T,V);return ee(ce)?["listprops"]:[]}})};var Di=()=>{Ta.add("lists",T=>(Bl(T),oi(T),T.hasPlugin("rtc",!0)?yc(T):(Mv(T),qm(T)),Km(T),Kg(T),Ec(T)))};Di()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=(st,$e,A)=>{const cn=$e==="UL"?"InsertUnorderedList":"InsertOrderedList";st.execCommand(cn,!1,A===!1?null:{"list-style-type":A})},Sr=st=>{st.addCommand("ApplyUnorderedListStyle",($e,A)=>{yr(st,"UL",A["list-style-type"])}),st.addCommand("ApplyOrderedListStyle",($e,A)=>{yr(st,"OL",A["list-style-type"])})},bs=st=>$e=>$e.options.get(st),Es=st=>{const $e=st.options.register;$e("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),$e("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},Qs=bs("advlist_number_styles"),xo=bs("advlist_bullet_styles"),yt=st=>st==null,Yn=st=>!yt(st);var Hn=tinymce.util.Tools.resolve("tinymce.util.Tools");class no{constructor($e,A){this.tag=$e,this.value=A}static some($e){return new no(!0,$e)}static none(){return no.singletonNone}fold($e,A){return this.tag?A(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?no.some($e(this.value)):no.none()}bind($e){return this.tag?$e(this.value):no.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:no.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e??"Called getOrDie on None")}static from($e){return Yn($e)?no.some($e):no.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}no.singletonNone=new no(!1);const ls=(st,$e,A)=>{for(let cn=0,Ke=st.length;cn<Ke;cn++){const _n=st[cn];if($e(_n,cn))return no.some(_n);if(A(_n,cn))break}return no.none()},Zo=st=>/\btox\-/.test(st.className),Fn=(st,$e)=>st.dom.isChildOf($e,st.getBody()),qo=st=>$e=>Yn($e)&&st.test($e.nodeName),mo=qo(/^(OL|UL|DL)$/),_t=qo(/^(TH|TD)$/),Ao=(st,$e,A)=>ls($e,cn=>mo(cn)&&!Zo(cn),_t).exists(cn=>cn.nodeName===A&&Fn(st,cn)),vt=st=>{const $e=st.dom.getParent(st.selection.getNode(),"ol,ul"),A=st.dom.getStyle($e,"listStyleType");return no.from(A)},re=(st,$e)=>$e!==null&&!st.dom.isEditable($e),sn=(st,$e)=>{const A=st.dom.getParent($e,"ol,ul,dl");return re(st,A)&&st.selection.isEditable()},dr=(st,$e)=>{const A=st.selection.getNode();return $e({parents:st.dom.getParents(A),element:A}),st.on("NodeChange",$e),()=>st.off("NodeChange",$e)},Vn=st=>st.replace(/\-/g," ").replace(/\b\w/g,$e=>$e.toUpperCase()),Y=st=>yt(st)||st==="default"?"":st,gn=(st,$e)=>A=>{const cn=(_n,Ht)=>{const He=_n.selection.getStart(!0);A.setActive(Ao(_n,Ht,$e)),A.setEnabled(!sn(_n,He)&&_n.selection.isEditable())};return dr(st,_n=>cn(st,_n.parents))},Nn=(st,$e,A,cn,Ke,_n)=>{st.ui.registry.addSplitButton($e,{tooltip:A,icon:Ke==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:Ht=>{const He=Hn.map(_n,Gn=>{const is=Ke==="OL"?"num":"bull",at=Gn==="disc"||Gn==="decimal"?"default":Gn,Zt=Y(Gn),Ee=Vn(Gn);return{type:"choiceitem",value:Zt,icon:"list-"+is+"-"+at,text:Ee}});Ht(He)},onAction:()=>st.execCommand(cn),onItemAction:(Ht,He)=>{yr(st,Ke,He)},select:Ht=>vt(st).map(Gn=>Ht===Gn).getOr(!1),onSetup:gn(st,Ke)})},nn=(st,$e,A,cn,Ke,_n)=>{st.ui.registry.addToggleButton($e,{active:!1,tooltip:A,icon:Ke==="OL"?"ordered-list":"unordered-list",onSetup:gn(st,Ke),onAction:()=>st.queryCommandState(cn)||_n===""?st.execCommand(cn):yr(st,Ke,_n)})},Le=(st,$e,A,cn,Ke,_n)=>{_n.length>1?Nn(st,$e,A,cn,Ke,_n):nn(st,$e,A,cn,Ke,Y(_n[0]))},ie=st=>{Le(st,"numlist","Numbered list","InsertOrderedList","OL",Qs(st)),Le(st,"bullist","Bullet list","InsertUnorderedList","UL",xo(st))};var Ho=()=>{Ta.add("advlist",st=>{st.hasPlugin("lists")?(Es(st),ie(st),Sr(st)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};Ho()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sr=(Ae=>nt=>Ae===nt)(null),bs=Ae=>Ae,Es=(Ae,nt)=>{const Re=Ae.length,he=new Array(Re);for(let Ye=0;Ye<Re;Ye++){const Ze=Ae[Ye];he[Ye]=nt(Ze,Ye)}return he},xo={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},yt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Yn=[new RegExp(xo.aletter),new RegExp(xo.midnumlet),new RegExp(xo.midletter),new RegExp(xo.midnum),new RegExp(xo.numeric),new RegExp(xo.cr),new RegExp(xo.lf),new RegExp(xo.newline),new RegExp(xo.extend),new RegExp(xo.format),new RegExp(xo.katakana),new RegExp(xo.extendnumlet),new RegExp("@")],Hn="",no=new RegExp("^"+xo.punctuation+"$"),ls=/^\s+$/,Zo=Yn,Fn=yt.OTHER,qo=Ae=>{let nt=Fn;const Re=Zo.length;for(let he=0;he<Re;++he){const Ye=Zo[he];if(Ye&&Ye.test(Ae)){nt=he;break}}return nt},mo=Ae=>{const nt={};return Re=>{if(nt[Re])return nt[Re];{const he=Ae(Re);return nt[Re]=he,he}}},_t=Ae=>{const nt=mo(qo);return Es(Ae,nt)},Ao=(Ae,nt)=>{const Re=Ae[nt],he=Ae[nt+1];if(nt<0||nt>Ae.length-1&&nt!==0||Re===yt.ALETTER&&he===yt.ALETTER)return!1;const Ye=Ae[nt+2];if(Re===yt.ALETTER&&(he===yt.MIDLETTER||he===yt.MIDNUMLET||he===yt.AT)&&Ye===yt.ALETTER)return!1;const Ze=Ae[nt-1];return(Re===yt.MIDLETTER||Re===yt.MIDNUMLET||he===yt.AT)&&he===yt.ALETTER&&Ze===yt.ALETTER||(Re===yt.NUMERIC||Re===yt.ALETTER)&&(he===yt.NUMERIC||he===yt.ALETTER)||(Re===yt.MIDNUM||Re===yt.MIDNUMLET)&&he===yt.NUMERIC&&Ze===yt.NUMERIC||Re===yt.NUMERIC&&(he===yt.MIDNUM||he===yt.MIDNUMLET)&&Ye===yt.NUMERIC||(Re===yt.EXTEND||Re===yt.FORMAT)&&(he===yt.ALETTER||he===yt.NUMERIC||he===yt.KATAKANA||he===yt.EXTEND||he===yt.FORMAT)||(he===yt.EXTEND||he===yt.FORMAT&&(Ye===yt.ALETTER||Ye===yt.NUMERIC||Ye===yt.KATAKANA||Ye===yt.EXTEND||Ye===yt.FORMAT))&&(Re===yt.ALETTER||Re===yt.NUMERIC||Re===yt.KATAKANA||Re===yt.EXTEND||Re===yt.FORMAT)||Re===yt.CR&&he===yt.LF?!1:Re===yt.NEWLINE||Re===yt.CR||Re===yt.LF||he===yt.NEWLINE||he===yt.CR||he===yt.LF?!0:!(Re===yt.KATAKANA&&he===yt.KATAKANA||he===yt.EXTENDNUMLET&&(Re===yt.ALETTER||Re===yt.NUMERIC||Re===yt.KATAKANA||Re===yt.EXTENDNUMLET)||Re===yt.EXTENDNUMLET&&(he===yt.ALETTER||he===yt.NUMERIC||he===yt.KATAKANA)||Re===yt.AT)},vt=Hn,re=ls,sn=no,dr=Ae=>Ae==="http"||Ae==="https",Vn=(Ae,nt)=>{let Re;for(Re=nt;Re<Ae.length&&!re.test(Ae[Re]);Re++);return Re},Y=(Ae,nt)=>{const Re=Vn(Ae,nt+1);return Ae.slice(nt+1,Re).join(vt).substr(0,3)==="://"?Re:nt},gn=(Ae,nt,Re,he)=>{const Ye=[],Ze=[];let Be=[];for(let un=0;un<Re.length;++un)if(Be.push(Ae[un]),Ao(Re,un)){const Bt=nt[un];if((he.includeWhitespace||!re.test(Bt))&&(he.includePunctuation||!sn.test(Bt))){const go=un-Be.length+1,Un=un+1,Go=nt.slice(go,Un).join(vt);if(dr(Go)){const zr=Y(nt,un),ts=Ae.slice(Un,zr);Array.prototype.push.apply(Be,ts),un=zr}Ye.push(Be),Ze.push({start:go,end:Un})}Be=[]}return{words:Ye,indices:Ze}},Nn=()=>({includeWhitespace:!1,includePunctuation:!1}),nn=(Ae,nt,Re)=>{Re={...Nn(),...Re};const he=Es(Ae,nt),Ye=_t(he);return gn(Ae,he,Ye,Re)},ie=(Ae,nt,Re)=>nn(Ae,nt,Re).words,Ho=Ae=>Ae.replace(/\uFEFF/g,"");var st=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const $e=(Ae,nt)=>{const Re=nt.getBlockElements(),he=nt.getVoidElements(),Ye=go=>Re[go.nodeName]||he[go.nodeName],Ze=[];let Be="";const un=new st(Ae,Ae);let Bt;for(;Bt=un.next();)Bt.nodeType===3?Be+=Ho(Bt.data):Ye(Bt)&&Be.length&&(Ze.push(Be),Be="");return Be.length&&Ze.push(Be),Ze},A=Ae=>Ae.replace(/\u200B/g,""),cn=Ae=>Ae.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Ke=(Ae,nt)=>{const Re=A($e(Ae,nt).join(`
`));return ie(Re.split(""),bs).length},_n=(Ae,nt)=>{const Re=$e(Ae,nt).join("");return cn(Re)},Ht=(Ae,nt)=>{const Re=$e(Ae,nt).join("").replace(/\s/g,"");return cn(Re)},He=(Ae,nt)=>()=>nt(Ae.getBody(),Ae.schema),Gn=(Ae,nt)=>()=>nt(Ae.selection.getRng().cloneContents(),Ae.schema),is=Ae=>He(Ae,Ke),at=Ae=>({body:{getWordCount:is(Ae),getCharacterCount:He(Ae,_n),getCharacterCountWithoutSpaces:He(Ae,Ht)},selection:{getWordCount:Gn(Ae,Ke),getCharacterCount:Gn(Ae,_n),getCharacterCountWithoutSpaces:Gn(Ae,Ht)},getCount:is(Ae)}),Zt=(Ae,nt)=>{Ae.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(nt.body.getWordCount()),String(nt.selection.getWordCount())],["Characters (no spaces)",String(nt.body.getCharacterCountWithoutSpaces()),String(nt.selection.getCharacterCountWithoutSpaces())],["Characters",String(nt.body.getCharacterCount()),String(nt.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ee=(Ae,nt)=>{Ae.addCommand("mceWordCount",()=>Zt(Ae,nt))},Je=(Ae,nt)=>{let Re=null;return{cancel:()=>{Sr(Re)||(clearTimeout(Re),Re=null)},throttle:(...Ze)=>{Sr(Re)&&(Re=setTimeout(()=>{Re=null,Ae.apply(null,Ze)},nt))}}};var I=tinymce.util.Tools.resolve("tinymce.util.Delay");const dt=(Ae,nt)=>{Ae.dispatch("wordCountUpdate",{wordCount:{words:nt.body.getWordCount(),characters:nt.body.getCharacterCount(),charactersWithoutSpaces:nt.body.getCharacterCountWithoutSpaces()}})},je=(Ae,nt)=>{dt(Ae,nt)},Mt=(Ae,nt,Re)=>{const he=Je(()=>je(Ae,nt),Re);Ae.on("init",()=>{je(Ae,nt),I.setEditorTimeout(Ae,()=>{Ae.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",he.throttle)},0),Ae.on("remove",he.cancel)})},ct=Ae=>{const nt=()=>Ae.execCommand("mceWordCount");Ae.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:nt}),Ae.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:nt})};var zo=(Ae=300)=>{Ta.add("wordcount",nt=>{const Re=at(nt);return Ee(nt,Re),ct(nt),Mt(nt,Re,Ae),Re})};zo()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=(j,le,ge)=>{var Oe;return ge(j,le.prototype)?!0:((Oe=j.constructor)===null||Oe===void 0?void 0:Oe.name)===le.name},Sr=j=>{const le=typeof j;return j===null?"null":le==="object"&&Array.isArray(j)?"array":le==="object"&&yr(j,String,(ge,Oe)=>Oe.isPrototypeOf(ge))?"string":le},bs=j=>le=>Sr(le)===j,Es=j=>le=>typeof le===j,Qs=j=>le=>j===le,xo=bs("string"),yt=bs("object"),Yn=bs("array"),Hn=Qs(null),no=Es("boolean"),ls=j=>j==null,Zo=j=>!ls(j),Fn=Es("function"),qo=(j,le)=>{if(Yn(j)){for(let ge=0,Oe=j.length;ge<Oe;++ge)if(!le(j[ge]))return!1;return!0}return!1},mo=()=>{},_t=j=>()=>j,Ao=(j,le)=>j===le;class vt{constructor(le,ge){this.tag=le,this.value=ge}static some(le){return new vt(!0,le)}static none(){return vt.singletonNone}fold(le,ge){return this.tag?ge(this.value):le()}isSome(){return this.tag}isNone(){return!this.tag}map(le){return this.tag?vt.some(le(this.value)):vt.none()}bind(le){return this.tag?le(this.value):vt.none()}exists(le){return this.tag&&le(this.value)}forall(le){return!this.tag||le(this.value)}filter(le){return!this.tag||le(this.value)?this:vt.none()}getOr(le){return this.tag?this.value:le}or(le){return this.tag?this:le}getOrThunk(le){return this.tag?this.value:le()}orThunk(le){return this.tag?this:le()}getOrDie(le){if(this.tag)return this.value;throw new Error(le??"Called getOrDie on None")}static from(le){return Zo(le)?vt.some(le):vt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(le){this.tag&&le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vt.singletonNone=new vt(!1);const re=Array.prototype.indexOf,sn=Array.prototype.push,dr=(j,le)=>re.call(j,le),Vn=(j,le)=>dr(j,le)>-1,Y=(j,le)=>{const ge=j.length,Oe=new Array(ge);for(let ht=0;ht<ge;ht++){const ln=j[ht];Oe[ht]=le(ln,ht)}return Oe},gn=(j,le)=>{for(let ge=0,Oe=j.length;ge<Oe;ge++){const ht=j[ge];le(ht,ge)}},Nn=(j,le,ge)=>(gn(j,(Oe,ht)=>{ge=le(ge,Oe,ht)}),ge),nn=j=>{const le=[];for(let ge=0,Oe=j.length;ge<Oe;++ge){if(!Yn(j[ge]))throw new Error("Arr.flatten item "+ge+" was not an array, input: "+j);sn.apply(le,j[ge])}return le},Le=(j,le)=>nn(Y(j,le)),ie=(j,le)=>{for(let ge=0;ge<j.length;ge++){const Oe=le(j[ge],ge);if(Oe.isSome())return Oe}return vt.none()},Ho=(j,le,ge=Ao)=>j.exists(Oe=>ge(Oe,le)),st=j=>{const le=[],ge=Oe=>{le.push(Oe)};for(let Oe=0;Oe<j.length;Oe++)j[Oe].each(ge);return le},$e=(j,le)=>j?vt.some(le):vt.none(),A=j=>le=>le.options.get(j),cn=j=>{const le=j.options.register;le("link_assume_external_targets",{processor:ge=>{const Oe=xo(ge)||no(ge);return Oe?ge===!0?{value:1,valid:Oe}:ge==="http"||ge==="https"?{value:ge,valid:Oe}:{value:0,valid:Oe}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),le("link_context_toolbar",{processor:"boolean",default:!1}),le("link_list",{processor:ge=>xo(ge)||Fn(ge)||qo(ge,yt)}),le("link_default_target",{processor:"string"}),le("link_default_protocol",{processor:"string",default:"https"}),le("link_target_list",{processor:ge=>no(ge)||qo(ge,yt),default:!0}),le("link_rel_list",{processor:"object[]",default:[]}),le("link_class_list",{processor:"object[]",default:[]}),le("link_title",{processor:"boolean",default:!0}),le("allow_unsafe_link_target",{processor:"boolean",default:!1}),le("link_quicklink",{processor:"boolean",default:!1})},Ke=A("link_assume_external_targets"),_n=A("link_context_toolbar"),Ht=A("link_list"),He=A("link_default_target"),Gn=A("link_default_protocol"),is=A("link_target_list"),at=A("link_rel_list"),Zt=A("link_class_list"),Ee=A("link_title"),Je=A("allow_unsafe_link_target"),I=A("link_quicklink");var dt=tinymce.util.Tools.resolve("tinymce.util.Tools");const je=j=>xo(j.value)?j.value:"",Mt=j=>xo(j.text)?j.text:xo(j.title)?j.title:"",ct=(j,le)=>{const ge=[];return dt.each(j,Oe=>{const ht=Mt(Oe);if(Oe.menu!==void 0){const ln=ct(Oe.menu,le);ge.push({text:ht,items:ln})}else{const ln=le(Oe);ge.push({text:ht,value:ln})}}),ge},zo=(j=je)=>le=>vt.from(le).map(ge=>ct(ge,j)),Re={sanitize:j=>zo(je)(j),sanitizeWith:zo,createUi:(j,le)=>ge=>({name:j,type:"listbox",label:le,items:ge}),getValue:je},he=Object.keys,Ye=Object.hasOwnProperty,Ze=(j,le)=>{const ge=he(j);for(let Oe=0,ht=ge.length;Oe<ht;Oe++){const ln=ge[Oe],os=j[ln];le(os,ln)}},Be=j=>(le,ge)=>{j[ge]=le},un=(j,le,ge,Oe)=>{Ze(j,(ht,ln)=>{(le(ht,ln)?ge:Oe)(ht,ln)})},Bt=(j,le)=>{const ge={};return un(j,le,Be(ge),mo),ge},go=(j,le)=>Ye.call(j,le),Un=(j,le)=>go(j,le)&&j[le]!==void 0&&j[le]!==null;var Go=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),zr=tinymce.util.Tools.resolve("tinymce.util.URI");const ts=j=>Zo(j)&&j.nodeName.toLowerCase()==="a",Ko=j=>ts(j)&&!!co(j),_o=(j,le)=>{if(j.collapsed)return[];{const ge=j.cloneContents(),Oe=ge.firstChild,ht=new Go(Oe,ge),ln=[];let os=Oe;do le(os)&&ln.push(os);while(os=ht.next());return ln}},Or=j=>/^\w+:/i.test(j),co=j=>{var le,ge;return(ge=(le=j.getAttribute("data-mce-href"))!==null&&le!==void 0?le:j.getAttribute("href"))!==null&&ge!==void 0?ge:""},Kn=(j,le)=>{const ge=["noopener"],Oe=j?j.split(/\s+/):[],ht=Yo=>dt.trim(Yo.sort().join(" ")),ln=Yo=>(Yo=os(Yo),Yo.length>0?Yo.concat(ge):ge),os=Yo=>Yo.filter(Io=>dt.inArray(ge,Io)===-1),Cs=le?ln(Oe):os(Oe);return Cs.length>0?ht(Cs):""},ca=j=>j.replace(/\uFEFF/g,""),xn=(j,le)=>(le=le||la(j.selection.getRng())[0]||j.selection.getNode(),po(le)?vt.from(j.dom.select("a[href]",le)[0]):vt.from(j.dom.getParent(le,"a[href]"))),ns=(j,le)=>xn(j,le).isSome(),vs=(j,le)=>{const ge=le.fold(()=>j.getContent({format:"text"}),Oe=>Oe.innerText||Oe.textContent||"");return ca(ge)},la=j=>_o(j,Ko),Sc=j=>dt.grep(j,Ko),Xo=j=>Sc(j).length>0,Ml=j=>la(j).length>0,it=j=>{const le=j.schema.getTextInlineElements(),ge=ln=>ln.nodeType===1&&!ts(ln)&&!go(le,ln.nodeName.toLowerCase());if(xn(j).exists(ln=>ln.hasAttribute("data-mce-block")))return!1;const ht=j.selection.getRng();return ht.collapsed?!0:_o(ht,ge).length===0},po=j=>Zo(j)&&j.nodeName==="FIGURE"&&/\bimage\b/i.test(j.className),Ir=j=>Nn(["title","rel","class","target"],(ge,Oe)=>(j[Oe].each(ht=>{ge[Oe]=ht.length>0?ht:null}),ge),{href:j.href}),Fr=(j,le)=>(le==="http"||le==="https")&&!Or(j)?le+"://"+j:j,ic=(j,le)=>{const ge={...le};if(at(j).length===0&&!Je(j)){const Oe=Kn(ge.rel,ge.target==="_blank");ge.rel=Oe||null}return vt.from(ge.target).isNone()&&is(j)===!1&&(ge.target=He(j)),ge.href=Fr(ge.href,Ke(j)),ge},uc=(j,le,ge,Oe)=>{ge.each(ht=>{go(le,"innerText")?le.innerText=ht:le.textContent=ht}),j.dom.setAttribs(le,Oe),j.selection.select(le)},us=(j,le,ge,Oe)=>{const ht=j.dom;po(le)?ks(ht,le,Oe):ge.fold(()=>{j.execCommand("mceInsertLink",!1,Oe)},ln=>{j.insertContent(ht.createHTML("a",Oe,ht.encode(ln)))})},xc=(j,le,ge)=>{const Oe=j.selection.getNode(),ht=xn(j,Oe),ln=ic(j,Ir(ge));j.undoManager.transact(()=>{ge.href===le.href&&le.attach(),ht.fold(()=>{us(j,Oe,ge.text,ln)},os=>{j.focus(),uc(j,os,ge.text,ln)})})},ia=j=>{const le=j.dom,ge=j.selection,Oe=ge.getBookmark(),ht=ge.getRng().cloneRange(),ln=le.getParent(ht.startContainer,"a[href]",j.getBody()),os=le.getParent(ht.endContainer,"a[href]",j.getBody());ln&&ht.setStartBefore(ln),os&&ht.setEndAfter(os),ge.setRng(ht),j.execCommand("unlink"),ge.moveToBookmark(Oe)},Vo=j=>{j.undoManager.transact(()=>{const le=j.selection.getNode();po(le)?$c(j,le):ia(j),j.focus()})},yn=j=>{const{class:le,href:ge,rel:Oe,target:ht,text:ln,title:os}=j;return Bt({class:le.getOrNull(),href:ge,rel:Oe.getOrNull(),target:ht.getOrNull(),text:ln.getOrNull(),title:os.getOrNull()},(Cs,Yo)=>Hn(Cs)===!1)},br=(j,le)=>{const ge=j.options.get,Oe={allow_html_data_urls:ge("allow_html_data_urls"),allow_script_urls:ge("allow_script_urls"),allow_svg_data_urls:ge("allow_svg_data_urls")},ht=le.href;return{...le,href:zr.isDomSafe(ht,"a",Oe)?ht:""}},qa=(j,le,ge)=>{const Oe=br(j,ge);j.hasPlugin("rtc",!0)?j.execCommand("createlink",!1,yn(Oe)):xc(j,le,Oe)},Tc=j=>{j.hasPlugin("rtc",!0)?j.execCommand("unlink"):Vo(j)},$c=(j,le)=>{var ge;const Oe=j.dom.select("img",le)[0];if(Oe){const ht=j.dom.getParents(Oe,"a[href]",le)[0];ht&&((ge=ht.parentNode)===null||ge===void 0||ge.insertBefore(Oe,ht),j.dom.remove(ht))}},ks=(j,le,ge)=>{var Oe;const ht=j.select("img",le)[0];if(ht){const ln=j.create("a",ge);(Oe=ht.parentNode)===null||Oe===void 0||Oe.insertBefore(ln,ht),ln.appendChild(ht)}},fr=j=>Un(j,"items"),ws=(j,le)=>ie(le,ge=>fr(ge)?ws(j,ge.items):$e(ge.value===j,ge)),mr=(j,le,ge,Oe)=>{const ht=Oe[le],ln=j.length>0;return ht!==void 0?ws(ht,ge).map(os=>({url:{value:os.value,meta:{text:ln?j:os.text,attach:mo}},text:ln?j:os.text})):vt.none()},dc=(j,le)=>le==="link"?j.link:le==="anchor"?j.anchor:vt.none(),ua={init:(j,le)=>{const ge={text:j.text,title:j.title},Oe=Yo=>{var Io;return $e(ge.title.length<=0,vt.from((Io=Yo.meta)===null||Io===void 0?void 0:Io.title).getOr(""))},ht=Yo=>{var Io;return $e(ge.text.length<=0,vt.from((Io=Yo.meta)===null||Io===void 0?void 0:Io.text).getOr(Yo.value))},ln=Yo=>{const Io=ht(Yo.url),Oo=Oe(Yo.url);return Io.isSome()||Oo.isSome()?vt.some({...Io.map(da=>({text:da})).getOr({}),...Oo.map(da=>({title:da})).getOr({})}):vt.none()},os=(Yo,Io)=>{const Oo=dc(le,Io).getOr([]);return mr(ge.text,Io,Oo,Yo)};return{onChange:(Yo,Io)=>{const Oo=Io.name;return Oo==="url"?ln(Yo()):Vn(["anchor","link"],Oo)?os(Yo(),Oo):((Oo==="text"||Oo==="title")&&(ge[Oo]=Yo()[Oo]),vt.none())}}},getDelta:mr};var ee=tinymce.util.Tools.resolve("tinymce.util.Delay");const te=(j,le,ge)=>{const Oe=j.selection.getRng();ee.setEditorTimeout(j,()=>{j.windowManager.confirm(le,ht=>{j.selection.setRng(Oe),ge(ht)})})},ze=j=>{const le=j.href;return le.indexOf("@")>0&&le.indexOf("/")===-1&&le.indexOf("mailto:")===-1?vt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Oe=>({...Oe,href:"mailto:"+le})}):vt.none()},Ve=(j,le)=>ge=>{const Oe=ge.href;return j===1&&!Or(Oe)||j===0&&/^\s*www(\.|\d\.)/i.test(Oe)?vt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${le}:// prefix?`,preprocess:ln=>({...ln,href:le+"://"+Oe})}):vt.none()},rn={preprocess:(j,le)=>ie([ze,Ve(Ke(j),Gn(j))],ge=>ge(le)).fold(()=>Promise.resolve(le),ge=>new Promise(Oe=>{te(j,ge.message,ht=>{Oe(ht?ge.preprocess(le):le)})}))},fe={getAnchors:j=>{const le=j.dom.select("a:not([href])"),ge=Le(le,Oe=>{const ht=Oe.name||Oe.id;return ht?[{text:ht,value:"#"+ht}]:[]});return ge.length>0?vt.some([{text:"None",value:""}].concat(ge)):vt.none()}},Xn={getClasses:j=>{const le=Zt(j);return le.length>0?Re.sanitize(le):vt.none()}},Fs=j=>{try{return vt.some(JSON.parse(j))}catch{return vt.none()}},ho={getLinks:j=>{const le=Oe=>j.convertURL(Oe.value||Oe.url||"","href"),ge=Ht(j);return new Promise(Oe=>{xo(ge)?fetch(ge).then(ht=>ht.ok?ht.text().then(Fs):Promise.reject()).then(Oe,()=>Oe(vt.none())):Fn(ge)?ge(ht=>Oe(vt.some(ht))):Oe(vt.from(ge))}).then(Oe=>Oe.bind(Re.sanitizeWith(le)).map(ht=>ht.length>0?[{text:"None",value:""}].concat(ht):ht))}},ei={getRels:(j,le)=>{const ge=at(j);if(ge.length>0){const Oe=Ho(le,"_blank"),ht=Je(j)===!1,ln=Cs=>Kn(Re.getValue(Cs),Oe);return(ht?Re.sanitizeWith(ln):Re.sanitize)(ge)}return vt.none()}},gr=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],yo={getTargets:j=>{const le=is(j);return Yn(le)?Re.sanitize(le).orThunk(()=>vt.some(gr)):le===!1?vt.none():vt.some(gr)}},uo=(j,le,ge)=>{const Oe=j.getAttrib(le,ge);return Oe!==null&&Oe.length>0?vt.some(Oe):vt.none()},qr=(j,le)=>{const ge=j.dom,ht=it(j)?vt.some(vs(j.selection,le)):vt.none(),ln=le.bind(Oo=>vt.from(ge.getAttrib(Oo,"href"))),os=le.bind(Oo=>vt.from(ge.getAttrib(Oo,"target"))),Cs=le.bind(Oo=>uo(ge,Oo,"rel")),Yo=le.bind(Oo=>uo(ge,Oo,"class")),Io=le.bind(Oo=>uo(ge,Oo,"title"));return{url:ln,text:ht,title:Io,target:os,rel:Cs,linkClass:Yo}},fc={collect:(j,le)=>ho.getLinks(j).then(ge=>{const Oe=qr(j,le);return{anchor:Oe,catalogs:{targets:yo.getTargets(j),rels:ei.getRels(j,Oe.target),classes:Xn.getClasses(j),anchor:fe.getAnchors(j),link:ge},optNode:le,flags:{titleEnabled:Ee(j)}}})},bl=(j,le)=>ge=>{const Oe=ge.getData();if(!Oe.url.value){Tc(j),ge.close();return}const ht=Cs=>vt.from(Oe[Cs]).filter(Yo=>!Ho(le.anchor[Cs],Yo)),ln={href:Oe.url.value,text:ht("text"),target:ht("target"),rel:ht("rel"),class:ht("linkClass"),title:ht("title")},os={href:Oe.url.value,attach:Oe.url.meta!==void 0&&Oe.url.meta.attach?Oe.url.meta.attach:mo};rn.preprocess(j,ln).then(Cs=>{qa(j,os,Cs)}),ge.close()},vl=j=>{const le=xn(j);return fc.collect(j,le)},$o=(j,le)=>{const ge=j.anchor,Oe=ge.url.getOr("");return{url:{value:Oe,meta:{original:{value:Oe}}},text:ge.text.getOr(""),title:ge.title.getOr(""),anchor:Oe,link:Oe,rel:ge.rel.getOr(""),target:ge.target.or(le).getOr(""),linkClass:ge.linkClass.getOr("")}},Ea=(j,le,ge)=>{const Oe=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],ht=j.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),ln=j.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],os=vt.from(He(ge)),Cs=$o(j,os),Yo=j.catalogs,Io=ua.init(Cs,Yo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:nn([Oe,ht,ln,st([Yo.anchor.map(Re.createUi("anchor","Anchors")),Yo.rels.map(Re.createUi("rel","Rel")),Yo.targets.map(Re.createUi("target","Open link in...")),Yo.link.map(Re.createUi("link","Link list")),Yo.classes.map(Re.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Cs,onChange:(da,{name:rl})=>{Io.onChange(da.getData,{name:rl}).each(Mn=>{da.setData(Mn)})},onSubmit:le}},sl=j=>{vl(j).then(ge=>{const Oe=bl(j,ge);return Ea(ge,Oe,j)}).then(ge=>{j.windowManager.open(ge)})},Pl=j=>{j.addCommand("mceLink",(le,ge)=>{(ge==null?void 0:ge.dialog)===!0||!I(j)?sl(j):j.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var mc=tinymce.util.Tools.resolve("tinymce.util.VK");const lr=(j,le)=>{document.body.appendChild(j),j.dispatchEvent(le),document.body.removeChild(j)},Ds=j=>{const le=document.createElement("a");le.target="_blank",le.href=j,le.rel="noreferrer noopener";const ge=document.createEvent("MouseEvents");ge.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),lr(le,ge)},cf=(j,le)=>j.dom.getParent(le,"a[href]"),bi=j=>cf(j,j.selection.getStart()),ds=j=>j.altKey===!0&&j.shiftKey===!1&&j.ctrlKey===!1&&j.metaKey===!1,Hr=(j,le)=>{if(le){const ge=co(le);if(/^#/.test(ge)){const Oe=j.dom.select(ge);Oe.length&&j.selection.scrollIntoView(Oe[0],!0)}else Ds(le.href)}},Aa=j=>()=>{j.execCommand("mceLink",!1,{dialog:!0})},tr=j=>()=>{Hr(j,bi(j))},vi=j=>{j.on("click",le=>{const ge=cf(j,le.target);ge&&mc.metaKeyPressed(le)&&(le.preventDefault(),Hr(j,ge))}),j.on("keydown",le=>{if(!le.isDefaultPrevented()&&le.keyCode===13&&ds(le)){const ge=bi(j);ge&&(le.preventDefault(),Hr(j,ge))}})},Ga=(j,le)=>(j.on("NodeChange",le),()=>j.off("NodeChange",le)),Pa=j=>le=>{const ge=()=>{le.setActive(!j.mode.isReadOnly()&&ns(j,j.selection.getNode())),le.setEnabled(j.selection.isEditable())};return ge(),Ga(j,ge)},za=j=>le=>{const ge=()=>{le.setEnabled(j.selection.isEditable())};return ge(),Ga(j,ge)},ad=j=>(j.selection.isCollapsed()?Sc(j.dom.getParents(j.selection.getStart())):la(j.selection.getRng())).length===1,Qi=j=>le=>{const ge=()=>le.setEnabled(ad(j));return ge(),Ga(j,ge)},ki=j=>le=>{const ge=ln=>Xo(ln)||Ml(j.selection.getRng()),Oe=j.dom.getParents(j.selection.getStart()),ht=ln=>{le.setEnabled(ge(ln)&&j.selection.isEditable())};return ht(Oe),Ga(j,ln=>ht(ln.parents))},$a=j=>{j.addShortcut("Meta+K","",()=>{j.execCommand("mceLink")})},Fc=j=>{j.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Aa(j),onSetup:Pa(j)}),j.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:tr(j),onSetup:Qi(j)}),j.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Tc(j),onSetup:ki(j)})},Ru=j=>{j.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:tr(j),onSetup:Qi(j)}),j.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:za(j),onAction:Aa(j)}),j.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Tc(j),onSetup:ki(j)})},Lc=j=>{const le="link unlink openlink",ge="link";j.ui.registry.addContextMenu("link",{update:Oe=>j.dom.isEditable(Oe)?Xo(j.dom.getParents(Oe,"a"))?le:ge:""})},wi=j=>{const le=ht=>{ht.selection.collapse(!1)},ge=ht=>{const ln=j.selection.getNode();return ht.setEnabled(ns(j,ln)),mo},Oe=ht=>{const ln=xn(j),os=it(j);if(ln.isNone()&&os){const Cs=vs(j.selection,ln);return $e(Cs.length===0,ht)}else return vt.none()};j.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Pa(j)},label:"Link",predicate:ht=>_n(j)&&ns(j,ht),initValue:()=>xn(j).fold(_t(""),co),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:ht=>{const ln=j.selection.getNode();return ht.setActive(ns(j,ln)),Pa(j)(ht)},onAction:ht=>{const ln=ht.getValue(),os=Oe(ln);qa(j,{href:ln,attach:mo},{href:ln,text:os,title:vt.none(),rel:vt.none(),target:vt.none(),class:vt.none()}),le(j),ht.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ge,onAction:ht=>{Tc(j),ht.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ge,onAction:ht=>{tr(j)(),ht.hide()}}]})};var eu=()=>{Ta.add("link",j=>{cn(j),Fc(j),Ru(j),Lc(j),wi(j),vi(j),Pl(j),$a(j)})};eu()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,Sr=at=>Zt=>Zt.options.get(at),bs=at=>{const Zt=at.options.register;Zt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+yr().source+"$","i")}),Zt("link_default_target",{processor:"string"}),Zt("link_default_protocol",{processor:"string",default:"https"})},Es=Sr("autolink_pattern"),Qs=Sr("link_default_target"),xo=Sr("link_default_protocol"),yt=Sr("allow_unsafe_link_target"),Yn=(at,Zt,Ee)=>{var Je;return Ee(at,Zt.prototype)?!0:((Je=at.constructor)===null||Je===void 0?void 0:Je.name)===Zt.name},Hn=at=>{const Zt=typeof at;return at===null?"null":Zt==="object"&&Array.isArray(at)?"array":Zt==="object"&&Yn(at,String,(Ee,Je)=>Je.isPrototypeOf(Ee))?"string":Zt},no=at=>Zt=>Hn(Zt)===at,ls=at=>Zt=>at===Zt,Zo=no("string"),Fn=ls(void 0),qo=at=>at==null,mo=at=>!qo(at),_t=at=>Zt=>!at(Zt),Ao=Object.hasOwnProperty,vt=(at,Zt)=>Ao.call(at,Zt),re=(at,Zt,Ee)=>Zt===""||at.length>=Zt.length&&at.substr(Ee,Ee+Zt.length)===Zt,sn=(at,Zt,Ee=0,Je)=>{const I=at.indexOf(Zt,Ee);return I!==-1?Fn(Je)?!0:I+Zt.length<=Je:!1},dr=(at,Zt)=>re(at,Zt,0),Vn="\uFEFF",Y=at=>at===Vn,gn=at=>at.replace(/\uFEFF/g,"");var Nn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const nn=at=>at.nodeType===3,Le=at=>at.nodeType===1,ie=at=>/^[(\[{ \u00a0]$/.test(at),Ho=at=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(at),st=at=>/[?!,.;:]/.test(at),$e=(at,Zt,Ee)=>{for(let Je=Zt-1;Je>=0;Je--){const I=at.charAt(Je);if(!Y(I)&&Ee(I))return Je}return-1},A=(at,Zt)=>{let Ee=at,Je=Zt;for(;Le(Ee)&&Ee.childNodes[Je];)Ee=Ee.childNodes[Je],Je=nn(Ee)?Ee.data.length:Ee.childNodes.length;return{container:Ee,offset:Je}},cn=(at,Zt)=>{var Ee;const Je=at.schema.getVoidElements(),I=Es(at),{dom:dt,selection:je}=at;if(dt.getParent(je.getNode(),"a[href]")!==null)return null;const Mt=je.getRng(),ct=Nn(dt,Bt=>dt.isBlock(Bt)||vt(Je,Bt.nodeName.toLowerCase())||dt.getContentEditable(Bt)==="false"),{container:zo,offset:Ae}=A(Mt.endContainer,Mt.endOffset),nt=(Ee=dt.getParent(zo,dt.isBlock))!==null&&Ee!==void 0?Ee:dt.getRoot(),Re=ct.backwards(zo,Ae+Zt,(Bt,go)=>{const Un=Bt.data,Go=$e(Un,go,_t(ie));return Go===-1||st(Un[Go])?Go:Go+1},nt);if(!Re)return null;let he=Re.container;const Ye=ct.backwards(Re.container,Re.offset,(Bt,go)=>{he=Bt;const Un=$e(Bt.data,go,ie);return Un===-1?Un:Un+1},nt),Ze=dt.createRng();Ye?Ze.setStart(Ye.container,Ye.offset):Ze.setStart(he,0),Ze.setEnd(Re.container,Re.offset);const un=gn(Ze.toString()).match(I);if(un){let Bt=un[0];return dr(Bt,"www.")?Bt=xo(at)+"://"+Bt:sn(Bt,"@")&&!Ho(Bt)&&(Bt="mailto:"+Bt),{rng:Ze,url:Bt}}else return null},Ke=(at,Zt)=>{const{dom:Ee,selection:Je}=at,{rng:I,url:dt}=Zt,je=Je.getBookmark();Je.setRng(I);const Mt="createlink",ct={command:Mt,ui:!1,value:dt};if(!at.dispatch("BeforeExecCommand",ct).isDefaultPrevented()){at.getDoc().execCommand(Mt,!1,dt),at.dispatch("ExecCommand",ct);const Ae=Qs(at);if(Zo(Ae)){const nt=Je.getNode();Ee.setAttrib(nt,"target",Ae),Ae==="_blank"&&!yt(at)&&Ee.setAttrib(nt,"rel","noopener")}}Je.moveToBookmark(je),at.nodeChanged()},_n=at=>{const Zt=cn(at,-1);mo(Zt)&&Ke(at,Zt)},Ht=_n,He=at=>{const Zt=cn(at,0);mo(Zt)&&Ke(at,Zt)},Gn=at=>{at.on("keydown",Zt=>{Zt.keyCode===13&&!Zt.isDefaultPrevented()&&He(at)}),at.on("keyup",Zt=>{Zt.keyCode===32?_n(at):(Zt.keyCode===48&&Zt.shiftKey||Zt.keyCode===221)&&Ht(at)})};var is=()=>{Ta.add("autolink",at=>{bs(at),Gn(at)})};is()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager"),yr=tinymce.util.Tools.resolve("tinymce.Env"),Sr=tinymce.util.Tools.resolve("tinymce.util.Tools");const bs=Fn=>qo=>qo.options.get(Fn),Es=bs("content_style"),Qs=bs("content_css_cors"),xo=bs("body_class"),yt=bs("body_id"),Yn=Fn=>{var qo;let mo="";const _t=Fn.dom.encode,Ao=(qo=Es(Fn))!==null&&qo!==void 0?qo:"";mo+='<base href="'+_t(Fn.documentBaseURI.getURI())+'">';const vt=Qs(Fn)?' crossorigin="anonymous"':"";Sr.each(Fn.contentCSS,nn=>{mo+='<link type="text/css" rel="stylesheet" href="'+_t(Fn.documentBaseURI.toAbsolute(nn))+'"'+vt+">"}),Ao&&(mo+='<style type="text/css">'+Ao+"</style>");const re=yt(Fn),sn=xo(Fn),Vn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(yr.os.isMacOS()||yr.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",Y=Fn.getBody().dir,gn=Y?' dir="'+_t(Y)+'"':"";return"<!DOCTYPE html><html><head>"+mo+'</head><body id="'+_t(re)+'" class="mce-content-body '+_t(sn)+'"'+gn+">"+Fn.getContent()+Vn+"</body></html>"},Hn=Fn=>{const qo=Yn(Fn);Fn.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:qo}}).focus("close")},no=Fn=>{Fn.addCommand("mcePreview",()=>{Hn(Fn)})},ls=Fn=>{const qo=()=>Fn.execCommand("mcePreview");Fn.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:qo}),Fn.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:qo})};var Zo=()=>{Ta.add("preview",Fn=>{no(Fn),ls(Fn)})};Zo()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=Object.getPrototypeOf,Sr=(P,W,oe)=>{var Se;return oe(P,W.prototype)?!0:((Se=P.constructor)===null||Se===void 0?void 0:Se.name)===W.name},bs=P=>{const W=typeof P;return P===null?"null":W==="object"&&Array.isArray(P)?"array":W==="object"&&Sr(P,String,(oe,Se)=>Se.isPrototypeOf(oe))?"string":W},Es=P=>W=>bs(W)===P,Qs=P=>W=>typeof W===P,xo=P=>W=>P===W,yt=(P,W)=>Hn(P)&&Sr(P,W,(oe,Se)=>yr(oe)===Se),Yn=Es("string"),Hn=Es("object"),no=P=>yt(P,Object),ls=Es("array"),Zo=xo(null),Fn=Qs("boolean"),qo=P=>P==null,mo=P=>!qo(P),_t=Qs("function"),Ao=Qs("number"),vt=(P,W)=>{if(ls(P)){for(let oe=0,Se=P.length;oe<Se;++oe)if(!W(P[oe]))return!1;return!0}return!1},re=()=>{};class sn{constructor(W,oe){this.tag=W,this.value=oe}static some(W){return new sn(!0,W)}static none(){return sn.singletonNone}fold(W,oe){return this.tag?oe(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?sn.some(W(this.value)):sn.none()}bind(W){return this.tag?W(this.value):sn.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:sn.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return mo(W)?sn.some(W):sn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}sn.singletonNone=new sn(!1);const dr=Object.keys,Vn=Object.hasOwnProperty,Y=(P,W)=>{const oe=dr(P);for(let Se=0,Nt=oe.length;Se<Nt;Se++){const xt=oe[Se],ms=P[xt];W(ms,xt)}},gn=P=>(W,oe)=>{P[oe]=W},Nn=(P,W,oe,Se)=>{Y(P,(Nt,xt)=>{(W(Nt,xt)?oe:Se)(Nt,xt)})},nn=(P,W)=>{const oe={};return Nn(P,W,gn(oe),re),oe},Le=(P,W)=>Vn.call(P,W),ie=(P,W)=>Le(P,W)&&P[W]!==void 0&&P[W]!==null,Ho=Array.prototype.push,st=P=>{const W=[];for(let oe=0,Se=P.length;oe<Se;++oe){if(!ls(P[oe]))throw new Error("Arr.flatten item "+oe+" was not an array, input: "+P);Ho.apply(W,P[oe])}return W},$e=(P,W)=>W>=0&&W<P.length?sn.some(P[W]):sn.none(),A=P=>$e(P,0),cn=(P,W)=>{for(let oe=0;oe<P.length;oe++){const Se=W(P[oe],oe);if(Se.isSome())return Se}return sn.none()};typeof window<"u"||Function("return this;")();const Ke=(P,W,oe)=>{if(Yn(oe)||Fn(oe)||Ao(oe))P.setAttribute(W,oe+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",oe,":: Element ",P),new Error("Attribute value was not simple")},_n=(P,W,oe)=>{Ke(P.dom,W,oe)},Ht=(P,W)=>{P.dom.removeAttribute(W)},He=(P,W)=>{const Se=(W||document).createElement("div");if(Se.innerHTML=P,!Se.hasChildNodes()||Se.childNodes.length>1){const Nt="HTML does not have a single root node";throw console.error(Nt,P),new Error(Nt)}return at(Se.childNodes[0])},Gn=(P,W)=>{const Se=(W||document).createElement(P);return at(Se)},is=(P,W)=>{const Se=(W||document).createTextNode(P);return at(Se)},at=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Ee={fromHtml:He,fromTag:Gn,fromText:is,fromDom:at,fromPoint:(P,W,oe)=>sn.from(P.dom.elementFromPoint(W,oe)).map(at)};var Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),I=tinymce.util.Tools.resolve("tinymce.util.URI");const dt=P=>P.length>0,je=P=>W=>W.options.get(P),Mt=P=>{const W=P.options.register;W("image_dimensions",{processor:"boolean",default:!0}),W("image_advtab",{processor:"boolean",default:!1}),W("image_uploadtab",{processor:"boolean",default:!0}),W("image_prepend_url",{processor:"string",default:""}),W("image_class_list",{processor:"object[]"}),W("image_description",{processor:"boolean",default:!0}),W("image_title",{processor:"boolean",default:!1}),W("image_caption",{processor:"boolean",default:!1}),W("image_list",{processor:oe=>{const Se=oe===!1||Yn(oe)||vt(oe,Hn)||_t(oe);return Se?{value:oe,valid:Se}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},ct=je("image_dimensions"),zo=je("image_advtab"),Ae=je("image_uploadtab"),nt=je("image_prepend_url"),Re=je("image_class_list"),he=je("image_description"),Ye=je("image_title"),Ze=je("image_caption"),Be=je("image_list"),un=je("a11y_advanced_options"),Bt=je("automatic_uploads"),go=P=>dt(P.options.get("images_upload_url")),Un=P=>mo(P.options.get("images_upload_handler")),Go=(P,W)=>Math.max(parseInt(P,10),parseInt(W,10)),zr=P=>new Promise(W=>{const oe=document.createElement("img"),Se=xt=>{oe.onload=oe.onerror=null,oe.parentNode&&oe.parentNode.removeChild(oe),W(xt)};oe.onload=()=>{const xt=Go(oe.width,oe.clientWidth),ms=Go(oe.height,oe.clientHeight),nr={width:xt,height:ms};Se(Promise.resolve(nr))},oe.onerror=()=>{Se(Promise.reject(`Failed to get image dimensions for: ${P}`))};const Nt=oe.style;Nt.visibility="hidden",Nt.position="fixed",Nt.bottom=Nt.left="0px",Nt.width=Nt.height="auto",document.body.appendChild(oe),oe.src=P}),ts=P=>(P&&(P=P.replace(/px$/,"")),P),Ko=P=>(P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P),_o=P=>{if(P.margin){const W=String(P.margin).split(" ");switch(W.length){case 1:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[0],P["margin-bottom"]=P["margin-bottom"]||W[0],P["margin-left"]=P["margin-left"]||W[0];break;case 2:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[1],P["margin-bottom"]=P["margin-bottom"]||W[0],P["margin-left"]=P["margin-left"]||W[1];break;case 3:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[1],P["margin-bottom"]=P["margin-bottom"]||W[2],P["margin-left"]=P["margin-left"]||W[1];break;case 4:P["margin-top"]=P["margin-top"]||W[0],P["margin-right"]=P["margin-right"]||W[1],P["margin-bottom"]=P["margin-bottom"]||W[2],P["margin-left"]=P["margin-left"]||W[3]}delete P.margin}return P},Or=(P,W)=>{const oe=Be(P);Yn(oe)?fetch(oe).then(Se=>{Se.ok&&Se.json().then(W)}):_t(oe)?oe(W):W(oe)},co=(P,W,oe)=>{const Se=()=>{oe.onload=oe.onerror=null,P.selection&&(P.selection.select(oe),P.nodeChanged())};oe.onload=()=>{!W.width&&!W.height&&ct(P)&&P.dom.setAttribs(oe,{width:String(oe.clientWidth),height:String(oe.clientHeight)}),Se()},oe.onerror=Se},Kn=P=>new Promise((W,oe)=>{const Se=new FileReader;Se.onload=()=>{W(Se.result)},Se.onerror=()=>{var Nt;oe((Nt=Se.error)===null||Nt===void 0?void 0:Nt.message)},Se.readAsDataURL(P)}),ca=P=>P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder")),xn=(P,W)=>{const oe=P.options.get;return I.isDomSafe(W,"img",{allow_html_data_urls:oe("allow_html_data_urls"),allow_script_urls:oe("allow_script_urls"),allow_svg_data_urls:oe("allow_svg_data_urls")})},ns=Je.DOM,vs=P=>P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?ts(P.style.marginLeft):"",la=P=>P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?ts(P.style.marginTop):"",Sc=P=>P.style.borderWidth?ts(P.style.borderWidth):"",Xo=(P,W)=>{var oe;return P.hasAttribute(W)&&(oe=P.getAttribute(W))!==null&&oe!==void 0?oe:""},Ml=P=>P.parentNode!==null&&P.parentNode.nodeName==="FIGURE",it=(P,W,oe)=>{oe===""||oe===null?P.removeAttribute(W):P.setAttribute(W,oe)},po=P=>{const W=ns.create("figure",{class:"image"});ns.insertAfter(W,P),W.appendChild(P),W.appendChild(ns.create("figcaption",{contentEditable:"true"},"Caption")),W.contentEditable="false"},Ir=P=>{const W=P.parentNode;mo(W)&&(ns.insertAfter(P,W),ns.remove(W))},Fr=P=>{Ml(P)?Ir(P):po(P)},ic=(P,W)=>{const oe=P.getAttribute("style"),Se=W(oe!==null?oe:"");Se.length>0?(P.setAttribute("style",Se),P.setAttribute("data-mce-style",Se)):P.removeAttribute("style")},uc=(P,W)=>(oe,Se,Nt)=>{const xt=oe.style;xt[Se]?(xt[Se]=Ko(Nt),ic(oe,W)):it(oe,Se,Nt)},us=(P,W)=>P.style[W]?ts(P.style[W]):Xo(P,W),xc=(P,W)=>{const oe=Ko(W);P.style.marginLeft=oe,P.style.marginRight=oe},ia=(P,W)=>{const oe=Ko(W);P.style.marginTop=oe,P.style.marginBottom=oe},Vo=(P,W)=>{const oe=Ko(W);P.style.borderWidth=oe},yn=(P,W)=>{P.style.borderStyle=W},br=P=>{var W;return(W=P.style.borderStyle)!==null&&W!==void 0?W:""},qa=P=>mo(P)&&P.nodeName==="FIGURE",Tc=P=>P.nodeName==="IMG",$c=P=>ns.getAttrib(P,"alt").length===0&&ns.getAttrib(P,"role")==="presentation",ks=P=>$c(P)?"":Xo(P,"alt"),fr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),ws=(P,W)=>{var oe;const Se=document.createElement("img");return it(Se,"style",W.style),(vs(Se)||W.hspace!=="")&&xc(Se,W.hspace),(la(Se)||W.vspace!=="")&&ia(Se,W.vspace),(Sc(Se)||W.border!=="")&&Vo(Se,W.border),(br(Se)||W.borderStyle!=="")&&yn(Se,W.borderStyle),P((oe=Se.getAttribute("style"))!==null&&oe!==void 0?oe:"")},mr=(P,W)=>{const oe=document.createElement("img");if(ze(P,{...W,caption:!1},oe),ua(oe,W.alt,W.isDecorative),W.caption){const Se=ns.create("figure",{class:"image"});return Se.appendChild(oe),Se.appendChild(ns.create("figcaption",{contentEditable:"true"},"Caption")),Se.contentEditable="false",Se}else return oe},dc=(P,W)=>({src:Xo(W,"src"),alt:ks(W),title:Xo(W,"title"),width:us(W,"width"),height:us(W,"height"),class:Xo(W,"class"),style:P(Xo(W,"style")),caption:Ml(W),hspace:vs(W),vspace:la(W),border:Sc(W),borderStyle:br(W),isDecorative:$c(W)}),_s=(P,W,oe,Se,Nt)=>{oe[Se]!==W[Se]&&Nt(P,Se,String(oe[Se]))},ua=(P,W,oe)=>{if(oe){ns.setAttrib(P,"role","presentation");const Se=Ee.fromDom(P);_n(Se,"alt","")}else{if(Zo(W)){const Se=Ee.fromDom(P);Ht(Se,"alt")}else{const Se=Ee.fromDom(P);_n(Se,"alt",W)}ns.getAttrib(P,"role")==="presentation"&&ns.setAttrib(P,"role","")}},ee=(P,W,oe)=>{(oe.alt!==W.alt||oe.isDecorative!==W.isDecorative)&&ua(P,oe.alt,oe.isDecorative)},te=(P,W)=>(oe,Se,Nt)=>{P(oe,Nt),ic(oe,W)},ze=(P,W,oe)=>{const Se=dc(P,oe);_s(oe,Se,W,"caption",(Nt,xt,ms)=>Fr(Nt)),_s(oe,Se,W,"src",it),_s(oe,Se,W,"title",it),_s(oe,Se,W,"width",uc("width",P)),_s(oe,Se,W,"height",uc("height",P)),_s(oe,Se,W,"class",it),_s(oe,Se,W,"style",te((Nt,xt)=>it(Nt,"style",xt),P)),_s(oe,Se,W,"hspace",te(xc,P)),_s(oe,Se,W,"vspace",te(ia,P)),_s(oe,Se,W,"border",te(Vo,P)),_s(oe,Se,W,"borderStyle",te(yn,P)),ee(oe,Se,W)},Ve=(P,W)=>{const oe=P.dom.styles.parse(W),Se=_o(oe),Nt=P.dom.styles.parse(P.dom.styles.serialize(Se));return P.dom.styles.serialize(Nt)},Gt=P=>{const W=P.selection.getNode(),oe=P.dom.getParent(W,"figure.image");return oe?P.dom.select("img",oe)[0]:W&&(W.nodeName!=="IMG"||ca(W))?null:W},rn=(P,W)=>{var oe;const Se=P.dom,Nt=nn(P.schema.getTextBlockElements(),(ms,nr)=>!P.schema.isValidChild(nr,"figure")),xt=Se.getParent(W.parentNode,ms=>ie(Nt,ms.nodeName),P.getBody());return xt&&(oe=Se.split(xt,W))!==null&&oe!==void 0?oe:W},eo=P=>{const W=Gt(P);return W?dc(oe=>Ve(P,oe),W):fr()},fe=(P,W)=>{const oe=mr(Nt=>Ve(P,Nt),W);P.dom.setAttrib(oe,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(oe.outerHTML);const Se=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(Se,"data-mce-id",null),qa(Se)){const Nt=rn(P,Se);P.selection.select(Nt)}else P.selection.select(Se)},jn=(P,W)=>{P.dom.setAttrib(W,"src",W.getAttribute("src"))},Xn=(P,W)=>{if(W){const oe=P.dom.is(W.parentNode,"figure.image")?W.parentNode:W;P.dom.remove(oe),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},Fs=(P,W)=>{const oe=Gt(P);if(oe)if(ze(Se=>Ve(P,Se),W,oe),jn(P,oe),qa(oe.parentNode)){const Se=oe.parentNode;rn(P,Se),P.selection.select(oe.parentNode)}else P.selection.select(oe),co(P,W,oe)},er=(P,W)=>{const oe=W.src;return{...W,src:xn(P,oe)?oe:""}},ho=(P,W)=>{const oe=Gt(P);if(oe){const Nt={...dc(ms=>Ve(P,ms),oe),...W},xt=er(P,Nt);Nt.src?Fs(P,xt):Xn(P,oe)}else W.src&&fe(P,{...fr(),...W})},gr=(P=>(...W)=>{if(W.length===0)throw new Error("Can't merge zero objects");const oe={};for(let Se=0;Se<W.length;Se++){const Nt=W[Se];for(const xt in Nt)Le(Nt,xt)&&(oe[xt]=P(oe[xt],Nt[xt]))}return oe})((P,W)=>no(P)&&no(W)?gr(P,W):W);var Ic=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),yo=tinymce.util.Tools.resolve("tinymce.util.Tools");const uo=P=>Yn(P.value)?P.value:"",qr=P=>Yn(P.text)?P.text:Yn(P.title)?P.title:"",Lr=(P,W)=>{const oe=[];return yo.each(P,Se=>{const Nt=qr(Se);if(Se.menu!==void 0){const xt=Lr(Se.menu,W);oe.push({text:Nt,items:xt})}else{const xt=W(Se);oe.push({text:Nt,value:xt})}}),oe},fc=(P=uo)=>W=>W?sn.from(W).map(oe=>Lr(oe,P)):sn.none(),bl=P=>fc(uo)(P),vl=P=>Le(P,"items"),$o=(P,W)=>cn(P,oe=>vl(oe)?$o(oe.items,W):oe.value===W?sn.some(oe):sn.none()),sl={sanitizer:fc,sanitize:bl,findEntry:(P,W)=>P.bind(oe=>$o(oe,W))},mc={makeTab:P=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},lr=P=>{const W=sl.sanitizer(Rs=>P.convertURL(Rs.value||Rs.url||"","src")),oe=new Promise(Rs=>{Or(P,or=>{Rs(W(or).map(Ci=>st([[{text:"None",value:""}],Ci])))})}),Se=sl.sanitize(Re(P)),Nt=zo(P),xt=Ae(P),ms=go(P),nr=Un(P),Qe=eo(P),Oa=he(P),Ss=Ye(P),Dr=ct(P),cd=Ze(P),vo=un(P),ti=Bt(P),_i=sn.some(nt(P)).filter(Rs=>Yn(Rs)&&Rs.length>0);return oe.then(Rs=>({image:Qe,imageList:Rs,classList:Se,hasAdvTab:Nt,hasUploadTab:xt,hasUploadUrl:ms,hasUploadHandler:nr,hasDescription:Oa,hasImageTitle:Ss,hasDimensions:Dr,hasImageCaption:cd,prependURL:_i,hasAccessibilityOptions:vo,automaticUploads:ti}))},Ds=P=>{const W={name:"src",type:"urlinput",filetype:"image",label:"Source"},oe=P.imageList.map(Ss=>({name:"images",type:"listbox",label:"Image list",items:Ss})),Se={name:"alt",type:"input",label:"Alternative description",enabled:!(P.hasAccessibilityOptions&&P.image.isDecorative)},Nt={name:"title",type:"input",label:"Image title"},xt={name:"dimensions",type:"sizeinput"},ms={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},nr=P.classList.map(Ss=>({name:"classes",type:"listbox",label:"Class",items:Ss})),Qe={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Oa=Ss=>Ss?{type:"grid",columns:2}:{type:"panel"};return st([[W],oe.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[ms]:[],P.hasDescription?[Se]:[],P.hasImageTitle?[Nt]:[],P.hasDimensions?[xt]:[],[{...Oa(P.classList.isSome()&&P.hasImageCaption),items:st([nr.toArray(),P.hasImageCaption?[Qe]:[]])}]])},bi={makeTab:P=>({title:"General",name:"general",items:Ds(P)}),makeItems:Ds},Hr={makeTab:P=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Aa=P=>({prevImage:sl.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}),tr=P=>({src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}),vi=(P,W)=>({src:P.src.value,alt:(P.alt===null||P.alt.length===0)&&W?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}),Ga=(P,W)=>/^(?:[a-zA-Z]+:)?\/\//.test(W)?sn.none():P.prependURL.bind(oe=>W.substring(0,oe.length)!==oe?sn.some(oe+W):sn.none()),Pa=(P,W)=>{const oe=W.getData();Ga(P,oe.src.value).each(Se=>{W.setData({src:{value:Se,meta:oe.src.meta}})})},za=(P,W,oe)=>{P.hasDescription&&Yn(oe.alt)&&(W.alt=oe.alt),P.hasAccessibilityOptions&&(W.isDecorative=oe.isDecorative||W.isDecorative||!1),P.hasImageTitle&&Yn(oe.title)&&(W.title=oe.title),P.hasDimensions&&(Yn(oe.width)&&(W.dimensions.width=oe.width),Yn(oe.height)&&(W.dimensions.height=oe.height)),Yn(oe.class)&&sl.findEntry(P.classList,oe.class).each(Se=>{W.classes=Se.value}),P.hasImageCaption&&Fn(oe.caption)&&(W.caption=oe.caption),P.hasAdvTab&&(Yn(oe.style)&&(W.style=oe.style),Yn(oe.vspace)&&(W.vspace=oe.vspace),Yn(oe.border)&&(W.border=oe.border),Yn(oe.hspace)&&(W.hspace=oe.hspace),Yn(oe.borderstyle)&&(W.borderstyle=oe.borderstyle))},ad=(P,W)=>{const oe=W.getData(),Se=oe.src.meta;if(Se!==void 0){const Nt=gr({},oe);za(P,Nt,Se),W.setData(Nt)}},Qi=(P,W,oe,Se)=>{const Nt=Se.getData(),xt=Nt.src.value,ms=Nt.src.meta||{};!ms.width&&!ms.height&&W.hasDimensions&&(dt(xt)?P.imageSize(xt).then(nr=>{oe.open&&Se.setData({dimensions:nr})}).catch(nr=>console.error(nr)):Se.setData({dimensions:{width:"",height:""}}))},ki=(P,W,oe)=>{const Se=oe.getData(),Nt=sl.findEntry(P.imageList,Se.src.value);W.prevImage=Nt,oe.setData({images:Nt.map(xt=>xt.value).getOr("")})},$a=(P,W,oe,Se)=>{Pa(W,Se),ad(W,Se),Qi(P,W,oe,Se),ki(W,oe,Se)},Fc=(P,W,oe,Se)=>{const Nt=Se.getData(),xt=sl.findEntry(W.imageList,Nt.images);xt.each(ms=>{Nt.alt===""||oe.prevImage.map(Qe=>Qe.text===Nt.alt).getOr(!1)?ms.value===""?Se.setData({src:ms,alt:oe.prevAlt}):Se.setData({src:ms,alt:ms.text}):Se.setData({src:ms})}),oe.prevImage=xt,$a(P,W,oe,Se)},Ru=(P,W,oe,Se)=>{const Nt=Se.getData();Se.block("Uploading image"),A(Nt.fileinput).fold(()=>{Se.unblock()},xt=>{const ms=URL.createObjectURL(xt),nr=()=>{Se.unblock(),URL.revokeObjectURL(ms)},Qe=Oa=>{Se.setData({src:{value:Oa,meta:{}}}),Se.showTab("general"),$a(P,W,oe,Se)};Kn(xt).then(Oa=>{const Ss=P.createBlobCache(xt,ms,Oa);W.automaticUploads?P.uploadImage(Ss).then(Dr=>{Qe(Dr.url),nr()}).catch(Dr=>{nr(),P.alertErr(Dr)}):(P.addToBlobCache(Ss),Qe(Ss.blobUri()),Se.unblock())})})},Lc=(P,W,oe)=>(Se,Nt)=>{Nt.name==="src"?$a(P,W,oe,Se):Nt.name==="images"?Fc(P,W,oe,Se):Nt.name==="alt"?oe.prevAlt=Se.getData().alt:Nt.name==="fileinput"?Ru(P,W,oe,Se):Nt.name==="isDecorative"&&Se.setEnabled("alt",!Se.getData().isDecorative)},wi=P=>()=>{P.open=!1},eu=P=>P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler?{type:"tabpanel",tabs:st([[bi.makeTab(P)],P.hasAdvTab?[mc.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Hr.makeTab(P)]:[]])}:{type:"panel",items:bi.makeItems(P)},j=(P,W,oe)=>Se=>{const Nt=gr(tr(W.image),Se.getData()),xt={...Nt,style:ws(oe.normalizeCss,vi(Nt,!1))};P.execCommand("mceUpdateImage",!1,vi(xt,W.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),Se.close()},le=P=>W=>xn(P,W)?zr(P.documentBaseURI.toAbsolute(W)).then(oe=>({width:String(oe.width),height:String(oe.height)})):Promise.resolve({width:"",height:""}),ge=P=>(W,oe,Se)=>{var Nt;return P.editorUpload.blobCache.create({blob:W,blobUri:oe,name:(Nt=W.name)===null||Nt===void 0?void 0:Nt.replace(/\.[^\.]+$/,""),filename:W.name,base64:Se.split(",")[1]})},Oe=P=>W=>{P.editorUpload.blobCache.add(W)},ht=P=>W=>{P.windowManager.alert(W)},ln=P=>W=>Ve(P,W),os=P=>W=>P.dom.parseStyle(W),Cs=P=>(W,oe)=>P.dom.serializeStyle(W,oe),Yo=P=>W=>Ic(P).upload([W],!1).then(oe=>{var Se;return oe.length===0?Promise.reject("Failed to upload image"):oe[0].status===!1?Promise.reject((Se=oe[0].error)===null||Se===void 0?void 0:Se.message):oe[0]}),Io=P=>{const W={imageSize:le(P),addToBlobCache:Oe(P),createBlobCache:ge(P),alertErr:ht(P),normalizeCss:ln(P),parseStyle:os(P),serializeStyle:Cs(P),uploadImage:Yo(P)};return{open:()=>{lr(P).then(Se=>{const Nt=Aa(Se);return{title:"Insert/Edit Image",size:"normal",body:eu(Se),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:tr(Se.image),onSubmit:j(P,Se,W),onChange:Lc(W,Se,Nt),onClose:wi(Nt)}}).then(P.windowManager.open)}}},Oo=P=>{P.addCommand("mceImage",Io(P).open),P.addCommand("mceUpdateImage",(W,oe)=>{P.undoManager.transact(()=>ho(P,oe))})},da=P=>{const W=P.attr("class");return mo(W)&&/\bimage\b/.test(W)},rl=P=>W=>{let oe=W.length;const Se=Nt=>{Nt.attr("contenteditable",P?"true":null)};for(;oe--;){const Nt=W[oe];da(Nt)&&(Nt.attr("contenteditable",P?"false":null),yo.each(Nt.getAll("figcaption"),Se))}},Mn=P=>{P.on("PreInit",()=>{P.parser.addNodeFilter("figure",rl(!0)),P.serializer.addNodeFilter("figure",rl(!1))})},To=P=>W=>{const oe=()=>{W.setEnabled(P.selection.isEditable())};return P.on("NodeChange",oe),oe(),()=>{P.off("NodeChange",oe)}},fa=P=>{P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Io(P).open,onSetup:W=>{W.setActive(mo(Gt(P)));const oe=P.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",W.setActive).unbind,Se=To(P)(W);return()=>{oe(),Se()}}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Io(P).open,onSetup:To(P)}),P.ui.registry.addContextMenu("image",{update:W=>qa(W)||Tc(W)&&!ca(W)?["image"]:[]})};var pr=()=>{Ta.add("image",P=>{Mt(P),Mn(P),fa(P),Oo(P)})};pr()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=(ee,te,ze)=>{var Ve;return ze(ee,te.prototype)?!0:((Ve=ee.constructor)===null||Ve===void 0?void 0:Ve.name)===te.name},Sr=ee=>{const te=typeof ee;return ee===null?"null":te==="object"&&Array.isArray(ee)?"array":te==="object"&&yr(ee,String,(ze,Ve)=>Ve.isPrototypeOf(ze))?"string":te},bs=ee=>te=>Sr(te)===ee,Es=bs("string"),Qs=bs("object"),xo=bs("array"),yt=ee=>ee==null,Yn=ee=>!yt(ee);class Hn{constructor(te,ze){this.tag=te,this.value=ze}static some(te){return new Hn(!0,te)}static none(){return Hn.singletonNone}fold(te,ze){return this.tag?ze(this.value):te()}isSome(){return this.tag}isNone(){return!this.tag}map(te){return this.tag?Hn.some(te(this.value)):Hn.none()}bind(te){return this.tag?te(this.value):Hn.none()}exists(te){return this.tag&&te(this.value)}forall(te){return!this.tag||te(this.value)}filter(te){return!this.tag||te(this.value)?this:Hn.none()}getOr(te){return this.tag?this.value:te}or(te){return this.tag?this:te}getOrThunk(te){return this.tag?this.value:te()}orThunk(te){return this.tag?this:te()}getOrDie(te){if(this.tag)return this.value;throw new Error(te??"Called getOrDie on None")}static from(te){return Yn(te)?Hn.some(te):Hn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(te){this.tag&&te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Hn.singletonNone=new Hn(!1);const no=Array.prototype.push,ls=(ee,te)=>{for(let ze=0,Ve=ee.length;ze<Ve;ze++){const Gt=ee[ze];te(Gt,ze)}},Zo=ee=>{const te=[];for(let ze=0,Ve=ee.length;ze<Ve;++ze){if(!xo(ee[ze]))throw new Error("Arr.flatten item "+ze+" was not an array, input: "+ee);no.apply(te,ee[ze])}return te},Fn=ee=>{let te=ee;return{get:()=>te,set:Gt=>{te=Gt}}},qo=Object.keys,mo=Object.hasOwnProperty,_t=(ee,te)=>{const ze=qo(ee);for(let Ve=0,Gt=ze.length;Ve<Gt;Ve++){const rn=ze[Ve],eo=ee[rn];te(eo,rn)}},Ao=(ee,te)=>vt(ee,te)?Hn.from(ee[te]):Hn.none(),vt=(ee,te)=>mo.call(ee,te),re=ee=>te=>te.options.get(ee),sn=ee=>{const te=ee.options.register;te("audio_template_callback",{processor:"function"}),te("video_template_callback",{processor:"function"}),te("iframe_template_callback",{processor:"function"}),te("media_live_embeds",{processor:"boolean",default:!0}),te("media_filter_html",{processor:"boolean",default:!0}),te("media_url_resolver",{processor:"function"}),te("media_alt_source",{processor:"boolean",default:!0}),te("media_poster",{processor:"boolean",default:!0}),te("media_dimensions",{processor:"boolean",default:!0})},dr=re("audio_template_callback"),Vn=re("video_template_callback"),Y=re("iframe_template_callback"),gn=re("media_live_embeds"),Nn=re("media_filter_html"),nn=re("media_url_resolver"),Le=re("media_alt_source"),ie=re("media_poster"),Ho=re("media_dimensions");var st=tinymce.util.Tools.resolve("tinymce.util.Tools"),$e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const cn=$e.DOM,Ke=ee=>ee.replace(/px$/,""),_n=ee=>{const te=ee.attr("style"),ze=te?cn.parseStyle(te):{};return{type:"ephox-embed-iri",source:ee.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:Ao(ze,"max-width").map(Ke).getOr(""),height:Ao(ze,"max-height").map(Ke).getOr("")}},Ht=(ee,te)=>{let ze={};const Gt=A({validate:!1,forced_root_block:!1},te).parse(ee);for(let rn=Gt;rn;rn=rn.walk())if(rn.type===1){const eo=rn.name;if(rn.attr("data-ephox-embed-iri")){ze=_n(rn);break}else!ze.source&&eo==="param"&&(ze.source=rn.attr("movie")),(eo==="iframe"||eo==="object"||eo==="embed"||eo==="video"||eo==="audio")&&(ze.type||(ze.type=eo),ze=st.extend(rn.attributes.map,ze)),eo==="script"&&(ze={type:"script",source:rn.attr("src")}),eo==="source"&&(ze.source?ze.altsource||(ze.altsource=rn.attr("src")):ze.source=rn.attr("src")),eo==="img"&&!ze.poster&&(ze.poster=rn.attr("src"))}return ze.source=ze.source||ze.src||"",ze.altsource=ze.altsource||"",ze.poster=ze.poster||"",ze},He=ee=>{var te;const ze={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Ve=(te=ee.toLowerCase().split(".").pop())!==null&&te!==void 0?te:"";return Ao(ze,Ve).getOr("")};var Gn=tinymce.util.Tools.resolve("tinymce.html.Node"),is=tinymce.util.Tools.resolve("tinymce.html.Serializer");const at=(ee,te={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...te},ee),Zt=$e.DOM,Ee=ee=>/^[0-9.]+$/.test(ee)?ee+"px":ee,Je=(ee,te)=>{const ze=te.attr("style"),Ve=ze?Zt.parseStyle(ze):{};Yn(ee.width)&&(Ve["max-width"]=Ee(ee.width)),Yn(ee.height)&&(Ve["max-height"]=Ee(ee.height)),te.attr("style",Zt.serializeStyle(Ve))},I=["source","altsource"],dt=(ee,te,ze,Ve)=>{let Gt=0,rn=0;const eo=at(Ve);eo.addNodeFilter("source",jn=>Gt=jn.length);const fe=eo.parse(ee);for(let jn=fe;jn;jn=jn.walk())if(jn.type===1){const Xn=jn.name;if(jn.attr("data-ephox-embed-iri")){Je(te,jn);break}else{switch(Xn){case"video":case"object":case"embed":case"img":case"iframe":te.height!==void 0&&te.width!==void 0&&(jn.attr("width",te.width),jn.attr("height",te.height));break}if(ze)switch(Xn){case"video":jn.attr("poster",te.poster),jn.attr("src",null);for(let er=Gt;er<2;er++)if(te[I[er]]){const ho=new Gn("source",1);ho.attr("src",te[I[er]]),ho.attr("type",te[I[er]+"mime"]||null),jn.append(ho)}break;case"iframe":jn.attr("src",te.source);break;case"object":const Fs=jn.getAll("img").length>0;if(te.poster&&!Fs){jn.attr("src",te.poster);const er=new Gn("img",1);er.attr("src",te.poster),er.attr("width",te.width),er.attr("height",te.height),jn.append(er)}break;case"source":if(rn<2&&(jn.attr("src",te[I[rn]]),jn.attr("type",te[I[rn]+"mime"]||null),!te[I[rn]])){jn.remove();continue}rn++;break;case"img":te.poster||jn.remove();break}}}return is({},Ve).serialize(fe)},je=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Mt=ee=>{const te=ee.match(/^(https?:\/\/|www\.)(.+)$/i);return te&&te.length>1?te[1]==="www."?"https://":te[1]:"https://"},ct=(ee,te)=>{const ze=Mt(te),Ve=ee.regex.exec(te);let Gt=ze+ee.url;if(Yn(Ve))for(let rn=0;rn<Ve.length;rn++)Gt=Gt.replace("$"+rn,()=>Ve[rn]?Ve[rn]:"");return Gt.replace(/\?$/,"")},zo=ee=>{const te=je.filter(ze=>ze.regex.test(ee));return te.length>0?st.extend({},te[0],{url:ct(te[0],ee)}):null},Ae=(ee,te)=>{if(te)return te(ee);{const ze=ee.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ee.source+'" width="'+ee.width+'" height="'+ee.height+'"'+ze+"></iframe>"}},nt=ee=>{let te='<object data="'+ee.source+'" width="'+ee.width+'" height="'+ee.height+'" type="application/x-shockwave-flash">';return ee.poster&&(te+='<img src="'+ee.poster+'" width="'+ee.width+'" height="'+ee.height+'" />'),te+="</object>",te},Re=(ee,te)=>te?te(ee):'<audio controls="controls" src="'+ee.source+'">'+(ee.altsource?`
<source src="`+ee.altsource+'"'+(ee.altsourcemime?' type="'+ee.altsourcemime+'"':"")+` />
`:"")+"</audio>",he=(ee,te)=>te?te(ee):'<video width="'+ee.width+'" height="'+ee.height+'"'+(ee.poster?' poster="'+ee.poster+'"':"")+` controls="controls">
<source src="`+ee.source+'"'+(ee.sourcemime?' type="'+ee.sourcemime+'"':"")+` />
`+(ee.altsource?'<source src="'+ee.altsource+'"'+(ee.altsourcemime?' type="'+ee.altsourcemime+'"':"")+` />
`:"")+"</video>",Ye=ee=>'<script src="'+ee.source+'"><\/script>',Ze=(ee,te)=>{var ze;const Ve=st.extend({},te);if(!Ve.source&&(st.extend(Ve,Ht((ze=Ve.embed)!==null&&ze!==void 0?ze:"",ee.schema)),!Ve.source))return"";Ve.altsource||(Ve.altsource=""),Ve.poster||(Ve.poster=""),Ve.source=ee.convertURL(Ve.source,"source"),Ve.altsource=ee.convertURL(Ve.altsource,"source"),Ve.sourcemime=He(Ve.source),Ve.altsourcemime=He(Ve.altsource),Ve.poster=ee.convertURL(Ve.poster,"poster");const Gt=zo(Ve.source);if(Gt&&(Ve.source=Gt.url,Ve.type=Gt.type,Ve.allowfullscreen=Gt.allowFullscreen,Ve.width=Ve.width||String(Gt.w),Ve.height=Ve.height||String(Gt.h)),Ve.embed)return dt(Ve.embed,Ve,!0,ee.schema);{const rn=dr(ee),eo=Vn(ee),fe=Y(ee);return Ve.width=Ve.width||"300",Ve.height=Ve.height||"150",st.each(Ve,(jn,Xn)=>{Ve[Xn]=ee.dom.encode(""+jn)}),Ve.type==="iframe"?Ae(Ve,fe):Ve.sourcemime==="application/x-shockwave-flash"?nt(Ve):Ve.sourcemime.indexOf("audio")!==-1?Re(Ve,rn):Ve.type==="script"?Ye(Ve):he(Ve,eo)}},Be=ee=>ee.hasAttribute("data-mce-object")||ee.hasAttribute("data-ephox-embed-iri"),un=ee=>{ee.on("click keyup touchend",()=>{const te=ee.selection.getNode();te&&ee.dom.hasClass(te,"mce-preview-object")&&ee.dom.getAttrib(te,"data-mce-selected")&&te.setAttribute("data-mce-selected","2")}),ee.on("ObjectSelected",te=>{te.target.getAttribute("data-mce-object")==="script"&&te.preventDefault()}),ee.on("ObjectResized",te=>{const ze=te.target;if(ze.getAttribute("data-mce-object")){let Ve=ze.getAttribute("data-mce-html");Ve&&(Ve=unescape(Ve),ze.setAttribute("data-mce-html",escape(dt(Ve,{width:String(te.width),height:String(te.height)},!1,ee.schema))))}})},Bt={},go=(ee,te,ze)=>new Promise((Ve,Gt)=>{const rn=eo=>(eo.html&&(Bt[ee.source]=eo),Ve({url:ee.source,html:eo.html?eo.html:te(ee)}));Bt[ee.source]?rn(Bt[ee.source]):ze({url:ee.source},rn,Gt)}),Un=(ee,te)=>Promise.resolve({html:te(ee),url:ee.source}),Go=ee=>te=>Ze(ee,te),zr=(ee,te)=>{const ze=nn(ee);return ze?go(te,Go(ee),ze):Un(te,Go(ee))},ts=ee=>vt(Bt,ee),Ko=(ee,te)=>Ao(te,ee).bind(ze=>Ao(ze,"meta")),_o=(ee,te,ze)=>Ve=>{const Gt=()=>Ao(ee,Ve),rn=()=>Ao(te,Ve),eo=Xn=>Ao(Xn,"value").bind(Fs=>Fs.length>0?Hn.some(Fs):Hn.none()),fe=()=>Gt().bind(Xn=>Qs(Xn)?eo(Xn).orThunk(rn):rn().orThunk(()=>Hn.from(Xn))),jn=()=>rn().orThunk(()=>Gt().bind(Xn=>Qs(Xn)?eo(Xn):Hn.from(Xn)));return{[Ve]:(Ve===ze?fe():jn()).getOr("")}},Or=(ee,te)=>{const ze={};return Ao(ee,"dimensions").each(Ve=>{ls(["width","height"],Gt=>{Ao(te,Gt).orThunk(()=>Ao(Ve,Gt)).each(rn=>ze[Gt]=rn)})}),ze},co=(ee,te)=>{const ze=te&&te!=="dimensions"?Ko(te,ee).getOr({}):{},Ve=_o(ee,ze,te);return{...Ve("source"),...Ve("altsource"),...Ve("poster"),...Ve("embed"),...Or(ee,ze)}},Kn=ee=>{const te={...ee,source:{value:Ao(ee,"source").getOr("")},altsource:{value:Ao(ee,"altsource").getOr("")},poster:{value:Ao(ee,"poster").getOr("")}};return ls(["width","height"],ze=>{Ao(ee,ze).each(Ve=>{const Gt=te.dimensions||{};Gt[ze]=Ve,te.dimensions=Gt})}),te},ca=ee=>te=>{const ze=te&&te.msg?"Media embed handler error: "+te.msg:"Media embed handler threw unknown error.";ee.notificationManager.open({type:"error",text:ze})},xn=ee=>{const te=ee.selection.getNode(),ze=Be(te)?ee.serializer.serialize(te,{selection:!0}):"",Ve=Ht(ze,ee.schema),rn=(()=>{if(Sc(Ve.source,Ve.type)){const eo=ee.dom.getRect(te);return{width:eo.w.toString().replace(/px$/,""),height:eo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:ze,...Ve,...rn}},ns=(ee,te)=>ze=>{if(Es(ze.url)&&ze.url.trim().length>0){const Ve=ze.html,rn={...Ht(Ve,te.schema),source:ze.url,embed:Ve};ee.setData(Kn(rn))}},vs=(ee,te)=>{const ze=ee.dom.select("*[data-mce-object]");for(let Ve=0;Ve<te.length;Ve++)for(let Gt=ze.length-1;Gt>=0;Gt--)te[Ve]===ze[Gt]&&ze.splice(Gt,1);ee.selection.select(ze[0])},la=(ee,te)=>{const ze=ee.dom.select("*[data-mce-object]");ee.insertContent(te),vs(ee,ze),ee.nodeChanged()},Sc=(ee,te)=>Yn(te)&&te==="ephox-embed-iri"&&Yn(zo(ee)),Xo=(ee,te)=>((Ve,Gt)=>Ve.width!==Gt.width||Ve.height!==Gt.height)(ee,te)&&Sc(te.source,ee.type),Ml=(ee,te,ze)=>{var Ve;te.embed=Xo(ee,te)&&Ho(ze)?Ze(ze,{...te,embed:""}):dt((Ve=te.embed)!==null&&Ve!==void 0?Ve:"",te,!1,ze.schema),te.embed&&(ee.source===te.source||ts(te.source))?la(ze,te.embed):zr(ze,te).then(Gt=>{la(ze,Gt.html)}).catch(ca(ze))},it=ee=>{const te=xn(ee),ze=Fn(te),Ve=Kn(te),Gt=(yo,uo)=>{const qr=co(uo.getData(),"source");yo.source!==qr.source&&(ns(Ic,ee)({url:qr.source,html:""}),zr(ee,qr).then(ns(Ic,ee)).catch(ca(ee)))},rn=yo=>{var uo;const qr=co(yo.getData()),Lr=Ht((uo=qr.embed)!==null&&uo!==void 0?uo:"",ee.schema);yo.setData(Kn(Lr))},eo=(yo,uo,qr)=>{const Lr=co(yo.getData(),uo),fc=Xo(qr,Lr)&&Ho(ee)?{...Lr,embed:""}:Lr,bl=Ze(ee,fc);yo.setData(Kn({...fc,embed:bl}))},fe=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],jn=Ho(ee)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Xn={title:"General",name:"general",items:Zo([fe,jn])},er={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},ho=[];Le(ee)&&ho.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ie(ee)&&ho.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Bl={title:"Advanced",name:"advanced",items:ho},ei=[Xn,er];ho.length>0&&ei.push(Bl);const gr={type:"tabpanel",tabs:ei},Ic=ee.windowManager.open({title:"Insert/Edit Media",size:"normal",body:gr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:yo=>{const uo=co(yo.getData());Ml(ze.get(),uo,ee),yo.close()},onChange:(yo,uo)=>{switch(uo.name){case"source":Gt(ze.get(),yo);break;case"embed":rn(yo);break;case"dimensions":case"altsource":case"poster":eo(yo,uo.name,ze.get());break}ze.set(co(yo.getData()))},initialData:Ve})},po=ee=>({showDialog:()=>{it(ee)}}),Ir=ee=>{const te=()=>{it(ee)};ee.addCommand("mceMedia",te)},Fr=(ee,te,ze)=>te===""||ee.length>=te.length&&ee.substr(ze,ze+te.length)===te,ic=(ee,te)=>Fr(ee,te,0);var uc=tinymce.util.Tools.resolve("tinymce.Env");const us=ee=>{const te=ee.name;return te==="iframe"||te==="video"||te==="audio"},xc=(ee,te,ze,Ve=null)=>{const Gt=ee.attr(ze);return Yn(Gt)?Gt:vt(te,ze)?null:Ve},ia=(ee,te,ze)=>{const Ve=te.name==="img"||ee.name==="video",Gt=Ve?"300":null,rn=ee.name==="audio"?"30":"150",eo=Ve?rn:null;te.attr({width:xc(ee,ze,"width",Gt),height:xc(ee,ze,"height",eo)})},Vo=(ee,te,ze,Ve)=>{const Gt=at(ee.schema).parse(Ve,{context:te});for(;Gt.firstChild;)ze.append(Gt.firstChild)},yn=(ee,te)=>{const ze=te.name,Ve=new Gn("img",1);return qa(ee,te,Ve),ia(te,Ve,{}),Ve.attr({style:te.attr("style"),src:uc.transparentSrc,"data-mce-object":ze,class:"mce-object mce-object-"+ze}),Ve},br=(ee,te)=>{var ze;const Ve=te.name,Gt=new Gn("span",1);Gt.attr({contentEditable:"false",style:te.attr("style"),"data-mce-object":Ve,class:"mce-preview-object mce-object-"+Ve}),qa(ee,te,Gt);const rn=ee.dom.parseStyle((ze=te.attr("style"))!==null&&ze!==void 0?ze:""),eo=new Gn(Ve,1);if(ia(te,eo,rn),eo.attr({src:te.attr("src"),style:te.attr("style"),class:te.attr("class")}),Ve==="iframe")eo.attr({allowfullscreen:te.attr("allowfullscreen"),frameborder:"0"});else{ls(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Fs=>{eo.attr(Fs,te.attr(Fs))});const Xn=Gt.attr("data-mce-html");Yn(Xn)&&Vo(ee,Ve,eo,unescape(Xn))}const fe=new Gn("span",1);return fe.attr("class","mce-shim"),Gt.append(eo),Gt.append(fe),Gt},qa=(ee,te,ze)=>{var Ve;const Gt=(Ve=te.attributes)!==null&&Ve!==void 0?Ve:[];let rn=Gt.length;for(;rn--;){const Xn=Gt[rn].name;let Fs=Gt[rn].value;Xn!=="width"&&Xn!=="height"&&Xn!=="style"&&!ic(Xn,"data-mce-")&&((Xn==="data"||Xn==="src")&&(Fs=ee.convertURL(Fs,Xn)),ze.attr("data-mce-p-"+Xn,Fs))}const eo=is({inner:!0},ee.schema),fe=new Gn("div",1);ls(te.children(),Xn=>fe.append(Xn));const jn=eo.serialize(fe);jn&&(ze.attr("data-mce-html",escape(jn)),ze.empty())},Tc=ee=>{const te=ee.attr("class");return Es(te)&&/\btiny-pageembed\b/.test(te)},$c=ee=>{let te=ee;for(;te=te.parent;)if(te.attr("data-ephox-embed-iri")||Tc(te))return!0;return!1},ks=ee=>te=>{let ze=te.length,Ve;for(;ze--;)Ve=te[ze],Ve.parent&&(Ve.parent.attr("data-mce-object")||(us(Ve)&&gn(ee)?$c(Ve)||Ve.replace(br(ee,Ve)):$c(Ve)||Ve.replace(yn(ee,Ve))))},fr=(ee,te,ze)=>{const Ve=ee.options.get,Gt=Ve("xss_sanitization"),rn=Nn(ee);return at(ee.schema,{sanitize:Gt,validate:rn}).parse(ze,{context:te})},ws=ee=>{ee.on("PreInit",()=>{const{schema:te,serializer:ze,parser:Ve}=ee,Gt=te.getBoolAttrs();ls("webkitallowfullscreen mozallowfullscreen".split(" "),rn=>{Gt[rn]={}}),_t({embed:["wmode"]},(rn,eo)=>{const fe=te.getElementRule(eo);fe&&ls(rn,jn=>{fe.attributes[jn]={},fe.attributesOrder.push(jn)})}),Ve.addNodeFilter("iframe,video,audio,object,embed,script",ks(ee)),ze.addAttributeFilter("data-mce-object",(rn,eo)=>{var fe;let jn=rn.length;for(;jn--;){const Xn=rn[jn];if(!Xn.parent)continue;const Fs=Xn.attr(eo),er=new Gn(Fs,1);if(Fs!=="audio"&&Fs!=="script"){const gr=Xn.attr("class");gr&&gr.indexOf("mce-preview-object")!==-1&&Xn.firstChild?er.attr({width:Xn.firstChild.attr("width"),height:Xn.firstChild.attr("height")}):er.attr({width:Xn.attr("width"),height:Xn.attr("height")})}er.attr({style:Xn.attr("style")});const ho=(fe=Xn.attributes)!==null&&fe!==void 0?fe:[];let Bl=ho.length;for(;Bl--;){const gr=ho[Bl].name;gr.indexOf("data-mce-p-")===0&&er.attr(gr.substr(11),ho[Bl].value)}Fs==="script"&&er.attr("type","text/javascript");const ei=Xn.attr("data-mce-html");if(ei){const gr=fr(ee,Fs,unescape(ei));ls(gr.children(),Ic=>er.append(Ic))}Xn.replace(er)}})}),ee.on("SetContent",()=>{const te=ee.dom;ls(te.select("span.mce-preview-object"),ze=>{te.select("span.mce-shim",ze).length===0&&te.add(ze,"span",{class:"mce-shim"})})})},mr=ee=>{ee.on("ResolveName",te=>{let ze;te.target.nodeType===1&&(ze=te.target.getAttribute("data-mce-object"))&&(te.name=ze)})},dc=ee=>te=>{const ze=()=>{te.setEnabled(ee.selection.isEditable())};return ee.on("NodeChange",ze),ze(),()=>{ee.off("NodeChange",ze)}},_s=ee=>{const te=()=>ee.execCommand("mceMedia");ee.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:te,onSetup:ze=>{const Ve=ee.selection;ze.setActive(Be(Ve.getNode()));const Gt=Ve.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ze.setActive).unbind,rn=dc(ee)(ze);return()=>{Gt(),rn()}}}),ee.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:te,onSetup:dc(ee)})};var ua=()=>{Ta.add("media",ee=>(sn(ee),Ir(ee),_s(ee),mr(ee),ws(ee),un(ee),po(ee)))};ua()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=Ye=>Ze=>Ye===Ze,Sr=yr(null),bs=yr(void 0),Es=Ye=>Ye==null,Qs=Ye=>!Es(Ye),xo=()=>{},Yn=(Ye=>()=>Ye)(!1);class Hn{constructor(Ze,Be){this.tag=Ze,this.value=Be}static some(Ze){return new Hn(!0,Ze)}static none(){return Hn.singletonNone}fold(Ze,Be){return this.tag?Be(this.value):Ze()}isSome(){return this.tag}isNone(){return!this.tag}map(Ze){return this.tag?Hn.some(Ze(this.value)):Hn.none()}bind(Ze){return this.tag?Ze(this.value):Hn.none()}exists(Ze){return this.tag&&Ze(this.value)}forall(Ze){return!this.tag||Ze(this.value)}filter(Ze){return!this.tag||Ze(this.value)?this:Hn.none()}getOr(Ze){return this.tag?this.value:Ze}or(Ze){return this.tag?this:Ze}getOrThunk(Ze){return this.tag?this.value:Ze()}orThunk(Ze){return this.tag?this:Ze()}getOrDie(Ze){if(this.tag)return this.value;throw new Error(Ze??"Called getOrDie on None")}static from(Ze){return Qs(Ze)?Hn.some(Ze):Hn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ze){this.tag&&Ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Hn.singletonNone=new Hn(!1);const no=(Ye,Ze)=>{for(let Be=0,un=Ye.length;Be<un;Be++){const Bt=Ye[Be];if(Ze(Bt,Be))return!0}return!1},ls=(Ye,Ze)=>{const Be=Ye.length,un=new Array(Be);for(let Bt=0;Bt<Be;Bt++){const go=Ye[Bt];un[Bt]=Ze(go,Bt)}return un},Zo=(Ye,Ze)=>{for(let Be=0,un=Ye.length;Be<un;Be++){const Bt=Ye[Be];Ze(Bt,Be)}},Fn=Ye=>{let Ze=Ye;return{get:()=>Ze,set:Bt=>{Ze=Bt}}},qo=(Ye,Ze)=>{let Be=null;const un=()=>{Sr(Be)||(clearTimeout(Be),Be=null)};return{cancel:un,throttle:(...go)=>{un(),Be=setTimeout(()=>{Be=null,Ye.apply(null,go)},Ze)}}},mo=(Ye,Ze)=>{Ye.insertContent(Ze)},_t=Object.keys,Ao=Object.hasOwnProperty,vt=(Ye,Ze)=>{const Be=_t(Ye);for(let un=0,Bt=Be.length;un<Bt;un++){const go=Be[un],Un=Ye[go];Ze(Un,go)}},re=(Ye,Ze)=>sn(Ye,(Be,un)=>({k:un,v:Ze(Be,un)})),sn=(Ye,Ze)=>{const Be={};return vt(Ye,(un,Bt)=>{const go=Ze(un,Bt);Be[go.k]=go.v}),Be},dr=(Ye,Ze)=>Ao.call(Ye,Ze),gn=(Ye=>(...Ze)=>{if(Ze.length===0)throw new Error("Can't merge zero objects");const Be={};for(let un=0;un<Ze.length;un++){const Bt=Ze[un];for(const go in Bt)dr(Bt,go)&&(Be[go]=Ye(Be[go],Bt[go]))}return Be})((Ye,Ze)=>Ze),Nn=Ye=>{const Ze=Fn(Hn.none()),Be=()=>Ze.get().each(Ye);return{clear:()=>{Be(),Ze.set(Hn.none())},isSet:()=>Ze.get().isSome(),get:()=>Ze.get(),set:Go=>{Be(),Ze.set(Hn.some(Go))}}},nn=()=>{const Ye=Nn(xo);return{...Ye,on:Be=>Ye.get().each(Be)}},Le=(Ye,Ze,Be)=>Ze===""||Ye.length>=Ze.length&&Ye.substr(Be,Be+Ze.length)===Ze,ie=(Ye,Ze,Be=0,un)=>{const Bt=Ye.indexOf(Ze,Be);return Bt!==-1?bs(un)?!0:Bt+Ze.length<=un:!1},Ho=(Ye,Ze)=>Le(Ye,Ze,0);var st=tinymce.util.Tools.resolve("tinymce.Resource");const $e="tinymce.plugins.emoticons",A=Ye=>Ze=>Ze.options.get(Ye),cn=(Ye,Ze)=>{const Be=Ye.options.register;Be("emoticons_database",{processor:"string",default:"emojis"}),Be("emoticons_database_url",{processor:"string",default:`${Ze}/js/${Ke(Ye)}${Ye.suffix}.js`}),Be("emoticons_database_id",{processor:"string",default:$e}),Be("emoticons_append",{processor:"object",default:{}}),Be("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},Ke=A("emoticons_database"),_n=A("emoticons_database_url"),Ht=A("emoticons_database_id"),He=A("emoticons_append"),Gn=A("emoticons_images_url"),is="All",at={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Zt=(Ye,Ze)=>dr(Ye,Ze)?Ye[Ze]:Ze,Ee=Ye=>{const Ze=He(Ye);return re(Ze,Be=>({keywords:[],category:"user",...Be}))},Je=(Ye,Ze,Be)=>{const un=nn(),Bt=nn(),go=Gn(Ye),Un=co=>Ho(co.char,"<img")?co.char.replace(/src="([^"]+)"/,(Kn,ca)=>`src="${go}${ca}"`):co.char,Go=co=>{const Kn={},ca=[];vt(co,(xn,ns)=>{const vs={title:ns,keywords:xn.keywords,char:Un(xn),category:Zt(at,xn.category)},la=Kn[vs.category]!==void 0?Kn[vs.category]:[];Kn[vs.category]=la.concat([vs]),ca.push(vs)}),un.set(Kn),Bt.set(ca)};Ye.on("init",()=>{st.load(Be,Ze).then(co=>{const Kn=Ee(Ye);Go(gn(co,Kn))},co=>{console.log(`Failed to load emojis: ${co}`),un.set({}),Bt.set([])})});const zr=co=>co===is?ts():un.get().bind(Kn=>Hn.from(Kn[co])).getOr([]),ts=()=>Bt.get().getOr([]),Ko=()=>[is].concat(_t(un.get().getOr({}))),_o=()=>Or()?Promise.resolve(!0):new Promise((co,Kn)=>{let ca=15;const xn=setInterval(()=>{Or()?(clearInterval(xn),co(!0)):(ca--,ca<0&&(console.log("Could not load emojis from url: "+Ze),clearInterval(xn),Kn(!1)))},100)}),Or=()=>un.isSet()&&Bt.isSet();return{listCategories:Ko,hasLoaded:Or,waitForLoad:_o,listAll:ts,listCategory:zr}},I=(Ye,Ze)=>ie(Ye.title.toLowerCase(),Ze)||no(Ye.keywords,Be=>ie(Be.toLowerCase(),Ze)),dt=(Ye,Ze,Be)=>{const un=[],Bt=Ze.toLowerCase(),go=Be.fold(()=>Yn,Un=>Go=>Go>=Un);for(let Un=0;Un<Ye.length&&!((Ze.length===0||I(Ye[Un],Bt))&&(un.push({value:Ye[Un].char,text:Ye[Un].title,icon:Ye[Un].char}),go(un.length)));Un++);return un},je="pattern",Mt=(Ye,Ze)=>{const Be={pattern:"",results:dt(Ze.listAll(),"",Hn.some(300))},un=Fn(is),Bt=Ko=>{const _o=Ko.getData(),Or=un.get(),co=Ze.listCategory(Or),Kn=dt(co,_o[je],Or===is?Hn.some(300):Hn.none());Ko.setData({results:Kn})},go=qo(Ko=>{Bt(Ko)},200),Un={label:"Search",type:"input",name:je},Go={type:"collection",name:"results"},zr=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:ls(Ze.listCategories(),_o=>({title:_o,name:_o,items:[Un,Go]}))},initialData:Be,onTabChange:(_o,Or)=>{un.set(Or.newTabName),go.throttle(_o)},onChange:go.throttle,onAction:(_o,Or)=>{Or.name==="results"&&(mo(Ye,Or.value),_o.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),ts=Ye.windowManager.open(zr());ts.focus(je),Ze.hasLoaded()||(ts.block("Loading emojis..."),Ze.waitForLoad().then(()=>{ts.redial(zr()),go.throttle(ts),ts.focus(je),ts.unblock()}).catch(Ko=>{ts.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),ts.focus(je),ts.unblock()}))},ct=(Ye,Ze)=>{Ye.addCommand("mceEmoticons",()=>Mt(Ye,Ze))},zo=Ye=>{Ye.on("PreInit",()=>{Ye.parser.addAttributeFilter("data-emoticon",Ze=>{Zo(Ze,Be=>{Be.attr("data-mce-resize","false"),Be.attr("data-mce-placeholder","1")})})})},Ae=(Ye,Ze)=>{Ye.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Be,un)=>Ze.waitForLoad().then(()=>{const Bt=Ze.listAll();return dt(Bt,Be,Hn.some(un))}),onAction:(Be,un,Bt)=>{Ye.selection.setRng(un),Ye.insertContent(Bt),Be.hide()}})},nt=Ye=>Ze=>{const Be=()=>{Ze.setEnabled(Ye.selection.isEditable())};return Ye.on("NodeChange",Be),Be(),()=>{Ye.off("NodeChange",Be)}},Re=Ye=>{const Ze=()=>Ye.execCommand("mceEmoticons");Ye.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ze,onSetup:nt(Ye)}),Ye.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ze,onSetup:nt(Ye)})};var he=()=>{Ta.add("emoticons",(Ye,Ze)=>{cn(Ye,Ze);const Be=_n(Ye),un=Ht(Ye),Bt=Je(Ye,Be,un);ct(Ye,Bt),Re(Ye),Ae(Ye,Bt),zo(Ye)})};he()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=(w,S,F)=>{var Z;return F(w,S.prototype)?!0:((Z=w.constructor)===null||Z===void 0?void 0:Z.name)===S.name},Sr=w=>{const S=typeof w;return w===null?"null":S==="object"&&Array.isArray(w)?"array":S==="object"&&yr(w,String,(F,Z)=>Z.isPrototypeOf(F))?"string":S},bs=w=>S=>Sr(S)===w,Es=w=>S=>typeof S===w,Qs=w=>S=>w===S,xo=bs("string"),yt=bs("array"),Yn=Es("boolean"),Hn=Qs(void 0),no=w=>w==null,ls=w=>!no(w),Zo=Es("function"),Fn=Es("number"),qo=()=>{},mo=(w,S)=>F=>w(S(F)),_t=w=>()=>w,Ao=w=>w,vt=(w,S)=>w===S;function re(w,...S){return(...F)=>{const Z=S.concat(F);return w.apply(null,Z)}}const sn=w=>{w()},dr=_t(!1),Vn=_t(!0);class Y{constructor(S,F){this.tag=S,this.value=F}static some(S){return new Y(!0,S)}static none(){return Y.singletonNone}fold(S,F){return this.tag?F(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?Y.some(S(this.value)):Y.none()}bind(S){return this.tag?S(this.value):Y.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:Y.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return ls(S)?Y.some(S):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const gn=Object.keys,Nn=Object.hasOwnProperty,nn=(w,S)=>{const F=gn(w);for(let Z=0,ue=F.length;Z<ue;Z++){const Me=F[Z],ut=w[Me];S(ut,Me)}},Le=w=>(S,F)=>{w[F]=S},ie=(w,S,F,Z)=>{nn(w,(ue,Me)=>{(S(ue,Me)?F:Z)(ue,Me)})},Ho=(w,S)=>{const F={};return ie(w,S,Le(F),qo),F},st=(w,S)=>{const F=[];return nn(w,(Z,ue)=>{F.push(S(Z,ue))}),F},$e=w=>st(w,Ao),A=w=>gn(w).length,cn=(w,S)=>Ke(w,S)?Y.from(w[S]):Y.none(),Ke=(w,S)=>Nn.call(w,S),_n=(w,S)=>Ke(w,S)&&w[S]!==void 0&&w[S]!==null,Ht=w=>{for(const S in w)if(Nn.call(w,S))return!1;return!0},He=Array.prototype.indexOf,Gn=Array.prototype.push,is=(w,S)=>He.call(w,S),at=(w,S)=>is(w,S)>-1,Zt=(w,S)=>{for(let F=0,Z=w.length;F<Z;F++){const ue=w[F];if(S(ue,F))return!0}return!1},Ee=(w,S)=>{const F=[];for(let Z=0;Z<w;Z++)F.push(S(Z));return F},Je=(w,S)=>{const F=w.length,Z=new Array(F);for(let ue=0;ue<F;ue++){const Me=w[ue];Z[ue]=S(Me,ue)}return Z},I=(w,S)=>{for(let F=0,Z=w.length;F<Z;F++){const ue=w[F];S(ue,F)}},dt=(w,S)=>{for(let F=w.length-1;F>=0;F--){const Z=w[F];S(Z,F)}},je=(w,S)=>{const F=[],Z=[];for(let ue=0,Me=w.length;ue<Me;ue++){const ut=w[ue];(S(ut,ue)?F:Z).push(ut)}return{pass:F,fail:Z}},Mt=(w,S)=>{const F=[];for(let Z=0,ue=w.length;Z<ue;Z++){const Me=w[Z];S(Me,Z)&&F.push(Me)}return F},ct=(w,S,F)=>(dt(w,(Z,ue)=>{F=S(F,Z,ue)}),F),zo=(w,S,F)=>(I(w,(Z,ue)=>{F=S(F,Z,ue)}),F),Ae=(w,S,F)=>{for(let Z=0,ue=w.length;Z<ue;Z++){const Me=w[Z];if(S(Me,Z))return Y.some(Me);if(F(Me,Z))break}return Y.none()},nt=(w,S)=>Ae(w,S,dr),Re=w=>{const S=[];for(let F=0,Z=w.length;F<Z;++F){if(!yt(w[F]))throw new Error("Arr.flatten item "+F+" was not an array, input: "+w);Gn.apply(S,w[F])}return S},he=(w,S)=>Re(Je(w,S)),Ye=(w,S)=>{for(let F=0,Z=w.length;F<Z;++F){const ue=w[F];if(S(ue,F)!==!0)return!1}return!0},Ze=(w,S)=>{const F={};for(let Z=0,ue=w.length;Z<ue;Z++){const Me=w[Z];F[String(Me)]=S(Me,Z)}return F},Be=(w,S)=>S>=0&&S<w.length?Y.some(w[S]):Y.none(),un=w=>Be(w,0),Bt=w=>Be(w,w.length-1),go=(w,S)=>{for(let F=0;F<w.length;F++){const Z=S(w[F],F);if(Z.isSome())return Z}return Y.none()},Un=8,Go=9,zr=11,ts=1,Ko=3,_o=(w,S)=>{const Z=(S||document).createElement("div");if(Z.innerHTML=w,!Z.hasChildNodes()||Z.childNodes.length>1){const ue="HTML does not have a single root node";throw console.error(ue,w),new Error(ue)}return Kn(Z.childNodes[0])},Or=(w,S)=>{const Z=(S||document).createElement(w);return Kn(Z)},co=(w,S)=>{const Z=(S||document).createTextNode(w);return Kn(Z)},Kn=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},xn={fromHtml:_o,fromTag:Or,fromText:co,fromDom:Kn,fromPoint:(w,S,F)=>Y.from(w.dom.elementFromPoint(S,F)).map(Kn)},ns=(w,S)=>{const F=w.dom;if(F.nodeType!==ts)return!1;{const Z=F;if(Z.matches!==void 0)return Z.matches(S);if(Z.msMatchesSelector!==void 0)return Z.msMatchesSelector(S);if(Z.webkitMatchesSelector!==void 0)return Z.webkitMatchesSelector(S);if(Z.mozMatchesSelector!==void 0)return Z.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},vs=w=>w.nodeType!==ts&&w.nodeType!==Go&&w.nodeType!==zr||w.childElementCount===0,la=(w,S)=>{const F=S===void 0?document:S.dom;return vs(F)?[]:Je(F.querySelectorAll(w),xn.fromDom)},Sc=(w,S)=>{const F=S===void 0?document:S.dom;return vs(F)?Y.none():Y.from(F.querySelector(w)).map(xn.fromDom)},Xo=(w,S)=>w.dom===S.dom,Ml=ns;typeof window<"u"||Function("return this;")();const it=w=>w.dom.nodeName.toLowerCase(),po=w=>w.dom.nodeType,Ir=w=>S=>po(S)===w,Fr=w=>po(w)===Un||it(w)==="#comment",ic=Ir(ts),uc=Ir(Ko),us=Ir(Go),xc=Ir(zr),ia=w=>S=>ic(S)&&it(S)===w,Vo=w=>xn.fromDom(w.dom.ownerDocument),yn=w=>us(w)?w:Vo(w),br=w=>Y.from(w.dom.parentNode).map(xn.fromDom),qa=(w,S)=>{const F=Zo(S)?S:dr;let Z=w.dom;const ue=[];for(;Z.parentNode!==null&&Z.parentNode!==void 0;){const Me=Z.parentNode,ut=xn.fromDom(Me);if(ue.push(ut),F(ut)===!0)break;Z=Me}return ue},Tc=w=>Y.from(w.dom.previousSibling).map(xn.fromDom),$c=w=>Y.from(w.dom.nextSibling).map(xn.fromDom),ks=w=>Je(w.dom.childNodes,xn.fromDom),fr=(w,S)=>{const F=w.dom.childNodes;return Y.from(F[S]).map(xn.fromDom)},ws=w=>fr(w,0),mr=w=>xc(w)&&ls(w.dom.host),_s=Zo(Element.prototype.attachShadow)&&Zo(Node.prototype.getRootNode)?w=>xn.fromDom(w.dom.getRootNode()):yn,ua=w=>{const S=_s(w);return mr(S)?Y.some(S):Y.none()},ee=w=>xn.fromDom(w.dom.host),te=w=>{const S=uc(w)?w.dom.parentNode:w.dom;if(S==null||S.ownerDocument===null)return!1;const F=S.ownerDocument;return ua(xn.fromDom(S)).fold(()=>F.body.contains(S),mo(te,ee))};var ze=(w,S,F,Z,ue)=>w(F,Z)?Y.some(F):Zo(ue)&&ue(F)?Y.none():S(F,Z,ue);const Ve=(w,S,F)=>{let Z=w.dom;const ue=Zo(F)?F:dr;for(;Z.parentNode;){Z=Z.parentNode;const Me=xn.fromDom(Z);if(S(Me))return Y.some(Me);if(ue(Me))break}return Y.none()},Gt=(w,S,F)=>ze((ue,Me)=>Me(ue),Ve,w,S,F),rn=(w,S)=>{const F=ue=>S(xn.fromDom(ue));return nt(w.dom.childNodes,F).map(xn.fromDom)},eo=(w,S,F)=>Ve(w,Z=>ns(Z,S),F),fe=(w,S)=>rn(w,F=>ns(F,S)),jn=(w,S)=>Sc(S,w),Xn=(w,S,F)=>ze((ue,Me)=>ns(ue,Me),eo,w,S,F),Fs=w=>Xn(w,"[contenteditable]"),er=(w,S=!1)=>te(w)?w.dom.isContentEditable:Fs(w).fold(_t(S),F=>ho(F)==="true"),ho=w=>w.dom.contentEditable,Bl=w=>w.nodeName.toLowerCase(),ei=w=>xn.fromDom(w.getBody()),gr=w=>S=>Xo(S,ei(w)),Ic=w=>w?w.replace(/px$/,""):"",yo=w=>/^\d+(\.\d+)?$/.test(w)?w+"px":w,uo=w=>xn.fromDom(w.selection.getStart()),qr=w=>xn.fromDom(w.selection.getEnd()),Lr=w=>Gt(w,ia("table")).forall(er),fc=(w,S)=>Mt(ks(w),S),bl=(w,S)=>{let F=[];return I(ks(w),Z=>{S(Z)&&(F=F.concat([Z])),F=F.concat(bl(Z,S))}),F},vl=(w,S)=>fc(w,F=>ns(F,S)),$o=(w,S)=>la(S,w),Ea=(w,S,F)=>{if(xo(F)||Yn(F)||Fn(F))w.setAttribute(S,F+"");else throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",F,":: Element ",w),new Error("Attribute value was not simple")},sl=(w,S,F)=>{Ea(w.dom,S,F)},Pl=(w,S)=>{const F=w.dom;nn(S,(Z,ue)=>{Ea(F,ue,Z)})},mc=(w,S)=>{const F=w.dom.getAttribute(S);return F===null?void 0:F},lr=(w,S)=>Y.from(mc(w,S)),Ds=(w,S)=>{w.dom.removeAttribute(S)},cf=w=>zo(w.dom.attributes,(S,F)=>(S[F.name]=F.value,S),{}),bi=(w,S,F=vt)=>w.exists(Z=>F(Z,S)),ds=w=>{const S=[],F=Z=>{S.push(Z)};for(let Z=0;Z<w.length;Z++)w[Z].each(F);return S},Hr=(w,S,F)=>w.isSome()&&S.isSome()?Y.some(F(w.getOrDie(),S.getOrDie())):Y.none(),Aa=w=>w.bind(Ao),tr=(w,S)=>w?Y.some(S):Y.none(),vi=(w,S)=>w.substring(S),Ga=(w,S,F)=>S===""||w.length>=S.length&&w.substr(F,F+S.length)===S,Pa=(w,S)=>za(w,S)?vi(w,S.length):w,za=(w,S)=>Ga(w,S,0),Qi=(w=>S=>S.replace(w,""))(/^\s+|\s+$/g),ki=w=>w.length>0,$a=w=>!ki(w),Fc=(w,S=10)=>{const F=parseInt(w,S);return isNaN(F)?Y.none():Y.some(F)},Ru=w=>{const S=parseFloat(w);return isNaN(S)?Y.none():Y.some(S)},Lc=w=>w.style!==void 0&&Zo(w.style.getPropertyValue),wi=(w,S,F)=>{if(!xo(F))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",F,":: Element ",w),new Error("CSS value must be a string: "+F);Lc(w)&&w.style.setProperty(S,F)},eu=(w,S)=>{Lc(w)&&w.style.removeProperty(S)},j=(w,S,F)=>{const Z=w.dom;wi(Z,S,F)},le=(w,S)=>{const F=w.dom,ue=window.getComputedStyle(F).getPropertyValue(S);return ue===""&&!te(w)?ge(F,S):ue},ge=(w,S)=>Lc(w)?w.style.getPropertyValue(S):"",Oe=(w,S)=>{const F=w.dom,Z=ge(F,S);return Y.from(Z).filter(ue=>ue.length>0)},ht=(w,S)=>{const F=w.dom;eu(F,S),bi(lr(w,"style").map(Qi),"")&&Ds(w,"style")},ln=(w,S,F=0)=>lr(w,S).map(Z=>parseInt(Z,10)).getOr(F),os=(w,S)=>Cs(w,S,Vn),Cs=(w,S,F)=>he(ks(w),Z=>ns(Z,S)?F(Z)?[Z]:[]:Cs(Z,S,F)),Yo=["tfoot","thead","tbody","colgroup"],Io=w=>at(Yo,w),Oo=(w,S)=>({rows:w,columns:S}),da=(w,S,F)=>({element:w,rowspan:S,colspan:F}),rl=(w,S,F,Z,ue,Me)=>({element:w,rowspan:S,colspan:F,row:Z,column:ue,isLocked:Me}),Mn=(w,S,F)=>({element:w,cells:S,section:F}),To=(w,S,F,Z)=>({startRow:w,startCol:S,finishRow:F,finishCol:Z}),fa=(w,S,F)=>({element:w,colspan:S,column:F}),pr=(w,S)=>({element:w,columns:S}),P=(w,S,F=dr)=>{if(F(S))return Y.none();if(at(w,it(S)))return Y.some(S);const Z=ue=>ns(ue,"table")||F(ue);return eo(S,w.join(","),Z)},W=(w,S)=>P(["td","th"],w,S),oe=w=>os(w,"th,td"),Se=w=>ns(w,"colgroup")?vl(w,"col"):he(ms(w),S=>vl(S,"col")),Nt=(w,S)=>Xn(w,"table",S),xt=w=>os(w,"tr"),ms=w=>Nt(w).fold(_t([]),S=>vl(S,"colgroup")),nr=(w,S)=>Je(w,F=>{if(it(F)==="colgroup"){const Z=Je(Se(F),ue=>{const Me=ln(ue,"span",1);return da(ue,1,Me)});return Mn(F,Z,"colgroup")}else{const Z=Je(oe(F),ue=>{const Me=ln(ue,"rowspan",1),ut=ln(ue,"colspan",1);return da(ue,Me,ut)});return Mn(F,Z,S(F))}}),Qe=w=>br(w).map(S=>{const F=it(S);return Io(F)?F:"tbody"}).getOr("tbody"),Oa=w=>{const S=xt(w),Z=[...ms(w),...S];return nr(Z,Qe)},Ss="data-snooker-locked-cols",Dr=w=>lr(w,Ss).bind(S=>Y.from(S.match(/\d+/g))).map(S=>Ze(S,Vn)),cd=(w,S)=>w+","+S,vo=(w,S,F)=>Y.from(w.access[cd(S,F)]),ti=(w,S,F)=>{const Z=_i(w,ue=>F(S,ue.element));return Z.length>0?Y.some(Z[0]):Y.none()},_i=(w,S)=>{const F=he(w.all,Z=>Z.cells);return Mt(F,S)},Rs=w=>{const S={};let F=0;return I(w.cells,Z=>{const ue=Z.colspan;Ee(ue,Me=>{const ut=F+Me;S[ut]=fa(Z.element,ue,ut)}),F+=ue}),S},or=w=>{const S={},F=[],ue=un(w).map(nc=>nc.element).bind(Nt).bind(Dr).getOr({});let Me=0,ut=0,Ot=0;const{pass:bn,fail:Cn}=je(w,nc=>nc.section==="colgroup");I(Cn,nc=>{const Ul=[];I(nc.cells,Fu=>{let Kc=0;for(;S[cd(Ot,Kc)]!==void 0;)Kc++;const bf=_n(ue,Kc.toString()),lp=rl(Fu.element,Fu.rowspan,Fu.colspan,Ot,Kc,bf);for(let vf=0;vf<Fu.colspan;vf++)for(let wd=0;wd<Fu.rowspan;wd++){const Nr=Ot+wd,jl=Kc+vf,Lu=cd(Nr,jl);S[Lu]=lp,ut=Math.max(ut,jl+1)}Ul.push(lp)}),Me++,F.push(Mn(nc.element,Ul,nc.section)),Ot++});const{columns:rs,colgroups:Fo}=Bt(bn).map(nc=>{const Ul=Rs(nc);return{colgroups:[pr(nc.element,$e(Ul))],columns:Ul}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Oo(Me,ut),access:S,all:F,columns:rs,colgroups:Fo}},Vc={fromTable:w=>{const S=Oa(w);return or(S)},generate:or,getAt:vo,findItem:ti,filterItems:_i,justCells:w=>he(w.all,S=>S.cells),justColumns:w=>$e(w.columns),hasColumns:w=>gn(w.columns).length>0,getColumnAt:(w,S)=>Y.from(w.columns[S])};var gc=tinymce.util.Tools.resolve("tinymce.util.Tools");const Si=(w,S,F)=>{const Z=w.select("td,th",S);let ue;for(let Me=0;Me<Z.length;Me++){const ut=w.getStyle(Z[Me],F);if(Hn(ue)&&(ue=ut),ue!==ut)return""}return ue},xi=(w,S,F)=>{gc.each("left center right".split(" "),Z=>{Z!==F&&w.formatter.remove("align"+Z,{},S)}),F&&w.formatter.apply("align"+F,{},S)},Ns=(w,S,F)=>{gc.each("top middle bottom".split(" "),Z=>{Z!==F&&w.formatter.remove("valign"+Z,{},S)}),F&&w.formatter.apply("valign"+F,{},S)},Gr=(w,S,F)=>{w.dispatch("TableModified",{...F,table:S})},Ia=(w,S)=>Ru(w).getOr(S),lf=(w,S,F)=>Ia(le(w,S),F),kl=(w,S,F,Z)=>{const ue=lf(w,`padding-${F}`,0),Me=lf(w,`padding-${Z}`,0),ut=lf(w,`border-${F}-width`,0),Ot=lf(w,`border-${Z}-width`,0);return S-ue-Me-ut-Ot},As=(w,S)=>{const F=w.dom,Z=F.getBoundingClientRect().width||F.offsetWidth;return S==="border-box"?Z:kl(w,Z,"left","right")},$l=w=>As(w,"content-box");var ld=tinymce.util.Tools.resolve("tinymce.Env");const Ti="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Il=Ee(5,w=>{const S=`${w+1}px`;return{title:S,value:S}}),vr=Je(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],w=>({title:w,value:w.toLowerCase()})),Ka="100%",ma=w=>{var S;const F=w.dom,Z=(S=F.getParent(w.selection.getStart(),F.isBlock))!==null&&S!==void 0?S:w.getBody();return $l(xn.fromDom(Z))+"px"},Fl=(w,S)=>Xf(w)||!zi(w)?S:Kf(w)?{...S,width:ma(w)}:{...S,width:Ka},tu=(w,S)=>Xf(w)||zi(w)?S:Kf(w)?{...S,width:ma(w)}:{...S,width:Ka},Jo=w=>S=>S.options.get(w),al=w=>{const S=w.options.register;S("table_border_widths",{processor:"object[]",default:Il}),S("table_border_styles",{processor:"object[]",default:vr}),S("table_cell_advtab",{processor:"boolean",default:!0}),S("table_row_advtab",{processor:"boolean",default:!0}),S("table_advtab",{processor:"boolean",default:!0}),S("table_appearance_options",{processor:"boolean",default:!0}),S("table_grid",{processor:"boolean",default:!ld.deviceType.isTouch()}),S("table_cell_class_list",{processor:"object[]",default:[]}),S("table_row_class_list",{processor:"object[]",default:[]}),S("table_class_list",{processor:"object[]",default:[]}),S("table_toolbar",{processor:"string",default:Ti}),S("table_background_color_map",{processor:"object[]",default:[]}),S("table_border_color_map",{processor:"object[]",default:[]})},uf=Jo("table_sizing_mode"),Ei=Jo("table_border_widths"),id=Jo("table_border_styles"),Zf=Jo("table_cell_advtab"),Ai=Jo("table_row_advtab"),Uc=Jo("table_advtab"),Nu=Jo("table_appearance_options"),pc=Jo("table_grid"),zi=Jo("table_style_by_css"),ni=Jo("table_cell_class_list"),qf=Jo("table_row_class_list"),Ll=Jo("table_class_list"),Gf=Jo("table_toolbar"),df=Jo("table_background_color_map"),nu=Jo("table_border_color_map"),Kf=w=>uf(w)==="fixed",Xf=w=>uf(w)==="responsive",Mu=w=>{const S=w.options,F=S.get("table_default_styles");return S.isSet("table_default_styles")?F:Fl(w,F)},Zg=w=>{const S=w.options,F=S.get("table_default_attributes");return S.isSet("table_default_attributes")?F:tu(w,F)},ne=(w,S)=>S.column>=w.startCol&&S.column+S.colspan-1<=w.finishCol&&S.row>=w.startRow&&S.row+S.rowspan-1<=w.finishRow,Yf=(w,S)=>{let F=!0;const Z=re(ne,S);for(let ue=S.startRow;ue<=S.finishRow;ue++)for(let Me=S.startCol;Me<=S.finishCol;Me++)F=F&&Vc.getAt(w,ue,Me).exists(Z);return F?Y.some(S):Y.none()},hc=(w,S)=>To(Math.min(w.row,S.row),Math.min(w.column,S.column),Math.max(w.row+w.rowspan-1,S.row+S.rowspan-1),Math.max(w.column+w.colspan-1,S.column+S.colspan-1)),Zm=(w,S,F)=>{const Z=Vc.findItem(w,S,Xo),ue=Vc.findItem(w,F,Xo);return Z.bind(Me=>ue.map(ut=>hc(Me,ut)))},Sh=(w,S,F)=>Zm(w,S,F).bind(Z=>Yf(w,Z)),xh=(w,S,F)=>{const Z=ss(w);return Sh(Z,S,F)},ss=Vc.fromTable,cl=(w,S)=>{br(w).each(Z=>{Z.dom.insertBefore(S.dom,w.dom)})},Da=(w,S)=>{$c(w).fold(()=>{br(w).each(ue=>{ou(ue,S)})},Z=>{cl(Z,S)})},Oi=(w,S)=>{ws(w).fold(()=>{ou(w,S)},Z=>{w.dom.insertBefore(S.dom,Z.dom)})},ou=(w,S)=>{w.dom.appendChild(S.dom)},ud=(w,S)=>{cl(w,S),ou(S,w)},Ec=(w,S)=>{I(S,(F,Z)=>{const ue=Z===0?w:S[Z-1];Da(ue,F)})},Jf=(w,S)=>{I(S,F=>{ou(w,F)})},ff=w=>{const S=w.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Qf=w=>{const S=ks(w);S.length>0&&Ec(w,S),ff(w)},Bu=((w,S)=>{const F=Me=>{if(!w(Me))throw new Error("Can only get "+S+" value of a "+S+" node");return Z(Me).getOr("")},Z=Me=>w(Me)?Y.from(Me.dom.nodeValue):Y.none();return{get:F,getOption:Z,set:(Me,ut)=>{if(!w(Me))throw new Error("Can only set raw "+S+" value of a "+S+" node");Me.dom.nodeValue=ut}}})(uc,"text"),qg=w=>Bu.get(w),jc=(w,S)=>Bu.set(w,S);var ga=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],su=()=>{const w=Cn=>xn.fromDom(Cn.dom.cloneNode(!1)),S=Cn=>yn(Cn).dom,F=Cn=>ic(Cn)?it(Cn)==="body"?!0:at(ga,it(Cn)):!1,Z=Cn=>ic(Cn)?at(["br","img","hr","input"],it(Cn)):!1,ue=Cn=>ic(Cn)&&mc(Cn,"contenteditable")==="false",Me=(Cn,rs)=>Cn.dom.compareDocumentPosition(rs.dom),ut=(Cn,rs)=>{const Fo=cf(Cn);Pl(rs,Fo)},Ot=Cn=>{const rs=it(Cn);return at(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],rs)},bn=Cn=>ic(Cn)?lr(Cn,"lang"):Y.none();return{up:_t({selector:eo,closest:Xn,predicate:Ve,all:qa}),down:_t({selector:$o,predicate:bl}),styles:_t({get:le,getRaw:Oe,set:j,remove:ht}),attrs:_t({get:mc,set:sl,remove:Ds,copyTo:ut}),insert:_t({before:cl,after:Da,afterAll:Ec,append:ou,appendAll:Jf,prepend:Oi,wrap:ud}),remove:_t({unwrap:Qf,remove:ff}),create:_t({nu:xn.fromTag,clone:w,text:xn.fromText}),query:_t({comparePosition:Me,prevSibling:Tc,nextSibling:$c}),property:_t({children:ks,name:it,parent:br,document:S,isText:uc,isComment:Fr,isElement:ic,isSpecial:Ot,getLanguage:bn,getText:qg,setText:jc,isBoundary:F,isEmptyTag:Z,isNonEditable:ue}),eq:Xo,is:Ml}};const dd=(w,S,F,Z)=>{const ue=F[0],Me=F.slice(1);return Z(w,S,ue,Me)},Wc=(w,S,F)=>F.length>0?dd(w,S,F,yc):Y.none(),yc=(w,S,F,Z)=>{const ue=S(w,F);return ct(Z,(Me,ut)=>{const Ot=S(w,ut);return qm(w,Me,Ot)},ue)},qm=(w,S,F)=>S.bind(Z=>F.filter(re(w.eq,Z))),Gg=Wc,fd=su(),mf=(w,S)=>Gg(fd,(F,Z)=>w(Z),S),Gm=w=>eo(w,"table"),oi=(w,S)=>{const F=$o(w,S);return F.length>0?Y.some(F):Y.none()},em=(w,S,F)=>jn(w,S).bind(Z=>jn(w,F).bind(ue=>mf(Gm,[Z,ue]).map(Me=>({first:Z,last:ue,table:Me})))),Mv=(w,S)=>oi(w,S),Th=(w,S,F)=>em(w,S,F).bind(Z=>{const ue=bn=>Xo(w,bn),Me="thead,tfoot,tbody,table",ut=eo(Z.first,Me,ue),Ot=eo(Z.last,Me,ue);return ut.bind(bn=>Ot.bind(Cn=>Xo(bn,Cn)?xh(Z.table,Z.first,Z.last):Y.none()))}),Km=w=>Je(w,xn.fromDom),md="data-mce-selected",Kg="td["+md+"],th["+md+"]",Di="data-mce-first-selected",T="td["+Di+"],th["+Di+"]",R="data-mce-last-selected",V="td["+R+"],th["+R+"]",ce={selected:md,selectedSelector:Kg,firstSelected:Di,firstSelectedSelector:T,lastSelected:R,lastSelectedSelector:V},de=w=>Nt(w).bind(S=>Mv(S,ce.firstSelectedSelector)).fold(_t(w),S=>S[0]),ft=w=>(S,F)=>{const Z=it(S),ue=Z==="col"||Z==="colgroup"?de(S):S;return Xn(ue,w,F)},kn=ft("th,td,caption"),Bn=ft("th,td"),Pn=w=>Km(w.model.table.getSelectedCells()),zn=(w,S)=>{const F=Bn(w),Z=F.bind(ue=>Nt(ue)).map(ue=>xt(ue));return Hr(F,Z,(ue,Me)=>Mt(Me,ut=>Zt(Km(ut.dom.cells),Ot=>mc(Ot,S)==="1"||Xo(Ot,ue)))).getOr([])},Yt=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],sr=w=>({value:Xg(w)}),pa=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Eh=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xm=w=>pa.test(w)||Eh.test(w),Xg=w=>Pa(w,"#").toUpperCase(),Yg=w=>Xm(w)?Y.some({value:Xg(w)}):Y.none(),Xr=w=>{const S=w.toString(16);return(S.length===1?"0"+S:S).toUpperCase()},bc=w=>{const S=Xr(w.red)+Xr(w.green)+Xr(w.blue);return sr(S)},Zc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Xa=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Jg=(w,S,F,Z)=>({red:w,green:S,blue:F,alpha:Z}),ir=(w,S,F,Z)=>{const ue=parseInt(w,10),Me=parseInt(S,10),ut=parseInt(F,10),Ot=parseFloat(Z);return Jg(ue,Me,ut,Ot)},qc=w=>{if(w==="transparent")return Y.some(Jg(0,0,0,0));const S=Zc.exec(w);if(S!==null)return Y.some(ir(S[1],S[2],S[3],"1"));const F=Xa.exec(w);return F!==null?Y.some(ir(F[1],F[2],F[3],F[4])):Y.none()},wl=w=>Yg(w).orThunk(()=>qc(w).map(bc)).getOrThunk(()=>{const S=document.createElement("canvas");S.height=1,S.width=1;const F=S.getContext("2d");F.clearRect(0,0,S.width,S.height),F.fillStyle="#FFFFFF",F.fillStyle=w,F.fillRect(0,0,1,1);const Z=F.getImageData(0,0,1,1).data,ue=Z[0],Me=Z[1],ut=Z[2],Ot=Z[3];return bc(Jg(ue,Me,ut,Ot))}),tm=w=>qc(w).map(bc).map(S=>"#"+S.value).getOr(w),xr=w=>{let S=w;return{get:()=>S,set:ue=>{S=ue}}},yb=w=>{const S=xr(Y.none()),F=()=>S.get().each(w);return{clear:()=>{F(),S.set(Y.none())},isSet:()=>S.get().isSome(),get:()=>S.get(),set:Ot=>{F(),S.set(Y.some(Ot))}}},Ah=()=>yb(w=>w.unbind()),Ms=(w,S,F)=>Z=>{const ue=Ah(),Me=$a(F),ut=()=>{const Ot=Pn(w),bn=Cn=>w.formatter.match(S,{value:F},Cn.dom,Me);Me?(Z.setActive(!Zt(Ot,bn)),ue.set(w.formatter.formatChanged(S,Cn=>Z.setActive(!Cn),!0))):(Z.setActive(Ye(Ot,bn)),ue.set(w.formatter.formatChanged(S,Z.setActive,!1,{value:F})))};return w.initialized?ut():w.on("init",ut),ue.clear},ru=w=>_n(w,"menu"),Uo=w=>Je(w,S=>{const F=S.text||S.title||"";return ru(S)?{text:F,items:Uo(S.menu)}:{text:F,value:S.value}}),Ac=(w,S,F,Z)=>Je(S,ue=>{const Me=ue.text||ue.title;return ru(ue)?{type:"nestedmenuitem",text:Me,getSubmenuItems:()=>Ac(w,ue.menu,F,Z)}:{text:Me,type:"togglemenuitem",onAction:()=>Z(ue.value),onSetup:Ms(w,F,ue.value)}}),gd=(w,S)=>F=>{w.execCommand("mceTableApplyCellStyle",!1,{[S]:F})},pd=w=>he(w,S=>ru(S)?[{...S,menu:pd(S.menu)}]:ki(S.value)?[S]:[]),gf=(w,S,F,Z)=>ue=>ue(Ac(w,S,F,Z)),so=(w,S,F)=>{const Z=Je(S,ue=>({text:ue.title,value:"#"+wl(ue.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Z.length>0?Z:void 0,allowCustomColors:!1},onAction:ue=>{const Me=ue.value==="remove"?"":ue.value;w.execCommand("mceTableApplyCellStyle",!1,{[F]:Me})}}]},Qg=w=>()=>{const F=w.queryCommandValue("mceTableRowType")==="header"?"body":"header";w.execCommand("mceTableRowType",!1,{type:F})},ep=w=>()=>{const F=w.queryCommandValue("mceTableColType")==="th"?"td":"th";w.execCommand("mceTableColType",!1,{type:F})},Bv=w=>{const S=Uo(ni(w));return S.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:S}):Y.none()},Yw=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Yt}],tp=w=>Yw.concat(Bv(w).toArray()),Ym=(w,S)=>{const Z=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Uo(id(w)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:S==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Z):Z}},au={normal:(w,S)=>{const F=w.dom;return{setAttrib:(ut,Ot)=>{F.setAttrib(S,ut,Ot)},setStyle:(ut,Ot)=>{F.setStyle(S,ut,Ot)},setFormat:(ut,Ot)=>{Ot===""?w.formatter.remove(ut,{value:null},S,!0):w.formatter.apply(ut,{value:Ot},S)}}}},pf=ia("th"),$v=(w,S)=>w&&S?"sectionCells":w?"section":"cells",Jm=w=>{const S=w.section==="thead",F=bi(Pu(w.cells),"th");return w.section==="tfoot"?{type:"footer"}:S||F?{type:"header",subType:$v(S,F)}:{type:"body"}},Pu=w=>{const S=Mt(w,F=>pf(F.element));return S.length===0?Y.some("td"):S.length===w.length?Y.some("th"):Y.none()},zh=w=>{const S=Je(w,ue=>Jm(ue).type),F=at(S,"header"),Z=at(S,"footer");if(!F&&!Z)return Y.some("body");{const ue=at(S,"body");return F&&!ue&&!Z?Y.some("header"):!F&&!ue&&Z?Y.some("footer"):Y.none()}},Ri=w=>{let S=!1,F;return(...Z)=>(S||(S=!0,F=w.apply(null,Z)),F)},hd=(w,S)=>go(w.all,F=>nt(F.cells,Z=>Xo(S,Z.element))),Iv=(w,S,F)=>{const Z=Je(S.selection,Me=>W(Me).bind(ut=>hd(w,ut)).filter(F)),ue=ds(Z);return tr(ue.length>0,ue)},np=(w,S)=>S.mergable,Oh=(w,S)=>S.unmergable,Dh=(w,S)=>Iv(w,S,Vn),Rh=(w,S)=>hd(w,S).exists(F=>!F.isLocked),Fa=(w,S)=>Ye(S,F=>Rh(w,F)),op=(w,S)=>np(w,S).filter(F=>Fa(w,F.cells)),Vr=(w,S)=>Oh(w,S).filter(F=>Fa(w,F));({...{generate:w=>{if(!yt(w))throw new Error("cases must be an array");if(w.length===0)throw new Error("there must be at least one case");const S=[],F={};return I(w,(Z,ue)=>{const Me=gn(Z);if(Me.length!==1)throw new Error("one and only one name per case");const ut=Me[0],Ot=Z[ut];if(F[ut]!==void 0)throw new Error("duplicate key detected:"+ut);if(ut==="cata")throw new Error("cannot have a case named cata (sorry)");if(!yt(Ot))throw new Error("case arguments must be an array");S.push(ut),F[ut]=(...bn)=>{const Cn=bn.length;if(Cn!==Ot.length)throw new Error("Wrong number of arguments to case "+ut+". Expected "+Ot.length+" ("+Ot+"), got "+Cn);return{fold:(...Fo)=>{if(Fo.length!==w.length)throw new Error("Wrong number of arguments to fold. Expected "+w.length+", got "+Fo.length);return Fo[ue].apply(null,bn)},match:Fo=>{const qs=gn(Fo);if(S.length!==qs.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+qs.join(","));if(!Ye(S,Ul=>at(qs,Ul)))throw new Error("Not all branches were specified when using match. Specified: "+qs.join(", ")+`
Required: `+S.join(", "));return Fo[ut].apply(null,bn)},log:Fo=>{console.log(Fo,{constructors:S,constructor:ut,params:bn})}}}}),F}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Vl=(w,S)=>{const F=Vc.fromTable(w);return Dh(F,S).bind(ue=>{const Me=ue[ue.length-1],ut=ue[0].row,Ot=Me.row+Me.rowspan,bn=F.all.slice(ut,Ot);return zh(bn)}).getOr("")},om=w=>za(w,"rgb")?tm(w):w,Qm=w=>{const S=xn.fromDom(w);return{borderwidth:Oe(S,"border-width").getOr(""),borderstyle:Oe(S,"border-style").getOr(""),bordercolor:Oe(S,"border-color").map(om).getOr(""),backgroundcolor:Oe(S,"background-color").map(om).getOr("")}},_l=w=>{const S=w[0],F=w.slice(1);return I(F,Z=>{I(gn(S),ue=>{nn(Z,(Me,ut)=>{const Ot=S[ue];Ot!==""&&ue===ut&&Ot!==Me&&(S[ue]="")})})}),S},Cl=(w,S,F,Z)=>nt(w,ue=>!Hn(F.formatter.matchNode(Z,S+ue))).getOr(""),sm=re(Cl,["left","center","right"],"align"),ur=re(Cl,["top","middle","bottom"],"valign"),rm=(w,S)=>{const F=Mu(w),Z=Zg(w),ue=()=>({borderstyle:cn(F,"border-style").getOr(""),bordercolor:om(cn(F,"border-color").getOr("")),backgroundcolor:om(cn(F,"background-color").getOr(""))}),Me={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},ut=()=>{const rs=F["border-width"];return zi(w)&&rs?{border:rs}:cn(Z,"border").fold(()=>({}),Fo=>({border:Fo}))},Ot=S?ue():{},bn=()=>{const rs=cn(F,"border-spacing").or(cn(Z,"cellspacing")).fold(()=>({}),qs=>({cellspacing:qs})),Fo=cn(F,"border-padding").or(cn(Z,"cellpadding")).fold(()=>({}),qs=>({cellpadding:qs}));return{...rs,...Fo}};return{...Me,...F,...Z,...Ot,...ut(),...bn()}},eg=w=>Nt(xn.fromDom(w)).map(S=>{const F={selection:Km(w.cells)};return Vl(S,F)}).getOr(""),mt=(w,S,F)=>{const Z=(Ot,bn)=>{const Cn=Oe(xn.fromDom(bn),"border-width");return zi(w)&&Cn.isSome()?Cn.getOr(""):Ot.getAttrib(bn,"border")||Si(w.dom,bn,"border-width")||Si(w.dom,bn,"border")||""},ue=w.dom,Me=zi(w)?ue.getStyle(S,"border-spacing")||ue.getAttrib(S,"cellspacing"):ue.getAttrib(S,"cellspacing")||ue.getStyle(S,"border-spacing"),ut=zi(w)?Si(ue,S,"padding")||ue.getAttrib(S,"cellpadding"):ue.getAttrib(S,"cellpadding")||Si(ue,S,"padding");return{width:ue.getStyle(S,"width")||ue.getAttrib(S,"width"),height:ue.getStyle(S,"height")||ue.getAttrib(S,"height"),cellspacing:Me??"",cellpadding:ut??"",border:Z(ue,S),caption:!!ue.select("caption",S)[0],class:ue.getAttrib(S,"class",""),align:sm(w,S),...F?Qm(S):{}}},Fv=(w,S,F)=>{const Z=w.dom;return{height:Z.getStyle(S,"height")||Z.getAttrib(S,"height"),class:Z.getAttrib(S,"class",""),type:eg(S),align:sm(w,S),...F?Qm(S):{}}},Lv=(w,S,F,Z)=>{const ue=w.dom,Me=Z.getOr(S),ut=(Ot,bn)=>ue.getStyle(Ot,bn)||ue.getAttrib(Ot,bn);return{width:ut(Me,"width"),height:ut(S,"height"),scope:ue.getAttrib(S,"scope"),celltype:Bl(S),class:ue.getAttrib(S,"class",""),halign:sm(w,S),valign:ur(w,S),...F?Qm(S):{}}},ll=(w,S)=>{const F=Vc.fromTable(w),Z=Vc.justCells(F),ue=Mt(Z,Me=>Zt(S,ut=>Xo(Me.element,ut)));return Je(ue,Me=>({element:Me.element.dom,column:Vc.getColumnAt(F,Me.column).map(ut=>ut.element.dom)}))},am=(w,S,F,Z)=>{Z("scope")&&w.setAttrib("scope",F.scope),Z("class")&&w.setAttrib("class",F.class),Z("height")&&w.setStyle("height",yo(F.height)),Z("width")&&S.setStyle("width",yo(F.width))},yd=(w,S,F)=>{F("backgroundcolor")&&w.setFormat("tablecellbackgroundcolor",S.backgroundcolor),F("bordercolor")&&w.setFormat("tablecellbordercolor",S.bordercolor),F("borderstyle")&&w.setFormat("tablecellborderstyle",S.borderstyle),F("borderwidth")&&w.setFormat("tablecellborderwidth",yo(S.borderwidth))},rr=(w,S,F,Z)=>{const ue=S.length===1;I(S,Me=>{const ut=Me.element,Ot=ue?Vn:Z,bn=au.normal(w,ut),Cn=Me.column.map(rs=>au.normal(w,rs)).getOr(bn);am(bn,Cn,F,Ot),Zf(w)&&yd(bn,F,Ot),Z("halign")&&xi(w,ut,F.halign),Z("valign")&&Ns(w,ut,F.valign)})},bb=(w,S)=>{w.execCommand("mceTableCellType",!1,{type:S.celltype,no_events:!0})},gs=(w,S,F,Z)=>{const ue=Ho(Z,(Me,ut)=>F[ut]!==Me);A(ue)>0&&S.length>=1&&Nt(S[0]).each(Me=>{const ut=ll(Me,S),Ot=A(Ho(ue,(Cn,rs)=>rs!=="scope"&&rs!=="celltype"))>0,bn=Ke(ue,"celltype");(Ot||Ke(ue,"scope"))&&rr(w,ut,Z,re(Ke,ue)),bn&&bb(w,Z),Gr(w,Me.dom,{structure:bn,style:Ot})})},Qo=(w,S,F,Z)=>{const ue=Z.getData();Z.close(),w.undoManager.transact(()=>{gs(w,S,F,ue),w.focus()})},Ja=(w,S)=>{const F=Nt(S[0]).map(Z=>Je(ll(Z,S),ue=>Lv(w,ue.element,Zf(w),ue.column)));return _l(F.getOrDie())},cm=w=>{const S=Pn(w);if(S.length===0)return;const F=Ja(w,S),Z={type:"tabpanel",tabs:[{title:"General",name:"general",items:tp(w)},Ym(w,"cell")]},ue={type:"panel",items:[{type:"grid",columns:2,items:tp(w)}]};w.windowManager.open({title:"Cell Properties",size:"normal",body:Zf(w)?Z:ue,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:F,onSubmit:re(Qo,w,S,F)})},Rr=w=>{const S=Uo(qf(w));return S.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:S}):Y.none()},hf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ha=w=>hf.concat(Rr(w).toArray()),zc=(w,S,F)=>{F("class")&&w.setAttrib("class",S.class),F("height")&&w.setStyle("height",yo(S.height))},$u=(w,S,F)=>{F("backgroundcolor")&&w.setStyle("background-color",S.backgroundcolor),F("bordercolor")&&w.setStyle("border-color",S.bordercolor),F("borderstyle")&&w.setStyle("border-style",S.borderstyle)},Pe=(w,S,F,Z)=>{const Me=S.length===1?Vn:Z;I(S,ut=>{const Ot=au.normal(w,ut);zc(Ot,F,Me),Ai(w)&&$u(Ot,F,Me),Z("align")&&xi(w,ut,F.align)})},Gc=(w,S)=>{w.execCommand("mceTableRowType",!1,{type:S.type,no_events:!0})},vb=(w,S,F,Z)=>{const ue=Ho(Z,(Me,ut)=>F[ut]!==Me);if(A(ue)>0){const Me=Ke(ue,"type"),ut=Me?A(ue)>1:!0;ut&&Pe(w,S,Z,re(Ke,ue)),Me&&Gc(w,Z),Nt(xn.fromDom(S[0])).each(Ot=>Gr(w,Ot.dom,{structure:Me,style:ut}))}},Yr=(w,S,F,Z)=>{const ue=Z.getData();Z.close(),w.undoManager.transact(()=>{vb(w,S,F,ue),w.focus()})},si=w=>{const S=zn(uo(w),ce.selected);if(S.length===0)return;const F=Je(S,ut=>Fv(w,ut.dom,Ai(w))),Z=_l(F),ue={type:"tabpanel",tabs:[{title:"General",name:"general",items:ha(w)},Ym(w,"row")]},Me={type:"panel",items:[{type:"grid",columns:2,items:ha(w)}]};w.windowManager.open({title:"Row Properties",size:"normal",body:Ai(w)?ue:Me,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Z,onSubmit:re(Yr,w,Je(S,ut=>ut.dom),Z)})},sp=(w,S,F)=>{const Z=F?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ue=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Me=Nu(w)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],ut=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Ot=S.length>0?[{type:"listbox",name:"class",label:"Class",items:S}]:[];return Z.concat(ue).concat(Me).concat(ut).concat(Ot)},Sl=(w,S,F,Z)=>{if(S.tagName==="TD"||S.tagName==="TH")xo(F)&&ls(Z)?w.setStyle(S,F,Z):w.setStyles(S,F);else if(S.children)for(let ue=0;ue<S.children.length;ue++)Sl(w,S.children[ue],F,Z)},Hv=(w,S,F,Z)=>{const ue=w.dom,Me={},ut={},Ot=zi(w),bn=Uc(w);if(Hn(F.class)||(Me.class=F.class),ut.height=yo(F.height),Ot?ut.width=yo(F.width):ue.getAttrib(S,"width")&&(Me.width=Ic(F.width)),Ot?(ut["border-width"]=yo(F.border),ut["border-spacing"]=yo(F.cellspacing)):(Me.border=F.border,Me.cellpadding=F.cellpadding,Me.cellspacing=F.cellspacing),Ot&&S.children){const Cn={};if(Z.border&&(Cn["border-width"]=yo(F.border)),Z.cellpadding&&(Cn.padding=yo(F.cellpadding)),bn&&Z.bordercolor&&(Cn["border-color"]=F.bordercolor),!Ht(Cn))for(let rs=0;rs<S.children.length;rs++)Sl(ue,S.children[rs],Cn)}if(bn){const Cn=F;ut["background-color"]=Cn.backgroundcolor,ut["border-color"]=Cn.bordercolor,ut["border-style"]=Cn.borderstyle}Me.style=ue.serializeStyle({...Mu(w),...ut}),ue.setAttribs(S,{...Zg(w),...Me})},bd=(w,S,F,Z)=>{const ue=w.dom,Me=Z.getData(),ut=Ho(Me,(Ot,bn)=>F[bn]!==Ot);Z.close(),Me.class===""&&delete Me.class,w.undoManager.transact(()=>{if(!S){const Ot=Fc(Me.cols).getOr(1),bn=Fc(Me.rows).getOr(1);w.execCommand("mceInsertTable",!1,{rows:bn,columns:Ot}),S=Bn(uo(w),gr(w)).bind(Cn=>Nt(Cn,gr(w))).map(Cn=>Cn.dom).getOrDie()}if(A(ut)>0){const Ot={border:Ke(ut,"border"),bordercolor:Ke(ut,"bordercolor"),cellpadding:Ke(ut,"cellpadding")};Hv(w,S,Me,Ot);const bn=ue.select("caption",S)[0];(bn&&!Me.caption||!bn&&Me.caption)&&w.execCommand("mceTableToggleCaption"),xi(w,S,Me.align)}if(w.focus(),w.addVisual(),A(ut)>0){const Ot=Ke(ut,"caption"),bn=Ot?A(ut)>1:!0;Gr(w,S,{structure:Ot,style:bn})}})},Nh=(w,S)=>{const F=w.dom;let Z,ue=rm(w,Uc(w));S?(ue.cols="1",ue.rows="1",Uc(w)&&(ue.borderstyle="",ue.bordercolor="",ue.backgroundcolor="")):(Z=F.getParent(w.selection.getStart(),"table",w.getBody()),Z?ue=mt(w,Z,Uc(w)):Uc(w)&&(ue.borderstyle="",ue.bordercolor="",ue.backgroundcolor=""));const Me=Uo(Ll(w));Me.length>0&&ue.class&&(ue.class=ue.class.replace(/\s*mce\-item\-table\s*/g,""));const ut={type:"grid",columns:2,items:sp(w,Me,S)},Ot=()=>({type:"panel",items:[ut]}),bn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[ut]},Ym(w,"table")]}),Cn=Uc(w)?bn():Ot();w.windowManager.open({title:"Table Properties",size:"normal",body:Cn,onSubmit:re(bd,w,Z,ue),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ue})},il=w=>{const S=F=>{Lr(uo(w))&&F()};nn({mceTableProps:re(Nh,w,!1),mceTableRowProps:re(si,w),mceTableCellProps:re(cm,w),mceInsertTableDialog:re(Nh,w,!0)},(F,Z)=>w.addCommand(Z,()=>S(F)))},jo=(w,S)=>fe(w,S).isSome(),cu=Ao,tg=w=>{const S=(Z,ue)=>lr(Z,ue).exists(Me=>parseInt(Me,10)>1),F=Z=>S(Z,"rowspan")||S(Z,"colspan");return w.length>0&&Ye(w,F)?Y.some(w):Y.none()},Qa=(w,S,F)=>S.length<=1?Y.none():Th(w,F.firstSelectedSelector,F.lastSelectedSelector).map(Z=>({bounds:Z,cells:S})),rp=w=>({element:w,mergable:Y.none(),unmergable:Y.none(),selection:[w]}),vd=(w,S,F)=>({element:F,mergable:Qa(S,w,ce),unmergable:tg(w),selection:cu(w)}),Iu=w=>{const S=xr(Y.none()),F=xr([]);let Z=Y.none();const ue=ia("caption"),Me=oo=>Z.forall(Gs=>!Gs[oo]),ut=()=>kn(uo(w),gr(w)),Ot=()=>kn(qr(w),gr(w)),bn=()=>ut().bind(oo=>Aa(Hr(Nt(oo),Ot().bind(Nt),(Gs,La)=>Xo(Gs,La)?ue(oo)?Y.some(rp(oo)):Y.some(vd(Pn(w),Gs,oo)):Y.none()))),Cn=oo=>Nt(oo.element).map(La=>{const wr=Vc.fromTable(La),Hu=Dh(wr,oo).getOr([]),lu=zo(Hu,(Ni,ul)=>(ul.isLocked&&(Ni.onAny=!0,ul.column===0?Ni.onFirst=!0:ul.column+ul.colspan>=wr.grid.columns&&(Ni.onLast=!0)),Ni),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:op(wr,oo).isSome(),unmergeable:Vr(wr,oo).isSome(),locked:lu}}),rs=()=>{S.set(Ri(bn)()),Z=S.get().bind(Cn),I(F.get(),sn)},Fo=oo=>(oo(),F.set(F.get().concat([oo])),()=>{F.set(Mt(F.get(),Gs=>Gs!==oo))}),qs=(oo,Gs)=>Fo(()=>S.get().fold(()=>{oo.setEnabled(!1)},La=>{oo.setEnabled(!Gs(La)&&w.selection.isEditable())})),nc=(oo,Gs,La)=>Fo(()=>S.get().fold(()=>{oo.setEnabled(!1),oo.setActive(!1)},wr=>{oo.setEnabled(!Gs(wr)&&w.selection.isEditable()),oo.setActive(La(wr))})),Ul=oo=>Z.exists(Gs=>Gs.locked[oo]),Fu=oo=>qs(oo,Gs=>!1),Kc=oo=>qs(oo,Gs=>ue(Gs.element)),bf=oo=>Gs=>qs(Gs,La=>ue(La.element)||Ul(oo)),lp=oo=>Gs=>qs(Gs,La=>ue(La.element)||oo().isNone()),vf=(oo,Gs)=>La=>qs(La,wr=>ue(wr.element)||oo().isNone()||Ul(Gs)),wd=oo=>qs(oo,Gs=>Me("mergeable")),Nr=oo=>qs(oo,Gs=>Me("unmergeable")),jl=oo=>nc(oo,dr,Gs=>Nt(Gs.element,gr(w)).exists(wr=>jo(wr,"caption"))),Lu=(oo,Gs)=>La=>nc(La,wr=>ue(wr.element),()=>w.queryCommandValue(oo)===Gs),kf=Lu("mceTableRowType","header"),kb=Lu("mceTableColType","th");return w.on("NodeChange ExecCommand TableSelectorChange",rs),{onSetupTable:Fu,onSetupCellOrRow:Kc,onSetupColumn:bf,onSetupPasteable:lp,onSetupPasteableColumn:vf,onSetupMergeable:wd,onSetupUnmergeable:Nr,resetTargets:rs,onSetupTableWithCaption:jl,onSetupTableRowHeaders:kf,onSetupTableColumnHeaders:kb,targets:S.get}};var Tr=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ap="x-tinymce/dom-table-",we=ap+"rows",ec=ap+"columns",ng=w=>{var S;const F=(S=Tr.read())!==null&&S!==void 0?S:[];return go(F,Z=>Y.from(Z.getType(w)))},Oc=()=>ng(we),Dc=()=>ng(ec),tc=w=>S=>{const F=()=>{S.setEnabled(w.selection.isEditable())};return w.on("NodeChange",F),F(),()=>{w.off("NodeChange",F)}},kr=(w,S)=>{w.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:tc(w),fetch:Ot=>Ot("inserttable | cell row column | advtablesort | tableprops deletetable")});const F=Ot=>()=>w.execCommand(Ot),Z=(Ot,bn)=>{w.queryCommandSupported(bn.command)&&w.ui.registry.addButton(Ot,{...bn,onAction:Zo(bn.onAction)?bn.onAction:F(bn.command)})},ue=(Ot,bn)=>{w.queryCommandSupported(bn.command)&&w.ui.registry.addToggleButton(Ot,{...bn,onAction:Zo(bn.onAction)?bn.onAction:F(bn.command)})};Z("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:S.onSetupTable}),Z("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:S.onSetupTable}),Z("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:S.onSetupCellOrRow}),Z("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:S.onSetupMergeable}),Z("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:S.onSetupUnmergeable}),Z("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:S.onSetupCellOrRow}),Z("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:S.onSetupCellOrRow}),Z("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:S.onSetupCellOrRow}),Z("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:S.onSetupCellOrRow}),Z("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:S.onSetupColumn("onFirst")}),Z("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:S.onSetupColumn("onLast")}),Z("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:S.onSetupColumn("onAny")}),Z("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:S.onSetupCellOrRow}),Z("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:S.onSetupCellOrRow}),Z("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:S.onSetupPasteable(Oc)}),Z("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:S.onSetupPasteable(Oc)}),Z("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:S.onSetupColumn("onAny")}),Z("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:S.onSetupColumn("onAny")}),Z("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:S.onSetupPasteableColumn(Dc,"onFirst")}),Z("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:S.onSetupPasteableColumn(Dc,"onLast")}),Z("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:tc(w)});const Me=pd(Ll(w));Me.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:gf(w,Me,"tableclass",Ot=>w.execCommand("mceTableToggleClass",!1,Ot)),onSetup:S.onSetupTable});const ut=pd(ni(w));ut.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:gf(w,ut,"tablecellclass",Ot=>w.execCommand("mceTableCellToggleClass",!1,Ot)),onSetup:S.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:gf(w,Yt,"tablecellverticalalign",gd(w,"vertical-align")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:gf(w,Ei(w),"tablecellborderwidth",gd(w,"border-width")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:gf(w,id(w),"tablecellborderstyle",gd(w,"border-style")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Ot=>Ot(so(w,df(w),"background-color")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Ot=>Ot(so(w,nu(w),"border-color")),onSetup:S.onSetupCellOrRow})),ue("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:S.onSetupTableWithCaption}),ue("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Qg(w),onSetup:S.onSetupTableRowHeaders}),ue("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ep(w),onSetup:S.onSetupTableColumnHeaders})},cp=w=>{const S=Z=>w.dom.is(Z,"table")&&w.getBody().contains(Z)&&w.dom.isEditable(Z.parentNode),F=Gf(w);F.length>0&&w.ui.registry.addContextToolbar("table",{predicate:S,items:F,scope:"node",position:"node"})},yf=w=>S=>{const F=()=>{S.setEnabled(w.selection.isEditable())};return w.on("NodeChange",F),F(),()=>{w.off("NodeChange",F)}},kd=(w,S)=>{const F=Fo=>()=>w.execCommand(Fo),Z=(Fo,qs)=>w.queryCommandSupported(qs.command)?(w.ui.registry.addMenuItem(Fo,{...qs,onAction:Zo(qs.onAction)?qs.onAction:F(qs.command)}),!0):!1,ue=(Fo,qs)=>{w.queryCommandSupported(qs.command)&&w.ui.registry.addToggleMenuItem(Fo,{...qs,onAction:Zo(qs.onAction)?qs.onAction:F(qs.command)})},Me=Fo=>{w.execCommand("mceInsertTable",!1,{rows:Fo.numRows,columns:Fo.numColumns})},ut=[Z("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:S.onSetupCellOrRow}),Z("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:S.onSetupCellOrRow}),Z("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:S.onSetupCellOrRow}),Z("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:S.onSetupCellOrRow}),Z("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:S.onSetupCellOrRow}),Z("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:S.onSetupCellOrRow}),Z("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:S.onSetupPasteable(Oc)}),Z("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:S.onSetupPasteable(Oc)})],Ot=[Z("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:S.onSetupColumn("onFirst")}),Z("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:S.onSetupColumn("onLast")}),Z("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:S.onSetupColumn("onAny")}),Z("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:S.onSetupColumn("onAny")}),Z("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:S.onSetupColumn("onAny")}),Z("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:S.onSetupPasteableColumn(Dc,"onFirst")}),Z("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:S.onSetupPasteableColumn(Dc,"onLast")})],bn=[Z("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:S.onSetupCellOrRow}),Z("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:S.onSetupMergeable}),Z("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:S.onSetupUnmergeable})];pc(w)?w.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Me}],onSetup:yf(w)}):w.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:yf(w)}),w.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:yf(w)}),Z("tableprops",{text:"Table properties",onSetup:S.onSetupTable,command:"mceTableProps"}),Z("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:S.onSetupTable,command:"mceTableDelete"}),at(ut,!0)&&w.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:_t("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),at(Ot,!0)&&w.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:_t("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),at(bn,!0)&&w.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:_t("tablecellprops tablemergecells tablesplitcells")}),w.ui.registry.addContextMenu("table",{update:()=>(S.resetTargets(),S.targets().fold(_t(""),Fo=>it(Fo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Cn=pd(Ll(w));Cn.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ac(w,Cn,"tableclass",Fo=>w.execCommand("mceTableToggleClass",!1,Fo)),onSetup:S.onSetupTable});const rs=pd(ni(w));rs.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ac(w,rs,"tablecellclass",Fo=>w.execCommand("mceTableCellToggleClass",!1,Fo)),onSetup:S.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ac(w,Yt,"tablecellverticalalign",gd(w,"vertical-align")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ac(w,Ei(w),"tablecellborderwidth",gd(w,"border-width")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ac(w,id(w),"tablecellborderstyle",gd(w,"border-style")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>so(w,df(w),"background-color"),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>so(w,nu(w),"border-color"),onSetup:S.onSetupCellOrRow})),ue("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:S.onSetupTableWithCaption}),ue("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Qg(w),onSetup:S.onSetupTableRowHeaders}),ue("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ep(w),onSetup:S.onSetupTableRowHeaders})},hn=w=>{const S=Iu(w);al(w),il(w),kd(w,S),kr(w,S),cp(w)};var Jw=()=>{Ta.add("table",hn)};Jw()})();(function(){var Ta=tinymce.util.Tools.resolve("tinymce.PluginManager");const yr=(dt,je,Mt)=>{var ct;return Mt(dt,je.prototype)?!0:((ct=dt.constructor)===null||ct===void 0?void 0:ct.name)===je.name},Sr=dt=>{const je=typeof dt;return dt===null?"null":je==="object"&&Array.isArray(dt)?"array":je==="object"&&yr(dt,String,(Mt,ct)=>ct.isPrototypeOf(Mt))?"string":je},bs=dt=>je=>Sr(je)===dt,Es=dt=>je=>typeof je===dt,Qs=bs("string"),xo=Es("boolean"),yt=dt=>dt==null,Yn=dt=>!yt(dt),Hn=Es("function"),no=dt=>je=>je.options.get(dt),ls=dt=>{const je=dt.options.register,Mt=nt=>Re=>{const he=xo(Re)||Qs(Re);return he?xo(Re)?{value:Re?nt:"",valid:he}:{value:Re.trim(),valid:he}:{valid:!1,message:"Must be a boolean or string."}},ct="bold italic | quicklink h2 h3 blockquote";je("quickbars_selection_toolbar",{processor:Mt(ct),default:ct});const zo="quickimage quicktable";je("quickbars_insert_toolbar",{processor:Mt(zo),default:zo});const Ae="alignleft aligncenter alignright";je("quickbars_image_toolbar",{processor:Mt(Ae),default:Ae})},Zo=no("quickbars_selection_toolbar"),Fn=no("quickbars_insert_toolbar"),qo=no("quickbars_image_toolbar");let mo=0;const _t=dt=>{const Mt=new Date().getTime(),ct=Math.floor(Math.random()*1e9);return mo++,dt+"_"+ct+mo+String(Mt)},Ao=(dt,je,Mt)=>{dt.execCommand("mceInsertTable",!1,{rows:Mt,columns:je})},vt=(dt,je,Mt)=>{const ct=dt.editorUpload.blobCache,zo=ct.create(_t("mceu"),Mt,je);ct.add(zo),dt.insertContent(dt.dom.createHTML("img",{src:zo.blobUri()}))},re=dt=>new Promise(je=>{const Mt=new FileReader;Mt.onloadend=()=>{je(Mt.result.split(",")[1])},Mt.readAsDataURL(dt)});var sn=tinymce.util.Tools.resolve("tinymce.util.Delay");const dr=dt=>new Promise(je=>{let Mt=!1;const ct=document.createElement("input");ct.type="file",ct.accept="image/*",ct.style.position="fixed",ct.style.left="0",ct.style.top="0",ct.style.opacity="0.001",document.body.appendChild(ct);const zo=Re=>{var he;Mt||((he=ct.parentNode)===null||he===void 0||he.removeChild(ct),Mt=!0,je(Re))},Ae=Re=>{zo(Array.prototype.slice.call(Re.target.files))};ct.addEventListener("input",Ae),ct.addEventListener("change",Ae);const nt=Re=>{const he=()=>{zo([])};Mt||(Re.type==="focusin"?sn.setEditorTimeout(dt,he,1e3):he()),dt.off("focusin remove",nt)};dt.on("focusin remove",nt),ct.click()}),Vn=dt=>{dt.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{dr(dt).then(je=>{if(je.length>0){const Mt=je[0];re(Mt).then(ct=>{vt(dt,ct,Mt)})}})}}),dt.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{Ao(dt,2,2)}})},gn=(dt=>()=>dt)(!1);class Nn{constructor(je,Mt){this.tag=je,this.value=Mt}static some(je){return new Nn(!0,je)}static none(){return Nn.singletonNone}fold(je,Mt){return this.tag?Mt(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?Nn.some(je(this.value)):Nn.none()}bind(je){return this.tag?je(this.value):Nn.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:Nn.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je??"Called getOrDie on None")}static from(je){return Yn(je)?Nn.some(je):Nn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Nn.singletonNone=new Nn(!1),typeof window<"u"||Function("return this;")();const nn=1,Le=dt=>dt.dom.nodeName.toLowerCase(),ie=(dt,je)=>{const Mt=dt.dom;return Mt&&Mt.hasAttribute?Mt.hasAttribute(je):!1};var Ho=(dt,je,Mt,ct,zo)=>dt(Mt,ct)?Nn.some(Mt):Hn(zo)&&zo(Mt)?Nn.none():je(Mt,ct,zo);const st=(dt,je)=>{const ct=(je||document).createElement("div");if(ct.innerHTML=dt,!ct.hasChildNodes()||ct.childNodes.length>1){const zo="HTML does not have a single root node";throw console.error(zo,dt),new Error(zo)}return cn(ct.childNodes[0])},$e=(dt,je)=>{const ct=(je||document).createElement(dt);return cn(ct)},A=(dt,je)=>{const ct=(je||document).createTextNode(dt);return cn(ct)},cn=dt=>{if(dt==null)throw new Error("Node cannot be null or undefined");return{dom:dt}},_n={fromHtml:st,fromTag:$e,fromText:A,fromDom:cn,fromPoint:(dt,je,Mt)=>Nn.from(dt.dom.elementFromPoint(je,Mt)).map(cn)},Ht=(dt,je)=>{const Mt=dt.dom;if(Mt.nodeType!==nn)return!1;{const ct=Mt;if(ct.matches!==void 0)return ct.matches(je);if(ct.msMatchesSelector!==void 0)return ct.msMatchesSelector(je);if(ct.webkitMatchesSelector!==void 0)return ct.webkitMatchesSelector(je);if(ct.mozMatchesSelector!==void 0)return ct.mozMatchesSelector(je);throw new Error("Browser lacks native selectors")}},He=(dt,je,Mt)=>{let ct=dt.dom;const zo=Hn(Mt)?Mt:gn;for(;ct.parentNode;){ct=ct.parentNode;const Ae=_n.fromDom(ct);if(je(Ae))return Nn.some(Ae);if(zo(Ae))break}return Nn.none()},Gn=(dt,je,Mt)=>Ho((zo,Ae)=>Ae(zo),He,dt,je,Mt),is=(dt,je,Mt)=>Gn(dt,je,Mt).isSome(),at=(dt,je,Mt)=>He(dt,ct=>Ht(ct,je),Mt),Zt=(dt,je,Mt)=>Ho((zo,Ae)=>Ht(zo,Ae),at,dt,je,Mt),Ee=dt=>{const je=Fn(dt);je.length>0&&dt.ui.registry.addContextToolbar("quickblock",{predicate:Mt=>{const ct=_n.fromDom(Mt),zo=dt.schema.getTextBlockElements(),Ae=nt=>nt.dom===dt.getBody();return!ie(ct,"data-mce-bogus")&&Zt(ct,'table,[data-mce-bogus="all"]',Ae).fold(()=>is(ct,nt=>Le(nt)in zo&&dt.dom.isEmpty(nt.dom),Ae),gn)},items:je,position:"line",scope:"editor"})},Je=dt=>{const je=nt=>dt.dom.isEditable(nt),Mt=nt=>je(nt.parentElement),ct=nt=>nt.nodeName==="IMG"||nt.nodeName==="FIGURE"&&/image/i.test(nt.className)&&Mt(nt),zo=qo(dt);zo.length>0&&dt.ui.registry.addContextToolbar("imageselection",{predicate:ct,items:zo,position:"node"});const Ae=Zo(dt);Ae.length>0&&dt.ui.registry.addContextToolbar("textselection",{predicate:nt=>!ct(nt)&&!dt.selection.isCollapsed()&&je(nt),items:Ae,position:"selection",scope:"editor"})};var I=()=>{Ta.add("quickbars",dt=>{ls(dt),Vn(dt),Ee(dt),Je(dt)})};I()})();
