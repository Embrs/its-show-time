<template lang="pug">
//- è«‹å¡«å¯«åŠŸèƒ½æè¿°ğŸ‘ˆ
#bgm-login
  p bgm-login
  RouterLink(to="/") home
  a-button(@click="ApiLogin") LOGIN
  a-button(@click="ApiVersion") Version
  RouterLink(to="/bgm") BGM
</template>

<script setup lang="ts">
import { Login, GetVersion } from "@/protocal/RESTfulApi/methods/auth";
import type { LoginParams, LoginResData } from "@/protocal/RESTfulApi/methods/interface/auth";

  // æœƒå“¡ç™»å…¥
  const ApiLogin = async (): Promise<LoginResData | false> => {
    const params: LoginParams = {
      account: "aa@aa.aa",
      password: "1234"
    };
    const { data, status: code } = await Login(params);
    if (code.err === 0) {
      // be fix user data
      // è¨­å®šä½¿ç”¨è€…è³‡è¨Š
      return data;
    }
    return false;
  };
    // æœƒå“¡ç™»å…¥
    const ApiVersion = async (): Promise<boolean> => {
    const { data, status: code } = await GetVersion();
    if (code.err === 0) {
      // è¨­å®šä½¿ç”¨è€…è³‡è¨Š
      return true;
    }
    return false;
  };
</script>

<style lang="scss" scoped>
// ä½ˆå±€
#bgm-login {
}
// çµ„ä»¶
#bgm-login {
}
</style>
