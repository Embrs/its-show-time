import{b as f,o as x,p as C,c as M}from"./@firebase-b80410c1.js";import{m as n}from"./ant-design-vue-30c04a1f.js";import{l as $,g as D,d as k,f as I,a3 as v,Z as u,c as _,a7 as g,u as b,a0 as l,F as S,a8 as y,Y as d,E as h,a6 as i,_ as B,$ as F}from"./@vue-0b71fa56.js";import{_ as V}from"./index-a2600cfe.js";import"./idb-81bdbf9b.js";import"./@babel-9e06c973.js";import"./resize-observer-polyfill-3d106987.js";import"./vue-types-ef06c517.js";import"./@ant-design-1f5372da.js";import"./@ctrl-fb5a5473.js";import"./dom-align-ecb06dd6.js";import"./lodash-es-6d1fdea6.js";import"./dayjs-28368fa5.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./pinia-bfa28058.js";import"./firebase-59321b79.js";import"./vue-router-083bf944.js";import"./lodash-95e7e9c1.js";const N=()=>{const{proxy:o}=D(),t=o.$firebase.db,a=f(t,"message"),m=$({});return x(a,e=>{e.val()!==null?m.value=e.val():n.error("監聽失敗")}),{PushMessage:e=>{C(a,e).then(()=>{n.success("成功送出")}).catch(r=>{n.error(`送出失敗${r}`)}),console.log()},RemoveMessage:e=>{e||n.error("請選擇 ID");const r=f(t,`message/${e}`);M(r).then(()=>{n.success("刪除成功")}).catch(s=>{n.error(`刪除失敗${s}`)})},msgData:m}},P=o=>(B("data-v-fbfefcc0"),o=o(),F(),o),R={id:"friebase"},w=P(()=>l("p",null,i("Friebase"),-1)),E={class:"list"},L={class:"item"},j=k({__name:"firebase",setup(o){const t=N(),a=$(""),m=I(()=>Object.keys(t.msgData.value).map(p=>({id:p,value:t.msgData.value[p]})));return(p,c)=>{const e=v("a-input"),r=v("a-button");return d(),u("div",R,[w,_(e,{value:a.value,"onUpdate:value":c[0]||(c[0]=s=>a.value=s)},null,8,["value"]),_(r,{onClick:c[1]||(c[1]=s=>b(t).PushMessage(a.value))},{default:g(()=>[h(i("Send"))]),_:1}),l("div",E,[(d(!0),u(S,null,y(m.value,s=>(d(),u("div",L,[l("p",null,i(s.id),1),l("p",null,i(s.value),1),_(r,{onClick:O=>b(t).RemoveMessage(s.id)},{default:g(()=>[h(i("X"))]),_:2},1032,["onClick"])]))),256))])])}}});const ne=V(j,[["__scopeId","data-v-fbfefcc0"]]);export{ne as default};
