import{b as d,o as x,p as C,c as M}from"./@firebase-b80410c1.js";import{m as n}from"./ant-design-vue-e52e4b8d.js";import{l as $,g as D,d as k,f as I,a1 as v,W as l,c as u,Y as g,u as f,X as p,F as S,a2 as y,Z as _,E as b,a3 as h,_ as B,$ as V}from"./@vue-9c91bced.js";import{_ as F}from"./index-11fa8cbd.js";import"./idb-81bdbf9b.js";import"./@babel-9e06c973.js";import"./resize-observer-polyfill-3d106987.js";import"./vue-types-ef06c517.js";import"./@ant-design-a12f2005.js";import"./@ctrl-fb5a5473.js";import"./dom-align-ecb06dd6.js";import"./lodash-es-6d1fdea6.js";import"./dayjs-28368fa5.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./pinia-d5893768.js";import"./firebase-59321b79.js";import"./vue-router-0aa2da36.js";const N=()=>{const{proxy:o}=D(),t=o.$firebase.db,a=d(t,"message"),c=$({});return x(a,e=>{e.val()!==null?c.value=e.val():n.error("監聽失敗")}),{PushMessage:e=>{C(a,e).then(()=>{n.success("成功送出")}).catch(r=>{n.error(`送出失敗${r}`)}),console.log()},RemoveMessage:e=>{e||n.error("請選擇 ID");const r=d(t,`message/${e}`);M(r).then(()=>{n.success("刪除成功")}).catch(s=>{n.error(`刪除失敗${s}`)})},msgData:c}},P=o=>(B("data-v-01421d32"),o=o(),V(),o),R={id:"friebase"},w=P(()=>p("p",null,"friebase",-1)),E={class:"list"},L={class:"item"},X=k({__name:"firebase",setup(o){const t=N(),a=$(""),c=I(()=>Object.keys(t.msgData.value).map(m=>({id:m,value:t.msgData.value[m]})));return(m,i)=>{const e=v("a-input"),r=v("a-button");return _(),l("div",R,[w,u(e,{value:a.value,"onUpdate:value":i[0]||(i[0]=s=>a.value=s)},null,8,["value"]),u(r,{onClick:i[1]||(i[1]=s=>f(t).PushMessage(a.value))},{default:g(()=>[b("Send")]),_:1}),p("div",E,[(_(!0),l(S,null,y(c.value,s=>(_(),l("div",L,[p("p",null,h(s.id),1),p("p",null,h(s.value),1),u(r,{onClick:j=>f(t).RemoveMessage(s.id)},{default:g(()=>[b("X")]),_:2},1032,["onClick"])]))),256))])])}}});const re=F(X,[["__scopeId","data-v-01421d32"]]);export{re as default};
